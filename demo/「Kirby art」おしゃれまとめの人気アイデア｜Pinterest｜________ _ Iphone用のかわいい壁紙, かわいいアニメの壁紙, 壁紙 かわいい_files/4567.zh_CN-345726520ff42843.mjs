(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4567,697],{456778:e=>{var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubbleStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"ExploreArticle",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifierIconName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"BubblesGridRep_story"}],type:"Story",abstractKey:null,hash:"1c6b4e45a045976cb346fc1824fa2578"};e.exports=n},103018:e=>{var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubblesGridRep_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExploreBubble_exploreArticle"}],type:"ExploreArticle",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null,hash:"bc3408725d4de6a75e59ac3d2aefd4b2"};e.exports=n},67153:e=>{var n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExploreBubble_exploreArticle",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColors",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifierIconType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyCategory",storageKey:null},{alias:"articleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:"coverImage236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:n,storageKey:'coverImages(spec:"236x")'},{alias:"coverImage474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:n,storageKey:'coverImages(spec:"474x")'},{alias:"coverImage136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:n,storageKey:'coverImages(spec:"136x136")'},{alias:"coverImage170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:n,storageKey:'coverImages(spec:"170x")'},{alias:"coverImage222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:n,storageKey:'coverImages(spec:"222x")'},{alias:"coverImage90x90",args:[{kind:"Literal",name:"spec",value:"90x90"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:n,storageKey:'coverImages(spec:"90x90")'}],type:"ExploreArticle",abstractKey:null};i.hash="bc8b8afb394eb9f724930319c776249a",e.exports=i},991102:e=>{var n,i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardDetails_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i=[n],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PriceLego_pin"}],type:"Pin",abstractKey:null};a.hash="e127c8f5f9fafd31c5dce4a9a7f66089",e.exports=a},441959:e=>{var n,i,a,l,t,r,o,s={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[l={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},t={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},r={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[l,t,r,o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},o],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};s.hash="6113bb3593481961950c5053449014f3",e.exports=s,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const n=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[n]=e}}(s)},182964:e=>{var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardVisual_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"c4db8a7b324600a215bc35cef16f2f83"};e.exports=n},256468:e=>{var n,i,a,l,t,r,o,s,d,c,u,p,m,g,h,_,y={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},n,s={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d=[r,o,l,s],storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[i,c={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:g=[i,c,u,p,m],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},c,u,p,m],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:g,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},_={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[a,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},_,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[i,a,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:g,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:g,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[i,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},o,s,l],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[a,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextualMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthProductAttribution_pin"},{args:null,kind:"FragmentSpread",name:"SeoPageMetadataText_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{args:null,kind:"FragmentSpread",name:"PinCardDetails_pin"},{args:null,kind:"FragmentSpread",name:"PinCardVisual_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null};y.hash="813f3f782b3ff918f715cc72258ab8ec",e.exports=y},788536:e=>{var n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PriceLego_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[n={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="5b16e8d36c1fe0135f65a9c3aaec6092",e.exports=i},937711:e=>{var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoPageMetadataText_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"8f9d12b0eee9d408e23c20c11af28777"};e.exports=n},143453:e=>{var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthProductAttribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"2fb133623620997264f81544f7f43636"};e.exports=n},176172:(e,n,i)=>{i.d(n,{Dv:()=>t,Ml:()=>r,Oc:()=>a,mv:()=>l});const a=16,l=4,t={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},r=120},468e3:(e,n,i)=>{function a(e){return[0,24,21,26].includes(e)}function l({articleType:e,id:n,title:i}){const a=i.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${a}/${n}/`:`/discover/article/${a}/${n}/`}i.d(n,{x:()=>l,y:()=>a})},493214:(e,n,i)=>{i.d(n,{Z:()=>p});var a=i(883119),l=i(667294),t=i(874261),r=i(785893);const o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s=()=>Array(5).fill().map((()=>o[Math.floor(52*Math.random())])).join("");function d({children:e}){const n=(0,l.useMemo)((()=>e.replace("  "," ").split("").map((e=>({className:s(),content:e})))),[e]);return(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)(t.Z,{unsafeCSS:n.map((({className:e,content:n})=>`.${e}:before { content: "${n}"; }`)).join(" ")}),n.map((({className:e})=>(0,r.jsx)("span",{className:e},e)))]})}var c=i(282802);const u=e=>e.startsWith("Promoted");function p({children:e,lineClamp:n,size:i,underline:l,weight:t}){const{isAuthenticated:o}=(0,c.B)(),s=o&&u(e);return(0,r.jsx)(a.xv,{size:i,lineClamp:n,underline:l,weight:t,title:s?"":e,children:s?(0,r.jsx)(d,{children:e}):e})}},603801:(e,n,i)=>{i.d(n,{Z:()=>s});var a=i(667294);function l(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function t(){return window.innerWidth}function r(){return window.innerHeight}function o(){return null}function s(){const e=(0,a.useSyncExternalStore)(l,r,o),n=(0,a.useSyncExternalStore)(l,t,o);return null!==e&&null!==n?{height:e,width:n}:null}},391670:(e,n,i)=>{i.d(n,{Mi:()=>l,lO:()=>t});var a=i(583592);const{Provider:l,useMaybeHook:t}=(0,a.Z)("pageContext")},604541:(e,n,i)=>{i.d(n,{Z:()=>_});var a=i(667294),l=i(616550),t=i(883119),r=i(604094),o=i(162132);function s({flexible:e,gutterWidth:n,id:i,isRTL:a,itemWidth:l,maxColumns:t,minColumns:r}){const o=i.replace(/\:/g,"\\:"),s=l+n;return`\n    .gridCentered {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .gridCentered .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ${Array.from({length:t+1-r},((e,n)=>n+r)).map((i=>{const d=i===t?null:(i+1)*s-1;return`\n      @media (min-width: ${i===r?0:i*s}px) ${d?`and (max-width: ${d}px)`:""} {\n        #${o} .static:nth-child(-n+${i}) {\n          position: static !important;\n          visibility: visible !important;\n          float: ${a?"right":"left"};\n          display: block;\n        }\n\n        ${e?`\n      #${o} .static {\n        width: calc(100% / ${i}) !important;\n      }\n    `:`\n      #${o} {\n        width: ${i*s}px;\n      }\n\n      #${o} .static {\n        padding: 0 ${n/2}px;\n        width: ${l}px !important;\n      }\n    `}\n      }\n    `})).join("")}\n  `}var d=i(24286),c=i(874261),u=i(988014),p=i(245410),m=i(282802),g=i(549201),h=i(785893);function _({cacheKey:e,columnWidth:n,gutterWidth:i,id:_,renderItem:y,items:v,layout:f,loadItems:x,masonryRef:b,minCols:k,scrollContainerRef:S,serverRender:P,resetPositions:w,virtualize:T=!0}){var I;const{isRTL:j}=(0,m.B)(),C=(0,g.ZP)(),F=(0,l.useLocation)(),A="desktop"!==C,L=P?"serverRenderedFlexible":"flexible",D=(0,u.Q0)(F)&&"desktop"===C?d.OS:v.length||d.g5,K=(0,a.useCallback)((()=>(null==S?void 0:S.current)||window),[S]),z=(0,o.Z)(e),[R,Z]=(0,a.useState)(!1);(0,a.useEffect)((()=>{w&&!R&&(null==z||z.reset(),Z(!0))}),[z,w,R]);const{checkExperiment:E}=(0,p.F)(),U=null!==(I={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[E("duplo_masonry_virtual_buffer_factor").group])&&void 0!==I?I:.7,B=E("web_masonry_batched_paints").anyEnabled;return(0,h.jsxs)("div",{id:_,className:"gridCentered","data-test-id":"masonry-container",children:[P&&_&&(0,h.jsx)(c.Z,{"data-test-id":"mobile-grid-styles",unsafeCSS:s({flexible:A,gutterWidth:i||0,id:_,isRTL:j,itemWidth:n||d.yF,maxColumns:D,minColumns:k||d.yc})}),(0,h.jsx)(t.Rk,{columnWidth:n,renderItem:e=>(0,h.jsx)(r.Z,{name:"MobileGridItem",children:y(e)}),gutterWidth:i||1,layout:A?L:null!=f?f:"basic",items:v,loadItems:x,measurementStore:(0,o.Z)(e),minCols:k||d.yc,ref:e=>{b&&(b.current=e)},scrollContainer:K,virtualize:T,virtualBufferFactor:U,_batchPaints:B})]})}},162132:(e,n,i)=>{i.d(n,{Z:()=>t});var a=i(883119);const l={};function t(e){if(null!=e)return l[e]&&l[e].screenWidth===window.innerWidth||(l[e]={screenWidth:window.innerWidth,cache:a.Rk.createMeasurementStore()}),l[e].cache}},73155:(e,n,i)=>{i.d(n,{Z:()=>c});var a=i(883119),l=i(563962),t=i(391670),r=i(536042),o=i(51536),s=i(785893);const d=(e,n)=>{let i={};if(e){const{pinData:a,viewData:l}=e;i={unauth_click_pin_id:a.id,unauth_click_pin_image_signature:a.imageSignature},3===n?i={...i,unauth_page_pin_id:l.id,unauth_page_pin_image_signature:l.imageSignature}:5===n&&(i={...i,unauth_page_board_id:l.id})}return i},c=({clickLoggingOptions:e,domain:n,link:i,onClick:c})=>{var u;const p=null===(u=(0,t.lO)())||void 0===u?void 0:u.logging,m=(0,r.ZP)(),g=(0,l.Z)(),h=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:d(e.unauthRankingLoggingData,null==p?void 0:p.viewType)}].map((n=>({component:0,element:162,view_type:null==p?void 0:p.viewType,view_parameter:null==p?void 0:p.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...n})));return(0,s.jsx)(a.iP,{onTap:({event:e})=>{e.stopPropagation(),h().forEach((e=>g(e))),c(e)},children:(0,s.jsxs)(a.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,s.jsx)(a.xu,{marginEnd:1,children:(0,s.jsx)(a.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:m.bt("链接", "Link", "unauth.pin.domain.link", undefined, true)})}),(0,s.jsx)("a",{href:i,onClick:e=>{e.stopPropagation(),h().forEach((e=>g(e))),c(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,s.jsx)(a.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,o.Z)(n,27)})})]})})}},649796:(e,n,i)=>{i.d(n,{P:()=>o,t:()=>s});var a=i(690108),l=i(970588);const t=()=>{};const r={complaint:function(e,n){a.Z.create("PinFeedbackResource",e).callUpdate().then((()=>n()))},followBoard:function(e,n){a.Z.create("BoardFollowResource",e).callCreate().then((()=>n()))},followPinner:function(e,n){a.Z.create("UserFollowResource",e).callCreate().then((()=>n()))},followTopic:function(e,n){a.Z.create("InterestFollowResource",e).callCreate().then((()=>n()))},newsHubPinHide:function(e,n){(0,l.Z)({url:e.undo?`/v3/news_hub/${e.newsId}/pin/${e.pinId}/undo/`:`/v3/news_hub/${e.newsId}/pin/${e.pinId}/hide/`,method:"PUT"}).then((()=>n()))},promotedComplaint:function(e,n){a.Z.create("PinFeedbackResource",e).callUpdate().then((()=>n()))},relatedPinHide:function(e,n){(0,l.Z)({url:e.undo?`/v3/p2p/${e.pin}/unhide/`:`/v3/p2p/${e.pin}/hide/`,method:"PUT"}).then((()=>n()))},reportPin:function(e,n){n()},showAdReasons:function(e,n){n()},unfollowBoard:function(e,n){a.Z.create("BoardFollowResource",e).callDelete().then((()=>n()))},unfollowPinner:function(e,n){a.Z.create("UserFollowResource",e).callDelete().then((()=>n()))},unfollowTopic:function(e,n){a.Z.create("InterestFollowResource",e).callDelete().then((()=>n()))},unrelatedSearchPin:function(e,n){(0,l.Z)({url:e.undo?`/v3/search/${e.pin_id}/unhide/`:`/v3/search/${e.pin_id}/hide/`,method:"PUT",data:{query:e.query,pin_type:e.pin_type}}).then((()=>n()))}},o=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,n,i=t){const a=e?r[e]:null;return a?a(n,i):i()}},958083:(e,n,i)=>{i.d(n,{EF:()=>h,Iv:()=>c,Ud:()=>d,XZ:()=>m,fJ:()=>s,hP:()=>o,nb:()=>g,oK:()=>u,yl:()=>p});var a=i(630089),l=i(649796),t=i(867812);const r=e=>e.length>32?`${e.substring(0,32).trim()}...`:e;function o({boardFollowedByMe:e,feedbackType:n,viewParameter:i,promotion:a,recommendationReason:l,pinnerFollowedByMe:t}){if(a&&!a.isDownstreamPromotion)return"promoted";if(n)return n;if(l){if("FOLLOWED_INTEREST"===l.reason)return"topic";if("FOLLOWING_FEED"!==l.reason&&"RECENT_FOLLOWED_BOARD"!==l.reason)return l.hasBoard?"pfyBoard":"pfy"}if(e||t)return"followed";switch(i){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";default:return"default"}}function s({feedbackData:e,feedbackType:n,pinId:i,recommendationReasonId:a,pinFeedbackType:l,complaintReason:t,throughId:r,throughProperties:o,clientTrackingParams:s}){switch(n){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:null==e?void 0:e.query,pin_id:i}};case"related":return{action:"relatedPinHide",actionOptions:{pin:i}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pinId:i,newsId:null==e?void 0:e.newsId}};default:const d="promoted"===n;return{action:d?"promotedComplaint":"complaint",actionOptions:{complaint_reason:t||0,pin_id:i,...a?{recommendation_reason_id:a}:{},feedback_type:l||1,promoted:d,...r?{through_id:r}:{},...o?{through_properties:o}:{},...s?{client_tracking_params:s}:{}}}}}function d({feedback:e,i18n:n,makeNavigateLink:i}){var l,t,o,s,d,c,u,p;switch(e.type){case"pfy":return n.bt("此 Pin 图的灵感来源于你的近期动态", "This Pin was inspired by your recent activity", "Pin feedback reason", undefined, true);case"pfyBoard":const{recommendationReasonBoard:m}=e;return m?(0,a.nk)(n.bt("此 Pin 图的灵感来源于你的图板 {{ boardLink }}", "This Pin was inspired by your board {{ boardLink }}", "Pin feedback - inspired by your board", undefined, true),{boardLink:i("navigation",m.url,m.name)}):null;case"topic":const{sourceInterest:g}=e;return g?(0,a.nk)(n.bt("此 Pin 图的灵感来源于 {{ formattedTopic }} 主题", "This Pin was inspired by {{ formattedTopic }}", "Pin feedback", undefined, true),{formattedTopic:i("topicUrl",`/topics/${g.url_name}`,g.name)}):null;case"followed":const{followed:h}=e;return"pinner"===h.type?(0,a.nk)(n.bt("此 Pin 图来自你关注的用户 {{ formattedPinner }}", "This Pin is from {{ formattedPinner }}, a profile you follow", "Pin feedback", undefined, true),{formattedPinner:i("pinnerUrl",`/${null!==(l=null===(t=h.pinner)||void 0===t?void 0:t.username)&&void 0!==l?l:""}`,r(null!==(o=null===(s=h.pinner)||void 0===s?void 0:s.full_name)&&void 0!==o?o:""))}):(0,a.nk)(n.bt("此 Pin 图来自你关注的图板 {{ formattedBoard }}", "This Pin is from {{ formattedBoard }}, a board you follow", "Pin feedback", undefined, true),{formattedBoard:i("boardUrl",null!==(d=null===(c=h.board)||void 0===c?void 0:c.url)&&void 0!==d?d:"",r(null!==(u=null===(p=h.board)||void 0===p?void 0:p.name)&&void 0!==u?u:""))});case"promoted":if(e.promoter){const{full_name:l,username:t}=e.promoter,r=i("promotedLink",t?"/"+t+"/":"/",l);return(0,a.nk)(n.bt("{{ promoterLink }} 付费让此 Pin 图出现在你更容易注意的地方", "{{ promoterLink }} paid to have this Pin show up where you’d be more likely to notice it", "Pin feedback", undefined, true),{promoterLink:r})}return n.bt("此广告是使用来自我们某个合作伙伴的信息为你定制的", "This ad was personalized for you using info from one of our partners", "Pin feedback", undefined, true);default:return null}}function c({sourceInterest:e,i18n:n,makeNavigateLink:i}){var l,r;return{action:"unfollowTopic",actionOptions:{interest_id:e.id,interest_list:t.X},title:"",subTitle:(0,a.nk)(n.bt("我们以后会减少显示{{ formattedTopic }}主题的 Pin 图。", "We’ll show you less Pins from {{ formattedTopic }} in the future.", "pin.contextualMenu.feedback.unfollowTopic.subtitle", undefined, true),{formattedTopic:i("topicUrl",`/topics/${null!==(l=e.url_name)&&void 0!==l?l:""}`,null!==(r=e.name)&&void 0!==r?r:"",!0)})}}function u({boardId:e,display:n,i18n:i,makeNavigateLink:l}){var t,r,o,s;return{action:"unfollowBoard",actionOptions:{board_id:e},title:"",subTitle:"pinner"===n.type?(0,a.nk)(i.bt("你取消关注了 {{ formattedPinner }}，以后不会再看到他们收藏的 Pin 图。", "You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.", "Confirmation text after unfollowing a user", undefined, true),{formattedPinner:l("pinnerUrl",`/${null!==(t=n.data.username)&&void 0!==t?t:""}`,null!==(r=n.data.full_name)&&void 0!==r?r:"",!0)}):(0,a.nk)(i.bt("你取消关注了 {{ formattedBoard }} 图板，以后不会再看到收藏至此图板的 Pin 图。", "You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.", "Confirmation text after unfollowing a board", undefined, true),{formattedBoard:l("boardUrl",null!==(o=n.data.url)&&void 0!==o?o:"",null!==(s=n.data.name)&&void 0!==s?s:"",!0)})}}function p(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function m(e){return null==e?void 0:e.through_properties}function g(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function h(e,n,i,a,t,r,o){return()=>{const s={...e,undo:!0};let d=n;"unfollowPinner"===n?d="followPinner":"unfollowBoard"===n?d="followBoard":"unfollowTopic"===n&&(d="followTopic"),(0,l.t)(d,s),r(i),o({event_type:101,component:0,element:11181,view_type:a,view_parameter:t})}}},867812:(e,n,i)=>{i.d(n,{X:()=>a});const a="favorited"},825125:(e,n,i)=>{i.d(n,{Z:()=>a});const a=e=>e.startsWith("enabled")||e.startsWith("employee")},282442:(e,n,i)=>{i.d(n,{Z:()=>s});var a=i(574155),l=i(667294),t=i(39983),r=i(41162);var o=i(677263);function s({children:e,isAtEndOfFeed:n,pinData:i,itemCount:s,includeBackgroundImages:d=!1,includeVideos:c=!1,includeSections:u=!1}){var p;return(null===(p=(0,o.N5)())||void 0===p?void 0:p.isAuthenticated)||(u=!0),(0,a.Z)({pinData:i,isAtEndOfFeed:n,includeBackgroundImages:d,includeVideos:c,includeSections:u}),function(e){const n=(0,r.E)(),i=(0,l.useRef)(null);(0,l.useEffect)((()=>{e!==i.current&&(i.current=e,n&&(0,t.ZP)(t.at))}),[!!n,e])}(s),e}},792953:(e,n,i)=>{i.d(n,{Z:()=>t});var a=i(883119),l=i(785893);function t({accessibilityLabel:e}){return(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(a.$j,{accessibilityLabel:e,show:!0})})}},946579:(e,n,i)=>{i.d(n,{Z:()=>a});const a=(0,i(667294).createContext)("undefined"!=typeof window?window:null)},446077:(e,n,i)=>{i.d(n,{H5:()=>h,Xn:()=>m,an:()=>g});var a=i(739425);const l="BING",t="GOOGLE",r="YAHOO",o="YANDEX",s="RAKUTEN",d="NAVER",c="AMP_CACHE",u="DUCKDUCKGO",p=[t,l,r,o,s,d,c,u];function m(e){return p.includes(function(e){const{hostname:n}=(0,a.Qc)(e,!0);if(n&&e){if(n.includes("google.")||function(e){return e.includes("android-app://com.google.android.googlequicksearchbox")}(e))return t;if(n.includes("bing."))return l;if(n.includes("yahoo."))return r;if(n.includes("yandex."))return o;if(n.includes("rakuten."))return s;if(n.includes("naver."))return d;if(n.includes("duckduckgo."))return u;if(n.includes(".cdn.ampproject.org"))return c}return""}(e))}function g(e){return e||"undefined"!=typeof document&&document.referrer||""}const h=e=>{const n=new URL(e);return n.searchParams.set("nii","t"),n.href}},671915:(e,n,i)=>{i.d(n,{Z:()=>s,t:()=>d});var a=i(667294),l=i(167912),t=i(690108);function r(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}const o={};class s extends a.Component{constructor(...e){super(...e),r(this,"state",{invite:o[this.props.invite_code]||null,loaded:this.props.invite_code in o})}componentDidMount(){const{invite_code:e}=this.props;t.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((n=>{if(n&&n.resource_response){const i=n.resource_response.data;o[e]=i,this.setState({invite:i,loaded:!0})}})).catch((()=>{this.setState({invite:null,loaded:!0})}))}render(){const{invite:e,loaded:n}=this.state;return n?this.props.children(e):null}}class d extends a.Component{constructor(...e){super(...e),r(this,"state",{invite:o[this.props.invite_code]||null,loaded:this.props.invite_code in o})}componentDidMount(){const{invite_code:e,relayEnvironment:n,inviteQuery:i}=this.props;(0,l.fetchQuery)(n,i,{invite_code:e}).subscribe({next:e=>{var n;if(null!==(n=e.v3GetInviteCodeQuery)&&void 0!==n&&n.data){const n=e.v3GetInviteCodeQuery;this.setState({invite:n,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){const{invite:e,loaded:n}=this.state;return n?this.props.children(e):null}}},637362:(e,n,i)=>{i.d(n,{J:()=>a,Z:()=>l});const a=-1;function l(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},938818:(e,n,i)=>{i.d(n,{Qy:()=>d,Wu:()=>u,ZP:()=>c});var a=i(616550),l=i(883119),t=i(282802),r=i(739425),o=i(802071),s=i(785893);const d=()=>{const e=(0,o.Z)(),{isInternalIP:n}=(0,t.B)(),i=(0,a.useLocation)();return(n||e.isAuth&&e.isEmployee)&&Object.keys((0,r.mB)(i.search)).some((e=>e.startsWith("deb_")))};function c({data:e}){return(0,s.jsx)(l.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,s.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const u=e=>(0,s.jsx)(l.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,s.jsx)(c,{...e})})},367184:(e,n,i)=>{i.d(n,{Z:()=>f});var a=i(667294),l=i(245410),t=i(616550),r=i(883119),o=i(388011),s=i(536042),d=i(785893);const c=24;function u({text:e,isSelected:n,icon:i,animationType:a,position:l,hasStartPulling:t,isExecuted:o}){return(0,d.jsxs)(r.xu,{display:"flex",direction:"column",alignItems:"center",marginBottom:6,children:[(0,d.jsx)(r.xu,{color:n?"dark":"secondary","data-test-id":"action-animated-icon",rounding:"circle",padding:t?4:0,dangerouslySetInlineStyle:n&&o?{__style:{transform:"rotate(360deg)",transition:"all .9s ease-out"}}:{__style:{transition:"all .3s ease-out",marginTop:n&&"move"===a?40:0}},children:(0,d.jsx)(r.JO,{size:100*l<c?100*l:c,icon:i,accessibilityLabel:e,color:n?"light":"dark"})}),(0,d.jsx)(r.xu,{padding:1,"data-test-id":"action-animated-text",dangerouslySetInlineStyle:{__style:{opacity:n?1:0,transition:"all .3s ease-out"}},children:(0,d.jsx)(r.xv,{align:"center",size:"100",children:e})})]})}const p=.5,m=250;function g({enabled:e,onSelect:n,refreshing:i}){const l=(0,a.useRef)(null),[t,r]=(0,a.useState)(0),[o,s]=(0,a.useState)(!1),d=i?0:t/m,c=d>0,u=()=>{s(!1),r(0)};(0,a.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!i&&(l.current=e.touches[0].clientY)},a=e=>{if(l.current){const n=(e.touches[0].clientY-l.current)*p;n>0&&(r(n),e.preventDefault())}},o=()=>{l.current&&(s(!0),n({pullDistance:t,position:d,resetState:u}),l.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",a,{passive:!1}),window.addEventListener("touchend",o),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",a,{passive:!1}),window.removeEventListener("touchend",o)}}}),[e,n,t,i,d]);const g=l.current;return{pullDistance:t,hasStartPulling:c,position:d,startYRefCurrent:g,PULL_MENU_DISTANCE:m,isExecuted:o}}const h=500;function _({enabled:e,onPull:n,refreshing:i}){const a=(0,s.ZP)(),l=(0,t.useHistory)(),{logContextEvent:c}=(0,o.v)(),p=e=>e>=.6,m=e=>e>.4&&e<.6,{position:_,hasStartPulling:y,PULL_MENU_DISTANCE:v,isExecuted:f}=g({enabled:e,onSelect:e=>{const{position:i,resetState:a}=e;m(i)?setTimeout((()=>{c({view_type:1,event_type:158,view_parameter:92}),n(),a()}),h):p(i)?setTimeout((()=>{c({view_type:1,event_type:10144,view_parameter:92}),l.push("edit/"),a()}),h):a()},refreshing:i}),x=a.bt("刷新", "Refresh", "pullMenu.refresh", undefined, true),b=a.bt("编辑页面", "Edit Feed", "pullMenu.goTuner", undefined, true);return(0,d.jsx)(r.xu,{children:e&&(0,d.jsxs)(r.xu,{display:"flex",alignItems:"center",direction:"column",height:_*v,justifyContent:"center",marginBottom:y?4:0,children:[(0,d.jsx)(u,{text:b,isSelected:p(_),icon:"edit",animationType:"move",position:_,hasStartPulling:y,isExecuted:f}),(0,d.jsx)(u,{text:x,isSelected:m(_),icon:"refresh",position:_,hasStartPulling:y,isExecuted:f})]})})}const y=120;function v({enabled:e,onPull:n,refreshing:i}){const a=(0,s.ZP)(),{logContextEvent:l}=(0,o.v)(),{position:t,startYRefCurrent:c,pullDistance:u}=g({enabled:e,onSelect:e=>{const{pullDistance:i,resetState:a}=e;i>=y&&(l({view_type:1,event_type:158,view_parameter:92}),n()),a()},refreshing:i}),p=Math.min(t,1),m=a.bt("下拉刷新", "Pull to refresh", "Pull down on grid to refresh items", undefined, true);return(0,d.jsx)(r.xu,{children:e&&(0,d.jsx)(r.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:t*y,dangerouslySetInlineStyle:{__style:{opacity:p,transition:null===c?"all .3s ease-out":void 0}},children:(0,d.jsx)(r.JO,{size:40,icon:c&&u<y?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:m})})})}function f({enabled:e,onPull:n,refreshing:i}){const{checkExperiment:t}=(0,l.F)(),{anyEnabled:r}=t("hfp_drive_traffic_to_homefeed_tuner_mweb");return(0,d.jsx)(a.Fragment,{children:r?(0,d.jsx)(_,{enabled:e,onPull:n,refreshing:i}):(0,d.jsx)(v,{enabled:e,onPull:n,refreshing:i})})}},692989:(e,n,i)=>{i.d(n,{Z:()=>ue});var a=i(667294),l=i(167912),t=i(616550),r=i(883119),o=i(117651),s=i(781493),d=i(448709),c=i(536042),u=i(988014),p=i(898252),m=i(176172),g=i(245410),h=i(282802),_=i(98736),y=i(618569),v=i(348672),f=i(549201),x=i(702664),b=i(563962),k=i(550140),S=i(63262),P=i(739425),w=i(272109),T=i(994405),I=i(169492),j=i(624524),C=i(471819),F=i(527386),A=i(724097),L=i(843843),D=i(922204),K=i(260070),z=i(712968),R=i(648575),Z=i(252315),E=i(785893);const U=new r.Ry(1);function B({buttonText:e,clientTrackingParams:n,color:i="primary",deeplinkUri:l,experience:o,inline:s=!0,minWidth:d,onTouch:u,onUnsave:p,pinId:m,pinnedToBoardId:g,shape:h,shouldShowSavedButton:_,viewType:v,viewParameter:f,showSaveHandoffExperience:S}){var P;const w=(0,c.ZP)(),T=(0,x.useDispatch)(),I=(0,t.useHistory)(),B=(0,t.useLocation)(),M=(0,Z.M)(),N=B.pathname.startsWith("/pin"),O=(0,x.useSelector)((({session:e})=>e.hasSavedUnauthPin)),q=(0,x.useSelector)((({session:e})=>e.unauthSavePinId)),G=null===(P=(0,z.Tt)())||void 0===P?void 0:P.pin_count,H=(0,b.Z)(),$=(0,y.Z)(),W=e=>I.push(e),{showToast:V,showRepinConfirmation:Y}=(0,D.Z)(),Q=()=>{var e;T((0,R.Z)({history:I,i18n:w,logContextEvent:H,onSuccess:()=>{o&&T((0,F.CK)(o.placement_id,o.experience_id))},originalPinId:m,pinId:m,trackingParams:{clientTrackingParams:n,pinnedToBoardId:g},showRepinConfirmation:S&&!N?()=>{}:Y,disableRepinAnimation:q===m,pinCount:G,historyPush:W,savePinId:null!==(e=null==M?void 0:M.save)&&void 0!==e?e:()=>{}})).catch((e=>V((({hideToast:n})=>(0,E.jsx)(k.ZP,{type:"error",text:e.message||w.bt("抱歉！我们这边出了点问题。", "Sorry! Something went wrong on our end.", "quickSave.toast.error.message", undefined, true),onHide:n})))))},J=(0,a.useRef)(null),X=S&&!O,ee=(0,C.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),u&&u(e),_?_&&p&&p():Q()},modalHeader:(0,j.Bx)(w)});(0,a.useEffect)((()=>{X&&!J.current&&($({action:"trigger",item:"unauth-save-button-quicksave"}),H({event_type:14581}),Q(),T((0,K.e2)())),J.current=X}));const ne=()=>w.bt("Pin 图", "Pin", "quickSave.quickSaveButton.icon.accessibilityLabel", undefined, true),ie=()=>e||w.bt("收藏", "Save", "quickSave.quickSaveButton.buttonText", undefined, true);return O&&!N?null:(0,E.jsx)(r.xu,{"data-test-id":"save-button-mobile",zIndex:U,children:l?(0,E.jsx)(L.di,{accessibilityLabel:ne(),color:i,customStyles:{padding:"14px 16px"},deeplinkUri:l,inline:s,minHeight:48,minWidth:d,onTouch:ee,pressState:["compress","background"],shape:h,size:"lg",text:ie(),to:I.location.pathname,upsellType:"save",viewType:v,viewParameter:f}):(0,E.jsx)(A.Z,{accessibilityLabel:ne(),color:i,customStyles:{padding:"14px 16px"},inline:s,minHeight:48,minWidth:d,onTouch:ee,pressState:"compress",shape:h,size:"300",text:ie()})})}var M=i(86829),N=i(540459),O=i(77875);function q(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}class G extends a.PureComponent{constructor(...e){var n;super(...e),n=this,q(this,"state",{saveState:void 0}),q(this,"legoFixedZIndex",new r.Ry(2)),q(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:i,i18n:a,oneTapSave:l,pinId:t,pinnedToBoardId:r,showToast:o,viewType:s,historyPush:d,repinContext:c}=n.props;try{var u;const a=await i((0,O.w)({i18n:n.props.i18n,logContextEvent:n.props.logContextEvent,originalPinId:t,pinId:t,boardId:null==l?void 0:l.boardId,isOneTapSave:!0,onUndo:()=>{n.onDeletePin()},section:null==l?void 0:l.section,showToast:o,trackingParams:{clientTrackingParams:e,pinnedToBoardId:r},viewType:s,historyPush:d,savePinId:null!==(u=null==c?void 0:c.save)&&void 0!==u?u:()=>{}}));n.setState({saveState:"saved"}),i((0,M.a)({boardId:null==l?void 0:l.boardId,localPinId:a.id,pinId:t}))}catch(p){o((({hideToast:e})=>(0,E.jsx)(k.ZP,{type:"error",text:p.message||a.bt("抱歉！我们这边出了点问题。", "Sorry! Something went wrong on our end.", "error during repin", undefined, true),onHide:e}))),n.setState({saveState:void 0})}})),q(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:i,i18n:a,pinId:l,savedInfo:t,showToast:r,repinContext:o}=n.props;if(t){e((0,M.k)({boardId:t.boardId,localPinId:t.localPinId,pinId:l})),null==o||o.unsave(l);try{await e((0,N.q)({pinId:t.localPinId,boardId:t.boardId,clientTrackingParams:i})),r((({hideToast:e})=>(0,E.jsx)(k.ZP,{text:a.bt("Pin 图已删除！", "Pin deleted!", "User deleted their pin", undefined, true),onHide:e}))),n.setState({saveState:void 0})}catch(s){r((({hideToast:e})=>(0,E.jsx)(k.ZP,{type:"error",text:a.bt("抱歉！删除 Pin 图时出错。", "Sorry! There was an error deleting your Pin.", "Error when user tried to delete pin", undefined, true),onHide:e}))),n.setState({saveState:"saved"})}}})),q(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:n}=this.state,{history:i,pinId:a,isOneTapExploreLocalTab:l,pinnedToBoard:t}=this.props;["saving","deleting"].includes(n)||l&&t||(n||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),l?i.push({pathname:`/pin/${a}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,j.Bx)(this.props.i18n)})),q(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:n,savedInfo:i})=>e?!!n:!!i))}render(){const{children:e,clientTrackingParams:n,homepageExperience:i,i18n:l,isOneTapExploreLocalTab:t,isRTL:o,oneTapSave:s,pinId:d,pinnedToBoard:c,pinnedToBoardId:u,savedInfo:p,shouldShowSaveHandoffExp:m,useSmallSaveIcon:g}=this.props;if(!s&&!t&&!m)return e;const h=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:!!t,pinnedToBoard:c,savedInfo:p}),_="#000",y="rgba(255, 255, 255, 0.8)",v="light",f="dark";return(0,E.jsxs)(a.Fragment,{children:[e,(0,E.jsx)(r.xu,{bottom:!0,left:o,padding:2,position:"absolute",right:!o,zIndex:this.legoFixedZIndex,children:m?(0,E.jsx)(B,{buttonText:c?l.bt("已收藏", "Saved", "OneTapSave.QuickSaveButton.Saved", undefined, true):"",clientTrackingParams:n,color:c?"default":"primary",deeplinkUri:"deeplinkUri",experience:i,inline:!0,pinnedToBoardId:u,minWidth:54,pinId:d,shape:"pill",shouldShowSavedButton:!!c,showSaveHandoffExperience:m}):(0,E.jsx)(r.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,E.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:h?_:y}},padding:2,rounding:"circle",children:(0,E.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,E.jsx)(r.JO,{accessibilityLabel:h?l.bt("已收藏", "saved", "checkmark icon to show pin has been saved", undefined, true):l.bt("收藏", "save", "button for saving quickly with one click", undefined, true),icon:h?"check":"add",color:h?v:f,size:g?16:24})})})})})]})}}function H(e){const{showToast:n}=(0,S.F9)(),i=(0,t.useLocation)(),l=(0,c.ZP)(),r=(0,b.Z)(),o=(0,C.Z)(),s=(0,x.useDispatch)(),d=(0,t.useHistory)(),{isRTL:u,isAuthenticated:p}=(0,h.B)(),m=(0,Z.M)(),y=(0,x.useSelector)((({session:e})=>e.unauthSavePinId)),v=p&&!!y&&y===e.pinId,{pins:k,clear:j}=(0,I.Z)(),F=(0,a.useRef)(!1),A=(0,P.mB)(i.search).ideas_referrer,L=(0,f.HG)(),{checkExperiment:D}=(0,g.F)(),K=(0,T.J)(),z=!L&&A===String(25),U=e=>d.push(e),B=(0,x.useSelector)((n=>n.pins[e.pinId]&&n.pins[e.pinId].savedInfo)),M=(0,x.useSelector)((n=>n.pins[e.pinId]&&n.pins[e.pinId].pinned_to_board)),N=(0,x.useSelector)((e=>e.experiences[40001]));return(0,w.Z)((()=>{p&&!F.current&&k.length>0&&(F.current=!0,r({event_type:14577,aux_data:{num_unauth_saved_pins:k.length}}),[...k,...y&&D(K).anyEnabled?[{id:y}]:[]].forEach((({id:n})=>{var i;s((0,R.Z)({history:d,i18n:l,logContextEvent:r,onSuccess:()=>{},originalPinId:n,pinId:n,trackingParams:{clientTrackingParams:e.clientTrackingParams,pinnedToBoardId:e.pinnedToBoardId},showRepinConfirmation:()=>{},disableRepinAnimation:!0,historyPush:U,savePinId:null!==(i=null==m?void 0:m.save)&&void 0!==i?i:()=>{}})).catch((e=>{(0,_.My)(`error.unauth_profile_pin_merge.${e}`)}))})),j())})),(0,E.jsx)(G,{...e,i18n:l,requireAuthForLimitedLogin:o,history:d,logContextEvent:r,showToast:n,shouldShowSaveHandoffExp:v,isRTL:u,historyPush:U,useSmallSaveIcon:z,repinContext:m,savedInfo:B,pinnedToBoard:M,homepageExperience:N,dispatch:s})}H.displayName="OneTapSave";const $=H;var W=i(630089),V=i(371362);function Y({boardUrl:e,boardName:n,isQuicksave:i,sectionName:a,sectionSlug:l}){const o=(0,c.ZP)(),s=(0,t.useHistory)(),d=new r.Ry(1),u=!!l&&`${e}${l}/`;return(0,E.jsx)(r.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:d,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,E.jsx)(r.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,E.jsx)(r.iP,{onTap:n=>{n.event.preventDefault(),s.push(i?"/me/":u||e)},children:(0,E.jsx)(r.xv,{color:"light",children:a?(0,W.nk)(o.bt("已收藏至 {{sectionName}}", "Saved to {{sectionName}}", "PinCard.SavedToSection.Overlay", undefined, true),{sectionName:(0,E.jsx)(r.xv,{color:"light",weight:"bold",inline:!0,children:(0,V.ZP)(a,22)},`pincard-${a}`)}):(0,W.nk)(o.bt("已收藏至 {{boardName}} 图板", "Saved to {{boardName}}", "PinCard.SavedToBoard.Overlay", undefined, true),{boardName:(0,E.jsx)(r.xv,{color:"light",weight:"bold",inline:!0,children:i?o.bt("个人资料", "Profile", "PinCard.SavedToProfile.Overlay", undefined, true):(0,V.ZP)(n,22)},`pincard-${n}`)})})})})})}var Q=i(402833),J=i(73155);const X=({domainLinkData:e})=>{const n=(0,c.ZP)(),i=(0,Q.g)();return(0,E.jsxs)(r.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,E.jsx)(r.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,E.jsx)(r.X6,{size:"400",align:"center",color:"light",children:n.bt("打开", "Open", "Text on hover of a pin leading to opening this pin in the same tab. This is for users who don't have an account on Pinterest.", undefined, true)})}),!!e&&(0,E.jsx)(r.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,E.jsx)(J.Z,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==i?void 0:i.pinLinkClickHandler)||(()=>{})})})]})};var ee,ne=i(698303),ie=i(107877),ae=i(525104),le=i(935340),te=i(738162);const re=void 0!==ee?ee:ee=i(182964),oe=({width:e,height:n,minY:i,maxY:a})=>{const l=n=>e<=0||!n?"0%":Math.round(n/e*100)+"%";return{top:i<=0?"0%":l(-1*i*n),bottom:a>=1?"0%":l(-1*(1-a)*n)}},se=({children:e,margin:n,disableRounding:i})=>(0,E.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:n?{marginTop:n.top,marginBottom:n.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,E.jsx)(r.zd,{wash:!0,rounding:i?0:m.mv,children:e})}),de=({clientTrackingParams:e,color:n,data:i,description:l,domainLinkData:d,image:m,imageAltText:x,imageCrop:b,isOneTapExploreLocalTab:k,isSquarePin:S,lazyLoadImage:P,onError:w,oneTapSave:T,onLoad:I,pinId:j,priorityFetchImage:C,disableDefaultContextMenu:F,pinnedToBoardId:A,productPrice:L,disableRounding:D,storyDataExists:K,title:z,type:R,videoDuration:U,viewType:B,slotIndex:M})=>{var N,O,q,G,H,W,V,Q,J,ee,ie,ae;const re=(0,c.ZP)(),de=(0,v.Z)(),{checkExperiment:ce}=(0,g.F)(),[ue,pe]=(0,a.useState)(!1),{isAuthenticated:me}=(0,h.B)(),ge=(0,f.ZP)(),he="desktop"===ge,_e=(0,Z.M)(),ye=A&&!(null==_e||!_e.isSaved(j)),ve=d&&d.link?"with-link":"without-link",fe=!me&&!he,xe=(0,a.useRef)(Date.now()),be=(0,a.useRef)(null),ke=(0,y.Z)(),{shouldOpenInStream:Se}=i,Pe=(0,te.I)();(0,a.useEffect)((()=>{ue&&!me&&ke({action:"view",item:"unauth-video-autoplay-on-hover"})}),[ue,ke,me]),(0,a.useEffect)((()=>{var e,n;const i="board-image-preload-"+(M-1),a=null!==(e=null===(n=document.getElementById(i))||void 0===n?void 0:n.getAttribute("href"))&&void 0!==e?e:"";Pe&&5===B&&a&&(0,le.nP)("www.blp.preloadImageCheck",{sampleRate:5,tags:{isAuthenticated:me,deviceType:ge,isEqual:a===m.url}})}),[]);const we=(0,E.jsx)(s.Z,{alt:x||z||l||"",color:n,naturalHeight:null!==(N=m.height)&&void 0!==N?N:1,naturalWidth:null!==(O=m.width)&&void 0!==O?O:1,onError:w,onLoad:I,src:null!==(q=m.url)&&void 0!==q?q:"",fit:S?"cover":void 0,loading:P?"lazy":"auto",fetchPriority:C?"high":"auto"}),Te=(0,t.useLocation)(),Ie=()=>(0,u.C$)(Te)?"homefeed":(0,u.L6)(Te)?"related_pins":(0,u.En)(Te)?"search":"unknown";return(0,E.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,E.jsxs)(r.xu,{onContextMenu:e=>{if("desktop"!==ge){const n=Ie();(0,_.My)((me?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:n}),me||(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==ge&&((0,_.My)("unauth.mweb.related_pin.image.touch.start"),!me&&(null==F||F(),xe.current=Date.now(),e.changedTouches&&e.changedTouches.length>0))){const n=e.changedTouches.item(0);n&&(be.current={x:n.pageX,y:n.pageY})}},onTouchEnd:e=>{if("desktop"!==ge){const n=Ie();if((0,_.My)("unauth.mweb.related_pin.image.touch.end"),Date.now()-xe.current>500&&!me&&("related_pins"===n||ce("pcons_enable_context_menu_all_feeds").anyEnabled)){const n=be.current;if(e.changedTouches&&e.changedTouches.length>0&&n){const i=e.changedTouches.item(0);if(i&&Math.pow(i.pageX-n.x,2)+Math.pow(i.pageY-n.y,2)>100)return;null==F||F(),de({pinId:j,location:"related-pins-long-press"}),e.stopPropagation()}}}},"data-test-id":`pincard-${R}-${ve}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:fe||ce("prevent_open_on_hover").anyEnabled?void 0:()=>pe(!0),onMouseLeave:fe?void 0:()=>pe(!1),position:"relative",rounding:D?0:4,children:[(0,E.jsxs)($,{clientTrackingParams:e||"",oneTapSave:T,isOneTapExploreLocalTab:k,pinId:j,pinnedToBoardId:A,viewType:B,children:[(()=>{if("gif"===R&&!ye)return(0,E.jsx)(ne.Z,{text:re.bt("GIF", "GIF", "pin.pinCard.gifIconIdentifier", undefined, true)});if("video"===R&&U&&!ye)return(0,E.jsx)(ne.Z,{text:U});if("storyPin"===R&&K&&!ye&&!1!==Se){var e,n,a;const l=(null===(e=i.storyPinData)||void 0===e?void 0:e.pageCount)||0,t=(null===(n=i.storyPinData)||void 0===n?void 0:n.staticPageCount)||0,r=(null===(a=i.storyPinData)||void 0===a?void 0:a.totalVideoDuration)||0;if(r>0){const e=r+t*p.oN;return(0,E.jsx)(ne.Z,{text:(0,o.Z)(e)})}if("number"==typeof l&&l>0)return(0,E.jsx)(ne.Z,{icon:"idea-pin",text:l.toString()})}return"product"===R&&L?(0,E.jsx)(ne.Z,{text:L}):null})(),(0,E.jsx)(se,{disableRounding:D,margin:b?oe({width:null!==(G=m.width)&&void 0!==G?G:1,height:null!==(H=m.height)&&void 0!==H?H:1,minY:b.minY,maxY:b.maxY}):void 0,children:S?(0,E.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,E.jsx)(r.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:we})}):we})]}),ue&&!me&&(0,E.jsx)(X,{domainLinkData:d}),me&&ye&&(0,E.jsx)(Y,{boardName:null!==(W=null===(V=i.board)||void 0===V?void 0:V.name)&&void 0!==W?W:"",boardUrl:null!==(Q=null===(J=i.board)||void 0===J?void 0:J.url)&&void 0!==Q?Q:"",sectionName:null==T||null===(ee=T.section)||void 0===ee?void 0:ee.title,sectionSlug:null==T||null===(ie=T.section)||void 0===ie?void 0:ie.slug,isQuicksave:"quick_saves"===(null===(ae=i.board)||void 0===ae?void 0:ae.layout)})]})})},ce=(0,d.Z)({useGraphQLAdapter:e=>{const n=(0,l.useFragment)(re,e);return{pin:n,pinGraphqlRef:n}},useLegacyAdapter:({pinId:e,pinnedToBoardId:n})=>{var i;const a=(0,ae.S6)()(e),l=(0,ie.gC)();if(!a)return null;const t=l(n||String(null===(i=a.board)||void 0===i?void 0:i.id));return{pin:{board:t&&{layout:t.layout,name:t.name,url:t.url},shouldOpenInStream:a.should_open_in_stream,storyPinData:a.story_pin_data&&{pageCount:a.story_pin_data.page_count,staticPageCount:a.story_pin_data.static_page_count,totalVideoDuration:a.story_pin_data.total_video_duration}},pinGraphqlRef:null}}}),ue=e=>(0,E.jsx)(ce,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:{pinId:e.pinId,pinnedToBoardId:e.pinnedToBoardId}},children:({data:n})=>n&&(0,E.jsx)(de,{...e,data:n.pin,pinGraphqlRef:n.pinGraphqlRef})})},187768:(e,n,i)=>{i.d(n,{K:()=>r,T:()=>o});var a=i(667294),l=i(785893);const t=(0,a.createContext)({getPinFeedbackStatus:()=>{},setPinFeedbackStatus:()=>{}}),r=()=>(0,a.useContext)(t);function o({children:e}){const[n,i]=(0,a.useState)(Object.freeze({})),r=(0,a.useMemo)((()=>({getPinFeedbackStatus:({pinId:e})=>n[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:a})=>i({...n,[e]:a})})),[n]);return(0,l.jsx)(t.Provider,{value:r,children:e})}},392553:(e,n,i)=>{i.r(n),i.d(n,{default:()=>Je,pinRepPaddingInBoint:()=>Oe});var a,l=i(667294),t=i(702664),r=i(167912),o=i(616550),s=i(883119),d=i(563962),c=i(117651),u=i(402833),p=i(604094),m=i(765456),g=i(802760),h=i(536042),_=i(630089),y=i(525571),v=i(958083),f=i(624417),x=i(740494),b=i(465991),k=i(950695),S=i(895200),P=i(282802),w=i(643183),T=i(446077),I=i(846226),j=i(98736),C=i(618569),F=i(938818),A=i(549201),L=i(272109),D=i(873610),K=i(768865),z=i(843843),R=i(328939),Z=i(480462),E=i(348597),U=i(230910),B=i(836),M=i(261453),N=i(411224),O=i(493214),q=i(621699),G=i(988014),H=i(460914),$=i(107877),W=i(377234),V=i(785893);const Y=void 0!==a?a:a=i(788536),Q=({data:{pinProduct:{maxPrice:e,minPrice:n,inStock:i,standardPrice:a,price:t},domain:r}})=>{const o=(0,h.ZP)(),{textColor:d,inStockColor:c}=(({isDarkMode:e,inStock:n})=>e?{textColor:"light",inStockColor:"light"}:{textColor:"dark",inStockColor:n?"dark":"subtle"})({isDarkMode:(0,W.Yc)(),inStock:i||!1});return(0,V.jsxs)(l.Fragment,{children:[r&&(0,V.jsx)(s.xv,{color:d,size:"100",children:r}),(0,V.jsxs)(s.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[n&&e?(0,V.jsxs)(s.xv,{size:"100",color:c,weight:"bold",children:[n," - ",e]}):(0,V.jsx)(s.xv,{size:"100",color:c,weight:"bold",children:a||t}),!i&&(0,V.jsxs)(l.Fragment,{children:[(0,V.jsx)(s.xu,{paddingX:1,children:(0,V.jsx)(s.xv,{size:"100",color:c,weight:"bold",children:"·"})}),(0,V.jsx)(s.xv,{size:"100",color:c,weight:"bold",children:o.bt("缺货", "Out of stock", "pinCard.priceLego.outOfStock", undefined, true)})]})]})]})},J=(0,g.M2)({useGraphQLAdapter:({linkDomain:e,richMetadata:n,richSummary:i})=>{var a,l;const t=(0,U.kb)({hasLinkDomain:!!e,richMetadata:n&&{recipe:n.recipe&&{fromAggregatedData:n.recipe.fromAggregatedData},products:(null!==(a=n.products)&&void 0!==a?a:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))},richSummary:i&&{products:(null!==(l=i.products)&&void 0!==l?l:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))}});return t&&t.price?{pinProduct:t,domain:null==i?void 0:i.siteName}:null},useLegacyAdapter:e=>{var n,i,a;if(!e)return null;const{link_domain:l,rich_metadata:t,rich_summary:r}=e,o=(0,U.kb)({hasLinkDomain:!!l,richMetadata:t&&{recipe:t.recipe&&{fromAggregatedData:t.recipe.from_aggregated_data},products:(null!==(n=t.products)&&void 0!==n?n:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{inStock:e.offer_summary.in_stock,maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))},richSummary:r&&{products:(null!==(i=r.products)&&void 0!==i?i:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{inStock:e.offer_summary.in_stock,maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))}});return o&&o.price?{pinProduct:o,domain:null===(a=e.rich_summary)||void 0===a?void 0:a.site_name}:null}});function X(e){var n;return(0,V.jsx)(J,{fragment:Y,dataKey:null!==(n=e.pinGraphqlRef)&&void 0!==n?n:e.pinId,children:({data:e})=>e&&(0,V.jsx)(Q,{data:e})})}var ee,ne=i(510336),ie=i(333741);const ae=void 0!==ee?ee:ee=i(991102),le=(0,l.lazy)((()=>i.e(21326).then(i.bind(i,121326)))),te=({title:e})=>{const n=(0,A.HG)(),i=(0,C.Z)();return(0,V.jsx)(I.Z,{id:"related-pins-title",children:(0,V.jsx)(s.iP,{onTap:()=>{i({action:"click",item:"related-pins-title"})},children:(0,V.jsx)(O.Z,{size:n?"300":"100",weight:"bold",lineClamp:2,children:e})})})},re=({credits:e,data:n,hasAffiliatedProducts:i,hidePinMetadata:a,isPromotedPin:t,isSponsoredPin:r,logCreditsClick:d,marginTop:c,pinDescription:u,pinGraphqlRef:m,pinId:g,pinnedToBoardId:_,pinReactionCounts:y,recipeReview:v,shouldShowReactions:f,showPriceIndicatorInPinCardDetails:x,title:b,type:k})=>{var S,T,F,L,D,K,z,R,Z;const E=(0,h.ZP)(),U=(0,o.useLocation)(),B=(0,C.Z)(),{isAuthenticated:M}=(0,P.B)(),N=(0,A.HG)(),O=(0,o.useHistory)(),W=b||u||"oneTap"===k,{pinner:Y}=n,Q=(0,$.gC)()(_||String(null===(S=n.board)||void 0===S?void 0:S.entityId)),J=t&&(null===(T=n.promoter)||void 0===T?void 0:T.entityId)===(null===(F=n.nativeCreator)||void 0===F?void 0:F.entityId),ee=G.Q0?2:c||(W&&!a?1:0),ae=!x;return(0,V.jsxs)(s.xu,{flex:"grow",children:[(0,V.jsx)(s.xu,{display:"flex",marginTop:a?0:c||1,children:(0,V.jsxs)(s.xu,{flex:"grow",children:[(r||i)&&!J&&(0,V.jsx)(s.xu,{marginBottom:1,children:(0,V.jsx)(s.xu,{flex:"grow",overflow:"hidden",children:(0,V.jsx)(ne.Z,{hasAffiliatedProducts:i,isPromoted:t,sponsorName:n.sponsorship?(0,V.jsx)(s.xv,{inline:!0,size:"100",weight:"bold",children:null==e?void 0:e.subtitle}):void 0,sponsorshipStatus:null===(L=n.sponsorship)||void 0===L?void 0:L.status})})}),b&&(0,V.jsx)(s.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:M&&!a&&(0,V.jsx)(te,{title:b})}),N&&!M&&u&&!(0,G.$Y)(U)&&!(0,G.E0)(U)&&(0,V.jsx)(s.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,V.jsx)(s.iP,{onTap:()=>{B({action:"click",item:"related-pins-description"})},children:(0,V.jsx)(s.xv,{size:"100",inline:!0,children:u})})}),x&&(0,V.jsx)(X,{pinId:g,pinGraphqlRef:m}),v]})}),f&&y&&Object.keys(y).length>0&&(0,V.jsx)(s.xu,{height:18,display:void 0,justifyContent:"center",children:(0,V.jsx)(p.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,V.jsx)(w.Z,{children:(0,V.jsx)(le,{pinReactionCounts:y})})})}),ae&&e?(0,V.jsx)(H.Z,{onTouch:n=>{n.stopPropagation(),n.preventDefault(),e.link&&O.push(e.link),d()},pressState:"none",children:(0,V.jsx)(s.xu,{children:(!a||r||J)&&(0,V.jsxs)(s.xu,{display:"flex",marginTop:ee,marginBottom:a?2:0,position:"relative",direction:"row",children:[(0,V.jsx)(s.xu,{flex:"none",display:void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,V.jsx)(s.iP,{onTap:()=>{B({action:"click",item:"related-pins-avatar-image"})},children:(0,V.jsx)(q.Z,{accessibilityLabel:e.title||e.subtitle||E.bt("创建者头像", "Creator's avatar", "pinCardDetails.tapArea.avatar", undefined, true),name:e.title||"",outline:!1,size:"sm",src:e.avatar||void 0})})}),(0,V.jsx)(s.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:(0,V.jsx)(s.iP,{onTap:()=>{B({action:"click",item:"related-pins-name"})},children:(0,V.jsxs)(l.Fragment,{children:[e.title&&(0,V.jsx)(s.xv,{lineClamp:1,size:"100",weight:r&&!J||i?"normal":"bold",children:e.title===(null==Y?void 0:Y.fullName)&&(null!=Y&&Y.isVerifiedMerchant||null!=Y&&null!==(D=Y.verifiedIdentity)&&void 0!==D&&D.verified)?(0,V.jsx)(ie.Z,{badgeSize:"sm",badgeSpacing:2,fullName:e.title,verifiedType:Y.isVerifiedMerchant?"verifiedMerchant":"verifiedIdentity"}):e.title}),e.subtitle?(!r&&!a||J)&&(0,V.jsx)(s.xv,{lineClamp:r||i?void 0:1,size:N?"200":"100",weight:N?"bold":"normal",children:e.subtitle}):!M&&Q&&"protected"!==Q.privacy?(0,V.jsx)(I.Z,{id:"related-pin-text-below-name",children:(0,V.jsx)(s.rU,{underline:"hover",href:null!==(K=Q.url)&&void 0!==K?K:"",onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),e.stopPropagation(),(0,j.NC)("click_board_pin_attribution_profile"),B({action:"click",item:"related-pin-text-below-name"})},children:(0,V.jsx)(s.xv,{size:"200",children:Q.name})})}):null]})})})]})})}):N&&!!Y&&((0,G.L6)(U)||(0,G.cD)(U)||(0,G.$Y)(U))&&(0,V.jsxs)(s.xu,{display:"flex",marginTop:W?2:0,children:[(0,V.jsx)(s.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,V.jsx)(s.iP,{onTap:()=>{B({action:"click",item:"related-pins-avatar-image"})},children:(0,V.jsx)(q.Z,{name:Y.username||"",size:"sm",src:null!==(z=Y.imageSmallUrl)&&void 0!==z?z:void 0})})}),(0,V.jsxs)(s.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,V.jsx)(s.rU,{underline:"hover",href:`/${Y.username||""}/`,onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),e.stopPropagation(),(0,j.NC)("click_board_pin_attribution_board"),B({action:"click",item:"related-pins-name"})},children:(0,V.jsx)(s.xv,{size:"200",weight:"bold",children:Y.fullName||Y.username})}),Q&&"protected"!==Q.privacy?(0,V.jsx)(I.Z,{id:"related-pin-text-below-name",children:(0,V.jsx)(s.rU,{underline:"hover",href:null!==(R=Q.url)&&void 0!==R?R:"",onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),e.stopPropagation(),(0,j.NC)("click_board_pin_attribution_profile"),B({action:"click",item:"related-pin-text-below-name"})},children:(0,V.jsx)(s.xv,{size:"200",children:null!==(Z=Q.name)&&void 0!==Z?Z:""})})}):null]})]})]})},oe=(0,g.M2)({useGraphQLAdapter:e=>e,useLegacyAdapter:e=>e&&{entityId:e.id,board:e.board&&{entityId:e.board.id},nativeCreator:e.native_creator&&{entityId:e.native_creator.id},pinner:e.pinner&&{fullName:e.pinner.full_name,imageSmallUrl:e.pinner.image_small_url,isVerifiedMerchant:e.pinner.is_verified_merchant,username:e.pinner.username,verifiedIdentity:e.pinner.verified_identity&&{verified:e.pinner.verified_identity.verified}},promoter:e.promoter&&{entityId:e.promoter.id},sponsorship:e.sponsorship&&{status:e.sponsorship.status}}}),se=e=>{var n;return(0,V.jsx)(oe,{fragment:ae,dataKey:null!==(n=e.pinGraphqlRef)&&void 0!==n?n:e.pinId,children:({data:n,fragmentRef:i})=>n&&(0,V.jsx)(re,{...e,data:n,pinGraphqlRef:i})})};var de,ce=i(245410),ue=i(792953),pe=i(671915);const me=void 0!==de?de:de=i(441959),ge=(e,n)=>{const{checkExperiment:i}=(0,ce.F)();return i("graphql_migration_sharelink_sgrowth_web").anyEnabled?((e,n)=>{const i=(0,r.useRelayEnvironment)();return(0,V.jsx)(pe.t,{invite_code:e,relayEnvironment:i,inviteQuery:me,children:e=>{const i=null!=e&&e.data?e.data.sender:null,a=i&&i.first_name?i.first_name.substring(0,30):"";if(!a)return null;const l=i&&!i.is_default_image?i.image_medium_url:"",t=(0,_.nk)(n.bt("{{ name }} 与你分享了此点子", "{{ name }} shared this idea with you", "homefeed.pinSenderAvatar.heading", undefined, true),{name:a});return(0,V.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,V.jsx)(s.zd,{height:32,width:32,children:(0,V.jsx)(q.Z,{name:a,src:l})}),(0,V.jsx)(s.xu,{width:"80%",paddingY:2,children:(0,V.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:t})})]})}})})(e,n):((e,n)=>(0,V.jsx)(pe.Z,{invite_code:e,children:e=>{const i=e?e.sender:null,a=i&&i.first_name?i.first_name.substring(0,30):"";if(!a)return null;const l=i&&!i.is_default_image?i.image_medium_url:"",t=(0,_.nk)(n.bt("{{ name }} 与你分享了此点子", "{{ name }} shared this idea with you", "homefeed.pinSenderAvatar.heading", undefined, true),{name:a});return(0,V.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,V.jsx)(s.zd,{height:32,width:32,children:(0,V.jsx)(q.Z,{name:a,src:l})}),(0,V.jsx)(s.xu,{width:"80%",paddingY:2,children:(0,V.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:t})})]})}}))(e,n)},he=({inviteCode:e})=>{const n=(0,h.ZP)();return(0,V.jsx)(s.xu,{minHeight:82,children:(0,V.jsx)(p.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,V.jsx)(w.Z,{fallback:(0,V.jsx)(ue.Z,{accessibilityLabel:n.bt("正在加载邀请组件", "Loading Invitation component", "Loading InviteFetch component", undefined, true)}),children:ge(e,n)})})})};var _e=i(692989),ye=i(649796);const ve={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},fe=(e,n,i)=>(0,V.jsx)(s.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,V.jsx)(s.rU,{display:"inlineBlock",href:n,tapStyle:"none",underline:"hover",children:i})},e);function xe({color:e,getFeedbackText:n,onUnfollow:i,showing:a,unfollowed:t}){const r=(0,h.ZP)(),[o,d]=(0,l.useState)(a?"fadeIn":"initial"),c=(0,l.useRef)(null);(0,l.useEffect)((()=>("initial"===o&&a&&(c.current=window.requestAnimationFrame((()=>d("fadeIn")))),()=>{c.current&&window.cancelAnimationFrame(c.current)})),[o,d,a]);const{subTitle:u,title:p,unfollow:m}=n(fe);let g=p,_=u;m&&t&&(g=m.title,_=m.subTitle);const y=()=>m?(0,ye.t)(m.action,m.actionOptions,i):void 0;return a&&(0,V.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...ve[o]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,V.jsxs)(s.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,V.jsxs)(s.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,V.jsxs)(s.xu,{children:[(0,V.jsx)(s.X6,{size:"400",color:"light",children:g}),!!_&&(0,V.jsxs)(s.xu,{marginTop:1,children:[(0,V.jsx)(s.xv,{color:"light",size:"200",inline:!0,children:_}),(0,V.jsx)(s.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,V.jsx)(s.rU,{href:"/edit",display:"inlineBlock",rounding:2,tapStyle:"none",underline:"hover",children:r.bt("调整你的主页", "Tune your home feed", "Text on the button to navigate to homefeed control", undefined, true)})})]})]}),!t&&m&&(0,V.jsx)(s.xu,{paddingY:1,children:(0,V.jsx)(s.zx,{fullWidth:!0,color:"white",text:r.bt("取消关注", "Unfollow", "Text on the button to unfollow a specific board / user", undefined, true),onClick:y})})]}),!t&&m&&(0,V.jsx)(s.xu,{paddingY:1,children:(0,V.jsx)(s.zx,{fullWidth:!0,color:"white",text:r.bt("取消关注", "Unfollow", "Text on the button to unfollow a specific board / user", undefined, true),onClick:y})})]})})}var be=i(187768),ke=i(31407);function Se({maxRating:e,rating:n,text:i}){return(0,V.jsxs)(s.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,V.jsx)(ke.Z,{max_rating:e||"",rating:n||"",width:10}),i&&(0,V.jsx)(l.Fragment,{children:(0,V.jsx)(s.xu,{marginStart:1,overflow:"hidden",children:(0,V.jsx)(s.xv,{size:"100",lineClamp:1,children:i})})})]})}var Pe,we=i(190253),Te=i(141418);const Ie=void 0!==Pe?Pe:Pe=i(937711);function je({dedupeVisualAnnotations:e,description:n,gridTitle:i,pinId:a,richMetadataTitle:l,richSummaryDisplayName:t,storyPinDataId:o,storyPinDataMetadataPinTitle:d,title:c,queryRef:u}){const p=(0,r.useFragment)(Ie,u);return(0,V.jsxs)(s.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,V.jsx)(s.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,V.jsx)(s.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,b.fs)({pinTitle:c,gridTitle:i,richSummaryDisplayName:t,richMetadataTitle:l,storyPinDataId:o,storyPinDataMetadataPinTitle:d})||n})}),(0,V.jsx)(s.xu,{children:(0,V.jsx)(Te.Z,{pinId:a,size:"sm",graphqlRef:p,dedupeVisualAnnotations:e})})]})}var Ce,Fe=i(117918),Ae=i(204722),Le=i(448709);const De=void 0!==Ce?Ce:Ce=i(143453),Ke=({attribute:e,deviceType:n,location:i})=>{const a=(0,C.S)(i);(0,j.My)("unauth.product_attribution.click",{item:e,page:a,device:n})},ze=({isSquarePin:e,price:n,shouldDisplayMerchant:i})=>n&&e?i?90:68:void 0,Re=({maxPrice:e,minPrice:n,price:i})=>e&&n?`${n}-${e}`:i;function Ze({dedupeVisualAnnotations:e,description:n,domain:i,graphqlRef:a,gridTitle:t,isSquarePin:r,pinId:d,priceSummary:c,richMetadataTitle:u,richSummaryDisplayName:p,storyPinDataId:m,storyPinDataMetadataPinTitle:g,title:h}){const _=(0,A.ZP)(),y=(0,o.useLocation)(),v=c&&(c.price||c.standardPrice||Re(c)),f=(0,l.useMemo)((()=>r?2:v?3:2),[r,v]);if(!d)return null;const x=(0,b.fs)({pinTitle:h,gridTitle:t,richSummaryDisplayName:p,richMetadataTitle:u,storyPinDataId:m,storyPinDataMetadataPinTitle:g})||n,k=`/pin/${d}/`;return(0,V.jsx)(s.xu,{paddingX:2,marginBottom:-1,marginTop:2,display:"flex",direction:"column",height:ze({isSquarePin:r,price:v}),children:(0,V.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,V.jsx)(s.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,V.jsxs)(z.MZ,{to:k,accessibilityLabel:x,deeplinkUri:k,children:[v&&(0,V.jsx)(s.iP,{onTap:()=>Ke({deviceType:_,attribute:"price",location:y}),children:(0,V.jsx)(s.xv,{size:"100",weight:"bold",children:v})}),(0,V.jsx)(s.xu,{marginTop:1,children:(0,V.jsx)(s.iP,{onTap:()=>Ke({deviceType:_,attribute:"title",location:y}),children:(0,V.jsx)(s.xv,{size:"100",weight:"bold",lineClamp:f,children:x})})}),i&&v&&(0,V.jsx)(s.xu,{marginTop:1,children:(0,V.jsx)(s.iP,{onTap:()=>Ke({deviceType:_,attribute:"merchant",location:y}),children:(0,V.jsx)(s.xv,{size:"100",lineClamp:1,children:i})})})]})}),"desktop"!==_&&(0,V.jsx)(s.xu,{children:(0,V.jsx)(Te.Z,{dedupeVisualAnnotations:e,pinId:d,size:"sm",graphqlRef:a})})]})})}const Ee=(0,Le.Z)({useGraphQLAdapter:({queryRef:e})=>(0,r.useFragment)(De,e),useLegacyAdapter:()=>null});function Ue({queryRef:e,...n}){return(0,V.jsx)(Ee,{input:e?{enabled:!0,data:{queryRef:e}}:{enabled:!1,data:{pinId:n.pinId}},children:({data:e})=>(0,V.jsx)(Ze,{...n,graphqlRef:e})})}var Be,Me=i(197838);const Ne=void 0!==Be?Be:Be=i(256468),Oe=({isDesktop:e})=>e?0:1,qe=e=>Boolean(e.promoter&&!e.isDownstreamPromotion),Ge=e=>{const{attribution:n,embed:i,isEligibleForWebCloseup:a,richSummary:l,videos:t,storyPinDataId:r}=e,o=i||(null==n?void 0:n.embed);return a?"oneTap":t||"video"===(null==o?void 0:o.type)?"video":"gif"===(null==o?void 0:o.type)?"gif":"product"===(null==l?void 0:l.typeName)?"product":"recipe"===(null==l?void 0:l.typeName)?"recipe":r?"storyPin":"image"},He=e=>{var n,i,a;const l=null===(n=e.videos)||void 0===n?void 0:n.videoList;return l?(0,c.Z)(null!==(i=null===(a=l[Object.keys(l)[0]])||void 0===a?void 0:a.duration)&&void 0!==i?i:0):""},$e=e=>{var n;const[i]=(null===(n=e.richSummary)||void 0===n?void 0:n.products)||[];if(!i)return null;const{offerSummary:a}=i;return a&&(a.price||a.maxPrice)},We=e=>e&&e.includes("/user/default")?void 0:e,Ve=(0,l.lazy)((()=>Promise.all([i.e(68138),i.e(86224),i.e(88802)]).then(i.bind(i,588619))));function Ye({auxData:e,componentType:n,debugInfo:i,disableAppUpsell:a,disableReaction:r,disableRounding:c,duploConversationPin:g,duploDedupeVisualAnnotations:F,duploDisablePinCardPadding:O,duploFeedItemProps:q,duploIsSquarePin:G,duploLazyLoadImage:H,duploOneTapSave:$,duploPinCardDetailsMargin:W,duploPriorityFetchImage:Y,duploQueryRef:Q,duploShouldAddNiiSearchParamToImageUrls:J,duploShouldAllowProductPriceIndicator:X,feedback:ee,imageOnlyOption:ne,impressionData:ie,objectIdStr:ae,pin:le,slotIndex:te,topLevelTrafficSource:re,topLevelTrafficSourceDepth:oe,trackingParams:de,trafficSource:ce,viewData:ue,viewParameter:pe,viewType:me}){var ge,ye,ve,fe,ke,Pe,Te,Ie,Ce,Le,De,Ke,ze,Re,Ze,Ee;const Be=(0,h.ZP)(),Ne=(0,u.g)(),Ye=(0,o.useLocation)(),Qe=(0,A.HG)(),Je=(0,N.Z)(),Xe=(0,k.yz)(),en=(0,m._)({id:1000107}),nn=(0,d.Z)(),an=(0,C.Z)(),{country:ln,isAuthenticated:tn}=(0,P.B)(),{viewedSharedPins:rn}=(0,t.useSelector)((({session:e})=>e)),on=(0,t.useSelector)((({experiences:e})=>{const n=e[1000107];return!!n&&500678===n.experience_id})),sn=(0,t.useSelector)((({session:e,users:n})=>(0,y.Z)(n[e.userId].created_at))),{getPinFeedbackStatus:dn,setPinFeedbackStatus:cn}=(0,be.K)(),[un,pn]=(0,l.useState)(!1),[mn,gn]=(0,l.useState)(!1),hn=(0,l.useRef)(),_n=le.entityId,yn=!!le.storyPinDataId&&!1===le.shouldOpenInStream,vn=e=>J&&e?{...e,url:e.url&&(0,T.H5)(e.url)}:e,fn=vn(le.imageSpec_136x136),xn=vn(le.imageSpec_170x),bn=vn(le.imageSpec_236x),kn=vn(le.imageSpec_474x),Sn=vn(le.imageSpec_736x),Pn=vn(le.imageSpec_orig),wn={...[["136x136",fn],["170x",xn],["236x",bn],["474x",kn],["736x",Sn],["orig",Pn]].reduce(((e,[n,i])=>{var a,l,t,r;return i?(e[n]={dominant_color:null!==(a=i.dominantColor)&&void 0!==a?a:void 0,height:null!==(l=i.height)&&void 0!==l?l:void 0,url:null!==(t=i.url)&&void 0!==t?t:void 0,width:null!==(r=i.width)&&void 0!==r?r:void 0},e):e}),{})},Tn=e=>{var n,i;return(0,f.Z)({embedSrc:null===(n=le.embed)||void 0===n?void 0:n.src,embedType:null===(i=le.embed)||void 0===i?void 0:i.type,images:wn,preferredResolution:e})},In=Ge(le),jn=(0,D.z)();(0,L.Z)((()=>{if(jn&&!Qe&&"image"===In){const e=wn["236x"]||wn["136x136"],n=Tn("736x");n&&jn.setData(_n,{dominantColor:le.dominantColor,imageUrl:n,placeholder:e&&{width:e.width,height:e.height,url:e.url}})}})),(0,L.Z)((()=>{if(!tn&&0===te&&3070===pe){var e,n,i;const a=Ye.pathname,{imageSignature:l,entityId:t,imageSpec_236x:r,description:o}=le;(0,M.H$)(a,l,t,r&&{dominant_color:null!==(e=r.dominantColor)&&void 0!==e?e:void 0,height:null!==(n=r.height)&&void 0!==n?n:void 0,url:r.url,width:null!==(i=r.width)&&void 0!==i?i:void 0},o)}}));const Cn=92===pe&&(null===(ge=rn&&rn[_n])||void 0===ge?void 0:ge.inviteCode),Fn=G?{height:136,url:null==bn?void 0:bn.url,width:136}:[bn,xn,fn,Sn,kn,Pn].find((e=>e&&e.url))||{width:1,height:1,url:""},An=null===(ye=le.videos)||void 0===ye||null===(ve=ye.videoList)||void 0===ve?void 0:ve.v720P,Ln=(0,Z.Z)({isEligibleForPdp:le.isEligibleForPdp,isOosProduct:le.isOosProduct,isStaleProduct:le.isStaleProduct,pinShoppingFlags:null!==(fe=le.shoppingFlags)&&void 0!==fe?fe:void 0}),Dn=dn({pinId:_n}),Kn=()=>{var e,n,i,a,l,t,r;const o=({user:e,linkToBoard:n})=>{var i;return{link:n?(null===(i=le.board)||void 0===i?void 0:i.url)||`/pin/${le.entityId}/`:(null==e?void 0:e.username)&&`/${e.username}/`||"",avatar:We(null==e?void 0:e.imageMediumUrl)||We(null==e?void 0:e.imageSmallUrl)}};var s,d,c,u,p,m,g;if(qe(le))return le.sponsorship&&(null===(s=le.promoter)||void 0===s?void 0:s.entityId)!==(null===(d=le.nativeCreator)||void 0===d?void 0:d.entityId)?{title:null===(c=le.nativeCreator)||void 0===c?void 0:c.fullName,subtitle:null===(u=le.promoter)||void 0===u?void 0:u.fullName,...o({user:le.nativeCreator})}:{title:Be.bt("推广者：", "Promoted by", "Grid pin annotation", undefined, true),subtitle:null===(p=le.promoter)||void 0===p?void 0:p.fullName,...o({user:le.promoter})};if(null!==(e=le.sponsorship)&&void 0!==e&&e.creator)return{title:null===(m=le.nativeCreator)||void 0===m?void 0:m.fullName,subtitle:null===(g=le.sponsorship.sponsor)||void 0===g?void 0:g.fullName,...o({user:le.nativeCreator})};if(le.nativeCreator)return{title:le.nativeCreator.fullName,subtitle:"",...o({user:le.nativeCreator})};switch(pe){case 3375:if(null===(n=le.linkDomain)||void 0===n||null===(i=n.officialUser)||void 0===i||!i.isPrimaryWebsiteVerified)return;const e=null!==(a=le.storyPinData)&&void 0!==a&&a.hasProductPins?le.nativeCreator:le.linkDomain.officialUser;return{title:"",subtitle:null==e?void 0:e.fullName,...o({user:e})};case 0:case 3173:return null!==(l=le.storyPinData)&&void 0!==l&&l.hasProductPins?{title:"",subtitle:null===(t=le.nativeCreator)||void 0===t?void 0:t.fullName,...o({user:le.nativeCreator,linkToBoard:!0})}:{title:le.board&&"protected"===le.board.privacy?Be.bt("收藏者：", "Saved by", "Grid pin annotation", undefined, true):(null===(r=le.pinner)||void 0===r?void 0:r.fullName)||"",subtitle:"",...o({user:le.pinner,linkToBoard:!0})};default:return}},zn=(0,v.hP)({boardFollowedByMe:!(null===(ke=le.board)||void 0===ke||!ke.followedByMe),feedbackType:null==ee?void 0:ee.type,viewParameter:pe,promotion:le&&le.promoter&&{isDownstreamPromotion:!!le.isDownstreamPromotion},pinnerFollowedByMe:!(null===(Pe=le.pinner)||void 0===Pe||!Pe.explicitlyFollowedByMe),recommendationReason:le.recommendationReason&&{hasBoard:!!le.recommendationReason.board,reason:null!==(Te=le.recommendationReason.reason)&&void 0!==Te?Te:void 0}}),Rn=e=>{var n,i,a;const l={i18n:Be,makeNavigateLink:e};switch(zn){case"pfy":return(0,v.Ud)({...l,feedback:{type:"pfy"}});case"pfyBoard":return(0,v.Ud)({...l,feedback:{type:"pfyBoard",recommendationReasonBoard:(null===(n=le.recommendationReason)||void 0===n?void 0:n.board)&&{name:null!==(i=le.recommendationReason.board.name)&&void 0!==i?i:"",url:null!==(a=le.recommendationReason.board.url)&&void 0!==a?a:""}}});case"topic":return(0,v.Ud)({...l,feedback:{type:"topic",sourceInterest:le.sourceInterest&&le.sourceInterest.name&&le.sourceInterest.urlName?{name:le.sourceInterest.name,url_name:le.sourceInterest.urlName}:null}});case"followed":return(0,v.Ud)({...l,feedback:{type:"followed",followed:le.pinner&&le.pinner.explicitlyFollowedByMe?{type:"pinner",pinner:le.pinner.fullName&&le.pinner.username?{full_name:le.pinner.fullName,username:le.pinner.username}:null}:{type:"board",board:le.board&&le.board.name&&le.board.url?{name:le.board.name,url:le.board.url}:null}}});case"promoted":return(0,v.Ud)({...l,feedback:{type:"promoted",promoter:!le.adMatchReason&&le.promoter&&le.promoter.fullName?{full_name:le.promoter.fullName,username:le.promoter.username}:null}});default:return null}},{category:Zn,linkDomain:En,description:Un,gridTitle:Bn,imageSignature:Mn,richMetadata:Nn,richSummary:On,title:qn,sponsorship:Gn,storyPinData:Hn}=le,[$n,Wn]="string"==typeof Bn?[Bn,""]:[null==On?void 0:On.displayName,Un],Vn=qe(le),Yn=null==Hn?void 0:Hn.isDeleted,Qn=(0,E.Z)((Ye&&Ye.state||{}).trackingParams||de,le.trackingParams),Jn="product"===In&&!tn,Xn=on&&!(On&&43===pe&&!sn||3375===pe);let ei=null===(Ie=le.pinJoin)||void 0===Ie?void 0:Ie.visualAnnotation;F&&ei&&(ei=F({pinId:_n,visualAnnotations:ei}));const ni=(0,b.hP)(null!==(Ce=le.description)&&void 0!==Ce?Ce:"",le.descriptionHtml||"",ei,le.altText||""),ii=tn?Wn:(0,x.Z)({storyPinDataId:le.storyPinDataId,pinDescription:le.description,richMetadataDescription:null!==(Le=null===(De=le.richMetadata)||void 0===De?void 0:De.description)&&void 0!==Le?Le:"",richSummaryDisplayName:null!==(Ke=null===(ze=le.richSummary)||void 0===ze?void 0:ze.displayName)&&void 0!==Ke?Ke:"",closeupDescription:null!==(Re=le.closeupDescription)&&void 0!==Re?Re:"",closeupUnifiedDescription:null!==(Ze=le.closeupUnifiedDescription)&&void 0!==Ze?Ze:""});let ai;ai="oneTap"===In?le.trackedLink||le.link:tn?(0,b.BY)(_n):(0,b.bN)({pinId:_n,seoUrl:le.seoUrl});const li={accessibilityLabel:ni||$n||Wn||Be.bt("Pin 图", "Pin", "Pin accessibility label", undefined, true),country:ln,deeplinkUri:ai,external:"oneTap"===In,externalQueryParams:{pin:_n,client_tracking_params:de},isAppUpsellDisabled:a,onTouch:i=>{var a;if((()=>{const i=(0,E.Z)(de,le.trackingParams);if((0,j.My)(`unauth_pin_rep.click.${String(pe)}`),nn({view_type:me,view_parameter:pe,element:le.storyPinDataId?12372:35,event_type:101,component:n,object_id_str:_n,clientTrackingParams:i,aux_data:{commerce_data:Ln,grid_index:te,image_signature:le.imageSignature,...e}}),"oneTap"!==In&&nn({event_type:8948,view_type:me,view_parameter:pe,object_id_str:_n,clientTrackingParams:i,aux_data:{image_signature:le.imageSignature,commerce_data:Ln,closeup_navigation_type:"click",grid_index:te,cosmic_ray_count:"3",...e}}),!tn)switch(an({action:"click",item:"pin"}),me){case 3:(0,j.NC)("click_pin_related_image");break;case 5:(0,j.NC)("click_board_pin_image");break;case 210:(0,j.NC)("click_topic_pin_image");break;case 605:(0,j.NC)("click_shopping_category_pin_image");break;case 606:(0,j.NC)("click_videos_category_pin_image")}"oneTap"===In&&(nn({event_type:8948,view_type:me,view_parameter:pe,object_id_str:_n,clientTrackingParams:i,aux_data:{image_signature:le.imageSignature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...e}}),(0,B.jC)({view_type:me,view_parameter:pe,element:le.storyPinDataId?12372:35,component:n,object_id_str:_n,aux_data:{commerce_data:Ln,grid_index:te,image_signature:le.imageSignature,...e},clientTrackingParams:i}),nn({component:n,event_type:13,view_type:3,clientTrackingParams:i,aux_data:{closeup_navigation_type:"web_closeup",image_signature:le.imageSignature},object_id_str:_n}))})(),null==q||null===(a=q.onPinClick)||void 0===a||a.call(q),Qe){const e=494===me;if(i.metaKey||e){(0,j.My)(`unauth_pin_rep.click.cmd_button_pressed.${String(pe)}`),i.preventDefault();window.open(`/pin/${_n}/`,"_blank").focus()}else if(!tn&&Ne){const{pinImageClickHandler:e}=Ne;e({event:i,pinId:_n,linkTarget:"duploClientNav",seoUrl:le.seoUrl})}}},pinCategory:le.category,pressState:"none",rounding:4,title:Be.bt("查看此 Pin 图", "See this Pin", "App Upsell Text after clicking on Pin in feed", undefined, true),to:{pathname:ai,state:{trackingParams:de,trafficSource:ce,topLevelTrafficSource:re,topLevelTrafficSourceDepth:oe}},upsellType:"direct",viewParameter:pe,viewType:me,clientTrackingParams:Qn},ti=(0,U.kb)({hasLinkDomain:!!En,richMetadata:Nn&&{recipe:Nn.recipe&&{fromAggregatedData:Nn.recipe.fromAggregatedData},products:Nn.products},richSummary:On&&{products:On.products}}),ri=!X&&["shop_feed"].includes(ce);return(0,V.jsx)(R.dL,{auxData:{commerce_data:Ln,pwa_type:Xe,...e},component:n,impressionData:{richTypes:le.shoppingFlags||[],imageURL:Fn.url||"",...An?{isNativeVideoAndWatchable:!!(An&&An.url&&An.height&&An.width)||void 0,videoIdStr:An&&(null===(Ee=le.videos)||void 0===Ee?void 0:Ee.entityId)||void 0}:{},...ie},isPaused:!un,loggingId:le.entityId,objectIdStr:ae,slotIndex:te,trackingParams:de,viewData:ue,viewParameter:pe,viewType:me,children:({impressionTrackerRef:e})=>{var n,a,t,o,d,u,m,h,y,f,x,b,k,P,T,C,A,L,D,R,Z,E,U,B,M,N,J,ie;return(0,V.jsx)(s.xu,{ref:e,children:(0,V.jsxs)(s.xu,{"data-test-id":"pin","data-test-pin-id":_n,marginBottom:Qe?0:2,children:[(0,V.jsxs)(s.xu,{"data-test-id":ni||$n||Wn?"pin-with-alt-text":"pin-missing-alt-text",padding:O?0:Oe({isDesktop:Qe}),marginBottom:0,onContextMenu:Qe&&(le.nativeCreator||le.pinner)?e=>{e.stopPropagation(),e.preventDefault(),Je((0,V.jsx)(Ae.Z,{desktopContextMenuState:{x:e.clientX,y:e.clientY},pinId:_n,graphqlRef:Q})),(0,j.My)("pcons.dweb.pin_rep.context_menu.open")}:void 0,dangerouslySetInlineStyle:{__style:mn?{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}:{}},children:[(0,V.jsxs)(z.MZ,{...li,children:[!!Cn&&(0,V.jsx)(he,{inviteCode:Cn}),Yn?(0,V.jsx)(Fe.Z,{isPinRep:!0}):(0,V.jsx)(_e.Z,{pinGraphqlRef:Q,clientTrackingParams:Qn,color:null!==(n=le.dominantColor)&&void 0!==n?n:"",description:!Wn||Xn&&0!==pe?void 0:Wn.trim(),domainLinkData:le.domain&&le.link?{clickLoggingOptions:{auxData:{objectId:_n,grid_index:te,sanitized_url:le.link}},domain:le.domain,link:le.link,onClick:null==q?void 0:q.onPinLinkClick}:void 0,disableRounding:c,image:Fn&&{dominant_color:null!==(a=Fn.dominantColor)&&void 0!==a?a:void 0,height:null!==(t=Fn.height)&&void 0!==t?t:void 0,url:null!==(o=Fn.url)&&void 0!==o?o:void 0,width:null!==(d=Fn.width)&&void 0!==d?d:void 0},imageAltText:ni,imageCrop:le.imageCrop&&"number"==typeof le.imageCrop.minY&&"number"==typeof le.imageCrop.maxY?{minY:le.imageCrop.minY,maxY:le.imageCrop.maxY}:void 0,isSquarePin:G,lazyLoadImage:H,onError:()=>pn(!1),oneTapSave:$,onLoad:()=>pn(!0),priorityFetchImage:Y,disableDefaultContextMenu:()=>gn(!0),pinId:_n,pinnedToBoardId:null!==(u=null===(m=le.pinnedToBoard)||void 0===m?void 0:m.entityId)&&void 0!==u?u:"",productPrice:"product"===In&&X&&!Jn?$e(le):null,slotIndex:te,storyDataExists:!!Hn,title:Xn&&0!==pe?void 0:$n,type:In,videoDuration:He(le),viewType:me})]}),"image-only"!==ne&&(tn||Qe)&&(0,V.jsxs)(s.xu,{children:[!tn&&Qe&&3475!==pe&&43!==pe&&(0,V.jsx)(Me.Z,{dedupeVisualAnnotations:F,pinId:_n,mode:"inlineWithScrollArrows",graphqlRef:Q}),!Jn&&(0,V.jsxs)(s.xu,{position:"relative",children:[(0,V.jsx)(z.MZ,{...li,children:(0,V.jsx)(s.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,ref:hn})}),(0,V.jsx)(s.iP,{onTap:()=>{var e;null===(e=hn.current)||void 0===e||e.click()},accessibilityLabel:li.accessibilityLabel,children:(0,V.jsxs)(s.xu,{display:"flex",height:G?ri?104:72:void 0,marginEnd:W||1,marginStart:W||1,position:"relative",children:[(0,V.jsx)(se,{pinGraphqlRef:Q,marginTop:W,hidePinMetadata:(null==en?void 0:en.display_data.hideDesc)||!1,credits:Kn(),hasAffiliatedProducts:!(null==Hn||!Hn.hasProductPins),isPromotedPin:Vn,isSponsoredPin:!!Gn,logCreditsClick:()=>{var e;return nn({view_type:3,element:27,event_type:102,object_id_str:_n,component:le.storyPinDataId?230:void 0,aux_data:{pin_id:_n,...null!==(e=le.sponsorship)&&void 0!==e&&e.creator&&le.sponsorship.sponsor?{creator_id:le.sponsorship.creator.entityId,sponsor_id:le.sponsorship.sponsor.entityId}:{}}})},pinDescription:ii,pinId:_n,pinnedToBoardId:null!==(h=null===(y=le.pinnedToBoard)||void 0===y?void 0:y.entityId)&&void 0!==h?h:"",pinReactionCounts:null===(f=le.reactionCountsData)||void 0===f?void 0:f.reduce(((e,{reactionCount:n,reactionType:i})=>({...e,[String(null!=i?i:0)]:null!=n?n:0})),{}),recipeReview:"recipe"===In&&!Xn&&!(null==On||null===(x=On.aggregateRating)||void 0===x||!x.reviewCount)&&(0,V.jsxs)(s.xu,{alignItems:"center",display:"flex",marginTop:1,children:[(0,V.jsx)(Se,{maxRating:On.aggregateRating.bestRating||"",rating:On.aggregateRating.ratingValue||"",text:""}),!!On.displayCookTime&&(0,V.jsxs)(l.Fragment,{children:[(0,V.jsx)(s.xu,{paddingX:1,children:(0,V.jsx)(s.xv,{size:"100",children:"·"})}),(0,V.jsx)(s.xv,{size:"100",children:(0,K.IS)({...(0,S.u)(On.displayCookTime),i18n:Be})})]})]}),shouldShowReactions:!r&&(0,we.J6)({boardIsCollaborative:null===(b=le.board)||void 0===b?void 0:b.isCollaborative,isDownstreamPromotion:le.isDownstreamPromotion,isEligibleForStaticImageIdeaPin:yn,isPromoted:le.isPromoted,storyPinDataId:le.storyPinDataId,videosId:null===(k=le.videos)||void 0===k?void 0:k.entityId})&&3475!==pe&&606!==me&&!(en&&en.display_data.hideReactions),showPriceIndicatorInPinCardDetails:ri,title:$n,type:In}),(0,V.jsx)(s.xu,{right:!0,children:!tn||Yn||g?null:(0,V.jsx)(s.xu,{marginStart:1,marginTop:W,children:(0,V.jsx)(s.xu,{height:26,width:24,children:(0,V.jsx)(p.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,V.jsx)(w.Z,{children:(0,V.jsx)(Ve,{adMatchReason:le.adMatchReason,bestPinImgSrc:Tn(),feedback:ee,feedbackType:zn,getRecommendationDescription:Rn,graphqlRef:Q,hideSaveOption:null!==(P=le.promotedIsRemovable)&&void 0!==P&&P,imageSignature:null!=Mn?Mn:void 0,isAdsOnlyPin:null!==(T=le.promotedIsRemovable)&&void 0!==T&&T,pinCategory:Zn,pinDescription:ii,pinId:_n,pinTitle:qn,sourceType:Vn?"ad":0===pe?"following":void 0,viewParameter:pe,viewType:me,trackingParams:de})})})})})})]})})]})]}),Jn&&(0,V.jsx)(Ue,{dedupeVisualAnnotations:F,queryRef:Q,description:le.description,domain:null===(C=le.richSummary)||void 0===C?void 0:C.siteName,isSquarePin:G,gridTitle:null!==(A=le.gridTitle)&&void 0!==A?A:void 0,pinId:_n,priceSummary:ti&&{maxPrice:ti.maxPrice,minPrice:ti.minPrice,price:ti.price,standardPrice:ti.standardPrice},richMetadataTitle:null===(L=le.richMetadata)||void 0===L?void 0:L.title,richSummaryDisplayName:null===(D=le.richSummary)||void 0===D?void 0:D.displayName,storyPinDataId:le.storyPinDataId,storyPinDataMetadataPinTitle:null===(R=le.storyPinData)||void 0===R||null===(Z=R.metadata)||void 0===Z?void 0:Z.pinTitle,title:le.title})]}),"reported"===Dn?(0,V.jsx)(xe,{color:null!==(E=le.dominantColor)&&void 0!==E?E:"",getFeedbackText:()=>({title:Be.bt("已举报", "Reported", "message displayed after reporting a pin", undefined, true),subTitle:Be.bt("谢谢！你的反馈会帮助我们维护 Pinterest 社区的安全。", "Thanks! Your feedback helps us keep the Pinterest community safe.", "message displayed after reporting a pin", undefined, true)}),pinId:_n,showing:!0}):(0,V.jsx)(xe,{color:null!==(U=le.dominantColor)&&void 0!==U?U:"",getFeedbackText:e=>{const{promoter:n}=le;if(qe(le)&&null!=n&&n.fullName)return{title:"",subTitle:(0,_.nk)(Be.bt("{{ promoter }} 付款让此 Pin 图显示在更有可能吸引你的地方。", "{{ promoter }} has paid to have this pin show up where you'd be more likely to notice it.", "pinRep.promotedPinfeedbackText.subtitle", undefined, true),{promoter:n.fullName})};let i;switch(zn){case"followed":const{board:n,pinner:a}=le;n&&a&&(i=(0,v.oK)({boardId:n.entityId,i18n:Be,makeNavigateLink:e,display:a.explicitlyFollowedByMe?{type:"board",data:{name:n.name,url:n.url}}:{type:"pinner",data:{full_name:a.fullName,username:a.username}}}));break;case"topic":const{sourceInterest:l}=le;l&&(i=(0,v.Iv)({i18n:Be,makeNavigateLink:e,sourceInterest:{id:l.entityId,name:l.name,url_name:l.urlName}}))}return i?{title:Be.bt("Pin 图已隐藏", "Pin hidden", "message displayed after hiding a pin", undefined, true),subTitle:Rn(e),unfollow:i}:{title:Be.bt("Pin 图已隐藏", "Pin hidden", "message displayed after hiding a pin", undefined, true),subTitle:Be.bt("好的！我们以后尽量为你显示更多相关 Pin 图。", "Got it! We'll try to show you more relevant Pins in the future.", "message displayed after hiding a pin", undefined, true)}},onUnfollow:()=>cn({pinId:_n,pinFeedbackStatus:"unfollowed"}),pinId:_n,showing:!!Dn,unfollowed:"unfollowed"===Dn,viewParameter:pe,viewType:me}),!Qe&&(null==q?void 0:q.showSeoMetadata)&&!Jn&&(0,V.jsx)(I.Z,{id:"related-pins-title",children:(0,V.jsx)(s.iP,{onTap:()=>{an({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,V.jsx)(je,{dedupeVisualAnnotations:F,description:le.description,gridTitle:null!==(B=le.gridTitle)&&void 0!==B?B:void 0,pinId:_n,richMetadataTitle:null===(M=le.richMetadata)||void 0===M?void 0:M.title,richSummaryDisplayName:null===(N=le.richSummary)||void 0===N?void 0:N.displayName,storyPinDataId:le.storyPinDataId,storyPinDataMetadataPinTitle:null===(J=le.storyPinData)||void 0===J||null===(ie=J.metadata)||void 0===ie?void 0:ie.pinTitle,title:le.title,queryRef:Q})})}),i]})})}})}const Qe=(0,g.M2)({useGraphQLAdapter:e=>({debugInfo:(0,F.Qy)()&&e.debug&&(0,V.jsx)(F.Wu,{data:e.debug}),pin:e}),useLegacyAdapter:e=>{var n,i,a,l,t,r,o,s,d,c,u,p;if(!e)return null;const m=e=>e&&{entityId:e.id,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageSmallUrl:e.image_small_url,username:e.username},g=e=>e&&{dominantColor:e.dominant_color,height:e.height,url:e.url,width:e.width},h=e.reaction_counts;return{debugInfo:e.debug&&(0,V.jsx)(F.Wu,{data:e.debug}),pin:{adMatchReason:e.ad_match_reason,altText:e.alt_text,attribution:e.attribution&&{embed:e.attribution.embed&&{type:e.attribution.embed.type}},board:e.board&&{entityId:e.board.id,followedByMe:e.board.followed_by_me,isCollaborative:e.board.is_collaborative,name:e.board.name,privacy:e.board.privacy,url:e.board.url},category:e.category,closeupDescription:e.closeup_description,closeupUnifiedDescription:e.closeup_unified_description,debug:null,descriptionHtml:e.description_html,description:e.description,domain:e.domain,dominantColor:e.dominant_color,embed:e.embed&&{height:e.embed.height,src:e.embed.src,type:e.embed.type,width:e.embed.width},entityId:e.id,gridTitle:e.grid_title,imageCrop:e.image_crop&&{minY:e.image_crop.min_y,maxY:e.image_crop.max_y},imageSignature:e.image_signature,imageSpec_136x136:g(null===(n=e.images)||void 0===n?void 0:n["136x136"]),imageSpec_170x:g(null===(i=e.images)||void 0===i?void 0:i["170x"]),imageSpec_236x:g(null===(a=e.images)||void 0===a?void 0:a["236x"]),imageSpec_474x:g(null===(l=e.images)||void 0===l?void 0:l["474x"]),imageSpec_736x:g(null===(t=e.images)||void 0===t?void 0:t["736x"]),imageSpec_orig:g(null===(r=e.images)||void 0===r?void 0:r.orig),isDownstreamPromotion:e.is_downstream_promotion,isEligibleForPdp:e.is_eligible_for_pdp,isEligibleForWebCloseup:e.is_eligible_for_web_closeup,isOosProduct:e.is_oos_product,isPromoted:e.is_promoted,isStaleProduct:e.is_stale_product,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{fullName:e.link_domain.official_user.full_name,entityId:null!==(o=e.link_domain.official_user.id)&&void 0!==o?o:"",imageMediumUrl:e.link_domain.official_user.image_medium_url,imageSmallUrl:e.link_domain.official_user.image_small_url,username:e.link_domain.official_user.username,isPrimaryWebsiteVerified:e.link_domain.official_user.is_primary_website_verified}},link:e.link,nativeCreator:m(e.native_creator),pinnedToBoard:e.pinned_to_board&&{entityId:null!==(s=e.pinned_to_board.id)&&void 0!==s?s:""},pinJoin:e.pin_join&&{visualAnnotation:e.pin_join.visual_annotation},pinner:e.pinner&&{entityId:e.pinner.id,explicitlyFollowedByMe:e.pinner.explicitly_followed_by_me,fullName:e.pinner.full_name,imageMediumUrl:e.pinner.image_medium_url,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username},promoter:m(e.promoter),promotedIsRemovable:e.promoted_is_removable,reactionCountsData:h&&Object.keys(h).map((e=>({reactionType:Number(e),reactionCount:h[e]}))),richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title,recipe:e.rich_metadata.recipe&&{fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:e.rich_metadata.products&&e.rich_metadata.products.map((e=>{var n,i,a,l;return{name:e.name,offerSummary:{maxPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.max_price,minPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.min_price,price:null===(a=e.offer_summary)||void 0===a?void 0:a.price,standardPrice:null===(l=e.offer_summary)||void 0===l?void 0:l.standard_price}}}))},richSummary:e.rich_summary&&{aggregateRating:e.rich_summary.aggregate_rating&&{bestRating:e.rich_summary.aggregate_rating.best_rating,ratingValue:e.rich_summary.aggregate_rating.rating_value,reviewCount:e.rich_summary.aggregate_rating.review_count},displayName:e.rich_summary.display_name,displayCookTime:e.rich_summary.display_cook_time,siteName:e.rich_summary.site_name,typeName:e.rich_summary.type_name,products:e.rich_summary.products&&e.rich_summary.products.map((e=>{var n,i,a,l;return{name:e.name,offerSummary:{maxPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.max_price,minPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.min_price,price:null===(a=e.offer_summary)||void 0===a?void 0:a.price,standardPrice:null===(l=e.offer_summary)||void 0===l?void 0:l.standard_price}}}))},seoUrl:e.seo_url,shoppingFlags:e.shopping_flags,shouldOpenInStream:e.should_open_in_stream,sourceInterest:e.source_interest&&{entityId:null!==(d=e.source_interest.id)&&void 0!==d?d:"",name:e.source_interest.name,urlName:e.source_interest.url_name},sponsorship:e.sponsorship&&{creator:e.sponsorship.creator&&{entityId:null!==(c=e.sponsorship.creator.id)&&void 0!==c?c:"",fullName:e.sponsorship.creator.full_name,imageMediumUrl:e.sponsorship.creator.image_medium_url,imageSmallUrl:e.sponsorship.creator.image_small_url,username:e.sponsorship.creator.username},sponsor:e.sponsorship.sponsor&&{entityId:null!==(u=e.sponsorship.sponsor.id)&&void 0!==u?u:"",fullName:e.sponsorship.sponsor.full_name,imageMediumUrl:e.sponsorship.sponsor.image_medium_url,imageSmallUrl:e.sponsorship.sponsor.image_small_url,username:e.sponsorship.sponsor.username}},storyPinDataId:e.story_pin_data_id,storyPinData:e.story_pin_data&&{hasProductPins:e.story_pin_data.has_product_pins,isDeleted:e.story_pin_data.is_deleted,metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},title:e.title,trackedLink:e.tracked_link,trackingParams:e.tracking_params,videos:e.videos&&{entityId:null!==(p=e.videos.id)&&void 0!==p?p:"",videoList:e.videos.video_list&&{v720P:e.videos.video_list.V_720P&&{duration:e.videos.video_list.V_720P.duration,height:e.videos.video_list.V_720P.height,width:e.videos.video_list.V_720P.width,url:e.videos.video_list.V_720P.url}}},recommendationReason:e.recommendation_reason&&{reason:e.recommendation_reason.reason,board:e.recommendation_reason.board&&{name:e.recommendation_reason.board.name,url:e.recommendation_reason.board.url}}}}}});function Je({pinId:e,duploQueryRef:n,...i}){return(0,V.jsx)(Qe,{fragment:Ne,dataKey:null!=n?n:e,children:({data:e,fragmentRef:n})=>!!e&&(0,V.jsx)(Ye,{...i,debugInfo:e.debugInfo,pin:e.pin,duploQueryRef:n})})}},698303:(e,n,i)=>{i.d(n,{Z:()=>o});var a=i(883119),l=i(377234),t=i(536042),r=i(785893);function o({text:e,icon:n,largeIdentifier:i,largeMargin:o}){const s=(0,t.ZP)();return(0,r.jsxs)(a.xu,{zIndex:new a.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,l.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},display:"flex",margin:o?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:i?4:void 0,height:i?36:24,top:!0,children:[n&&(0,r.jsx)(a.xu,{marginEnd:i?2:1,children:(0,r.jsx)(a.JO,{accessibilityLabel:s.bt("显示 Pin 图类型的识别符", "identifier that shows the pin type", "pin.pincard.iconAccessibilityLabel", undefined, true),color:"default",icon:n,inline:!0,size:i?18:12})}),(0,r.jsx)(a.xv,{inline:!0,size:i?"200":"100",weight:"bold",children:e})]})}},729239:(e,n,i)=>{i.d(n,{Z:()=>h});var a=i(667294),l=i(883119),t=i(604541),r=i(24286),o=i(282442),s=i(946579),d=i(549201),c=i(272109),u=i(372836),p=i(367184),m=i(812889),g=i(785893);function h({customLayoutType:e,emptyState:n,feedItems:i,feedKey:h,gridConfig:_,pagination:{hasNext:y,isLoadingNext:v,loadNext:f,refetch:x},pullToRefresh:b,renderFeedItem:k,serverRender:S}){const P=(0,d.HG)(),[w,T]=(0,a.useState)(!1),I="userSearch"===e?window.innerWidth-16:200,j=v&&0===i.length&&!w,C="desktopFlashlight"===e?0:r.qG;return(0,c.Z)((()=>(window.addEventListener("online",f),()=>window.removeEventListener("online",f)))),(0,g.jsxs)(l.xu,{"data-test-id":"MobileFeed",children:[(0,g.jsx)(p.Z,{enabled:!!b,onPull:()=>{x(),T(!0)},refreshing:w}),(0,g.jsxs)(l.xu,{marginStart:C,marginEnd:C,"data-test-id":"grid",opacity:w?.5:1,children:[(0,g.jsx)(o.Z,{isAtEndOfFeed:!y,itemCount:i.length,children:i.length?(0,g.jsx)(l.xu,{"data-test-id":"feed",marginTop:(0,u.kk)({isDesktop:P}),children:(0,g.jsx)(s.Z.Consumer,{children:n=>(0,g.jsx)(a.Fragment,{children:(0,g.jsx)(u.c$,{children:(0,g.jsx)(t.Z,{cacheKey:h+(null!=_&&_.key?`|${_.key}`:""),id:S?h:void 0,items:i,scrollContainerRef:n,serverRender:S,columnWidth:P?r.yF:I,renderItem:({data:e,itemIdx:n})=>k(e,n),gutterWidth:P?4*r.jC:void 0,loadItems:f,minCols:"userSearch"===e?1:2,..._})})})})}):v?(0,g.jsx)(u.gG,{}):null!=n?n:null}),j&&(0,g.jsx)(l.xu,{column:12,paddingY:2,children:(0,g.jsx)(m.Z,{partialViewportWidth:"desktopFlashlight"===e})})]})]})}},510336:(e,n,i)=>{i.d(n,{Z:()=>c,j:()=>s});var a=i(883119),l=i(536042),t=i(630089),r=i(245410),o=i(785893);const s=[0,2,3],d="Ad • ";function c({hasAffiliatedProducts:e,isPromoted:n,sponsorName:i,sponsorshipStatus:c,textColor:u}){const p=(0,l.ZP)(),m=(0,r.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let g;n?g=(0,t.nk)(p.bt("推广者：{{ name }}", "Promoted by {{ name }}", "sponsorship.sponsorshipText.promotedByBrand", undefined, true),{name:i}):c||0===c?i&&!s.includes(c)?g=(0,t.nk)(p.bt("付费合作伙伴为 {{ name }}", "Paid partnership with {{ name }}", "closeup.creator.sponsoredPinTitle", undefined, true),{name:i}):2!==c&&(g=p.bt("付费合作伙伴", "Paid partnership", "closeup.creator.sponsoredPinTitle", undefined, true)):e&&(g=p.bt("包含推广产品", "Includes sponsored products", "sponsorship.sponsorshipText.affiliatedProducts", undefined, true));const h=m&&!n&&d||"";return(0,o.jsxs)(a.xv,{color:u,size:"100",children:[h,(0,o.jsx)(t.r7,{text:g})]})}},951381:(e,n,i)=>{i.d(n,{Z:()=>c});var a=i(667294),l=i(883119),t=i(943795),r=i(552369),o=i(785893);function s(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}class d extends a.PureComponent{constructor(...e){super(...e),s(this,"onScroll",(0,r.Z)((()=>{if(this.anchorElement){const i=this.anchorElement.offsetTop+this.anchorElement.offsetHeight;window.scrollY>i&&!this.hasExited?(this.hasExited=!0,this.props.onExit()):window.scrollY<=i&&this.hasExited&&(this.hasExited=!1,this.props.onEnter());const{isOnView:a}=this;var e,n;if(a())null===(e=(n=this.props).onView)||void 0===e||e.call(n)}}),this.props.throttleTime||100)),s(this,"wasViewed",(()=>{var e;const n=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!n&&n.top<=t.DEFAULT_HEIGHT})),s(this,"isOnView",(()=>{var e;const n=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!n&&(n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||window.height)-150&&n.right<=(window.innerWidth||window.width))})),s(this,"hasExited",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){const{children:e}=this.props;return(0,o.jsx)(l.xu,{ref:e=>{var n,i;(this.anchorElement=e,this.anchorElement&&this.wasViewed())&&(null===(n=(i=this.props).onView)||void 0===n||n.call(i))},children:e})}}const c=d},854285:(e,n,i)=>{i.d(n,{Z:()=>o});var a=i(883119),l=i(536042),t=i(785893);const r=8;function o(){const e=(0,l.ZP)();return(0,t.jsx)(a.xu,{justifyContent:"center",display:"flex",color:"default",marginTop:r,marginBottom:4,children:(0,t.jsx)(a.$j,{accessibilityLabel:e.bt("放大查看相关内容", "Closeup Related Contents", "accessible label for closeup related contents spinner", undefined, true),show:!0})})}},337116:(e,n,i)=>{i.d(n,{Z:()=>r});var a=i(883119),l=i(475699),t=i(785893);function r({titleFormat:e,titleArgsQuery:n}){return(0,t.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:12,children:[(0,t.jsx)(a.xu,{marginBottom:2,paddingX:4,children:(0,t.jsx)(a.xv,{align:"center",color:"default",overflow:"normal",weight:"bold",children:e})}),(0,t.jsx)(l.Z,{query:n,showHeaderText:!1})]})}},865019:(e,n,i)=>{i.d(n,{Z:()=>f});var a=i(667294),l=i(883119),t=i(603801),r=i(24286),o=i(552369),s=i(549201),d=i(558533),c=i(536042),u=i(455788),p=i(98736),m=i(618569),g=i(507905),h=i(785893);function _({icon:e}){const{hide:n}=(0,g.Z)(),i=(0,c.ZP)(),a=(0,m.Z)();return(0,h.jsx)(u.Z,{children:(0,h.jsx)(l.xu,{"data-test-id":"expandButton",children:(0,h.jsx)(l.hU,{icon:e||"maximize",size:e?"md":"lg",iconColor:"darkGray",bgColor:"white",padding:3,accessibilityLabel:i.bt("展开图片", "Expand Image", "mweb.closeup.image.expand.a11y", undefined, true),onClick:({event:e})=>{e.stopPropagation(),(0,p.My)("mweb_pin_page.pin_image.enlarge_image"),(0,p.NC)("click_expand_image"),a({action:"click",item:"expand-button",within:"pin-image"}),n()}})})})}const y=.3,v=.75,f=({children:e,closableDrawer:n})=>{var i;const{hide:c}=(0,g.Z)(),u=(0,a.useRef)(null),p=(0,a.useRef)(null),[m,f]=(0,a.useState)(null),[x,b]=(0,a.useState)(0),[k,S]=(0,a.useState)(!1),P=(null===(i=(0,t.Z)())||void 0===i?void 0:i.height)||0,[w,T]=(0,a.useState)(!1),I=(0,s.ZP)(),j=null!=m?m:.75*P,C=()=>{var e;const n=(null===(e=u.current)||void 0===e?void 0:e.offsetTop)||0;return n>0&&P>0?n-P*y+60:0};return(0,a.useEffect)((()=>{const e=()=>{var e;const n=(null===(e=u.current)||void 0===e?void 0:e.offsetTop)||0;window.scrollY+j>n&&c()};e();const n=(0,o.Z)(e,10);return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)}),[c,j]),(0,h.jsxs)(a.Fragment,{children:[(0,h.jsxs)(l.xu,{position:"fixed",bottom:!0,left:!0,right:!0,color:"default",zIndex:d.Z,height:null===m?"25vh":`calc(100vh - ${m}px)`,dangerouslySetInlineStyle:{__style:{...k?{transitionDuration:"500ms",transitionProperty:"maxHeight, borderRadius"}:{},borderRadius:0===m&&k?0:"32px 32px 0 0",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.3)",overscrollBehavior:"none",touchAction:"none"}},"data-test-id":"related-pins-drawer","data-layout-shift-boundary-id":"Drawer",ref:p,onTouchStart:e=>{const{clientY:n}=e.touches[0];b(n),S(!1)},onTouchMove:e=>{e.preventDefault();const{clientY:n}=e.touches[0],i=null!=m?m:.75*window.innerHeight,a=n-x;if(null!==i&&a){const e=P*y,n=P*v,t=Math.floor(Math.min(n,Math.max(e,i+a)));f(t);const r=C();if(P>0&&r>0){const e=r*(l=t/P,1-(Math.max(y,Math.min(v,l))-y)/.45);window.pageYOffset<e&&window.scrollTo({top:e})}t<.525*P&&T(!0)}var l;b(n)},onTouchEnd:()=>{if(w){S(!0);f(P*y);const e=C();e&&window.scrollTo({top:e,behavior:"smooth"}),T(!1)}},children:["desktop"!==I&&(n?(0,h.jsx)(l.xu,{position:"absolute",top:!0,left:!0,margin:1,marginTop:n?0:4,paddingY:1,children:(0,h.jsx)(_,{icon:"cancel"})}):(0,h.jsx)(l.xu,{position:"absolute",top:!0,right:!0,children:(0,h.jsx)(l.xu,{position:"absolute",bottom:!0,right:!0,children:(0,h.jsx)(l.xu,{padding:3,children:(0,h.jsx)(_,{})})})})),(0,h.jsx)(l.xu,{paddingX:r.D6,children:e})]}),(0,h.jsx)(l.xu,{ref:u,height:"100vh"})]})}},662487:(e,n,i)=>{function a(e){const n=null==e?void 0:e.state;if(!n)return{trafficSource:"unknown",topLevelTrafficSource:"unknown",topLevelTrafficSourceDepth:1};const i=n.trafficSource||"unknown";return{trafficSource:i,topLevelTrafficSource:n.topLevelTrafficSource||("pin"===i?"unknown":i),topLevelTrafficSourceDepth:(n.topLevelTrafficSourceDepth||0)+1}}i.d(n,{Z:()=>a})},372836:(e,n,i)=>{i.d(n,{G9:()=>u,c$:()=>m,cn:()=>g,gG:()=>p,kk:()=>c});var a=i(883119),l=i(549201),t=i(802071),r=i(460914),o=i(411224),s=i(392553),d=i(785893);const c=({isDesktop:e})=>{const n=(0,s.pinRepPaddingInBoint)({isDesktop:e});return n?-n:0},u=-2,p=()=>{const e=(0,l.HG)(),n=(0,s.pinRepPaddingInBoint)({isDesktop:e}),i=n?-n:0;return(0,d.jsx)(a.xu,{marginTop:i,marginBottom:i,paddingY:n})},m=({children:e})=>{const n=(0,l.HG)();return!(0,t.Z)().isAuth&&n?(0,d.jsx)(o.x,{children:e}):e},g=({children:e})=>(0,d.jsx)(r.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const n=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,n)}},pressState:"none",children:e})},475699:(e,n,i)=>{i.d(n,{Z:()=>c});var a=i(883119),l=i(563962),t=i(536042),r=i(785893);function o({skinToneOvalHeight:e,skinToneOvalWidth:n,swatchColors:i}){return(0,r.jsx)(a.xu,{alignItems:"center","data-test-id":"skinToneFilterSwatch",display:"flex",overflow:"hidden",rounding:"pill",width:n,wrap:!0,children:i.map(((i,l)=>(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:i}},height:e/2,width:n/2},`${i}-${l}`)))})}const s=4;const d={filter_name:"Skin tone range",filter_term:"skin_face_color_l",multi_select:!1,options:[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}],vertical:"skin_tone"};function c({onClickApplyFilter:e,query:n,selectedSkinToneTerm:i,showHeaderText:c=!0,skinToneFilters:u=d}){const p=(0,t.ZP)(),m=(0,l.Z)(),g=u.options,h=`/search/pins/?rs=rs&q=${n}`,_=i?p.bt("此肤色范围内的一些点子", "Some ideas in this skin tone range", "SkinToneFilters.copy.termSelected", undefined, true):p.bt("选择肤色范围", "Pick a skin tone range", "SkinToneFilters.copy.noTermSelected", undefined, true),{filtersContainerHeight:y,filtersContainerWidth:v,skinToneOvalHeight:f,skinToneOvalWidth:x}=function(){const e=44+2*s,n=2*(44+s),i="undefined"!=typeof window?Math.min((window.innerWidth-40)/4-s,n):0;return{filtersContainerHeight:e,filtersContainerWidth:i,skinToneOvalHeight:44,skinToneOvalWidth:i-2*s}}();return(0,r.jsxs)(a.kC,{alignItems:"center",direction:"column",height:c?88:52,children:[c&&(0,r.jsx)(a.xu,{marginBottom:2,children:(0,r.jsx)(a.xv,{color:"default",overflow:"normal",weight:"bold",children:_})}),(0,r.jsx)(a.kC,{alignItems:"stretch",flex:"none",justifyContent:"around",children:g.map((({swatch_hex_colors:l,term:t},d)=>(0,r.jsx)(a.iP,{role:"link",onTap:()=>{!function(e,n){const{index:i,query:a,onClickApplyFilter:l}=e;n({aux_data:{entered_query:a,filter_type:"skin_tone",filter_value:i},element:1341,event_type:102,view_parameter:43,view_type:2}),null==l||l()}({index:d,query:n,onClickApplyFilter:e},m)},tapStyle:"none",href:`${h}${i!==t?`&filters=${encodeURIComponent(t)}`:""}`,children:(0,r.jsx)(a.xu,{alignItems:"center","data-test-id":"skin-tone-option",color:i===t?"selected":"default",display:"flex",height:y,justifyContent:"around",rounding:"pill",width:v,children:(0,r.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:y-s,justifyContent:"around",rounding:"pill",width:v-s,children:(0,r.jsx)(o,{skinToneOvalHeight:f,skinToneOvalWidth:x,swatchColors:l})})})},t)))})]})}},169492:(e,n,i)=>{i.d(n,{$:()=>s,Z:()=>d});var a=i(667294),l=i(611756);const t=e=>{if(!e)return null;try{return JSON.parse(e)}catch(n){return null}},r=new Set;function o(e){const n=(0,a.useCallback)((n=>{const i=i=>{i===e&&n()};return r.add(i),()=>{r.delete(i)}}),[e]),i=(0,a.useSyncExternalStore)(n,(()=>(0,l.qn)(e)),(()=>null)),o=(0,a.useCallback)((n=>{null===n?(0,l.L_)(e):(0,l.Nh)(e,JSON.stringify(n)),function(e){r.forEach((n=>n(e)))}(e)}),[e]);return(0,a.useMemo)((()=>[t(i),o]),[i,o])}const s=2,d=()=>{const[e,n]=o("unauthSavedPins"),i=null!==(l=null==(a=e)?void 0:a.pins)&&void 0!==l?l:[];var a,l;const t=e=>n((e=>e.length?{pins:e}:null)(e)),r=()=>i.length<s;return{pins:i,save:e=>{r()&&t(i.filter((({id:n})=>n!==e.id)).concat([e]))},unsave:e=>t(i.filter((({id:n})=>n!==e))),isSaved:e=>i.some((({id:n})=>n===e)),clear:()=>t([]),canSaveMore:r}}},812889:(e,n,i)=>{i.d(n,{Z:()=>g});var a=i(667294),l=i(883119),t=i(24286),r=i(874261),o=i(549201),s=i(756876),d=i(785893);const c="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",p=({size:e})=>(0,d.jsx)(l.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?c:u})}),m=({children:e})=>(0,d.jsx)(l.kC,{direction:"column",gap:{row:0,column:2},children:e}),g=({partialViewportWidth:e})=>{const n="desktop"===(0,o.ZP)(),i=n?t.yF:t.tG;return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(r.Z,{unsafeCSS:[{name:c,height:250},{name:u,height:150}].map((({name:e,height:n})=>(0,s.Z)({name:e,width:i,height:n}))).join("")}),(0,d.jsx)(l.xu,{marginStart:t.qG,marginEnd:t.qG,children:n?(0,d.jsxs)(l.kC,{direction:"row",gap:{row:t.jC,column:0},children:[(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"tall"})}),(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"short"})}),(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"tall"})}),!e&&(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"short"})})]}):(0,d.jsxs)(l.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,d.jsxs)(m,{children:[(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]}),(0,d.jsxs)(m,{children:[(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]})]})})]})}},922204:(e,n,i)=>{i.d(n,{Z:()=>o});var a=i(702664),l=i(63262),t=i(383755),r=i(260070);function o(){const e=(0,a.useDispatch)(),{showToast:n,showOneToast:i}=(0,l.F9)();return{showToast:n,showOneToast:i,showRepinConfirmation:(i,a)=>{a||e((0,r.WF)()),setTimeout((()=>{a||e((0,r.a5)()),n(i)}),t.Tt)}}}},86829:(e,n,i)=>{i.d(n,{a:()=>a,k:()=>l});const a=e=>({type:"ONE_TAP_SAVE",payload:e}),l=e=>({type:"ONE_TAP_UNSAVE",payload:e})},77875:(e,n,i)=>{i.d(n,{w:()=>r});var a=i(541268),l=i(526007),t=i(648609);const r=({pinId:e,boardId:n,i18n:i,isQuickSave:r,logContextEvent:o,onSuccess:s,onUndo:d,originalPinId:c,showNewUserSavetoProfileAnimation:u,showRepinConfirmation:p,showToast:m,section:g,trackingParams:h,isOneTapSave:_,viewType:y,historyPush:v,suggestedBoardIds:f,savePinId:x})=>(b,k)=>{var S,P,w,T,I,j;const{pins:C,session:F,feeds:A}=k(),L=C[e];n&&((null===(S=null!==(P=null==L?void 0:L.shopping_flags)&&void 0!==P?P:[])||void 0===S?void 0:S.length)>0||null!=L&&L.rich_summary&&(null===(w=null!==(T=null==L||null===(I=L.rich_summary)||void 0===I?void 0:I.products)&&void 0!==T?T:[])||void 0===w?void 0:w.length)>0)&&(A[`board-shop-saved-preview:${n}`]&&b((0,a.Qv)(`board-shop-saved-preview:${n}`,[L],{isPrepend:!0})),A[`board-shop-saved:${n}`]&&b((0,a.Qv)(`board-shop-saved:${n}`,[L],{isPrepend:!0})));return new l.Z({boardId:n,dispatch:b,i18n:i,isLegoSaveStyle:!0,isOneTapSave:_,isQuickSave:r,onSuccess:s,onUndo:d,originalPinId:c,pinId:L.id,section:g,showNewUserSavetoProfileAnimation:u,showRepinToasts:e=>p?p(e):m?m(e):void 0,trackingParams:h,userId:F.userId,viewType:y,historyPush:v,suggestedBoardIds:f,savePinId:x,pinData:{trackingParams:L.tracking_params,viewParameter:(0,t.A)(L),pinnedToBoardId:null===(j=L.pinned_to_board)||void 0===j?void 0:j.id}}).processRepin(o)}},668567:(e,n,i)=>{i.d(n,{Z:()=>l});var a=i(702664);function l({children:e,storyId:n}){const i=(0,a.useSelector)((({stories:e})=>e[n]));return i&&e(i)}},562512:(e,n,i)=>{i.d(n,{UG:()=>m,ZP:()=>h,aG:()=>g});var a=i(667294),l=i(883119),t=i(621699),r=i(536042),o=i(637362),s=i(618569),d=i(843843),c=i(785893);const u=12,p=24,m={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest"},g={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}};function h({backgroundColor:e,bubbleId:n,bubbleUrl:i,coverImageUrl:h,curator:_,font:y,format:v,height:f,identifierIconType:x,onTap:b,pwtSurfaceContext:k,referringSource:S,subtitle:P,title:w,buttonFormat:T,contentAlign:I="center",textAlign:j="center",width:C="100%"}){const F=(0,r.ZP)(),A=(0,s.Z)(),[L,D]=(0,a.useState)("string"==typeof f?void 0:f),K=e=>{if(e){const n=e.offsetWidth,i="string"==typeof f?Number.parseFloat(f):100;D(n*i/100)}};if(!L)return(0,c.jsx)(l.xu,{ref:K,dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof f?Number.parseFloat(f)+"%":"100%",width:C}}});const z=v===m.article,R=v===m.interest,Z=y||L>250&&"lg"||L>140&&v&&[m.medium,m.small,m.article].includes(v)&&"md"||L<120&&v&&v===m.small&&"xs"||"sm";return(0,c.jsx)(l.xu,{position:"relative","data-test-id":"search-suggestion","data-test-type":S,children:(0,c.jsx)(d.MZ,{to:i,isAppUpsellDisabled:!0,onTouch:()=>{b&&(A({action:"click",item:"search-suggestion"}),b(n))},rounding:4,children:(0,c.jsxs)(l.zd,{rounding:4,children:[(0,c.jsx)(l.xu,{width:C,height:L,children:h&&(0,c.jsx)(l.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{k&&k.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:h})}),(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:g.bubbleOverlay,height:L,width:C,position:"absolute",top:!0,left:!0}),_&&!z&&(0,c.jsx)(l.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,c.jsx)(t.Z,{outline:!0,size:"xs",src:_.image_small_url,name:_.full_name})}),!!x&&x!==o.J&&(0,c.jsx)(l.xu,{alignItems:"center",color:"default",display:"flex",height:p,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:p,children:(0,c.jsx)(l.JO,{icon:(0,o.Z)(x),accessibilityLabel:F.bt("购物图标", "Shopping icon", "bubble.shoppingIcon.label", undefined, true),color:"default",size:u})}),(0,c.jsx)(l.xu,{display:"flex",position:"absolute",top:!0,width:C,height:L,padding:z||R?6:L>100?3:1,alignItems:z||R?"end":"center",justifyContent:I,children:(0,c.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[P&&(0,c.jsx)(l.xv,{align:j,color:"light",size:"lg"===Z?"300":"100",overflow:"normal",children:P}),["lg","md"].includes(Z)?(0,c.jsx)(l.X6,{align:j,size:"md"===Z&&R?"500":"lg"===Z?"600":"400",color:"light",overflow:"normal",children:w}):(0,c.jsx)(l.xv,{align:j,color:"light",size:"sm"===Z?"300":"100",overflow:"normal",weight:"bold",children:w}),_&&z&&(0,c.jsxs)(l.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,c.jsx)(l.xu,{marginEnd:2,children:(0,c.jsx)(t.Z,{outline:!0,size:"xs",src:_.image_small_url,name:_.full_name})}),(0,c.jsx)(l.xv,{size:"100",color:"light",weight:"bold",children:_.full_name})]}),T&&(0,c.jsx)(l.xu,{marginTop:4,children:(0,c.jsx)(l.zx,{role:"link",text:T.text,href:T.href,size:T.size,accessibilityLabel:T.accessibilityLabel})})]})})]})})})}},532243:(e,n,i)=>{i.d(n,{Z:()=>y});var a,l=i(667294),t=i(702664),r=(i(167912),i(883119)),o=i(563962),s=i(802760),d=i(637362),c=i(28630),u=i(328939),p=i(697),m=i(785893);const g=void 0!==a?a:a=i(456778);function h({auxData:e,pattern:n,slotIndex:i,storyId:a,viewType:t,viewParameter:s,storyData:{storyType:g,referringSource:h,hasTitle:_,titleFormat:y,identifierIconName:v,actionUrl:f,actionText:x,bubblesData:b},storyGraphqlRef:k}){const S=(0,o.Z)(),P={story_type:g,story_id:a,content_ids:b.map((({type:e,id:n})=>e+":"+n)).join("|"),...e};return(0,m.jsx)(u.Hs,{loggingId:a,objectIdStr:a,viewParameter:s,viewType:t,slotIndex:i,component:200,auxData:P,children:(0,m.jsxs)(l.Fragment,{children:[_&&(0,m.jsxs)(r.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof v&&v!==d.J&&(0,m.jsx)(r.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,m.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:(0,d.Z)(v),size:14})}),(0,m.jsx)(r.xv,{weight:"bold",children:y})]}),(0,m.jsx)(p.Z,{pattern:n,referringSource:h,storyId:a,viewParameter:s,viewType:t,storyGraphqlRef:k}),f&&x&&(0,m.jsx)(r.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,m.jsx)(r.zx,{role:"link",accessibilityLabel:x,color:"gray",onClick:()=>{S({view_type:t,view_parameter:s,aux_data:P,event_type:102})},text:x,href:f,rel:(0,c.Z)(f)?"nofollow":void 0,target:(0,c.Z)(f)?"blank":void 0,size:"md"})})]})})}const _=(0,s.JU)({useGraphQLAdapter:e=>{const{storyType:n,storyTitle:i,referringSource:a,displayOptions:l,action:t,objects:r}=e,o=null==l?void 0:l.identifierIconName;return{storyType:n,referringSource:a,hasTitle:!!i,titleFormat:null==i?void 0:i.format,identifierIconName:o,actionUrl:null==t?void 0:t.url,actionText:(null==t?void 0:t.text)||void 0,bubblesData:(null==r?void 0:r.filter((e=>"ExploreArticle"===e.__typename)).map((e=>({id:e.entityId||"",type:e.type||""}))).filter(Boolean))||[]}},useLegacyAdapter:e=>{var n,i,a,l;const r=((null==e?void 0:e.objects)||[]).map((e=>e.id))||[],o=(0,t.useSelector)((({articles:e})=>r.map((n=>{const i=e[n];return{type:i.type,id:i.id}}))));return e?{storyType:e.story_type,referringSource:e.referring_source,hasTitle:!!e.title,titleFormat:null===(n=e.title)||void 0===n?void 0:n.format,identifierIconName:null===(i=e.display_options)||void 0===i?void 0:i.identifier_icon_name,actionUrl:null===(a=e.action)||void 0===a?void 0:a.url,actionText:null===(l=e.action)||void 0===l?void 0:l.text,bubblesData:o}:null}});function y({storyGraphqlRef:e,storyId:n,...i}){return(0,m.jsx)(_,{fragment:g,dataKey:null!=e?e:n,children:({data:e,fragmentRef:a})=>e&&(0,m.jsx)(h,{...i,storyId:n,storyData:e,storyGraphqlRef:a})})}},697:(e,n,i)=>{i.d(n,{Z:()=>m});var a,l=i(702664),t=(i(167912),i(883119)),r=i(802760),o=i(562512),s=i(226752),d=i(785893);const c=void 0!==a?a:a=i(103018);function u({storyData:{storyType:e,bubblesData:n},onTouch:i,pattern:a=[o.UG.medium],pwtSurfaceContext:l,referringSource:r,storyId:c,viewParameter:u,viewType:p}){const m=n.map((({type:e,id:n})=>e+":"+n)).join("|");return(0,d.jsx)(t.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:n.map(((n,g)=>{var h;const _=a[g%a.length];return(0,d.jsx)(t.xu,{paddingY:1,width:[o.UG.small,o.UG.extra_small].includes(_)?"calc(50% - 4px)":"100%","data-test-id":`bubble-${g}`,children:(0,d.jsx)(s.ZP,{auxData:{content_ids:m,story_type:e,grid_index:g},bubbleId:n.id,format:_,height:([o.UG.medium,o.UG.extra_small].includes(_)?"50%":_===o.UG.article&&"73%")||"100%",onTouch:i,pwtSurfaceContext:l,referringSource:r,slotIndex:g,storyId:c,viewParameter:u,viewType:p,bubbleGraphqlRef:"ExploreArticle"===(null===(h=n.bubbleGraphqlRef)||void 0===h?void 0:h.__typename)?n.bubbleGraphqlRef:null})},`bubble-${g}`)}))})}const p=(0,r.JU)({useGraphQLAdapter:e=>{var n;return{storyType:e.storyType,bubblesData:(null===(n=e.objects)||void 0===n?void 0:n.filter((e=>"ExploreArticle"===e.__typename)).map((e=>({id:e.entityId||"",type:e.type||"",bubbleGraphqlRef:e}))).filter(Boolean))||[]}},useLegacyAdapter:e=>{const n=((null==e?void 0:e.objects)||[]).map((e=>e.id))||[],i=(0,l.useSelector)((({articles:e})=>n.map((n=>{const i=e[n];return{id:i.id,type:i.type}}))));return e?{storyType:e.type,bubblesData:i}:null}});function m({storyGraphqlRef:e,storyId:n,...i}){return(0,d.jsx)(p,{fragment:c,dataKey:null!=e?e:n,children:({data:e})=>e&&(0,d.jsx)(u,{...i,storyId:n,storyData:e})})}},226752:(e,n,i)=>{i.d(n,{Bp:()=>_,VM:()=>h,ZP:()=>v});i(167912);var a,l=i(468e3),t=i(563962),r=i(802760),o=i(245410),s=i(739425),d=i(802071),c=i(328939),u=i(562512),p=i(785893);const m=void 0!==a?a:a=i(67153),g=({storyCategory:e,query:n,referringSource:i,bubbleId:a,storyId:t,title:r})=>{const o=null!=e&&(0,l.y)(e),d=(0,s.XP)({q:n,rs:i||void 0,b_id:a,source_id:t}),c=o&&r?(0,l.x)({title:r,id:a,articleType:"discover"}):`/discover/article/${a}/`;return o?c:"/search/pins/"+(d?"?"+d:"")},h=e=>{var n,i,a,l,t,r,o,s,d;return{actionUrl:null===(n=e.action)||void 0===n?void 0:n.url,coverImage236xUrl:null===(i=e.cover_images[0]["236x"])||void 0===i?void 0:i.url,coverImage474xUrl:null===(a=e.cover_images[0]["474x"])||void 0===a?void 0:a.url,coverImage136x136Url:null===(l=e.cover_images[0]["136x136"])||void 0===l?void 0:l.url,coverImage170xUrl:null===(t=e.cover_images[0]["173x"])||void 0===t?void 0:t.url,coverImage222xUrl:null===(r=e.cover_images[0]["222x"])||void 0===r?void 0:r.url,coverImage90x90Url:null===(o=e.cover_images[0]["90x90"])||void 0===o?void 0:o.url,curatorFullName:null===(s=e.curator)||void 0===s?void 0:s.full_name,curatorImageSmallUrl:null===(d=e.curator)||void 0===d?void 0:d.image_small_url,dominantColors:e.dominant_colors,id:e.id,identifierIconType:e.identifier_icon_type,storyCategory:e.story_category,titleFormat:e.title.format}};function _({auxData:e,bubbleData:{actionUrl:n,coverImage236xUrl:i,coverImage474xUrl:a,coverImage136x136Url:l,coverImage170xUrl:r,coverImage222xUrl:s,coverImage90x90Url:m,curatorFullName:h,curatorImageSmallUrl:_,dominantColors:y,id:v,identifierIconType:f,storyCategory:x,titleFormat:b},font:k,format:S,height:P,onTouch:w,pwtSurfaceContext:T,referringSource:I,slotIndex:j,storyId:C,viewParameter:F,viewType:A,width:L="100%"}){const D=(0,t.Z)(),K=(0,d.Z)(),{checkExperiment:z}=(0,o.F)();if(!((i||a||l||r||s||m)&&b))return null;const R=h&&_?{full_name:h,image_small_url:_}:void 0,{isAuth:Z}=K,E={"236x":i,"474x":a,"136x136":l,"170x":r,"222x":s,"90x90":m};let U="",B="";if(Z&&5===A){U=z("blp_explore_bubble_image_size").group;const e=U.split("_");e.length>1&&(B=e[1])}const M=U.startsWith("enabled")&&B?E[B]:E["474x"]||E["236x"],N=n||g({storyCategory:x,query:b,referringSource:I,bubbleId:v,storyId:C,title:b}),O=S===u.UG.article?13865:200,q=S===u.UG.article?102:6940,G=y&&y.length?y[0]:void 0;return(0,p.jsx)(c.fv,{auxData:{story_id:C,...e},impressionData:{storyCategory:x,storyIdStr:C},impressionType:"articleImpressions",loggingId:C,slotIndex:j,viewParameter:F,viewType:A,children:(0,p.jsx)(u.ZP,{backgroundColor:G,bubbleId:v,bubbleUrl:N,coverImageUrl:M,curator:R,font:k,format:S,height:P,identifierIconType:f,onTap:n=>{D({component:O,event_type:q,object_id_str:n,view_parameter:F,view_type:A,aux_data:{article_id:n,grid_index:j,...e}}),w&&w({query:b})},pwtSurfaceContext:T,referringSource:I,title:b,width:L})})}const y=(0,r.qb)({useGraphQLAdapter:e=>{var n,i,a,l,t,r,o,s,d,c;return{actionUrl:null===(n=e.action)||void 0===n?void 0:n.url,coverImage236xUrl:null===(i=e.coverImage236x)||void 0===i?void 0:i[0].url,coverImage474xUrl:null===(a=e.coverImage474x)||void 0===a?void 0:a[0].url,coverImage136x136Url:null===(l=e.coverImage136x136)||void 0===l?void 0:l[0].url,coverImage170xUrl:null===(t=e.coverImage170x)||void 0===t?void 0:t[0].url,coverImage222xUrl:null===(r=e.coverImage222x)||void 0===r?void 0:r[0].url,coverImage90x90Url:null===(o=e.coverImage90x90)||void 0===o?void 0:o[0].url,curatorFullName:null===(s=e.curator)||void 0===s?void 0:s.fullName,curatorImageSmallUrl:null===(d=e.curator)||void 0===d?void 0:d.imageSmallUrl,dominantColors:e.dominantColors,id:e.entityId||"",identifierIconType:e.identifierIconType,storyCategory:e.storyCategory,titleFormat:null===(c=e.articleTitle)||void 0===c?void 0:c.format}},useLegacyAdapter:e=>e&&h(e)});function v({bubbleGraphqlRef:e,bubbleId:n,...i}){return(0,p.jsx)(y,{fragment:m,dataKey:null!=e?e:n,children:({data:e})=>e&&(0,p.jsx)(_,{...i,bubbleData:e})})}},825199:(e,n,i)=>{i.d(n,{q:()=>l,z:()=>a});const a=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_story_separator"],l="checklist_education_feed_card"},819365:(e,n,i)=>{i.d(n,{Z:()=>l});var a=i(951503);const l=({containerTypeIsItemGrid:e,storyType:n})=>"BUBBLE_ONE_COL"===n||e&&!(0,a.Z)({storyType:n})},951503:(e,n,i)=>{i.d(n,{Z:()=>l});var a=i(825199);const l=({storyType:e})=>a.z.includes(e)},333741:(e,n,i)=>{i.d(n,{Z:()=>o});var a=i(667294),l=i(883119),t=i(793085),r=i(785893);const o=function({badgeSize:e,badgeSpacing:n,fullName:i,verifiedType:o,truncate:s=!1}){const d=i.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return s?(0,r.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(l.xv,{lineClamp:1,weight:"bold",children:i}),(0,r.jsx)(l.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:n}},paddingX:1,children:(0,r.jsx)(t.Z,{isVerifiedMerchant:"verifiedMerchant"===o,size:e,showVerifiedIdentity:"verifiedIdentity"===o})})]}):(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)("span",{children:c}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u," ",(0,r.jsx)(l.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:n}},children:(0,r.jsx)(t.Z,{isVerifiedMerchant:"verifiedMerchant"===o,size:e,showVerifiedIdentity:"verifiedIdentity"===o})})]})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/4567.zh_CN-345726520ff42843.mjs.map