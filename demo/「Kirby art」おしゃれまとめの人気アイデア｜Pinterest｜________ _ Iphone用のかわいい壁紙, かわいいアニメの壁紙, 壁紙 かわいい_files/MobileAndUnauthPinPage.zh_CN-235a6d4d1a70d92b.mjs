(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[18192,51879,43795,51798,16117,3875,24661,90984,57565,75721,39395,46153,71438,42298,14324,11767,68231,77263,97431,76030,73383,26670,7709,79506,20673,70640,61327,24321,62682,68323,4506,86224,82520,19828],{376030:(e,t,n)=>{n.d(t,{Z:()=>le});var i={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},a={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},o=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],r={CSS:{},springs:{}};function l(e,t,n){return Math.min(Math.max(e,t),n)}function s(e,t){return e.indexOf(t)>-1}function d(e,t){return e.apply(null,t)}var c={arr:function(e){return Array.isArray(e)},obj:function(e){return s(Object.prototype.toString.call(e),"Object")},pth:function(e){return c.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||c.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return c.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return c.hex(e)||c.rgb(e)||c.hsl(e)},key:function(e){return!i.hasOwnProperty(e)&&!a.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function u(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function p(e,t){var n=u(e),i=l(c.und(n[0])?1:n[0],.1,100),a=l(c.und(n[1])?100:n[1],.1,100),o=l(c.und(n[2])?10:n[2],.1,100),s=l(c.und(n[3])?0:n[3],.1,100),d=Math.sqrt(a/i),p=o/(2*Math.sqrt(a*i)),h=p<1?d*Math.sqrt(1-p*p):0,m=1,g=p<1?(p*d-s)/h:-s+d;function _(e){var n=t?t*e/1e3:e;return n=p<1?Math.exp(-n*p*d)*(m*Math.cos(h*n)+g*Math.sin(h*n)):(m+g*n)*Math.exp(-n*d),0===e||1===e?e:1-n}return t?_:function(){var t=r.springs[e];if(t)return t;for(var n=1/6,i=0,a=0;;)if(1===_(i+=n)){if(++a>=16)break}else a=0;var o=i*n*1e3;return r.springs[e]=o,o}}function h(e){return void 0===e&&(e=10),function(t){return Math.ceil(l(t,1e-6,1)*e)*(1/e)}}var m,g,_=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function n(e,t){return 3*t-6*e}function i(e){return 3*e}function a(e,a,o){return((t(a,o)*e+n(a,o))*e+i(a))*e}function o(e,a,o){return 3*t(a,o)*e*e+2*n(a,o)*e+i(a)}return function(t,n,i,r){if(0<=t&&t<=1&&0<=i&&i<=1){var l=new Float32Array(11);if(t!==n||i!==r)for(var s=0;s<11;++s)l[s]=a(s*e,t,i);return function(e){return t===n&&i===r||0===e||1===e?e:a(d(e),n,r)}}function d(n){for(var r=0,s=1;10!==s&&l[s]<=n;++s)r+=e;--s;var d=r+(n-l[s])/(l[s+1]-l[s])*e,c=o(d,t,i);return c>=.001?function(e,t,n,i){for(var r=0;r<4;++r){var l=o(t,n,i);if(0===l)return t;t-=(a(t,n,i)-e)/l}return t}(n,d,t,i):0===c?d:function(e,t,n,i,o){var r,l,s=0;do{(r=a(l=t+(n-t)/2,i,o)-e)>0?n=l:t=l}while(Math.abs(r)>1e-7&&++s<10);return l}(n,r,r+e,t,i)}}}(),v=(m={linear:function(){return function(e){return e}}},g={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=l(e,1,10),i=l(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-i/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/i)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){g[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(g).forEach((function(e){var t=g[e];m["easeIn"+e]=t,m["easeOut"+e]=function(e,n){return function(i){return 1-t(e,n)(1-i)}},m["easeInOut"+e]=function(e,n){return function(i){return i<.5?t(e,n)(2*i)/2:1-t(e,n)(-2*i+2)/2}},m["easeOutIn"+e]=function(e,n){return function(i){return i<.5?(1-t(e,n)(1-2*i))/2:(t(e,n)(2*i-1)+1)/2}}})),m);function y(e,t){if(c.fnc(e))return e;var n=e.split("(")[0],i=v[n],a=u(e);switch(n){case"spring":return p(e,t);case"cubicBezier":return d(_,a);case"steps":return d(h,a);default:return d(i,a)}}function f(e){try{return document.querySelectorAll(e)}catch(t){return}}function b(e,t){for(var n=e.length,i=arguments.length>=2?arguments[1]:void 0,a=[],o=0;o<n;o++)if(o in e){var r=e[o];t.call(i,r,o,e)&&a.push(r)}return a}function x(e){return e.reduce((function(e,t){return e.concat(c.arr(t)?x(t):t)}),[])}function k(e){return c.arr(e)?e:(c.str(e)&&(e=f(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function w(e,t){return e.some((function(e){return e===t}))}function S(e){var t={};for(var n in e)t[n]=e[n];return t}function P(e,t){var n=S(e);for(var i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function T(e,t){var n=S(e);for(var i in t)n[i]=c.und(e[i])?t[i]:e[i];return n}function I(e){return c.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:c.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):c.hsl(e)?function(e){var t,n,i,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),o=parseInt(a[1],10)/360,r=parseInt(a[2],10)/100,l=parseInt(a[3],10)/100,s=a[4]||1;function d(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==r)t=n=i=l;else{var c=l<.5?l*(1+r):l+r-l*r,u=2*l-c;t=d(u,c,o+1/3),n=d(u,c,o),i=d(u,c,o-1/3)}return"rgba("+255*t+","+255*n+","+255*i+","+s+")"}(e):void 0;var t,n}function C(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function A(e,t){return c.fnc(e)?e(t.target,t.id,t.total):e}function E(e,t){return e.getAttribute(t)}function j(e,t,n){if(w([n,"deg","rad","turn"],C(t)))return t;var i=r.CSS[t+n];if(!c.und(i))return i;var a=document.createElement(e.tagName),o=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;o.appendChild(a),a.style.position="absolute",a.style.width=100+n;var l=100/a.offsetWidth;o.removeChild(a);var s=l*parseFloat(t);return r.CSS[t+n]=s,s}function R(e,t,n){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return n?j(e,a,n):a}}function D(e,t){return c.dom(e)&&!c.inp(e)&&(!c.nil(E(e,t))||c.svg(e)&&e[t])?"attribute":c.dom(e)&&w(o,t)?"transform":c.dom(e)&&"transform"!==t&&R(e,t)?"css":null!=e[t]?"object":void 0}function L(e){if(c.dom(e)){for(var t,n=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,a=new Map;t=i.exec(n);)a.set(t[1],t[2]);return a}}function F(e,t,n,i){var a=s(t,"scale")?1:0+function(e){return s(e,"translate")||"perspective"===e?"px":s(e,"rotate")||s(e,"skew")?"deg":void 0}(t),o=L(e).get(t)||a;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),i?j(e,o,i):o}function M(e,t,n,i){switch(D(e,t)){case"transform":return F(e,t,i,n);case"css":return R(e,t,n);case"attribute":return E(e,t);default:return e[t]||0}}function O(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=C(e)||0,a=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return a+o+i;case"-":return a-o+i;case"*":return a*o+i}}function z(e,t){if(c.col(e))return I(e);if(/\s/g.test(e))return e;var n=C(e),i=n?e.substr(0,e.length-n.length):e;return t?i+t:i}function Z(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function N(e){for(var t,n=e.points,i=0,a=0;a<n.numberOfItems;a++){var o=n.getItem(a);a>0&&(i+=Z(t,o)),t=o}return i}function U(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*E(e,"r")}(e);case"rect":return function(e){return 2*E(e,"width")+2*E(e,"height")}(e);case"line":return function(e){return Z({x:E(e,"x1"),y:E(e,"y1")},{x:E(e,"x2"),y:E(e,"y2")})}(e);case"polyline":return N(e);case"polygon":return function(e){var t=e.points;return N(e)+Z(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function B(e,t){var n=t||{},i=n.el||function(e){for(var t=e.parentNode;c.svg(t)&&c.svg(t.parentNode);)t=t.parentNode;return t}(e),a=i.getBoundingClientRect(),o=E(i,"viewBox"),r=a.width,l=a.height,s=n.viewBox||(o?o.split(" "):[0,0,r,l]);return{el:i,viewBox:s,x:s[0]/1,y:s[1]/1,w:r,h:l,vW:s[2],vH:s[3]}}function K(e,t,n){function i(n){void 0===n&&(n=0);var i=t+n>=1?t+n:0;return e.el.getPointAtLength(i)}var a=B(e.el,e.svg),o=i(),r=i(-1),l=i(1),s=n?1:a.w/a.vW,d=n?1:a.h/a.vH;switch(e.property){case"x":return(o.x-a.x)*s;case"y":return(o.y-a.y)*d;case"angle":return 180*Math.atan2(l.y-r.y,l.x-r.x)/Math.PI}}function V(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=z(c.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:c.str(e)||t?i.split(n):[]}}function H(e){return b(e?x(c.arr(e)?e.map(k):k(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function G(e){var t=H(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:L(e)}}}))}function W(e,t){var n=S(t);if(/^spring/.test(n.easing)&&(n.duration=p(n.easing)),c.arr(e)){var i=e.length;2===i&&!c.obj(e[0])?e={value:e}:c.fnc(t.duration)||(n.duration=t.duration/i)}var a=c.arr(e)?e:[e];return a.map((function(e,n){var i=c.obj(e)&&!c.pth(e)?e:{value:e};return c.und(i.delay)&&(i.delay=n?0:t.delay),c.und(i.endDelay)&&(i.endDelay=n===a.length-1?t.endDelay:0),i})).map((function(e){return T(e,n)}))}function $(e,t){var n=[],i=t.keyframes;for(var a in i&&(t=T(function(e){for(var t=b(x(e.map((function(e){return Object.keys(e)}))),(function(e){return c.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},i=function(i){var a=t[i];n[a]=e.map((function(e){var t={};for(var n in e)c.key(n)?n==a&&(t.value=e[n]):t[n]=e[n];return t}))},a=0;a<t.length;a++)i(a);return n}(i),t)),t)c.key(a)&&n.push({name:a,tweens:W(t[a],e)});return n}function q(e,t){var n;return e.tweens.map((function(i){var a=function(e,t){var n={};for(var i in e){var a=A(e[i],t);c.arr(a)&&1===(a=a.map((function(e){return A(e,t)}))).length&&(a=a[0]),n[i]=a}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(i,t),o=a.value,r=c.arr(o)?o[1]:o,l=C(r),s=M(t.target,e.name,l,t),d=n?n.to.original:s,u=c.arr(o)?o[0]:d,p=C(u)||C(s),h=l||p;return c.und(r)&&(r=d),a.from=V(u,h),a.to=V(O(r,u),h),a.start=n?n.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=y(a.easing,a.duration),a.isPath=c.pth(o),a.isPathTargetInsideSVG=a.isPath&&c.svg(t.target),a.isColor=c.col(a.from.original),a.isColor&&(a.round=1),n=a,a}))}var Y={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,a){if(i.list.set(t,n),t===i.last||a){var o="";i.list.forEach((function(e,t){o+=t+"("+e+") "})),e.style.transform=o}}};function J(e,t){G(e).forEach((function(e){for(var n in t){var i=A(t[n],e),a=e.target,o=C(i),r=M(a,n,o,e),l=O(z(i,o||C(r)),r),s=D(a,n);Y[s](a,n,l,e.transforms,!0)}}))}function X(e,t){return b(x(e.map((function(e){return t.map((function(t){return function(e,t){var n=D(e.target,t.name);if(n){var i=q(t,e),a=i[i.length-1];return{type:n,property:t.name,animatable:e,tweens:i,duration:a.end,delay:i[0].delay,endDelay:a.endDelay}}}(e,t)}))}))),(function(e){return!c.und(e)}))}function Q(e,t){var n=e.length,i=function(e){return e.timelineOffset?e.timelineOffset:0},a={};return a.duration=n?Math.max.apply(Math,e.map((function(e){return i(e)+e.duration}))):t.duration,a.delay=n?Math.min.apply(Math,e.map((function(e){return i(e)+e.delay}))):t.delay,a.endDelay=n?a.duration-Math.max.apply(Math,e.map((function(e){return i(e)+e.duration-e.endDelay}))):t.endDelay,a}var ee=0;var te=[],ne=function(){var e;function t(n){for(var i=te.length,a=0;a<i;){var o=te[a];o.paused?(te.splice(a,1),i--):(o.tick(n),a++)}e=a>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){ae.suspendWhenDocumentHidden&&(ie()?e=cancelAnimationFrame(e):(te.forEach((function(e){return e._onDocumentVisibility()})),ne()))})),function(){e||ie()&&ae.suspendWhenDocumentHidden||!(te.length>0)||(e=requestAnimationFrame(t))}}();function ie(){return!!document&&document.hidden}function ae(e){void 0===e&&(e={});var t,n=0,o=0,r=0,s=0,d=null;function c(e){var t=window.Promise&&new Promise((function(e){return d=e}));return e.finished=t,t}var u=function(e){var t=P(i,e),n=P(a,e),o=$(n,e),r=G(e.targets),l=X(r,o),s=Q(l,n),d=ee;return ee++,T(t,{id:d,children:[],animatables:r,animations:l,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}(e);c(u);function p(){var e=u.direction;"alternate"!==e&&(u.direction="normal"!==e?"normal":"reverse"),u.reversed=!u.reversed,t.forEach((function(e){return e.reversed=u.reversed}))}function h(e){return u.reversed?u.duration-e:e}function m(){n=0,o=h(u.currentTime)*(1/ae.speed)}function g(e,t){t&&t.seek(e-t.timelineOffset)}function _(e){for(var t=0,n=u.animations,i=n.length;t<i;){var a=n[t],o=a.animatable,r=a.tweens,s=r.length-1,d=r[s];s&&(d=b(r,(function(t){return e<t.end}))[0]||d);for(var c=l(e-d.start-d.delay,0,d.duration)/d.duration,p=isNaN(c)?1:d.easing(c),h=d.to.strings,m=d.round,g=[],_=d.to.numbers.length,v=void 0,y=0;y<_;y++){var f=void 0,x=d.to.numbers[y],k=d.from.numbers[y]||0;f=d.isPath?K(d.value,p*x,d.isPathTargetInsideSVG):k+p*(x-k),m&&(d.isColor&&y>2||(f=Math.round(f*m)/m)),g.push(f)}var w=h.length;if(w){v=h[0];for(var S=0;S<w;S++){h[S];var P=h[S+1],T=g[S];isNaN(T)||(v+=P?T+P:T+" ")}}else v=g[0];Y[a.type](o.target,a.property,v,o.transforms),a.currentValue=v,t++}}function v(e){u[e]&&!u.passThrough&&u[e](u)}function y(e){var i=u.duration,a=u.delay,m=i-u.endDelay,y=h(e);u.progress=l(y/i*100,0,100),u.reversePlayback=y<u.currentTime,t&&function(e){if(u.reversePlayback)for(var n=s;n--;)g(e,t[n]);else for(var i=0;i<s;i++)g(e,t[i])}(y),!u.began&&u.currentTime>0&&(u.began=!0,v("begin")),!u.loopBegan&&u.currentTime>0&&(u.loopBegan=!0,v("loopBegin")),y<=a&&0!==u.currentTime&&_(0),(y>=m&&u.currentTime!==i||!i)&&_(i),y>a&&y<m?(u.changeBegan||(u.changeBegan=!0,u.changeCompleted=!1,v("changeBegin")),v("change"),_(y)):u.changeBegan&&(u.changeCompleted=!0,u.changeBegan=!1,v("changeComplete")),u.currentTime=l(y,0,i),u.began&&v("update"),e>=i&&(o=0,u.remaining&&!0!==u.remaining&&u.remaining--,u.remaining?(n=r,v("loopComplete"),u.loopBegan=!1,"alternate"===u.direction&&p()):(u.paused=!0,u.completed||(u.completed=!0,v("loopComplete"),v("complete"),!u.passThrough&&"Promise"in window&&(d(),c(u)))))}return u.reset=function(){var e=u.direction;u.passThrough=!1,u.currentTime=0,u.progress=0,u.paused=!0,u.began=!1,u.loopBegan=!1,u.changeBegan=!1,u.completed=!1,u.changeCompleted=!1,u.reversePlayback=!1,u.reversed="reverse"===e,u.remaining=u.loop,t=u.children;for(var n=s=t.length;n--;)u.children[n].reset();(u.reversed&&!0!==u.loop||"alternate"===e&&1===u.loop)&&u.remaining++,_(u.reversed?u.duration:0)},u._onDocumentVisibility=m,u.set=function(e,t){return J(e,t),u},u.tick=function(e){r=e,n||(n=r),y((r+(o-n))*ae.speed)},u.seek=function(e){y(h(e))},u.pause=function(){u.paused=!0,m()},u.play=function(){u.paused&&(u.completed&&u.reset(),u.paused=!1,te.push(u),m(),ne())},u.reverse=function(){p(),u.completed=!u.reversed,m()},u.restart=function(){u.reset(),u.play()},u.remove=function(e){re(H(e),u)},u.reset(),u.autoplay&&u.play(),u}function oe(e,t){for(var n=t.length;n--;)w(e,t[n].animatable.target)&&t.splice(n,1)}function re(e,t){var n=t.animations,i=t.children;oe(e,n);for(var a=i.length;a--;){var o=i[a],r=o.animations;oe(e,r),r.length||o.children.length||i.splice(a,1)}n.length||i.length||t.pause()}ae.version="3.2.1",ae.speed=1,ae.suspendWhenDocumentHidden=!0,ae.running=te,ae.remove=function(e){for(var t=H(e),n=te.length;n--;){re(t,te[n])}},ae.get=M,ae.set=J,ae.convertPx=j,ae.path=function(e,t){var n=c.str(e)?f(e)[0]:e,i=t||100;return function(e){return{property:e,el:n,svg:B(n),totalLength:U(n)*(i/100)}}},ae.setDashoffset=function(e){var t=U(e);return e.setAttribute("stroke-dasharray",t),t},ae.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",i=t.easing?y(t.easing):null,a=t.grid,o=t.axis,r=t.from||0,l="first"===r,s="center"===r,d="last"===r,u=c.arr(e),p=u?parseFloat(e[0]):parseFloat(e),h=u?parseFloat(e[1]):0,m=C(u?e[1]:e)||0,g=t.start||0+(u?p:0),_=[],v=0;return function(e,t,c){if(l&&(r=0),s&&(r=(c-1)/2),d&&(r=c-1),!_.length){for(var y=0;y<c;y++){if(a){var f=s?(a[0]-1)/2:r%a[0],b=s?(a[1]-1)/2:Math.floor(r/a[0]),x=f-y%a[0],k=b-Math.floor(y/a[0]),w=Math.sqrt(x*x+k*k);"x"===o&&(w=-x),"y"===o&&(w=-k),_.push(w)}else _.push(Math.abs(r-y));v=Math.max.apply(Math,_)}i&&(_=_.map((function(e){return i(e/v)*v}))),"reverse"===n&&(_=_.map((function(e){return o?e<0?-1*e:-e:Math.abs(v-e)})))}return g+(u?(h-p)/v:p)*(Math.round(100*_[t])/100)+m}},ae.timeline=function(e){void 0===e&&(e={});var t=ae(e);return t.duration=0,t.add=function(n,i){var o=te.indexOf(t),r=t.children;function l(e){e.passThrough=!0}o>-1&&te.splice(o,1);for(var s=0;s<r.length;s++)l(r[s]);var d=T(n,P(a,e));d.targets=d.targets||e.targets;var u=t.duration;d.autoplay=!1,d.direction=t.direction,d.timelineOffset=c.und(i)?u:O(i,u),l(t),t.seek(d.timelineOffset);var p=ae(d);l(p),r.push(p);var h=Q(r,e);return t.delay=h.delay,t.endDelay=h.endDelay,t.duration=h.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},ae.easing=y,ae.penner=v,ae.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const le=ae},294184:(e,t)=>{var n;!function(){var i={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var r=a.apply(null,n);r&&e.push(r)}else if("object"===o)for(var l in n)i.call(n,l)&&n[l]&&e.push(l)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},497621:(e,t,n)=>{function i(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function a(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}n.d(t,{Z:()=>o});const o={p:a,P:function(e,t){var n,o=e.match(/(P+)(p+)?/),r=o[1],l=o[2];if(!l)return i(e,t);switch(r){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",i(r,t)).replace("{{time}}",a(l,t))}}},924262:(e,t,n)=>{n.d(t,{Z:()=>o});var i=6e4;function a(e){return e.getTime()%i}function o(e){var t=new Date(e.getTime()),n=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var o=n>0?(i+a(t))%i:a(t);return n*i+o}},333276:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(619013),a=n(666979),o=n(507032),r=n(13882);var l=6048e5;function s(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e),n=(0,a.Z)(t).getTime()-function(e){(0,r.Z)(1,arguments);var t=(0,o.Z)(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),(0,a.Z)(n)}(t).getTime();return Math.round(n/l)+1}},507032:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(619013),a=n(666979),o=n(13882);function r(e){(0,o.Z)(1,arguments);var t=(0,i.Z)(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var l=(0,a.Z)(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var d=(0,a.Z)(s);return t.getTime()>=l.getTime()?n+1:t.getTime()>=d.getTime()?n:n-1}},505230:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(619013),a=n(159025),o=n(983946),r=n(107651),l=n(13882);var s=6048e5;function d(e,t){(0,l.Z)(1,arguments);var n=(0,i.Z)(e),d=(0,a.Z)(n,t).getTime()-function(e,t){(0,l.Z)(1,arguments);var n=t||{},i=n.locale,s=i&&i.options&&i.options.firstWeekContainsDate,d=null==s?1:(0,o.Z)(s),c=null==n.firstWeekContainsDate?d:(0,o.Z)(n.firstWeekContainsDate),u=(0,r.Z)(e,t),p=new Date(0);return p.setUTCFullYear(u,0,c),p.setUTCHours(0,0,0,0),(0,a.Z)(p,t)}(n,t).getTime();return Math.round(d/s)+1}},107651:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(983946),a=n(619013),o=n(159025),r=n(13882);function l(e,t){(0,r.Z)(1,arguments);var n=(0,a.Z)(e,t),l=n.getUTCFullYear(),s=t||{},d=s.locale,c=d&&d.options&&d.options.firstWeekContainsDate,u=null==c?1:(0,i.Z)(c),p=null==s.firstWeekContainsDate?u:(0,i.Z)(s.firstWeekContainsDate);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setUTCFullYear(l+1,0,p),h.setUTCHours(0,0,0,0);var m=(0,o.Z)(h,t),g=new Date(0);g.setUTCFullYear(l,0,p),g.setUTCHours(0,0,0,0);var _=(0,o.Z)(g,t);return n.getTime()>=m.getTime()?l+1:n.getTime()>=_.getTime()?l:l-1}},5267:(e,t,n)=>{n.d(t,{Do:()=>r,Iu:()=>o,qp:()=>l});var i=["D","DD"],a=["YY","YYYY"];function o(e){return-1!==i.indexOf(e)}function r(e){return-1!==a.indexOf(e)}function l(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}},13882:(e,t,n)=>{function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:()=>i})},666979:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(619013),a=n(13882);function o(e){(0,a.Z)(1,arguments);var t=(0,i.Z)(e),n=t.getUTCDay(),o=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-o),t.setUTCHours(0,0,0,0),t}},159025:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(983946),a=n(619013),o=n(13882);function r(e,t){(0,o.Z)(1,arguments);var n=t||{},r=n.locale,l=r&&r.options&&r.options.weekStartsOn,s=null==l?0:(0,i.Z)(l),d=null==n.weekStartsOn?s:(0,i.Z)(n.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=(0,a.Z)(e),u=c.getUTCDay(),p=(u<d?7:0)+u-d;return c.setUTCDate(c.getUTCDate()-p),c.setUTCHours(0,0,0,0),c}},983946:(e,t,n)=>{function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:()=>i})},51820:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(983946),a=n(619013),o=n(13882);function r(e,t){(0,o.Z)(2,arguments);var n=(0,a.Z)(e).getTime(),r=(0,i.Z)(t);return new Date(n+r)}},642298:(e,t,n)=>{n.d(t,{Z:()=>D});var i=n(112274),a=n(983975),o=n(491218),r=n(619013);function l(e,t){for(var n=e<0?"-":"",i=Math.abs(e).toString();i.length<t;)i="0"+i;return n+i}const s={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return l("yy"===t?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):l(n+1,2)},d:function(e,t){return l(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.toUpperCase();case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return l(e.getUTCHours()%12||12,t.length)},H:function(e,t){return l(e.getUTCHours(),t.length)},m:function(e,t){return l(e.getUTCMinutes(),t.length)},s:function(e,t){return l(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,i=e.getUTCMilliseconds();return l(Math.floor(i*Math.pow(10,n-3)),t.length)}};var d=n(13882);var c=n(333276),u=n(507032),p=n(505230),h=n(107651),m="midnight",g="noon",_="morning",v="afternoon",y="evening",f="night";function b(e,t){var n=e>0?"-":"+",i=Math.abs(e),a=Math.floor(i/60),o=i%60;if(0===o)return n+String(a);var r=t||"";return n+String(a)+r+l(o,2)}function x(e,t){return e%60==0?(e>0?"-":"+")+l(Math.abs(e)/60,2):k(e,t)}function k(e,t){var n=t||"",i=e>0?"-":"+",a=Math.abs(e);return i+l(Math.floor(a/60),2)+n+l(a%60,2)}const w={G:function(e,t,n){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return s.y(e,t)},Y:function(e,t,n,i){var a=(0,h.Z)(e,i),o=a>0?a:1-a;return"YY"===t?l(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):l(o,t.length)},R:function(e,t){return l((0,u.Z)(e),t.length)},u:function(e,t){return l(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return l(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return l(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){var i=e.getUTCMonth();switch(t){case"M":case"MM":return s.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return l(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){var a=(0,p.Z)(e,i);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):l(a,t.length)},I:function(e,t,n){var i=(0,c.Z)(e);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):l(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):s.d(e,t)},D:function(e,t,n){var i=function(e){(0,d.Z)(1,arguments);var t=(0,r.Z)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var i=n-t.getTime();return Math.floor(i/864e5)+1}(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):l(i,t.length)},E:function(e,t,n){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return l(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return l(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var i=e.getUTCDay(),a=0===i?7:i;switch(t){case"i":return String(a);case"ii":return l(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){var i=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var i,a=e.getUTCHours();switch(i=12===a?g:0===a?m:a/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var i,a=e.getUTCHours();switch(i=a>=17?y:a>=12?v:a>=4?_:f,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var i=e.getUTCHours()%12;return 0===i&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return s.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):s.H(e,t)},K:function(e,t,n){var i=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):l(i,t.length)},k:function(e,t,n){var i=e.getUTCHours();return 0===i&&(i=24),"ko"===t?n.ordinalNumber(i,{unit:"hour"}):l(i,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):s.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):s.s(e,t)},S:function(e,t){return s.S(e,t)},X:function(e,t,n,i){var a=(i._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return x(a);case"XXXX":case"XX":return k(a);default:return k(a,":")}},x:function(e,t,n,i){var a=(i._originalDate||e).getTimezoneOffset();switch(t){case"x":return x(a);case"xxxx":case"xx":return k(a);default:return k(a,":")}},O:function(e,t,n,i){var a=(i._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+b(a,":");default:return"GMT"+k(a,":")}},z:function(e,t,n,i){var a=(i._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+b(a,":");default:return"GMT"+k(a,":")}},t:function(e,t,n,i){var a=i._originalDate||e;return l(Math.floor(a.getTime()/1e3),t.length)},T:function(e,t,n,i){return l((i._originalDate||e).getTime(),t.length)}};var S=n(497621),P=n(924262),T=n(5267),I=n(983946),C=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,A=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,E=/^'([^]*?)'?$/,j=/''/g,R=/[a-zA-Z]/;function D(e,t,n){(0,d.Z)(2,arguments);var l=String(t),s=n||{},c=s.locale||a.default,u=c.options&&c.options.firstWeekContainsDate,p=null==u?1:(0,I.Z)(u),h=null==s.firstWeekContainsDate?p:(0,I.Z)(s.firstWeekContainsDate);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=c.options&&c.options.weekStartsOn,g=null==m?0:(0,I.Z)(m),_=null==s.weekStartsOn?g:(0,I.Z)(s.weekStartsOn);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!c.localize)throw new RangeError("locale must contain localize property");if(!c.formatLong)throw new RangeError("locale must contain formatLong property");var v=(0,r.Z)(e);if(!(0,i.Z)(v))throw new RangeError("Invalid time value");var y=(0,P.Z)(v),f=(0,o.Z)(v,y),b={firstWeekContainsDate:h,weekStartsOn:_,locale:c,_originalDate:v};return l.match(A).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,S.Z[t])(e,c.formatLong,b):e})).join("").match(C).map((function(n){if("''"===n)return"'";var i=n[0];if("'"===i)return n.match(E)[1].replace(j,"'");var a=w[i];if(a)return!s.useAdditionalWeekYearTokens&&(0,T.Do)(n)&&(0,T.qp)(n,t,e),!s.useAdditionalDayOfYearTokens&&(0,T.Iu)(n)&&(0,T.qp)(n,t,e),a(f,n,c.localize,b);if(i.match(R))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return n})).join("")}},112274:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(619013),a=n(13882);function o(e){(0,a.Z)(1,arguments);var t=(0,i.Z)(e);return!isNaN(t)}},849526:(e,t,n)=>{function i(e){return function(t){var n=t||{},i=n.width?String(n.width):e.defaultWidth;return e.formats[i]||e.formats[e.defaultWidth]}}n.d(t,{Z:()=>i})},688486:(e,t,n)=>{function i(e){return function(t,n){var i,a=n||{};if("formatting"===(a.context?String(a.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,r=a.width?String(a.width):o;i=e.formattingValues[r]||e.formattingValues[o]}else{var l=e.defaultWidth,s=a.width?String(a.width):e.defaultWidth;i=e.values[s]||e.values[l]}return i[e.argumentCallback?e.argumentCallback(t):t]}}n.d(t,{Z:()=>i})},276723:(e,t,n)=>{function i(e){return function(t,n){var i=String(t),a=n||{},o=a.width,r=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],l=i.match(r);if(!l)return null;var s,d=l[0],c=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth];return s="[object Array]"===Object.prototype.toString.call(c)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(c,(function(e){return e.test(d)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(c,(function(e){return e.test(d)})),s=e.valueCallback?e.valueCallback(s):s,{value:s=a.valueCallback?a.valueCallback(s):s,rest:i.slice(d.length)}}}n.d(t,{Z:()=>i})},360974:(e,t,n)=>{function i(e){return function(t,n){var i=String(t),a=n||{},o=i.match(e.matchPattern);if(!o)return null;var r=o[0],l=i.match(e.parsePattern);if(!l)return null;var s=e.valueCallback?e.valueCallback(l[0]):l[0];return{value:s=a.valueCallback?a.valueCallback(s):s,rest:i.slice(r.length)}}}n.d(t,{Z:()=>i})},181991:(e,t,n)=>{n.d(t,{Z:()=>a});var i={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function a(e,t,n){var a;return n=n||{},a="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+a:a+" ago":a}},721865:(e,t,n)=>{n.d(t,{Z:()=>a});var i={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function a(e,t,n,a){return i[e]}},611950:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(688486);const a={ordinalNumber:function(e,t){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,i.Z)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,i.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:(0,i.Z)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,i.Z)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,i.Z)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})}},507219:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(360974),a=n(276723);const o={ordinalNumber:(0,i.Z)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,a.Z)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,a.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,a.Z)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,a.Z)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,a.Z)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})}},983975:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(181991),a=n(849526);const o={date:(0,a.Z)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,a.Z)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,a.Z)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var r=n(721865),l=n(611950),s=n(507219);const d={code:"en-US",formatDistance:i.Z,formatLong:o,formatRelative:r.Z,localize:l.Z,match:s.Z,options:{weekStartsOn:0,firstWeekContainsDate:1}}},491218:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(983946),a=n(51820),o=n(13882);function r(e,t){(0,o.Z)(2,arguments);var n=(0,i.Z)(t);return(0,a.Z)(e,-n)}},619013:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(13882);function a(e){(0,i.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},746985:e=>{e.exports="https://s.pinimg.com/webapp/commentHelpful-55781e6a.svg"},639210:e=>{e.exports="https://s.pinimg.com/webapp/commentHelpfulOutline-1e39c058.svg"},55997:e=>{e.exports="https://s.pinimg.com/webapp/commentLoved-89903abe.svg"},118949:e=>{e.exports="https://s.pinimg.com/webapp/commentLovedOutline-ce03475d.svg"},249568:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-edd99000.svg"},930278:e=>{e.exports="https://s.pinimg.com/webapp/haha-113eb87d.svg"},197099:e=>{e.exports="https://s.pinimg.com/webapp/love-a7ffb465.svg"},793964:e=>{e.exports="https://s.pinimg.com/webapp/thanks-7994286c.svg"},934915:e=>{e.exports="https://s.pinimg.com/webapp/wow-0a7ea725.svg"},72166:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-05fee79b.svg"},34319:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},761464:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},657916:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},450704:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},268052:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-338cc9cb.svg"},752433:e=>{e.exports="https://s.pinimg.com/webapp/haha-2d36da68.svg"},951151:e=>{e.exports="https://s.pinimg.com/webapp/heartOutline-1f1b1ac2.svg"},547741:e=>{e.exports="https://s.pinimg.com/webapp/love-cf7c22da.svg"},505302:e=>{e.exports="https://s.pinimg.com/webapp/thanks-1f2971cc.svg"},451724:e=>{e.exports="https://s.pinimg.com/webapp/wow-ba699344.svg"},537347:e=>{!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function a(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function o(e,n){function i(){var e=o;a(e)&&e.a.parentNode&&n(e.g)}var o=e;t(e.b,i),t(e.c,i),a(e)}function r(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var l=null,s=null,d=null,c=null;function u(){return null===c&&(c=!!document.fonts),c}function p(){if(null===d){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(t){}d=""!==e.style.font}return d}function h(e,t){return[e.style,e.weight,p()?e.stretch:"","100px",t].join(" ")}r.prototype.load=function(e,t){var a=this,r=e||"BESbswy",d=0,c=t||3e3,p=(new Date).getTime();return new Promise((function(e,t){if(u()&&!function(){if(null===s)if(u()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);s=!!e&&603>parseInt(e[1],10)}else s=!1;return s}()){var m=new Promise((function(e,t){!function n(){(new Date).getTime()-p>=c?t(Error(c+"ms timeout exceeded")):document.fonts.load(h(a,'"'+a.family+'"'),r).then((function(t){1<=t.length?e():setTimeout(n,25)}),t)}()})),g=new Promise((function(e,t){d=setTimeout((function(){t(Error(c+"ms timeout exceeded"))}),c)}));Promise.race([g,m]).then((function(){clearTimeout(d),e(a)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function s(){var t;(t=-1!=_&&-1!=v||-1!=_&&-1!=y||-1!=v&&-1!=y)&&((t=_!=v&&_!=y&&v!=y)||(null===l&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=l&&(_==f&&v==f&&y==f||_==b&&v==b&&y==b||_==x&&v==x&&y==x)),t=!t),t&&(k.parentNode&&k.parentNode.removeChild(k),clearTimeout(d),e(a))}var u=new n(r),m=new n(r),g=new n(r),_=-1,v=-1,y=-1,f=-1,b=-1,x=-1,k=document.createElement("div");k.dir="ltr",i(u,h(a,"sans-serif")),i(m,h(a,"serif")),i(g,h(a,"monospace")),k.appendChild(u.a),k.appendChild(m.a),k.appendChild(g.a),document.body.appendChild(k),f=u.a.offsetWidth,b=m.a.offsetWidth,x=g.a.offsetWidth,function e(){if((new Date).getTime()-p>=c)k.parentNode&&k.parentNode.removeChild(k),t(Error(c+"ms timeout exceeded"));else{var n=document.hidden;!0!==n&&void 0!==n||(_=u.a.offsetWidth,v=m.a.offsetWidth,y=g.a.offsetWidth,s()),d=setTimeout(e,50)}}(),o(u,(function(e){_=e,s()})),i(u,h(a,'"'+a.family+'",sans-serif')),o(m,(function(e){v=e,s()})),i(m,h(a,'"'+a.family+'",serif')),o(g,(function(e){y=e,s()})),i(g,h(a,'"'+a.family+'",monospace'))}))}))},e.exports=r}()},618552:(e,t,n)=>{var i=n(610852)(n(555639),"DataView");e.exports=i},853818:(e,t,n)=>{var i=n(610852)(n(555639),"Promise");e.exports=i},458525:(e,t,n)=>{var i=n(610852)(n(555639),"Set");e.exports=i},70577:(e,t,n)=>{var i=n(610852)(n(555639),"WeakMap");e.exports=i},896874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},477412:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},234963:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,a=0,o=[];++n<i;){var r=e[n];t(r,n,e)&&(o[a++]=r)}return o}},862488:e=>{e.exports=function(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}},286556:(e,t,n)=>{var i=n(789465),a=n(977813);e.exports=function(e,t,n){(void 0!==n&&!a(e[t],n)||void 0===n&&!(t in e))&&i(e,t,n)}},234865:(e,t,n)=>{var i=n(789465),a=n(977813),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var r=e[t];o.call(e,t)&&a(r,n)&&(void 0!==n||t in e)||i(e,t,n)}},744037:(e,t,n)=>{var i=n(698363),a=n(3674);e.exports=function(e,t){return e&&i(t,a(t),e)}},163886:(e,t,n)=>{var i=n(698363),a=n(481704);e.exports=function(e,t){return e&&i(t,a(t),e)}},789465:(e,t,n)=>{var i=n(538777);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},285990:(e,t,n)=>{var i=n(646384),a=n(477412),o=n(234865),r=n(744037),l=n(163886),s=n(364626),d=n(200278),c=n(318805),u=n(201911),p=n(458234),h=n(946904),m=n(664160),g=n(43824),_=n(529148),v=n(738517),y=n(701469),f=n(644144),b=n(356688),x=n(513218),k=n(472928),w=n(3674),S=n(481704),P="[object Arguments]",T="[object Function]",I="[object Object]",C={};C[P]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[I]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[T]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,A,E,j,R){var D,L=1&n,F=2&n,M=4&n;if(A&&(D=j?A(t,E,j,R):A(t)),void 0!==D)return D;if(!x(t))return t;var O=y(t);if(O){if(D=g(t),!L)return d(t,D)}else{var z=m(t),Z=z==T||"[object GeneratorFunction]"==z;if(f(t))return s(t,L);if(z==I||z==P||Z&&!j){if(D=F||Z?{}:v(t),!L)return F?u(t,l(D,t)):c(t,r(D,t))}else{if(!C[z])return j?t:{};D=_(t,z,L)}}R||(R=new i);var N=R.get(t);if(N)return N;R.set(t,D),k(t)?t.forEach((function(i){D.add(e(i,n,A,i,t,R))})):b(t)&&t.forEach((function(i,a){D.set(a,e(i,n,A,a,t,R))}));var U=O?void 0:(M?F?h:p:F?S:w)(t);return a(U||t,(function(i,a){U&&(i=t[a=i]),o(D,a,e(i,n,A,a,t,R))})),D}},603118:(e,t,n)=>{var i=n(513218),a=Object.create,o=function(){function e(){}return function(t){if(!i(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},228483:(e,t,n)=>{var i=n(225063)();e.exports=i},868866:(e,t,n)=>{var i=n(862488),a=n(701469);e.exports=function(e,t,n){var o=t(e);return a(e)?o:i(o,n(e))}},225588:(e,t,n)=>{var i=n(664160),a=n(637005);e.exports=function(e){return a(e)&&"[object Map]"==i(e)}},829221:(e,t,n)=>{var i=n(664160),a=n(637005);e.exports=function(e){return a(e)&&"[object Set]"==i(e)}},400280:(e,t,n)=>{var i=n(225726),a=n(86916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},710313:(e,t,n)=>{var i=n(513218),a=n(225726),o=n(133498),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return o(e);var t=a(e),n=[];for(var l in e)("constructor"!=l||!t&&r.call(e,l))&&n.push(l);return n}},642980:(e,t,n)=>{var i=n(646384),a=n(286556),o=n(228483),r=n(559783),l=n(513218),s=n(481704),d=n(636390);e.exports=function e(t,n,c,u,p){t!==n&&o(n,(function(o,s){if(p||(p=new i),l(o))r(t,n,s,c,e,u,p);else{var h=u?u(d(t,s),o,s+"",t,n,p):void 0;void 0===h&&(h=o),a(t,s,h)}}),s)}},559783:(e,t,n)=>{var i=n(286556),a=n(364626),o=n(477133),r=n(200278),l=n(738517),s=n(135694),d=n(701469),c=n(229246),u=n(644144),p=n(623560),h=n(513218),m=n(968630),g=n(936719),_=n(636390),v=n(959881);e.exports=function(e,t,n,y,f,b,x){var k=_(e,n),w=_(t,n),S=x.get(w);if(S)i(e,n,S);else{var P=b?b(k,w,n+"",e,t,x):void 0,T=void 0===P;if(T){var I=d(w),C=!I&&u(w),A=!I&&!C&&g(w);P=w,I||C||A?d(k)?P=k:c(k)?P=r(k):C?(T=!1,P=a(w,!0)):A?(T=!1,P=o(w,!0)):P=[]:m(w)||s(w)?(P=k,s(k)?P=v(k):h(k)&&!p(k)||(P=l(w))):T=!1}T&&(x.set(w,P),f(P,w,y,b,x),x.delete(w)),i(e,n,P)}}},105976:(e,t,n)=>{var i=n(406557),a=n(545357),o=n(430061);e.exports=function(e,t){return o(a(e,t,i),e+"")}},356560:(e,t,n)=>{var i=n(575703),a=n(538777),o=n(406557),r=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:o;e.exports=r},727561:(e,t,n)=>{var i=n(567990),a=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(a,""):e}},274318:(e,t,n)=>{var i=n(611149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},364626:(e,t,n)=>{e=n.nmd(e);var i=n(555639),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,r=o&&o.exports===a?i.Buffer:void 0,l=r?r.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=l?l(n):new e.constructor(n);return e.copy(i),i}},257157:(e,t,n)=>{var i=n(274318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},593147:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},540419:(e,t,n)=>{var i=n(562705),a=i?i.prototype:void 0,o=a?a.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},477133:(e,t,n)=>{var i=n(274318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},200278:e=>{e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},698363:(e,t,n)=>{var i=n(234865),a=n(789465);e.exports=function(e,t,n,o){var r=!n;n||(n={});for(var l=-1,s=t.length;++l<s;){var d=t[l],c=o?o(n[d],e[d],d,n,e):void 0;void 0===c&&(c=e[d]),r?a(n,d,c):i(n,d,c)}return n}},318805:(e,t,n)=>{var i=n(698363),a=n(799551);e.exports=function(e,t){return i(e,a(e),t)}},201911:(e,t,n)=>{var i=n(698363),a=n(151442);e.exports=function(e,t){return i(e,a(e),t)}},321463:(e,t,n)=>{var i=n(105976),a=n(816612);e.exports=function(e){return i((function(t,n){var i=-1,o=n.length,r=o>1?n[o-1]:void 0,l=o>2?n[2]:void 0;for(r=e.length>3&&"function"==typeof r?(o--,r):void 0,l&&a(n[0],n[1],l)&&(r=o<3?void 0:r,o=1),t=Object(t);++i<o;){var s=n[i];s&&e(t,s,i,r)}return t}))}},225063:e=>{e.exports=function(e){return function(t,n,i){for(var a=-1,o=Object(t),r=i(t),l=r.length;l--;){var s=r[e?l:++a];if(!1===n(o[s],s,o))break}return t}}},538777:(e,t,n)=>{var i=n(610852),a=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},458234:(e,t,n)=>{var i=n(868866),a=n(799551),o=n(3674);e.exports=function(e){return i(e,o,a)}},946904:(e,t,n)=>{var i=n(868866),a=n(151442),o=n(481704);e.exports=function(e){return i(e,o,a)}},385924:(e,t,n)=>{var i=n(205569)(Object.getPrototypeOf,Object);e.exports=i},799551:(e,t,n)=>{var i=n(234963),a=n(770479),o=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols,l=r?function(e){return null==e?[]:(e=Object(e),i(r(e),(function(t){return o.call(e,t)})))}:a;e.exports=l},151442:(e,t,n)=>{var i=n(862488),a=n(385924),o=n(799551),r=n(770479),l=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,o(e)),e=a(e);return t}:r;e.exports=l},664160:(e,t,n)=>{var i=n(618552),a=n(357071),o=n(853818),r=n(458525),l=n(70577),s=n(644239),d=n(680346),c="[object Map]",u="[object Promise]",p="[object Set]",h="[object WeakMap]",m="[object DataView]",g=d(i),_=d(a),v=d(o),y=d(r),f=d(l),b=s;(i&&b(new i(new ArrayBuffer(1)))!=m||a&&b(new a)!=c||o&&b(o.resolve())!=u||r&&b(new r)!=p||l&&b(new l)!=h)&&(b=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,i=n?d(n):"";if(i)switch(i){case g:return m;case _:return c;case v:return u;case y:return p;case f:return h}return t}),e.exports=b},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,i=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},529148:(e,t,n)=>{var i=n(274318),a=n(257157),o=n(593147),r=n(540419),l=n(477133);e.exports=function(e,t,n){var s=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return a(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return l(e,n);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return o(e);case"[object Symbol]":return r(e)}}},738517:(e,t,n)=>{var i=n(603118),a=n(385924),o=n(225726);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:i(a(e))}},816612:(e,t,n)=>{var i=n(977813),a=n(498612),o=n(565776),r=n(513218);e.exports=function(e,t,n){if(!r(n))return!1;var l=typeof t;return!!("number"==l?a(n)&&o(t,n.length):"string"==l&&t in n)&&i(n[t],e)}},86916:(e,t,n)=>{var i=n(205569)(Object.keys,Object);e.exports=i},133498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},545357:(e,t,n)=>{var i=n(896874),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,r=-1,l=a(o.length-t,0),s=Array(l);++r<l;)s[r]=o[t+r];r=-1;for(var d=Array(t+1);++r<t;)d[r]=o[r];return d[t]=n(s),i(e,this,d)}}},636390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},430061:(e,t,n)=>{var i=n(356560),a=n(521275)(i);e.exports=a},521275:e=>{var t=Date.now;e.exports=function(e){var n=0,i=0;return function(){var a=t(),o=16-(a-i);if(i=a,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},567990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},150361:(e,t,n)=>{var i=n(285990);e.exports=function(e){return i(e,5)}},575703:e=>{e.exports=function(e){return function(){return e}}},23279:(e,t,n)=>{var i=n(513218),a=n(707771),o=n(14841),r=Math.max,l=Math.min;e.exports=function(e,t,n){var s,d,c,u,p,h,m=0,g=!1,_=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=s,i=d;return s=d=void 0,m=t,u=e.apply(i,n)}function f(e){var n=e-h;return void 0===h||n>=t||n<0||_&&e-m>=c}function b(){var e=a();if(f(e))return x(e);p=setTimeout(b,function(e){var n=t-(e-h);return _?l(n,c-(e-m)):n}(e))}function x(e){return p=void 0,v&&s?y(e):(s=d=void 0,u)}function k(){var e=a(),n=f(e);if(s=arguments,d=this,h=e,n){if(void 0===p)return function(e){return m=e,p=setTimeout(b,t),g?y(e):u}(h);if(_)return clearTimeout(p),p=setTimeout(b,t),y(h)}return void 0===p&&(p=setTimeout(b,t)),u}return t=o(t)||0,i(n)&&(g=!!n.leading,c=(_="maxWait"in n)?r(o(n.maxWait)||0,t):c,v="trailing"in n?!!n.trailing:v),k.cancel=function(){void 0!==p&&clearTimeout(p),m=0,s=h=d=p=void 0},k.flush=function(){return void 0===p?u:x(a())},k}},406557:e=>{e.exports=function(e){return e}},229246:(e,t,n)=>{var i=n(498612),a=n(637005);e.exports=function(e){return a(e)&&i(e)}},356688:(e,t,n)=>{var i=n(225588),a=n(307518),o=n(531167),r=o&&o.isMap,l=r?a(r):i;e.exports=l},968630:(e,t,n)=>{var i=n(644239),a=n(385924),o=n(637005),r=Function.prototype,l=Object.prototype,s=r.toString,d=l.hasOwnProperty,c=s.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=i(e))return!1;var t=a(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==c}},472928:(e,t,n)=>{var i=n(829221),a=n(307518),o=n(531167),r=o&&o.isSet,l=r?a(r):i;e.exports=l},3674:(e,t,n)=>{var i=n(14636),a=n(400280),o=n(498612);e.exports=function(e){return o(e)?i(e):a(e)}},481704:(e,t,n)=>{var i=n(14636),a=n(710313),o=n(498612);e.exports=function(e){return o(e)?i(e,!0):a(e)}},682492:(e,t,n)=>{var i=n(642980),a=n(321463)((function(e,t,n){i(e,t,n)}));e.exports=a},707771:(e,t,n)=>{var i=n(555639);e.exports=function(){return i.Date.now()}},770479:e=>{e.exports=function(){return[]}},14841:(e,t,n)=>{var i=n(727561),a=n(513218),o=n(733448),r=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=l.test(e);return n||s.test(e)?d(e.slice(2),n?2:8):r.test(e)?NaN:+e}},959881:(e,t,n)=>{var i=n(698363),a=n(481704);e.exports=function(e){return i(e,a(e))}},782677:(e,t,n)=>{function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(this,arguments)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function l(e){return!(!e||"function"!=typeof e.hasOwnProperty||!(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function s(e,t,n){return Object.keys(e).reduce((function(t,i){var a=""+i;return t.has(a)?t.set(a,n(t.get(a),e[a])):t}),t)}n.d(t,{Fv:()=>k,fK:()=>x});var d=function(){function e(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),!e||"string"!=typeof e)throw new Error("Expected a string key for Entity, but found "+e+".");var i=n,a=i.idAttribute,r=void 0===a?"id":a,s=i.mergeStrategy,d=void 0===s?function(e,t){return o({},e,t)}:s,c=i.processStrategy,u=void 0===c?function(e){return o({},e)}:c,p=i.fallbackStrategy,h=void 0===p?function(e,t){}:p;this._key=e,this._getId="function"==typeof r?r:function(e){return function(t){return l(t)?t.get(e):t[e]}}(r),this._idAttribute=r,this._mergeStrategy=d,this._processStrategy=u,this._fallbackStrategy=h,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,n){var i,a=e[n];return o({},t,((i={})[n]=a,i))}),this.schema||{})},t.getId=function(e,t,n){return this._getId(e,t,n)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,n,i,a,o){var r=this,l=this.getId(e,t,n),s=this.key;if(s in o||(o[s]={}),l in o[s]||(o[s][l]=[]),o[s][l].some((function(t){return t===e})))return l;o[s][l].push(e);var d=this._processStrategy(e,t,n);return Object.keys(this.schema).forEach((function(t){if(d.hasOwnProperty(t)&&"object"==typeof d[t]){var n=r.schema[t],l="function"==typeof n?n(e):n;d[t]=i(d[t],d,t,l,a,o)}})),a(this,d,e,t,n),l},t.denormalize=function(e,t){var n=this;return l(e)?s(this.schema,e,t):(Object.keys(this.schema).forEach((function(i){if(e.hasOwnProperty(i)){var a=n.schema[i];e[i]=t(e[i],a)}})),e)},a(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),c=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,n){return!this.isSingleSchema&&this._schemaAttribute(e,t,n)},t.inferSchema=function(e,t,n){if(this.isSingleSchema)return this.schema;var i=this.getSchemaAttribute(e,t,n);return this.schema[i]},t.normalizeValue=function(e,t,n,i,a,o){var r=this.inferSchema(e,t,n);if(!r)return e;var l=i(e,t,n,r,a,o);return this.isSingleSchema||null==l?l:{id:l,schema:this.getSchemaAttribute(e,t,n)}},t.denormalizeValue=function(e,t){var n=l(e)?e.get("schema"):e.schema;return this.isSingleSchema||n?t((this.isSingleSchema?void 0:l(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[n]):e},a(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),u=function(e){function t(t,n){if(!n)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,n)||this}r(t,e);var n=t.prototype;return n.normalize=function(e,t,n,i,a,o){return this.normalizeValue(e,t,n,i,a,o)},n.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(c),p=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.normalize=function(e,t,n,i,a,r){var l=this;return Object.keys(e).reduce((function(t,n,s){var d,c=e[n];return null!=c?o({},t,((d={})[n]=l.normalizeValue(c,e,n,i,a,r),d)):t}),{})},n.denormalize=function(e,t){var n=this;return Object.keys(e).reduce((function(i,a){var r,l=e[a];return o({},i,((r={})[a]=n.denormalizeValue(l,t),r))}),{})},t}(c),h=function(e){if(Array.isArray(e)&&e.length>1)throw new Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},m=function(e){return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t]}))},g=function(e,t,n,i,a,o,r){return e=h(e),m(t).map((function(t,l){return a(t,n,i,e,o,r)}))},_=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.normalize=function(e,t,n,i,a,o){var r=this;return m(e).map((function(e,l){return r.normalizeValue(e,t,n,i,a,o)})).filter((function(e){return null!=e}))},n.denormalize=function(e,t){var n=this;return e&&e.map?e.map((function(e){return n.denormalizeValue(e,t)})):e},t}(c),v=function(e,t,n,i,a,r,l){var s=o({},t);return Object.keys(e).forEach((function(n){var i=e[n],o="function"==typeof i?i(t):i,d=a(t[n],t,n,o,r,l);null==d?delete s[n]:s[n]=d})),s},y=function(e,t,n){if(l(t))return s(e,t,n);var i=o({},t);return Object.keys(e).forEach((function(t){null!=i[t]&&(i[t]=n(i[t],e[t]))})),i},f=function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,n){var i,a=e[n];return o({},t,((i={})[n]=a,i))}),this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.apply(void 0,[this.schema].concat(t))},e}(),b=function e(t,n,i,a,o,r){return"object"==typeof t&&t?"object"!=typeof a||a.normalize&&"function"==typeof a.normalize?a.normalize(t,n,i,e,o,r):(Array.isArray(a)?g:v)(a,t,n,i,e,o,r):t},x={Array:_,Entity:d,Object:f,Union:u,Values:p},k=function(e,t){if(!e||"object"!=typeof e)throw new Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var n={},i=function(e){return function(t,n,i,a,o){var r=t.key,l=t.getId(i,a,o);r in e||(e[r]={});var s=e[r][l];e[r][l]=s?t.merge(s,n):n}}(n);return{entities:n,result:b(e,e,null,t,i,{})}}},201342:(e,t,n)=>{n.d(t,{tn:()=>ce});var i,a=n(667294),o=n.t(a,2);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));function r(e,t){if(!1===e||null==e)throw new Error(t)}function l(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function s(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}var d;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(d||(d={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function c(e,t,n){void 0===n&&(n="/");let i=S(("string"==typeof t?s(t):t).pathname||"/",n);if(null==i)return null;let a=u(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let o=null;for(let r=0;null==o&&r<a.length;++r)o=x(a[r],w(i));return o}function u(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let a=(e,a,o)=>{let l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};l.relativePath.startsWith("/")&&(r(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(i.length));let s=P([i,l.relativePath]),d=n.concat(l);e.children&&e.children.length>0&&(r(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),u(e.children,t,d,s)),(null!=e.path||e.index)&&t.push({path:s,score:b(s,e.index),routesMeta:d})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of p(e.path))a(e,t,i);else a(e,t)})),t}function p(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];let r=p(i.join("/")),l=[];return l.push(...r.map((e=>""===e?o:[o,e].join("/")))),a&&l.push(...r),l.map((t=>e.startsWith("/")&&""===t?"/":t))}const h=/^:\w+$/,m=3,g=2,_=1,v=10,y=-2,f=e=>"*"===e;function b(e,t){let n=e.split("/"),i=n.length;return n.some(f)&&(i+=y),t&&(i+=g),n.filter((e=>!f(e))).reduce(((e,t)=>e+(h.test(t)?m:""===t?_:v)),i)}function x(e,t){let{routesMeta:n}=e,i={},a="/",o=[];for(let r=0;r<n.length;++r){let e=n[r],l=r===n.length-1,s="/"===a?t:t.slice(a.length)||"/",d=k({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},s);if(!d)return null;Object.assign(i,d.params);let c=e.route;o.push({params:i,pathname:P([a,d.pathname]),pathnameBase:T(P([a,d.pathnameBase])),route:c}),"/"!==d.pathnameBase&&(a=P([a,d.pathnameBase]))}return o}function k(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(i.push(t),"/([^\\/]+)")));e.endsWith("*")?(i.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let o=new RegExp(a,t?void 0:"i");return[o,i]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],r=o.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:i.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";r=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return l(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(s[n]||"",t),e}),{}),pathname:o,pathnameBase:r,pattern:e}}function w(e){try{return decodeURI(e)}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function S(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}const P=e=>e.join("/").replace(/\/\/+/g,"/"),T=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");class I extends Error{}function C(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const A=["post","put","patch","delete"],E=(new Set(A),["get",...A]);new Set(E),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;Symbol("deferred");const j="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:R,useEffect:D,useLayoutEffect:L,useDebugValue:F}=o;function M(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!j(n,e)}catch(i){return!0}}"undefined"==typeof window||void 0===window.document||window.document.createElement,o.useSyncExternalStore;const O=a.createContext(null);const z=a.createContext(null);const Z=a.createContext(null);const N=a.createContext(null);const U=a.createContext({outlet:null,matches:[]});const B=a.createContext(null);function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},K.apply(this,arguments)}function V(){return null!=a.useContext(N)}function H(){return V()||r(!1),a.useContext(N).location}function G(){let e=function(){var e;let t=a.useContext(B),n=X(J.UseRouteError),i=Q(J.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=C(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:o},n):null,null)}class W extends a.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?a.createElement(U.Provider,{value:this.props.routeContext},a.createElement(B.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $(e){let{routeContext:t,match:n,children:i}=e,o=a.useContext(O);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(U.Provider,{value:t},i)}function q(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}let i=e,o=null==n?void 0:n.errors;if(null!=o){let e=i.findIndex((e=>e.route.id&&(null==o?void 0:o[e.route.id])));e>=0||r(!1),i=i.slice(0,Math.min(i.length,e+1))}return i.reduceRight(((e,r,l)=>{let s=r.route.id?null==o?void 0:o[r.route.id]:null,d=null;n&&(d=r.route.ErrorBoundary?a.createElement(r.route.ErrorBoundary,null):r.route.errorElement?r.route.errorElement:a.createElement(G,null));let c=t.concat(i.slice(0,l+1)),u=()=>{let t=e;return s?t=d:r.route.Component?t=a.createElement(r.route.Component,null):r.route.element&&(t=r.route.element),a.createElement($,{match:r,routeContext:{outlet:e,matches:c},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===l)?a.createElement(W,{location:n.location,component:d,error:s,children:u(),routeContext:{outlet:null,matches:c}}):u()}),null)}var Y,J;function X(e){let t=a.useContext(z);return t||r(!1),t}function Q(e){let t=function(e){let t=a.useContext(U);return t||r(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||r(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Y||(Y={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(J||(J={}));function ee(e){r(!1)}function te(e){let{basename:t="/",children:n=null,location:o,navigationType:l=i.Pop,navigator:d,static:c=!1}=e;V()&&r(!1);let u=t.replace(/^\/*/,"/"),p=a.useMemo((()=>({basename:u,navigator:d,static:c})),[u,d,c]);"string"==typeof o&&(o=s(o));let{pathname:h="/",search:m="",hash:g="",state:_=null,key:v="default"}=o,y=a.useMemo((()=>{let e=S(h,u);return null==e?null:{location:{pathname:e,search:m,hash:g,state:_,key:v},navigationType:l}}),[u,h,m,g,_,v,l]);return null==y?null:a.createElement(Z.Provider,{value:p},a.createElement(N.Provider,{children:n,value:y}))}function ne(e){let{children:t,location:n}=e,o=a.useContext(O);return function(e,t){V()||r(!1);let{navigator:n}=a.useContext(Z),o=a.useContext(z),{matches:l}=a.useContext(U),d=l[l.length-1],u=d?d.params:{},p=(d&&d.pathname,d?d.pathnameBase:"/");d&&d.route;let h,m=H();if(t){var g;let e="string"==typeof t?s(t):t;"/"===p||(null==(g=e.pathname)?void 0:g.startsWith(p))||r(!1),h=e}else h=m;let _=h.pathname||"/",v=c(e,{pathname:"/"===p?_:_.slice(p.length)||"/"}),y=q(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:P([p,n.encodeLocation?n.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:P([p,n.encodeLocation?n.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,o||void 0);return t&&y?a.createElement(N.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:i.Pop}},y):y}(o&&!t?o.router.routes:oe(t),n)}var ie;!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(ie||(ie={}));new Promise((()=>{}));class ae extends a.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:n}=this.props,i=null,a=ie.pending;if(n instanceof Promise)if(this.state.error){ie.error;let e=this.state.error;Promise.reject().catch((()=>{})),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_error",{get:()=>e})}else n._tracked?(n,void 0!==i._error?ie.error:void 0!==i._data?ie.success:ie.pending):(ie.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),n.then((e=>Object.defineProperty(n,"_data",{get:()=>e})),(e=>Object.defineProperty(n,"_error",{get:()=>e}))));else ie.success,Promise.resolve(),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_data",{get:()=>n});if(a===ie.error&&i._error instanceof AbortedDeferredError)throw neverSettledPromise;if(a===ie.error&&!t)throw i._error;if(a===ie.error)return React.createElement(AwaitContext.Provider,{value:i,children:t});if(a===ie.success)return React.createElement(AwaitContext.Provider,{value:i,children:e});throw i}}function oe(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,((e,i)=>{if(!a.isValidElement(e))return;let o=[...t,i];if(e.type===a.Fragment)return void n.push.apply(n,oe(e.props.children,o));e.type!==ee&&r(!1),e.props.index&&e.props.children&&r(!1);let l={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=oe(e.props.children,o)),n.push(l)})),n}var re=n(616550);"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;var le,se;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(le||(le={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(se||(se={}));const de=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?a.useLayoutEffect:()=>{};function ce(e){let{children:t}=e,n=(0,re.useHistory)(),[i,o]=a.useState((()=>({location:n.location,action:n.action})));return de((()=>{n.listen(((e,t)=>o({location:e,action:t})))}),[n]),a.createElement(te,{navigationType:i.action,location:i.location,navigator:n},a.createElement(ne,null,a.createElement(ee,{path:"*",element:t})))}},442279:(e,t)=>{function n(e,t){return e===t}function i(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],i=null,a=null;return function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return null!==i&&i.length===o.length&&o.every((function(e,n){return t(e,i[n])}))||(a=e.apply(void 0,o)),i=o,a}}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];var o=0,r=i.pop(),l=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(i),s=e.apply(void 0,[function(){return o++,r.apply(void 0,arguments)}].concat(n)),d=function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];var o=l.map((function(n){return n.apply(void 0,[e,t].concat(i))}));return s.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o))};return d.resultFunc=r,d.recomputations=function(){return o},d.resetRecomputations=function(){return o=0},d}}var o=t.P1=a(i)},560053:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,a=e[i];if(!(0<o(a,t)))break e;e[i]=t,e[n]=a,n=i}}function i(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,a=e.length,r=a>>>1;i<r;){var l=2*(i+1)-1,s=e[l],d=l+1,c=e[d];if(0>o(s,n))d<a&&0>o(c,s)?(e[i]=c,e[d]=n,i=d):(e[i]=s,e[l]=n,i=l);else{if(!(d<a&&0>o(c,n)))break e;e[i]=c,e[d]=n,i=d}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var d=[],c=[],u=1,p=null,h=3,m=!1,g=!1,_=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,f="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=i(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(d,t)}t=i(c)}}function x(e){if(_=!1,b(e),!g)if(null!==i(d))g=!0,D(k);else{var t=i(c);null!==t&&L(x,t.startTime-e)}}function k(e,n){g=!1,_&&(_=!1,y(T),T=-1),m=!0;var o=h;try{for(b(n),p=i(d);null!==p&&(!(p.expirationTime>n)||e&&!A());){var r=p.callback;if("function"==typeof r){p.callback=null,h=p.priorityLevel;var l=r(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?p.callback=l:p===i(d)&&a(d),b(n)}else a(d);p=i(d)}if(null!==p)var s=!0;else{var u=i(c);null!==u&&L(x,u.startTime-n),s=!1}return s}finally{p=null,h=o,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,S=!1,P=null,T=-1,I=5,C=-1;function A(){return!(t.unstable_now()-C<I)}function E(){if(null!==P){var e=t.unstable_now();C=e;var n=!0;try{n=P(!0,e)}finally{n?w():(S=!1,P=null)}}else S=!1}if("function"==typeof f)w=function(){f(E)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel,R=j.port2;j.port1.onmessage=E,w=function(){R.postMessage(null)}}else w=function(){v(E,0)};function D(e){P=e,S||(S=!0,w())}function L(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,D(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return i(d)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,o){var r=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?r+o:r:o=r,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>r?(e.sortIndex=o,n(c,e),null===i(d)&&e===i(c)&&(_?(y(T),T=-1):_=!0,L(x,o-r))):(e.sortIndex=l,n(d,e),g||m||(g=!0,D(k))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},363840:(e,t,n)=>{e.exports=n(560053)},653250:(e,t,n)=>{var i=n(667294);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useState,r=i.useEffect,l=i.useLayoutEffect,s=i.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(i){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=o({inst:{value:n,getSnapshot:t}}),a=i[0].inst,c=i[1];return l((function(){a.value=n,a.getSnapshot=t,d(a)&&c({inst:a})}),[e,n,t]),r((function(){return d(a)&&c({inst:a}),e((function(){d(a)&&c({inst:a})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},950139:(e,t,n)=>{var i=n(667294),a=n(61688);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=a.useSyncExternalStore,l=i.useRef,s=i.useEffect,d=i.useMemo,c=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,a){var u=l(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=d((function(){function e(e){if(!s){if(s=!0,r=e,e=i(e),void 0!==a&&p.hasValue){var t=p.value;if(a(t,e))return l=t}return l=e}if(t=l,o(r,e))return t;var n=i(e);return void 0!==a&&a(t,n)?t:(r=e,l=n)}var r,l,s=!1,d=void 0===n?null:n;return[function(){return e(t())},null===d?void 0:function(){return e(d())}]}),[t,n,i,a]);var h=r(e,u[0],u[1]);return s((function(){p.hasValue=!0,p.value=h}),[h]),c(h),h}},61688:(e,t,n)=>{e.exports=n(653250)},552798:(e,t,n)=>{e.exports=n(950139)},17314:(e,t,n)=>{n.d(t,{Z:()=>d});var i,a,o=n(813653),r=n(861470),l=0,s=0;const d=function(e,t,n){var d=t&&n||0,c=t||new Array(16),u=(e=e||{}).node||i,p=void 0!==e.clockseq?e.clockseq:a;if(null==u||null==p){var h=e.random||(e.rng||o.Z)();null==u&&(u=i=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=a=16383&(h[6]<<8|h[7]))}var m=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:s+1,_=m-l+(g-s)/1e4;if(_<0&&void 0===e.clockseq&&(p=p+1&16383),(_<0||m>l)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=m,s=g,a=p;var v=(1e4*(268435455&(m+=122192928e5))+g)%4294967296;c[d++]=v>>>24&255,c[d++]=v>>>16&255,c[d++]=v>>>8&255,c[d++]=255&v;var y=m/4294967296*1e4&268435455;c[d++]=y>>>8&255,c[d++]=255&y,c[d++]=y>>>24&15|16,c[d++]=y>>>16&255,c[d++]=p>>>8|128,c[d++]=255&p;for(var f=0;f<6;++f)c[d+f]=u[f];return t||(0,r.Z)(c)}},131888:e=>{var t,n,i,a,o,r,l,s,d={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"inviteCode"},n={defaultValue:null,kind:"LocalArgument",name:"inviteType"},i={defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"fromUserId",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[o,s={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,i],kind:"Operation",name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[r,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[s],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"1705ed8db84c79dc12b83cafd1757686fa888571bbecd699295d011693ddd4cf",metadata:{},name:"AllShareOptionsUtilityMutation",operationKind:"mutation",text:null}};d.hash="7e73aab163ac599c2451f08566f2eb15",e.exports=d},889424:e=>{var t,n,i,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};o.hash="bc8b32c56a4a58de585c9a05ae69bd9c",e.exports=o,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(o)},774049:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionPhotoAttribution_pin",selections:[{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="5dff28be2de95106e382c42d78ad1833",e.exports=n},7202:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},t,{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionPhotoAttribution_pin"},{args:null,kind:"FragmentSpread",name:"useStructuredDescriptionFragment_pin"}],type:"Pin",abstractKey:null};i.hash="464cdf6ac1ba4718405c4e40b4fa44a9",e.exports=i},787210:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetailsMoreInformationButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseFullBleedModal_pin"}],type:"Pin",abstractKey:null,hash:"5b35adb59215c21bd34fd5b4aae36344"};e.exports=t},229985:e=>{var t,n,i,a,o,r={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"},{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupDetails_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdpPlus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:a=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:a,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[t,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[n],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:o=[{args:null,kind:"FragmentSpread",name:"CloseupDetails_user"}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[i,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:o,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:o,storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttribution_pin"},{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipe_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"CloseupSavedAttribution_pin"},{args:null,kind:"FragmentSpread",name:"PinFeaturedInArticleCard_pin"},{args:null,kind:"FragmentSpread",name:"VaseFullBleedModal_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescription_pin"},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"},{args:null,kind:"FragmentSpread",name:"useReactionCountsFragment_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{condition:"isAuth",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"ProductDetails_pin"}]},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProductDescriptionDropdown_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CloseupDetailsMoreInformationButton_pin"},{args:null,kind:"FragmentSpread",name:"CommentThreadContainer_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"PinFeedbackButton_pin"}]}],type:"Pin",abstractKey:null};r.hash="03542f674230aac97c83d09614ca197e",e.exports=r},179461:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetails_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null,hash:"c9713d85ef89281fa5ad27120a1c71f9"};e.exports=t},849947:e=>{var t,n={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"},{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupFullDetail_pin",selections:[{args:null,kind:"FragmentSpread",name:"ImageViewer_pin"},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:t=[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"StoryPinStream_pin"}]},{args:null,kind:"FragmentSpread",name:"PinActionBar_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBarOptionsButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupModals_pin"},{args:t,kind:"FragmentSpread",name:"CloseupRelatedContent_pin"}],type:"Pin",abstractKey:null};n.hash="50252a7fe0547dca81cbedea51ca5b57",e.exports=n},284014:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainIframe_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null,hash:"ca973953e87be2d2406ed057784f61de"};e.exports=t},360142:e=>{var t,n={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"},{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupMainPinDetail_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupVideo_pin"},{args:null,kind:"FragmentSpread",name:"ProductCarousel_pin"},{args:null,kind:"FragmentSpread",name:"CloseupMainIframe_pin"},{args:null,kind:"FragmentSpread",name:"CloseupStoryPinBlock_pin"},{args:[t={kind:"Variable",name:"isAuth",variableName:"isAuth"},{kind:"Variable",name:"isDesktop",variableName:"isDesktop"}],kind:"FragmentSpread",name:"CloseupDetails_pin"},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"LeafSnippet_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinCloseupBodyOnDesktop_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinCloseupDetailsOnDesktop_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:[t],kind:"FragmentSpread",name:"StoryPinCloseupBodyOnMobile_pin"}]}],type:"Pin",abstractKey:null};n.hash="f440f02805e14f73c236d78b7d642280",e.exports=n},526859:e=>{var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupMainPinImage_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connectionType",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"},{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthMobileContextMenu_pin"}],type:"Pin",abstractKey:null,hash:"2d7215dde2f13f03e575c12b372b45af"};e.exports=t},403309:e=>{var t,n={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupMainPin_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null}],storageKey:null},{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"CloseupMainPinImage_pin"},{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null};n.hash="99fc7da78d4fdbb008b9dea6584a079e",e.exports=n},325168:e=>{var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupPageContainer_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthContextMenuController_pin"}],type:"Pin",abstractKey:null,hash:"ee8116db3874fedf870e4d60036a02c7"};e.exports=t},907673:e=>{var t,n,i,a,o={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupPage_pin",selections:[{alias:null,args:null,concreteType:"CreatorClass",kind:"LinkedField",name:"creatorClass",plural:!1,selections:n=[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CreatorClassInstance",kind:"LinkedField",name:"creatorClassInstance",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"videoUrls",storageKey:null}],storageKey:null},{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"Closeup_pin"}],type:"Pin",abstractKey:null};o.hash="32a371e9a8b9e94c59bd9366017385f3",e.exports=o},583164:e=>{var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupRelatedContent_pin",selections:[{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthCloseupRelatedPins_pin"}]},{condition:"isAuth",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CloseupRelatedModulesFeed_pin"}]}],type:"Pin",abstractKey:null,hash:"d4b39dee57bd6bf0fdc42aae434b1076"};e.exports=t},737304:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupSavedAttribution_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"62fd54709d3c18c78af173903ab765f1"};e.exports=t},947715:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupStoryPinBlock_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"pageId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinBlock_page"}],type:"Pin",abstractKey:null,hash:"d344c68f5098c99fd60af6ae84bd46ae"};e.exports=t},357285:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupTitle_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null};n.hash="25723008d032ae501d5e0864dc8fbc76",e.exports=n},69039:e=>{var t,n,i,a,o,r,l,s,d={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"Closeup_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:n=[t],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[i],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdpPlus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isV1IdeaPin",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i],storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[a,l={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:r=[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[t,i],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainVerified",storageKey:null},t],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[o,{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thirdPartyPinOwner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:n,storageKey:null},{args:s=[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"CloseupPageContainer_pin"},{args:s,kind:"FragmentSpread",name:"CloseupMainPin_pin"},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};d.hash="8939d6188df8e0ef3356c7efbe3ee3a9",e.exports=d},371446:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},t,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n=[t],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="234f66aea5753d5616331c19fd253953",e.exports=i},249117:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadModalEntryPoint_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CommentThreadModal_pin"}],type:"Pin",abstractKey:null,hash:"dfd3eed39be47eff0403391f6f34d8d6"};e.exports=t},553703:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadModal_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:n=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CommentThreadContainer_pin"}],type:"Pin",abstractKey:null};i.hash="b9dc516981624e7bd1a9497099e4e8c1",e.exports=i},766131:e=>{var t,n,i,a={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"LazyLoadPinBreadcrumbsQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"LazyLoadPinBreadcrumbsQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"f5c2a4544d75592cedbb5c841969c7b7f7d1b38bf96dd6d0ab116107bfa90978",metadata:{},name:"LazyLoadPinBreadcrumbsQuery",operationKind:"query",text:null}};a.hash="c8e65ee18cda32864e9b7635744f253f",e.exports=a,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(a)},584473:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttributionText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"17ee7538a8ba5a468f69f85d06121f1d"};e.exports=t},268511:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttribution_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"}],type:"Pin",abstractKey:null,hash:"a9ae8d2f405ccc3f5679c216f90313c8"};e.exports=t},463146:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarMoreOptions_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"1fa11493057ab927e98b370acb329b14"};e.exports=t},179419:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarOptionsButton_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"VaseSection_pin"},{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null,hash:"7114207fdb9a06fb41db6835d9955843"};e.exports=t},157035:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarVisitButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null,hash:"2ed8f79733cbeedba9e8a7ed03435228"};e.exports=t},272245:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBar_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdpPlus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinActionBarOptionsButton_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBarVisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CommentThreadModalEntryPoint_pin"}],type:"Pin",abstractKey:null};n.hash="181fe5662c1a7df575aba7b3eb325dfa",e.exports=n},327511:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinFeaturedInArticleCard_pin",selections:[{alias:null,args:null,concreteType:"TodayArticleWithPath",kind:"LinkedField",name:"relatedArticle",plural:!1,selections:[{alias:"_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mainImageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"urlPath",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"a7aa8ca2a9aab89cbe065401dfa9e30d"};e.exports=t},761952:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipeRating_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serves",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"26da2a2e34a1dbb54731911458fc39a2"};e.exports=t},24789:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},t],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="0399d1e5d3138c8784dabc45eac4492b",e.exports=n},842931:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductCarousel_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:n=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichMetadataProductsAdditionalImagesFragment"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[t,{args:null,kind:"FragmentSpread",name:"useCarouselSlotsWithImagesFragment"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};i.hash="43c4c16a7fa00a530bd1aa8c33e6b611",e.exports=i},633484:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionDropdown_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"useStructuredDescriptionFragment_pin"}],type:"Pin",abstractKey:null,hash:"e49c269bff73cba5691f5113b6f00759"};e.exports=t},382545:e=>{var t,n,i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetails_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdpPlus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipsToUserCountry",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[n,i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},t,{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"},{args:null,kind:"FragmentSpread",name:"useStructuredDescriptionFragment_pin"},{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"},{args:null,kind:"FragmentSpread",name:"ProductPrice_pin"},{args:null,kind:"FragmentSpread",name:"ProductMetadata_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviews_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"}],type:"Pin",abstractKey:null};a.hash="72b67c420038ee2b89f9552f19337981",e.exports=a},408103:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductMetadata_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[t],storageKey:null}],type:"Pin",abstractKey:null};n.hash="c6e301fa0ed0431e30c19b641644010e",e.exports=n},894235:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductPrice_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:t=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null};n.hash="2d8f315013487d39e45789c61794f121",e.exports=n},825090:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsCollapsible_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],type:"Pin",abstractKey:null,hash:"a663d52f0626cc8887103d9e1a8a78c2"};e.exports=t},802195:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsModal_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"a942edb09f07e93186cbbfed0b8031a7"};e.exports=t},670782:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsPreview_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"25e031a9439a0eef8418850148f49a45"};e.exports=t},94109:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviews_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductReviewsCollapsible_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviewsPreview_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviewsModal_pin"}],type:"Pin",abstractKey:null,hash:"c2f4c93600298edcacdd3b6d3a62ab79"};e.exports=t},599271:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null,hash:"8d0233fe1acbc77ec2b5a1754e0a6e36"};e.exports=t},295971:e=>{var t,n,i,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:"invite_code",args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:"invite_url",args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"ab55ea9f382837bc92cb5dab03686e16868a27912a9e4237e2ddbe7a15540d21",metadata:{},name:"ShareInviteCreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};o.hash="9c91c46b70b37b163403747442a8c1d4",e.exports=o,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(o)},134167:e=>{var t,n,i,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_category"},{defaultValue:null,kind:"LocalArgument",name:"url"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCategory",variableName:"invite_category"},{kind:"Literal",name:"name",value:""},{kind:"Variable",name:"url",variableName:"url"}],concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"ShareLink",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:"invite_code",args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:"invite_url",args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3CreateShareLink",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"ClientError",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"V3CreateShareLink",abstractKey:null}],storageKey:null}]},params:{id:"8d8e9da7f5f5830ad00711d5fa1aa68c48b859aac0680cc0e49d58d3c1ccea88",metadata:{},name:"ShareInviteCreateShareLinkGraphQLQuery",operationKind:"query",text:null}};o.hash="e485abf49d319ba9c47587981f2a86be",e.exports=o,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(o)},523132:e=>{var t,n,i,a,o,r,l,s,d={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"inviteCode"},n={defaultValue:null,kind:"LocalArgument",name:"inviteType"},i={defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"ShareInviteMutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"fromUserId",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[o,s={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,i],kind:"Operation",name:"ShareInviteMutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[r,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[s],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"30e03e1f3b6dded5c6d93bfecfb50065b254f1307aec34dfa67719890b615b82",metadata:{},name:"ShareInviteMutation",operationKind:"mutation",text:null}};d.hash="c33b898a613c3dc2792113fb7e97b0f5",e.exports=d},261618:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinBlock_page",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},n={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"xCoord",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"yCoord",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinParagraphBlock_block"}],type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinHeadingBlock_block"}],type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinImageBlock_block"}],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinVideoBlock_block"}],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinMentionStickerBlock_block"}],type:"StoryPinMentionStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:null,args:null,kind:"ScalarField",name:"interactiveStickerType",storageKey:null},n,{args:null,kind:"FragmentSpread",name:"StoryPinGenericInteractiveStickerBlock_block"}],type:"StoryPinGenericInteractiveStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinProductStickerBlock_block"}],type:"StoryPinProductStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinVirtualTryOnMakeupStickerBlock_block"}],type:"StoryPinVirtualTryOnMakeupStickerBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinGenericInteractiveStickerBlock_pin"}],type:"Pin",abstractKey:null};i.hash="56fb1ce86006e36a940a09f6147d1ff9",e.exports=i},169741:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinGenericInteractiveStickerBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"errorMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interactiveStickerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isValid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"stickerData",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"GenericInteractiveStickerStoryBoardData",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"questionCommentId",storageKey:null},t],type:"GenericInteractiveStickerStoryQuestionData",abstractKey:null}],storageKey:null}],type:"StoryPinGenericInteractiveStickerBlock",abstractKey:null};n.hash="020b8c3f71cd0246bb11c20ad3ede297",e.exports=n},79145:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinGenericInteractiveStickerBlock_pin",selections:[{args:null,kind:"FragmentSpread",name:"StoryPinStickerBlock_pin"}],type:"Pin",abstractKey:null,hash:"2d13cb1f75d0bf3742ddb8f141ea022a"};e.exports=t},178365:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinHeadingBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},{alias:null,args:null,concreteType:"Font",kind:"LinkedField",name:"font",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"defaultSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"letterSpacing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lineHeight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fontSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hexColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"highlightColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verticalAlignment",storageKey:null}],storageKey:null}],type:"HeadingBlock",abstractKey:null,hash:"af07b7cdd16e1077cabeda3ca6145d1b"};e.exports=t},556079:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinImageBlock_block",selections:[{alias:"imageSpec_750x",args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"750x")'}],type:"StoryPinImageBlock",abstractKey:null,hash:"724c999686603f1e98f5d4626b40c50d"};e.exports=t},688599:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinMentionStickerBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null}],type:"StoryPinMentionStickerBlock",abstractKey:null,hash:"9754fdf299e8958fcc42660ffe6c6155"};e.exports=t},519484:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinParagraphBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},{alias:null,args:null,concreteType:"Font",kind:"LinkedField",name:"font",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"defaultSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"letterSpacing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lineHeight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fontSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hexColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"highlightColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verticalAlignment",storageKey:null}],storageKey:null}],type:"ParagraphBlock",abstractKey:null,hash:"b8a348287be5b70818ef7b7ccb39d819"};e.exports=t},336090:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinProductStickerBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null}],type:"StoryPinProductStickerBlock",abstractKey:null,hash:"084531623b2f67777d2e474859ff21c2"};e.exports=t},464442:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinStickerBlock_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null,hash:"97a6e17f21fa95eedecad1971f9f2ea5"};e.exports=t},952879:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinVideoBlock_block",selections:[{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormatted",kind:"LinkedField",name:"videoData",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n],storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null};i.hash="d7df9932f22f284b9aea60c05da4295b",e.exports=i},589316:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinVirtualTryOnMakeupStickerBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null}],type:"StoryPinVirtualTryOnMakeupStickerBlock",abstractKey:null,hash:"2c07e1a8942151e5386e2c2786701f8e"};e.exports=t},80259:e=>{var t,n,i,a,o,r,l,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteCode"}],kind:"Fragment",metadata:null,name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a,o,r,l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},l],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"4610a8b7fe41310eb2db231b8c1171930d91f797fbc7fd321ec6682cb48a3711",metadata:{},name:"UnauthCloseupInviteUpsellQuery",operationKind:"query",text:null}};s.hash="6932152931fe069ad54b218e36e66908",e.exports=s,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(s)},140109:e=>{var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthContextMenuController_pin",selections:[{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthContextMenu_pin"}],type:"Pin",abstractKey:null,hash:"9cbce2e5d42ba48125c1151e618b033c"};e.exports=t},586188:e=>{var t,n,i,a,o,r,l={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_474",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},t,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:o,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:o,storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},r,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:o,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null};l.hash="8b497ca56c12a533ff06459d893a3f40",e.exports=l},823722:e=>{var t,n,i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null};a.hash="69c8282217ea70788d1578a6885fe8bd",e.exports=a},739386:e=>{var t,n={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthMobileContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};n.hash="c90e61374756957f70a91f8b9ac42195",e.exports=n},717988:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null,hash:"594237c2ea6ccfb8bbc0e3e8c62cac9f"};e.exports=t},114572:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseFullBleedModal_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"2e464db34007ea4c1c0752bf62bbb542"};e.exports=t},298262:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},n,{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null};i.hash="16fa74c6691fea1cd19a833e3523aade",e.exports=i},495050:e=>{var t,n,i,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"boards_AcceptInvite_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_AcceptInvite_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"684be4cb6a79ca32f82ddfa38f308039fdcaff0720a6118743e1e198085f1237",metadata:{},name:"boards_AcceptInvite_Mutation",operationKind:"mutation",text:null}};o.hash="c73ed7e5b29f046197e7dfcf7d7a7cd0",e.exports=o},45340:e=>{var t,n,i,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"boards_ApproveInvite_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_ApproveInvite_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"1380a15fe95dc7713c5d72fd6104da573f3db5b8b0ab66f883bec351df4c8a71",metadata:{},name:"boards_ApproveInvite_Mutation",operationKind:"mutation",text:null}};o.hash="216cdb449b148a3d36e9d0621dcfcac5",e.exports=o},489665:e=>{var t,n,i,a,o,r,l={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"ban"},n={defaultValue:null,kind:"LocalArgument",name:"boardId"},i={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"boards_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,i,t],kind:"Operation",name:"boards_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[r],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"533aad425ad868e5a9d811bf76dccd56e54e0cc48c4c8b526ccbcd7c68efb981",metadata:{},name:"boards_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};l.hash="b03dba13d39482d785778ba0feadca06",e.exports=l},706206:e=>{var t,n,i,a,o,r,l,s,d={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"boards_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{kind:"InlineFragment",selections:[i,{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[i,l={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o,r,s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},s],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[l],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"e100ea491b53ee042f6d9a7f42b583afafd9b8a730b43e06b81b9132821866ea",metadata:{},name:"boards_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};d.hash="ecec88eadc69c1153ca5e0c4bfe03fd9",e.exports=d},224159:e=>{var t,n,i,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"boards_emails_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"V3InviteBoardCollaboratorEmail",abstractKey:null},{kind:"InlineFragment",selections:[i,a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_emails_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"4d372bf76e6f77707e9106c02f73ec23773c4bd7e457dc684ea7dd1b87985c7c",metadata:{},name:"boards_emails_Mutation",operationKind:"mutation",text:null}};o.hash="0659a1edf1c7935aff1deef3f51f2add",e.exports=o},588206:e=>{var t,n,i,a,o,r,l={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"boardId"},n={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},i={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"boards_users_Mutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,i],kind:"Operation",name:"boards_users_Mutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[r],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"9495c71001fb315e3dc5e63ec17a8d8d5a4fb53ebc7f791b44093a4a92665835",metadata:{},name:"boards_users_Mutation",operationKind:"mutation",text:null}};l.hash="743ce0da1ac8191550520ebe045b4fb0",e.exports=l},782194:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"35075da6e1f4b526ac4314727015c44d"};e.exports=t},900936:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCarouselSlotsWithImagesFragment",selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'}],storageKey:null}],type:"PinCarouselData",abstractKey:null};n.hash="6ee0e06d6e3b47f9396e4ede80e7ecdd",e.exports=n},567045:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useClickthrough_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:n=[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};i.hash="8d7bd7a5f2c2827017b3814423934967",e.exports=i},277334:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImagesFragment_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};n.hash="8dd4c9c753d2a67c0606dfff23b820e9",e.exports=n},611338:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useReactionCountsFragment_pin",selections:[{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"11d828252f89045bc37e6aa5eb3fbea6"};e.exports=t},115606:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichMetadataProductsAdditionalImagesFragment",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};n.hash="5f94f91848fd463f5381b36dd565e15d",e.exports=n},157222:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStructuredDescriptionFragment_pin",selections:[{alias:null,args:null,concreteType:"FormattedCloseupDescription",kind:"LinkedField",name:"formattedCloseupDescription",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:"stringContent",args:null,kind:"ScalarField",name:"content",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"DescriptionString",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:"pointsContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionPoints",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:"specsContent",args:null,concreteType:"DescriptionSpecDetail",kind:"LinkedField",name:"content",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],type:"DescriptionSpecs",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:"tableContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionTable",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="be1864520883fcc12e69e99c1323d274",e.exports=n},914939:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(702664),a=n(690108),o=n(76008),r=n(738318),l=n(952239),s=n(541268),d=n(826260),c=n(274796);const u={[r.o.aggregatedComment]:"AggregatedCommentReplyResource",[r.o.pin]:"AggregatedCommentResource",[r.o.didIt]:"DidItCommentsResource"};function p(){const e=(0,i.useDispatch)(),{aggregatedCommentCreated:t,updateCommentCount:n}=(0,o.nf)();return async({force:i=!0,fromUnifiedComment:o,objectId:r,objectType:p,orbacSubjectId:h,pinId:m,replyToCommentId:g,tags:_,text:v})=>{const y=u[p],f={force:i,objectId:r,pinId:m,tags:_,text:v,replyToCommentId:g,...h?{orbacSubjectId:h}:{}};let b=c.Z.AGGREGATED_COMMENTS;o&&(b="pin"===p?c.Z.UNIFIED_COMMENTS:c.Z.AGGREGATED_COMMENT_REPLIES);const x=await a.Z.create(y,f).callCreate({showError:!1}),k=x.resource_response.data;return t(r,k),e((0,s.vX)({feedType:b,feedId:r,itemIds:[k.id],itemType:k.type,prepend:!0})),"pin"===p&&m?e((0,d.R)(m,1)):"aggregatedComment"===p?n(r,1):e((0,l.L8)(r,1)),k.id||x}}},932845:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(702664),a=n(690108),o=n(123228),r=n(76008),l=n(952239),s=n(541268),d=n(826260),c=n(274796);function u(){const e=(0,i.useDispatch)(),{aggregatedCommentDeleted:t,updateCommentCount:n}=(0,r.nf)();return async({aggregatedCommentId:i,aggregatedPinId:r,feedType:u,orbacSubjectId:p,parentId:h,type:m,updateParentCommentCount:g})=>{await a.Z.create("AggregatedCommentResource",{commentId:i,...p?{orbacSubjectId:p}:{}}).callDelete({showError:!1}),h&&(e((0,s.EX)({feedId:r||h,feedType:u||c.Z.AGGREGATED_COMMENTS,itemIds:[i],itemType:"aggregatedcomment"})),t(h,i),g&&(m||0===m)&&(m===o.Rv.TOP?e((0,d.R)(h,-1)):m===o.Rv.REPLY_TO_AGGREGATED?n(h,-1):e((0,l.L8)(h,-1))))}}},874965:(e,t,n)=>{n.d(t,{b:()=>c,h:()=>u});var i=n(758579),a=n(78309),o=n(969327),r=n(946618),l=n(354428),s=n(3060),d=n(204926);const c=({href:e,pinId:t,pin:n,location:d,auxData:c},u)=>{if(n&&n.is_promoted){var p,h,m,g;const k=(0,r.Z)({boardUrl:null===(p=n.board)||void 0===p?void 0:p.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:d,pinId:n.id,pinnerUserName:null===(h=n.pinner)||void 0===h?void 0:h.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}),w=(0,l.nS)({url:e,pinId:t,csrId:null,clientTrackingParams:k,auxData:c}),S=(0,i.Z)();if((0,o.G6)(null!==(m=null==S?void 0:S.userAgent.browserName)&&void 0!==m?m:"")){var _,v;const{group:i}=null!==(_=null==S?void 0:S.experimentsClient.checkExperiment("m10n_event_conversion_measurement"))&&void 0!==_?_:{},o=null!=S&&null!==(v=S.userAgent)&&void 0!==v&&v.browserVersion?S.userAgent.browserVersion:"0.0",r=parseFloat(o.split(".")[0]+"."+o.split(".")[1]);if(void 0!==n.campaign_id&&r>=14.1&&["enabled_safari"].includes(i)){var y;const i=n.attribution_source_id?((e,t,n)=>{const i=document.createElement("a");return i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(a.$N.ATTRIBUTION_SOURCE_ID,e),i.setAttribute(a.$N.ATTRIBUTE_DESTINATION,n),i.setAttribute(a.$N.ATTRIBUTE_ON,n),i.click(),e})(n.attribution_source_id,w,e):((e,t,n)=>{const i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block";const o=""+(e%32*8+Math.floor(((new Date).getTime()-16409952e5)/864e5)%8);return i.setAttribute(a.$N.ATTRIBUTION_SOURCE_ID,o),i.setAttribute(a.$N.ATTRIBUTE_DESTINATION,n),i.setAttribute(a.$N.ATTRIBUTE_ON,n),i.click(),o})(null!==(y=n.pin_promotion_id)&&void 0!==y?y:0,w,e);return u({event_type:101,clientTrackingParams:k,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_pcm:!0,attribution_source_id:i,page_url:e}}),!0}}else if((0,o.i7)(null!==(g=null==S?void 0:S.userAgent.browserName)&&void 0!==g?g:"")){var f,b;const{group:i}=null!==(f=null==S?void 0:S.experimentsClient.checkExperiment("m10n_event_conversion_measurement_chrome"))&&void 0!==f?f:{},o=null!=S&&null!==(b=S.userAgent)&&void 0!==b&&b.browserVersion?parseInt(S.userAgent.browserVersion.split(".")[0],10):0;if(void 0!==n.attribution_source_id&&o>=101&&["enabled"].includes(i)){var x;const i=((e,t,n)=>{const i=new URL(`${s.C0}/attribution_source/`);i.searchParams.set(a.NR.SOURCE_EVENT_ID,e),i.searchParams.set(a.NR.DESTINATION,n),i.searchParams.set(a.NR.EXPIRY,""+a.uV),i.searchParams.set(a.NR.SOURCE_EVENT_TYPE,"click");const o=document.createElement("a");return o.setAttribute("href",t),o.setAttribute("target","_blank"),o.setAttribute("rel","noopener nofollow noreferrer"),o.style.cursor="pointer",o.style.display="block",o.setAttribute(a.NR.SOURCE,i.toString()),o.click(),e})(null!==(x=n.attribution_source_id)&&void 0!==x?x:"0",w,e);return u({event_type:101,clientTrackingParams:k,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_arapi:!0,attribution_source_id:i,page_url:e}}),!0}}}return!1},u=({href:e,pinId:t,pin:n,location:i,auxData:a},o)=>{if("undefined"!=typeof window&&window.Windows)(0,d.Z)({url:e,pinId:t,pin:n,location:i,auxData:a});else{var s,u;if(c({href:e,pinId:t,pin:n,location:i,auxData:a},o))return;(0,l.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:(0,r.Z)({boardUrl:null==n||null===(s=n.board)||void 0===s?void 0:s.url,callToCreateSourcePinId:null==n?void 0:n.call_to_create_source_pin_id,location:i,pinId:null==n?void 0:n.id,pinnerUserName:null==n||null===(u=n.pinner)||void 0===u?void 0:u.username,storyPinDataId:null==n?void 0:n.story_pin_data_id,trackingParams:null==n?void 0:n.tracking_params,trackingParamsMap:null==n?void 0:n.tracking_params_map}),auxData:a})}}},939809:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(883119),o=n(846226),r=n(785893);function l({accessibilityLabel:e,handleClick:t,icon:n,iconColor:l,iconOnly:s,testId:d,buttonText:c,tabIndex:u}){const[p,h]=(0,i.useState)(!1),m=(0,i.useRef)(),g=s?"md":"lg",_=l||"darkGray",v=()=>{h((e=>!e)),t()},y=e=>{var t;m&&e.target instanceof Element&&(null===(t=m.current)||void 0===t||!t.contains(e.target))&&h(!1)};return(0,i.useEffect)((()=>(window.addEventListener("mousedown",y),()=>{window.removeEventListener("mousedown",y)})),[]),(0,r.jsx)(o.Z,{id:d||"closeup-action-bar-button",children:(0,r.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,r.jsx)(a.hU,{accessibilityLabel:e,iconColor:_,onClick:v,selected:p,icon:n,size:g,ref:m,tabIndex:u}),c&&(0,r.jsx)(a.iP,{onTap:v,rounding:2,children:(0,r.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:c})})]})})}},318583:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(883119),o=n(342693),r=n(536042),l=n(785893);function s({children:e,isDarkMode:t}){const n=(0,i.useRef)(null),[s,d]=(0,i.useState)({isFirstLoad:!0,isTruncated:!1}),c=(0,r.ZP)(),{isFirstLoad:u,isTruncated:p}=s;return(0,i.useEffect)((()=>{var e;u&&n.current&&((e=n.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&d({isFirstLoad:!1,isTruncated:!0})}),[u,p]),(0,l.jsxs)(a.xu,{position:"relative","data-test-id":"truncated-description",flex:"grow",children:[(0,l.jsx)(a.xv,{size:o.n,ref:n,lineClamp:u||p?3:0,children:e}),p&&(0,l.jsx)(a.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,l.jsxs)(a.kC,{flex:"grow",children:[(0,l.jsx)(a.xu,{display:"inlineBlock",flex:"grow",height:"18px"}),(0,l.jsx)(a.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:t?"black":"white"}},marginEnd:1,"data-test-id":"more-description-container",children:(0,l.jsx)(a.iP,{fullWidth:!1,onTap:()=>d({...s,isTruncated:!1}),children:(0,l.jsx)(a.xv,{size:o.n,weight:"bold",children:c.bt(" ", " more ", "closeup.TruncatedDescription.moreLabel", undefined, true)})})})]})})]})}},879352:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(883119),o=n(987867),r=n(388011),l=n(536042),s=n(634923),d=n(785893);class c extends i.PureComponent{constructor(...e){var t,n,i;super(...e),t=this,n="startAudiblePlayTime",i=this.props.muted?null:new Date,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidUpdate(e){e.muted!==this.props.muted&&(this.startAudiblePlayTime=this.props.muted?null:new Date)}componentWillUnmount(){const{musicRecordingId:e,muted:t,pinId:n,video:i}=this.props;if(e&&!t&&this.startAudiblePlayTime){if(new Date-this.startAudiblePlayTime>=2e3){const{hlsv3:t,mp4:a}=(0,s.Z)(i)||{},o=a||t,r=(null==o?void 0:o.duration)||0;this.props.logContextEvent({event_type:8999,object_id_str:e,aux_data:{pin_id:n,story_pin_music_duration:r}})}}}render(){const{activePageIndex:e,blockHeight:t,blockPosition:n,blockWidth:i,closeupStoryPinViewability:r,customEndCard:l,isPlaying:c,muted:u,onEnded:p,onUpdateVideoInfo:h,pageIndex:m,pinId:g,roundCorners:_=!0,video:v,videoThumbnailStartTime:y}=this.props,{hlsv3:f,mp4:b}=(0,s.Z)(v)||{},x=b||f;if(!x)return null;const{height:k,thumbnail:w,width:S}=x,P=(null!=S?S:1)/(null!=k?k:1),T={height:"100%",left:"0",top:"0",width:"100%"},I=i/t;if(Math.abs(I-P)>.01)if(I<P){const e=100*P/I;T.width=`${e}%`,T.left=`-${(e-100)/2}%`}else if(I>P){const e=100*I/P;T.height=`${e}%`,T.top=`-${(e-100)/2}%`}const C="number"==typeof e&&m<=e+3;return(0,d.jsx)(a.xu,{height:t,overflow:"hidden",position:"relative",width:i,children:(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{left:n.left<0?n.left:0,top:n.top<0?n.top:0}},height:"100%",position:"absolute",width:"100%",children:C||c||y?(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:T},position:"absolute",children:(0,d.jsx)(o.Z,{loop:!1,autoplay:c,closeupStoryPinViewability:r,contextLogData:{component:0===m?227:228,element:10957,objectId:g,story_pin_page_id:m,view:3,viewParameter:157},customThumbnail:w,customEndCard:l,isPromoted:!1,muted:u,pinId:g,showControls:"never",variant:"storyPin",preferMp4:!!b,objectFit:b?"cover":void 0,roundingOverride:_?null:0,video:{id:v.id,hlsv3:f,mp4:b},onTimeChange:({time:e})=>{if(h&&"number"==typeof x.duration&&x.duration>0){const t=x.duration/1e3;h({currentTime:e,duration:t})}},onEnded:()=>{p&&p(m)},videoThumbnailStartTime:y})}):(0,d.jsx)(a.Ee,{alt:this.props.i18n.bt("", "Video cover image", "closeup.storyPin.videoCover", undefined, true),fit:"cover",naturalHeight:null!=k?k:1,naturalWidth:null!=S?S:1,src:null!=w?w:""})})})}}function u(e){const{logContextEvent:t}=(0,r.v)(),n=(0,l.ZP)();return(0,d.jsx)(c,{...e,i18n:n,logContextEvent:t})}},319828:(e,t,n)=>{n.d(t,{_B:()=>z,Xw:()=>Z,tD:()=>N,ZP:()=>K});var i=n(883119),a=n(616550),o=n(388011),r=n(819079),l=n(196039),s=n(785893);const d=({block:{block_style:{height:e=0,width:t=0,x_coord:n=0,y_coord:d=0,rotation:c=0}={},original_comment_id:u},pageAspectRatio:p,scaleFactor:h})=>{const{logContextEvent:m}=(0,o.v)(),g=z/p,_=t*z*h/100,v=e*g*h/100,y=n*z*h/100,f=d*g*h/100,b=(0,a.useHistory)(),{data:x}=(0,r.Z)({name:"AggregatedCommentResource",options:{commentId:u,field_set_key:"comment_reply_sticker"}});return(0,s.jsx)(i.xu,{display:"flex",dangerouslySetInlineStyle:{__style:{left:y,top:f,transform:`rotate(${c}deg)`}},height:v,position:"absolute",width:_,rounding:2,zIndex:l.B5,padding:1,margin:-1,children:(0,s.jsx)(i.iP,{onTap:()=>{m({event_type:102,view_type:1,component:227,element:12541,aux_data:{comment_id:u}}),null!=x&&x.pin_id&&b.push(`/pin/${x.pin_id}/comments/${u||""}`)},rounding:"pill"})})};var c=n(667294),u=n(397352);function p({src:e,fallbackSrc:t,...n}){const[i,a]=(0,c.useState)(e);return(0,c.useEffect)((()=>{const n=async()=>{const n=await function(e){return new Promise((t=>{const n=document.createElement("img");n.onerror=()=>t(!1),n.onload=()=>t(!0),n.src=e}))}(e);n||a(t)};t&&n()}),[t,e]),(0,s.jsx)(u.Z,{...n,src:i})}var h=n(702664);function m({isUseCache:e,signature:t}){return(0,h.useSelector)((({pinbuilder:n})=>{const{storyPinItemBlocks:i}=n;if(!e)return null;for(const e of Object.keys(i)){var a,o;if((null===(a=i[e].media)||void 0===a?void 0:a.signatureEdited)===t||(null===(o=i[e].media)||void 0===o?void 0:o.signature)===t)return i[e]}return null}))}var g=n(914939),_=n(340906),v=n(88622),y=n(536042),f=n(738318);const b=({aggregatedCommentId:e,onDismiss:t})=>{const n=(0,y.ZP)(),a=(0,_.Z)(),o=(0,g.Z)(),[r,l]=(0,c.useState)(""),d=(0,s.jsx)(i.kC,{justifyContent:"end",children:(0,s.jsx)(i.zx,{color:"red",disabled:!r,onClick:()=>{(async()=>{await o({fromUnifiedComment:!0,objectType:f.o.aggregatedComment,objectId:e,tags:"[]",text:r})})(),t()},text:n.bt("", "Post", "ideapin.questionsticker.replymodal.postbutton", undefined, true)})});return(0,s.jsx)(v.ZP,{accessibilityModalLabel:"reply to creator Q and A question",align:"start",footer:d,heading:n.bt("", "Reply", "ideapin.questionsticker.replymodal", undefined, true),onDismiss:t,children:(0,s.jsx)(i.xu,{paddingX:8,paddingY:1,children:(0,s.jsx)(i.Kx,{id:"ideaPinQuestionStickerReplyModalTextArea",onChange:({value:e})=>{l(e)},placeholder:a?n.bt(" Pin ", "Your reply will show up as a public comment on this Pin.", "pin.questionsticker.replymodal.placeholder", undefined, true):n.bt(" Pin ", "Your reply will show up as a public comment on this Idea Pin.", "ideapin.questionsticker.replymodal.placeholder", undefined, true),value:r})})})};var x=n(621699),k=n(630089),w=n(245410),S=n(463031),P=n(551897);function T({block:e,elementType:t,onFlyoutOpen:n,pageAspectRatio:d,pageIndex:u,productPins:p,scaleFactor:h,tooltipElementType:m,videoPinProgress:g}){var _;const{logContextEvent:v}=(0,o.v)(),[f,T]=(0,c.useState)(!1),[I,C]=(0,c.useState)(!1),A=(0,c.useRef)(),E=(0,a.useHistory)(),j=(0,y.ZP)(),{checkExperiment:R}=(0,w.F)(),{block_style:{height:D=0,width:L=0,x_coord:F=0,y_coord:M=0,rotation:O=0}={},end_time:U,error_message:B,interactive_sticker_type:K=null,is_removed:V,is_valid:H,start_time:G,sticker_data:W,type:$}=e,q=e.pin_id,Y=(p||[]).find((e=>[e.id,e.cacheable_id].includes(q)))||{},{board_id:J,question_comment_id:X}=W||{},{image_small_url:Q,full_name:ee,username:te=""}=null!==(_=e.user)&&void 0!==_?_:{};let ne=null;const ie=H&&5===K&&!!J,ae=H&&7===K&&!!X,oe=(0,r.Z)(J&&ie?{name:"BoardResource",options:{field_set_key:"tagged_board_preview",board_id:J}}:null),{is_collaborative:re,pin_count:le,url:se}=oe.data||{};$===S.h8.PRODUCT_STICKER?ne=q?`/pin/${q}/`:"/":$===S.h8.MENTION_STICKER?ne=`/${te}/`:ie&&(ne=oe.isLoaded?`${se}`:null);const de=z/d,ce=L*z*h/100,ue=D*de*h/100,pe=F*z*h/100,he=M*de*h/100,{currentTime:me}=g||{},ge=!(0,P.Z)({currentTime:me,endTime:U,startTime:G}),_e=()=>{v({event_type:123,component:228,element:m,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:u}}),T(!1)};(0,c.useEffect)((()=>(document.addEventListener("scroll",(()=>{T(!1)})),()=>document.removeEventListener("scroll",(()=>{T(!1)})))),[]);const ve=()=>{let e=null;switch($){case S.h8.PRODUCT_STICKER:const t=40,{grid_title:n,images:a,rich_summary:o,description:r}=Y||{},l=(a||{})["236x"]||{},{display_name:d,products:u}=o||{},p=((u||[])[0]||{}).offer_summary||{},{price:h,max_price:m}=p||{},g=!(!p||!h&&!m),_=d||n||r;e=(0,s.jsxs)(c.Fragment,{children:[(0,s.jsx)(i.xu,{flex:"none",children:(0,s.jsx)(i.zd,{wash:!0,height:t,width:t,rounding:3,children:(0,s.jsx)(i.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:l.url||""})})}),(0,s.jsx)(i.xu,{flex:"grow",paddingX:2,children:g?(0,s.jsxs)(i.kC,{alignContent:"center",alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"center",children:[(0,s.jsx)(i.xv,{size:"100",lineClamp:1,weight:"bold",color:"shopping",children:h}),(0,s.jsx)(i.xv,{size:"100",lineClamp:1,children:_})]}):(0,s.jsx)(i.xv,{size:"100",lineClamp:1,children:_})}),(0,s.jsx)(i.xu,{flex:"none",children:(0,s.jsx)(i.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case S.h8.MENTION_STICKER:e=(0,s.jsxs)(c.Fragment,{children:[(0,s.jsx)(i.xu,{flex:"none",children:(0,s.jsx)(x.Z,{size:"sm",name:null!=ee?ee:"",src:null!=Q?Q:void 0})}),(0,s.jsx)(i.xu,{flex:"grow",paddingX:2,children:(0,s.jsx)(i.xv,{weight:"bold",size:"200",lineClamp:1,children:ee})}),(0,s.jsx)(i.xu,{flex:"none",children:(0,s.jsx)(i.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case S.h8.GENERIC_STICKER:e=[5].includes(K)?H?oe.isLoaded?(0,s.jsxs)(c.Fragment,{children:[(0,s.jsxs)(i.xu,{flex:"grow",paddingX:2,children:[(0,s.jsx)(i.xv,{weight:"bold",size:"100",lineClamp:1,children:re?j.bt("", "Explore this group board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true):j.bt("", "Explore this board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true)}),(0,s.jsx)(i.xv,{size:"100",children:(!!le||0===le)&&(0,k.nk)(j.nbt(["{{ pinCount }}  Pin "], le, "closeup.StoryPin.stickerBlock.boardSticker.boardLabel", true),{pinCount:le})})]}),(0,s.jsx)(i.xu,{flex:"none",children:(0,s.jsx)(i.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]}):(0,s.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingY:2,children:[(0,s.jsx)(i.xu,{marginEnd:1,paddingX:2,children:(0,s.jsx)(i.xv,{color:"subtle",size:"100",lineClamp:1,children:j.bt("...", "Loading board...", "closeup.StoryPin.stickerBlock.boardSticker.loadingText", undefined, true)})}),(0,s.jsx)(i.$j,{accessibilityLabel:j.bt("", "Board is loading", "closeup.StoryPin.stickerBlock.boardSticker.loadingSpinnerText", undefined, true),size:"sm",show:!0})]}):(0,s.jsx)(i.xu,{paddingX:2,paddingY:2,children:(0,s.jsx)(i.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:B})}):(0,s.jsx)(i.xu,{paddingX:2,paddingY:2,children:(0,s.jsx)(i.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:j.bt("", "Sticker not supported yet", "closeup.StoryPin.stickerBlock.genericStickerError", undefined, true)})});break;case S.h8.VTO_MAKEUP_STICKER:e=(0,s.jsx)(i.xv,{weight:"bold",size:"300",children:j.bt("", "Try this sticker on your phone!", "closeup.storyPin.vtoMakeupSticker", undefined, true)})}return(0,s.jsx)(i.xu,{alignItems:"center","data-test-id":$,display:"flex",justifyContent:"center",padding:$===S.h8.PRODUCT_STICKER?1:3,width:"100%",children:V?(0,s.jsx)(i.xv,{color:"subtle",weight:"bold",size:"200",children:j.bt("", "Tag removed!", "closeup.storyPin.stickerBlock", undefined, true)}):e})};return(0,s.jsx)(c.Fragment,{children:ge?null:(0,s.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{left:pe,top:he,transform:`rotate(${O}deg)`}},"data-test-id":($||"")+"_container",display:"flex",height:ue+2*Z,margin:-1,padding:1,position:"absolute",ref:A,rounding:2,width:ce+2*Z,zIndex:l.B5,children:[(0,s.jsx)(i.iP,{onTap:f?_e:({event:e})=>{ge||(v({event_type:101,component:228,element:t,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:u}}),ae?R("web_question_sticker_display").anyEnabled&&C(!0):(({event:e})=>{v({event_type:120,component:228,element:m,view_type:3,view_parameter:157,aux_data:{error_message:!H&&B?B:null,story_pin_page_id:u}}),T(!0),n&&(e.stopPropagation(),n())})({event:e}))},rounding:"pill",disabled:ge}),f&&(0,s.jsx)(i.mh,{zIndex:N,children:(0,s.jsx)(i.J2,{anchor:A.current,idealDirection:"up",onDismiss:_e,positionRelativeToAnchor:!1,showCaret:!0,size:V?"flexible":"sm",children:V?ve():(0,s.jsx)(i.iP,{onTap:({event:e})=>{e.preventDefault(),V||(v({event_type:101,component:228,element:m,object_id_str:q,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:u}}),ne?E.push(ne):_e())},fullWidth:!0,children:ve()})})}),!!X&&I&&(0,s.jsx)(b,{aggregatedCommentId:X,onDismiss:()=>{C(!1)}})]})})}var I=n(448509),C=n(586046),A=n(622050),E=n(834074);function j({block:e,fontsLoaded:t,pageAspectRatio:n,scaleFactor:a,thumbnail:o}){const{block_style:r,style:l=S.Cc,text:d}=e,{alignment:u,font:p,font_size:h,highlight_color:m,vertical_alignment:g=S.Cc.vertical_alignment}=l,{hex_color:_=S.Cc.hex_color}=null!=l?l:{},[v,y]=(0,c.useState)(0),[f,b]=(0,c.useState)([]),x=p||S.Cc.font,{name:k,default_size:w,letter_spacing:P,line_height:T}=x,j=(0,E.Z)(x),R=Math.round(100*((null==r?void 0:r.width)||100))/1e4,D=Math.round(100*((null==r?void 0:r.height)||100))/1e4,L=Math.round(100*((null==r?void 0:r.x_coord)||0))/1e4,F=Math.round(100*((null==r?void 0:r.y_coord)||0))/1e4;(0,c.useEffect)((()=>{if(t){const e=(0,A.K)({text:d,boxHeight:C.U*D,boxWidth:C.q8*R,font:j,startFontSize:Math.floor(h||w||24)});b(e.lines),y(e.fontSize)}}),[t,d]);const M=v*a,O=m?(0,S.pE)(M,T):{x:0,y:0},z=R*C.q8*a+2*O.x,Z=D*C.U*a+2*O.y,N=L*C.q8*a-O.x,U=o?100*F+"%":F*(C.q8/n)*a-O.y;return(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{left:N,top:U}},display:"flex",height:Z,position:"absolute",width:z,children:(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:(0,I.RK)({alignment:u,verticalAlignment:g})},children:(0,s.jsx)(i.xu,{display:"inlineBlock",maxWidth:"100%",children:(0,s.jsx)("p",{style:(0,I.BN)({fontSize:M,hexColor:_,letterSpacing:P,lineHeight:T,name:k}),children:f.map(((e,t)=>(0,s.jsx)("span",{style:(0,I.xm)({fontSize:M,hasText:e.text.length>0,highlightColor:m||null,lineHeight:T}),children:t===f.length-1?e.text:(0,s.jsxs)(c.Fragment,{children:[e.text," ",(0,s.jsx)("br",{})]})},`paragraphLine-${t}-${(null!=d?d:"").substr(0,9)}`)))})})})})}var R=n(879352),D=n(802071);function L({ownerId:e}){const t=(0,y.ZP)(),n=(0,D.Z)(),a=n.isAuth&&n.id===e;return(0,s.jsxs)(i.xu,{alignItems:"center",color:"tertiary",direction:"column",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:[(0,s.jsx)(i.xv,{color:"inverse",children:a?t.bt("", "Your video is processing!", "closeup.storyPin.videoPlaceholder", undefined, true):t.bt("", "This video is still processing!", "closeup.storyPin.videoPlaceholder", undefined, true)}),(0,s.jsx)(i.xv,{color:"inverse",children:t.bt("", "Check back in a few minutes.", "closeup.storyPin.videoPlaceholder", undefined, true)})]})}var F=n(41162),M=n(719540),O=n(335263);const z=375,Z=4,N=new i.Ry(3);function U({block:e,isActive:t,pwtTrackImageLoad:n,thumbnail:i}){var a,o,r,l,d,c,h,g,_,v,f,b;const x=(0,y.ZP)(),{checkExperiment:k}=(0,w.F)(),S=(null===(a=e.image)||void 0===a||null===(o=a.images)||void 0===o?void 0:o["750x"])||(null===(r=e.image)||void 0===r||null===(l=r.images)||void 0===l?void 0:l["474x"]),P=k("web_px_idea_pin_publish_pwt_publish_before_media_complete_closeup_pwt").anyEnabled,T=m({isUseCache:P,signature:e.image_signature});if(!S&&!T)return null;const I=i?"cover":"none";return P&&T?(0,s.jsx)(p,{alt:x.bt(" Pin ", "Story pin image", "closeup.storypin.renderer", undefined, true),fallbackSrc:null!==(d=null===(c=T.media)||void 0===c?void 0:c.src)&&void 0!==d?d:"",isActive:t,naturalHeight:null!==(h=null==S?void 0:S.height)&&void 0!==h?h:1,naturalWidth:null!==(g=null==S?void 0:S.width)&&void 0!==g?g:1,src:null!==(_=null==S?void 0:S.url)&&void 0!==_?_:"",onLoad:n,fit:I}):(0,s.jsx)(u.Z,{alt:x.bt(" Pin ", "Story pin image", "closeup.storypin.renderer", undefined, true),isActive:t,naturalHeight:null!==(v=null==S?void 0:S.height)&&void 0!==v?v:1,naturalWidth:null!==(f=null==S?void 0:S.width)&&void 0!==f?f:1,src:null!==(b=null==S?void 0:S.url)&&void 0!==b?b:"",onLoad:n,fit:I})}function B({activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:a,isActive:o,isSplitLayout:r=!1,musicRecordingId:l,muted:d,onEnded:c,onUpdateVideoInfo:u,ownerId:p,pageAspectRatio:h,pageDimensions:g,pageIndex:_,pinId:v,scaleFactor:y,stillLoading:f,videoThumbnailStartTime:b,thumbnail:x=!1}){var k,S;const{block_style:{height:P=100,width:T=100,x_coord:I=0,y_coord:C=0}={},video:A}=t,E=z/h,{height:j,width:D}=g,F=T*z*y/100,M=P*E*y/100,O=I*z*y/100,Z=C*E*y/100,N=T<100?Math.min(Math.max(100,T)-Math.abs(I),T):Math.min(Math.max(T-Math.abs(I),0),100),U=(P<100?Math.min(Math.max(100,P)-Math.abs(C),P):Math.min(Math.max(P-Math.abs(C),0),100))*E*y/100,B=N*z*y/100,K=Math.max(C,0)*E*y/100,V=Math.max(I,0)*z*y/100,{checkExperiment:H}=(0,w.F)(),G=H("web_px_idea_pin_publish_pwt_publish_before_media_complete_closeup_pwt").anyEnabled,W=m({isUseCache:G&&!A,signature:t.video_signature});if(f)return null;const{media:$}=W||{},{duration:q,src:Y}=$||{},J=G&&!!Y&&!!q,X={video_list:{V_EXP7:{duration:q?1e3*q:0,url:Y}}};if(!A&&!J)return(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{left:V,top:K}},height:U,position:"absolute",width:B,children:(0,s.jsx)(L,{ownerId:p})});return!!((null==A||null===(k=A.video_list)||void 0===k?void 0:k.V_HLSV3_MOBILE)||(null==A||null===(S=A.video_list)||void 0===S?void 0:S.V_720P)||J)&&(0,s.jsx)(i.xu,{height:r?"50%":"100%",overflow:"hidden",position:"relative",children:(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{left:V,top:K}},height:x?j:U,overflow:"hidden",position:"absolute",width:x?D:B,children:(0,s.jsx)(R.Z,{activePageIndex:e,blockHeight:x?j:M,blockPosition:{left:O,top:Z},blockWidth:x?D:F,closeupStoryPinViewability:n,customEndCard:a,isPlaying:o,musicRecordingId:l,muted:d,onEnded:c,onUpdateVideoInfo:u,pageIndex:_,pinId:v,roundCorners:M>=j&&F>=D,video:A||X,videoThumbnailStartTime:b})})})}function K({activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:a,fontsLoaded:o,isActive:r,isSplitLayout:l=!1,musicRecordingId:c,muteVideos:u,onEnded:p,onFlyoutOpen:h,onImageLoaded:m,onUpdateVideoInfo:g,ownerId:_,pageAspectRatio:v,pageHeight:y,pageIndex:f,pageWidth:b,pinId:x,previewOnly:k,productPins:w,stillLoading:P=!1,thumbnail:I=!1,transform:C,videoPinProgress:A,videoThumbnailStartTime:E}){const{block_style:{height:R=100,width:D=100,x_coord:L=0,y_coord:Z=0}={},interactive_sticker_type:N=null}=t,K=(0,M.g)(),V=(0,F.E)(),H=()=>{K&&r&&(K.addBinaryAnnotation("pin.id",x,"STRING"),K.addBinaryAnnotation("video",!1,"BOOL"),K.stop()),V&&r&&(V.addBinaryAnnotation("pin.id",x,"STRING"),V.addBinaryAnnotation("video",!1,"BOOL"),V.removeConstraint(O._z),V.markConstraintComplete(O.pM)),m&&m()};if(0===R||0===D)return null;const G=b/z;switch(t.type){case S.h8.PARAGRAPH:case S.h8.HEADING:return(0,s.jsx)(j,{block:t,fontsLoaded:o,scaleFactor:G,pageAspectRatio:v,thumbnail:I});case S.h8.VIDEO:return(0,s.jsx)(B,{activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:a,isActive:r,isSplitLayout:l,musicRecordingId:c,muted:u,onEnded:p,onUpdateVideoInfo:g,ownerId:_,pageAspectRatio:v,pageDimensions:{height:y,width:b},pageIndex:f,pinId:x,scaleFactor:G,stillLoading:P,videoThumbnailStartTime:E,thumbnail:I});case S.h8.IMAGE:const{scaleX:m=1,scaleY:F=1}=C||{};return(0,s.jsx)(i.xu,{overflow:"hidden",position:"absolute",dangerouslySetInlineStyle:{__style:{height:`${R}%`,left:L*m+"%",top:Z*F+"%",width:`${D}%`}},children:(0,s.jsx)(U,{block:t,isActive:r,pwtTrackImageLoad:H,thumbnail:I})});case S.h8.MENTION_STICKER:return!k&&(0,s.jsx)(T,{block:{...t},elementType:12120,onFlyoutOpen:h,pageAspectRatio:v,pageIndex:f,scaleFactor:G,tooltipElementType:12121,videoPinProgress:A});case S.h8.GENERIC_STICKER:return!k&&(e=>{const t=5===N,n=t?12827:12858,i=t?12828:12859;return(0,s.jsx)(T,{block:{...e},elementType:n,onFlyoutOpen:h,pageIndex:f,pageAspectRatio:v,scaleFactor:G,tooltipElementType:i,videoPinProgress:A})})(t);case S.h8.PRODUCT_STICKER:return!k&&(0,s.jsx)(T,{block:{...t},elementType:12223,onFlyoutOpen:h,pageAspectRatio:v,pageIndex:f,productPins:w,scaleFactor:G,tooltipElementType:12224,videoPinProgress:A});case S.h8.VTO_MAKEUP_STICKER:return!k&&(0,s.jsx)(T,{block:{...t},elementType:12561,onFlyoutOpen:h,pageAspectRatio:v,pageIndex:f,scaleFactor:G,tooltipElementType:12561,videoPinProgress:A});case S.h8.COMMENT_REPLY_STICKER:return t.type===S.h8.COMMENT_REPLY_STICKER&&!k&&(0,s.jsx)(d,{block:t,scaleFactor:G,pageAspectRatio:v});default:return null}}},635408:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(463031);const a=[i.h8.COMMENT_REPLY_STICKER,i.h8.GENERIC_STICKER,i.h8.HEADING,i.h8.IMAGE,i.h8.MENTION_STICKER,i.h8.PARAGRAPH,i.h8.PRODUCT_STICKER,i.h8.VIDEO,i.h8.VTO_MAKEUP_STICKER];function o({storyPinBlocks:e=[],blocksToRender:t=a}){const n=[],o=[],r=[];return e.forEach((e=>{t.includes(e.type)?e.type===i.h8.PARAGRAPH||e.type===i.h8.HEADING?o.push(e):r.push(e):n.push(e)})),r.push(...o),{nonRenderableBlocks:n,textBlocks:o,blocks:r}}},101789:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(883119),o=n(536042),r=n(785893);function l({children:e,heading:t}){const[n,l]=(0,i.useState)(!1),s=(0,o.ZP)();return(0,r.jsxs)(a.kC,{direction:"column",dataTestId:"collapsible-layout",children:[(0,r.jsxs)(a.X6,{align:"start",size:"400",accessibilityLevel:2,children:[(0,r.jsx)(a.xu,{"data-test-id":"collapsible-layout-heading",display:"inlineBlock",children:t}),(0,r.jsx)(a.xu,{"data-test-id":"collapse-button",display:"inlineBlock",marginStart:1,children:(0,r.jsx)(a.hU,{accessibilityLabel:s.bt("", "Show more details drop-down", "Closeup.common.CollapsibleLayout", undefined, true),icon:n?"arrow-forward":"arrow-down",onClick:()=>{l(!n)},size:"md"})})]}),!n&&(0,r.jsx)(i.Fragment,{children:e})]})}},342693:(e,t,n)=>{n.d(t,{n:()=>i});const i="300"},44081:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(883119),o=n(342693),r=n(536042),l=n(785893);function s({children:e,maxLines:t=10}){const n=(0,i.useRef)(null),[s,d]=(0,i.useState)({isFirstLoad:!0,isTruncated:!1}),c=(0,r.ZP)(),{isFirstLoad:u,isTruncated:p}=s;return(0,i.useEffect)((()=>{var e;u&&n.current&&((e=n.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&d({isFirstLoad:!1,isTruncated:!0})}),[u,p]),(0,l.jsxs)(a.xu,{position:"relative","data-test-id":"truncated-text",children:[(0,l.jsx)(a.xv,{ref:n,lineClamp:u||p?t:0,inline:!0,children:e}),p&&(0,l.jsx)(a.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,l.jsxs)(a.kC,{flex:"grow",children:[(0,l.jsx)(a.xu,{display:"inlineBlock",width:"120px",height:"14px"}),(0,l.jsx)(a.xu,{"data-test-id":"more-button",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:"white"}},children:(0,l.jsx)(a.iP,{fullWidth:!1,onTap:()=>d({...s,isTruncated:!1}),children:(0,l.jsx)(a.xv,{inline:!0,size:o.n,weight:"bold",children:c.bt(" ", "  more", "closeup.TruncatedTextContent.moreLabel", undefined, true)})})}),(0,l.jsx)(a.xu,{display:"inlineBlock",flex:"grow",dangerouslySetInlineStyle:{__style:{background:"white"}}})]})})]})}},47034:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(785893);function o(e,t="300"){return e.split(new RegExp(/(#\S*)/)).map(((e,n)=>{const o=`${n}-${e}`;return e.includes("#")?(0,a.jsx)(i.xv,{size:t,color:"link",inline:!0,children:(0,a.jsx)(i.rU,{underline:"none",display:"inline",href:`/search/pins/?q=${encodeURIComponent(e.replace("#",""))}`,children:e})},o):(0,a.jsx)("span",{children:e},o)}))}},340906:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(245410),a=n(549201);const o="sce_lightswitch_organic",r="sce_lightswitch_monetized",l=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function s(e){const t=(0,a.HG)(),{checkExperiment:n}=(0,i.F)(),s=l[t?"dweb":"mweb"];return e&&(n(o),n(r)),n(s.organic).anyEnabled||n(s.monetized).anyEnabled}},639356:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),a=n(883119),o=n(388011),r=n(536042),l=n(41162),s=n(785893);function d({content:e,header:t,maxHeight:n,onClose:o,onOpen:l,previewContent:d,previewContentHeight:c,arrowDirection:u}){const[p,h]=(0,i.useState)(!1),[m,g]=(0,i.useState)(0),_=(0,i.useRef)(null),v=(0,r.ZP)();(0,i.useLayoutEffect)((()=>{if(void 0!==n)return;if(!_.current)return;const{height:e}=_.current.getBoundingClientRect();e>m&&g(Math.ceil(e))}),[m,n]);const y=u||"arrow-forward";return(0,s.jsx)(a.iP,{onTap:e=>{h(!p),o&&p&&o(e),l&&!p&&l(e)},children:(0,s.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #efefef",borderBottom:"1px solid #efefef"}},paddingY:d?3:0,children:[(0,s.jsxs)(a.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:d?1:5,children:[(0,s.jsx)(a.xv,{weight:"bold",size:"300",children:t}),(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.3s ease-in-out",transform:p?`rotate(${"arrow-down"===y?"180deg":"-90deg"})`:""}},children:(0,s.jsx)(a.JO,{accessibilityLabel:v.bt("", "Expand icon", "accordion.actionButton", undefined, true),color:"default",icon:y})})]}),(0,s.jsxs)(a.xu,{"data-test-id":"accordion-panel",opacity:p||d?1:0,height:!p&&d?c:p?n||m:0,overflow:void 0===n?"hidden":"auto",marginBottom:p&&!d?5:0,marginEnd:d?7:0,dangerouslySetInlineStyle:{__style:{transition:"all 0.3s ease-in-out, visibility 0s linear "+(p?"0s":"0.3s"),visibility:p||d?"visible":"hidden"}},children:[(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{display:p?"none":"block"}},children:d}),(0,s.jsx)(a.xu,{opacity:p||d?1:0,dangerouslySetInlineStyle:{__style:{visibility:p?"visible":"hidden",transition:"all 0.3s ease-in-out, visibility 0s linear "+(p||d?"0s":"0.3s")}},ref:_,children:e})]})]})})}var c=n(356332),u=n(293017);const p=({onOpen:e,structuredDescription:t,type:n})=>{const o=(0,r.ZP)(),p=(0,l.E)(),h=(0,i.useCallback)((()=>{p&&p.markConstraintComplete("description")}),[p]),m=(0,i.useRef)(null),[g,_]=(0,i.useState)(!1);(0,i.useEffect)((()=>{var e;(m.current&&((e=m.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)||t.length>1)&&_(!0)}),[m,t]);const v="expandable"===n&&t[0].type===u.X0.PARAGRAPH,y=v?(0,s.jsx)(a.xv,{ref:m,lineClamp:1,size:"200",children:t[0].content}):null,f=o.bt("", "Product Details", "productDetails.accordionHeader.text", undefined, true);return!g&&y?(0,s.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #efefef",borderBottom:"1px solid #efefef"}},paddingY:3,children:[(0,s.jsx)(a.xu,{paddingY:1,children:(0,s.jsx)(a.xv,{weight:"bold",size:"300",children:f})}),(0,s.jsx)(a.xu,{marginEnd:6,marginBottom:1,children:y})]}):(0,s.jsx)(d,{header:f,content:(0,s.jsx)(a.xu,{paddingY:v?0:1,children:(0,s.jsx)(c.Z,{descriptions:t,onLoad:h})}),onOpen:e,previewContent:y,previewContentHeight:v?20:0,arrowDirection:"expandable"===n?"arrow-down":"arrow-forward"})},h=({isOpen:e,onOpen:t,structuredDescription:n})=>{var o;const[d,u]=(0,i.useState)(!1),p=(0,r.ZP)(),h=(0,i.useRef)(null),m=(0,l.E)(),g=(0,i.useCallback)((()=>{m&&h.current&&m.markConstraintComplete("description")}),[m]),_=d&&!e,v=e?p.bt("", "See less", "productDescription.productDescriptionPreview.cta", undefined, true):p.bt("", "See more", "productDescription.productDescriptionPreview.cta", undefined, true);return(0,i.useLayoutEffect)((()=>{!h.current||Number.isNaN(h.current.offsetHeight)||Number(h.current.offsetHeight)<150||d||u(!0)}),[d,null===(o=h.current)||void 0===o?void 0:o.offsetHeight]),(0,s.jsxs)(a.xu,{display:h.current?"block":"visuallyHidden",paddingY:1,"data-test-id":"product-description-preview",children:[(0,s.jsx)(a.xv,{size:"300",weight:"bold",children:p.bt("", "Product Details", "productDescription.productDescriptionPreview.header", undefined, true)}),(0,s.jsxs)(a.xu,{marginTop:2,marginBottom:_?0:2,position:"relative",children:[(0,s.jsx)(a.xu,{height:_?150:"auto",overflow:_?"hidden":"visible",ref:h,children:(0,s.jsx)(c.Z,{descriptions:n,onLoad:g})}),d&&(0,s.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(to bottom, rgba(255, 255, 255, 0), #ffffff)",transition:"opacity 200ms ease"}},height:150,opacity:_?1:0,position:"absolute",width:"100%"})]}),d&&(0,s.jsx)(a.iP,{onTap:t,children:(0,s.jsx)(a.xv,{size:"200",weight:"bold",children:v})})]})};function m(e){const{commerceData:t,structuredDescription:n,type:a="accordion",viewParameter:r}=e,{logContextEvent:l}=(0,o.v)(),[d,c]=(0,i.useState)(!1);(0,i.useEffect)((()=>{l({event_type:120,component:13597,view_type:3,view_parameter:r,aux_data:{...t}})}),[]);const u=()=>{c(!d),l({event_type:101,component:13597,view_type:3,element:d?13278:13277,view_parameter:r,aux_data:{...t}}),l({event_type:101,component:13597,view_type:3,element:10492,view_parameter:r,aux_data:{...t}})};return 0===n.length?null:"preview"===a?(0,s.jsx)(h,{...e,isOpen:d,onOpen:u}):(0,s.jsx)(p,{...e,onOpen:u})}},355182:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(341027),o=n(536042),r=n(785893);function l({colorOverride:e,isSoldOut:t,isStale:n,productDetails:l,showSalesPrice:s,type:d,weight:c="bold"}){const{max_price:u,min_price:p,price:h,standard_price:m}=l,g=!!h&&!!m&&h!==m;let _="100";"pdpPlusHeading"===d?_="400":"heading"===d?_="500":"pdpPlusMobileHeading"===d&&(_="300");const v=(0,o.ZP)(),y=v.bt("", "See price on site", "product.price.stale", undefined, true),f=v.bt("", "Sold out", "product.price.soldOut", undefined, true);return n?(0,r.jsx)(i.xv,{size:_,color:"subtle",weight:"bold",children:y}):(0,r.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[t&&(0,r.jsx)(i.xu,{marginEnd:2,children:(0,r.jsx)(i.xv,{size:_,color:"subtle",weight:"bold",children:f})}),(!!h||!!p||!!u)&&(0,r.jsx)(i.xv,{color:e||(g?"shopping":"default"),size:_,weight:c,children:(0,r.jsx)("span",{children:(0,a.Z)(l)})}),g&&!s&&(0,r.jsx)(i.xu,{marginStart:1,children:(0,r.jsx)(i.xv,{color:"subtle",size:_,weight:["pdpPlusHeading","pdpPlusMobileHeading"].includes(d)?"normal":c,children:(0,r.jsx)("span",{style:{textDecoration:"line-through"},children:m})})})]})}},759034:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(883119),a=n(245410),o=n(830074),r=n(549201),l=n(105848),s=n(458870),d=n(785893);const c=({count:e,countFormat:t,ratingValue:n,shippingInfo:a})=>(0,d.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,d.jsx)(l.Z,{count:e,countFormat:t,rating:n,textSize:"200"}),(0,d.jsx)(i.xu,{marginTop:(0,s.Z)({count:e,rating:n})?1:0,children:(0,d.jsx)(o.Z,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:null==a?void 0:a.free_shipping_price,freeShippingValue:null==a?void 0:a.free_shipping_value})})]}),u=({clickthroughFn:e,count:t,countType:n,countFormat:c,hideSeparationDot:u,bracket:p,ratingValue:h,shippingInfo:m})=>{const{checkExperiment:g}=(0,a.F)(),_=(0,r.HG)(),v=!1===(null==m?void 0:m.ships_to_user_country)&&(_?g("web_pdp_shipping_restrictions").anyEnabled:g("mweb_pdp_shipping_restrictions").anyEnabled);return(0,d.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,d.jsx)(l.Z,{bracket:p,count:t,countFormat:c,countType:n,rating:h,textSize:"300"}),(0,d.jsx)(i.xu,{marginStart:(0,s.Z)({count:t,rating:h})&&u?2:0,children:(0,d.jsx)(o.Z,{clickthroughFn:e,customStyles:{color:"default",size:"300"},showPrevDot:(0,s.Z)({count:t,rating:h})&&!u,freeShippingPrice:null==m?void 0:m.free_shipping_price,freeShippingValue:null==m?void 0:m.free_shipping_value,showShippingCountryDisclaimer:v})})]})};function p(e){return e.isGridView?(0,d.jsx)(c,{...e}):(0,d.jsx)(u,{...e})}},341027:(e,t,n)=>{function i(e){const{max_price:t,min_price:n,price:i}=e;return t&&n?`${n}-${t}`:i}n.d(t,{Z:()=>i})},645048:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(245410),a=n(549201),o=n(802071);const r=e=>{const{checkExperiment:t}=(0,i.F)(),n="desktop"===(0,a.ZP)(),{country:r,isAuth:l}=(0,o.Z)();return!(!e||!l)&&(!(!n||"US"!==r)||(n&&"US"!==r?t("pdpplus_intl").anyEnabled:t("mweb_pdpplus").anyEnabled))}},357626:(e,t,n)=>{n.r(t),n.d(t,{SendButton:()=>u,default:()=>p});var i=n(939809),a=n(883119),o=n(806681),r=n(785893);const l={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0};function s({accessibilityLabel:e,buttonColor:t,buttonText:n,handleClick:i,icon:s}){return(0,r.jsx)(o.q,{children:({active:o,focused:d,hovered:c,onBlur:u,onFocus:p,onMouseDown:h,onMouseEnter:m,onMouseLeave:g,onMouseUp:_})=>{let v={borderRadius:24};if(c){const e="primary"===t?"rgb(216,0,33)":"rgb(226, 226, 226)";v={...v,backgroundColor:e}}if(o){const e="primary"===t?"rgb(207,0,31)":"rgb(218, 218, 218)";v={...v,backgroundColor:e}}return d&&(v={...v,...l}),(0,r.jsx)("button",{"aria-label":e,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none"},onBlur:u,onFocus:p,onMouseDown:h,onMouseEnter:m,onMouseLeave:g,onMouseUp:_,onClick:i,children:(0,r.jsx)(a.xu,{color:t,rounding:2,dangerouslySetInlineStyle:{__style:v},children:(0,r.jsxs)(a.xu,{display:"flex",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},children:["share"===s&&(0,r.jsxs)(a.xu,{children:[(0,r.jsx)(a.JO,{accessibilityLabel:"",icon:"share",color:"default",size:18}),(0,r.jsx)(a.xu,{paddingX:3})]}),(0,r.jsx)(a.xv,{align:"center",color:"primary"===t?"light":"default",weight:"bold",children:n})]})})})}})}var d=n(536042),c=n(997768);const u=({buttonType:e,iconColor:t,handleSendShareFlyoutButtonClick:n,iconOnly:a,buttonText:o,tabIndex:l=0})=>{const c=(0,d.ZP)(),u="icon"===e,p={accessibilityLabel:c.bt("", "Send", "Accessible label for button to send this pin", undefined, true),handleClick:n,tabIndex:l};return u?(0,r.jsx)(i.Z,{...p,testId:"closeup-share-button",icon:"share",iconOnly:a,iconColor:t,buttonText:o}):(0,r.jsx)(s,{...p,icon:"share",buttonColor:"secondary",buttonText:c.bt("", "Send", "Text for button to send this pin", undefined, true)})},p=(0,c.Z)(u)},649413:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(667294),a=n(883119),o=n(690108);var r=n(330325),l=n(914205),s=n(560954),d=n(536042),c=n(630089),u=n(837792),p=n(785893);const h=u.K_+"?source=block_dialogue";function m(e){return e.map((({full_name:e})=>e))}const g=function({users:e,onClose:t,onSubmit:n}){const i=(0,d.ZP)(),o=(0,p.jsx)("strong",{children:(0,s.Z)(m(e),i)},"userlist");return(0,p.jsxs)("form",{method:"post",children:[(0,p.jsxs)(a.xu,{padding:8,children:[(0,p.jsx)(a.xv,{children:(0,c.nk)(i.bt(" {{ users }} Pin ", "If you block {{ users }}, you wont be able to follow each other or interact with each others Pins.", "description of blocking users", undefined, true),{users:o})}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)(a.xv,{children:(0,p.jsx)(a.rU,{display:"inlineBlock",href:h,underline:"hover",children:i.bt("", "Learn more", "link to learn more about blocking", undefined, true)})})]}),(0,p.jsx)(a.xu,{padding:2,children:(0,p.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"end",gap:{row:1,column:0},children:[(0,p.jsx)(a.zx,{fullWidth:!0,onClick:t,text:i.bt("", "Cancel", "UserBlock.Cancel", undefined, true)}),(0,p.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:()=>{n()},text:i.bt("", "Block", "UserBlock.Submit", undefined, true),type:"submit"})]})})]})};var _=n(802071);const v=({deleteAndCloseConversation:e,flagReason:t,flagType:n,onClose:h,selectedReason:v,status:y,users:f,blockContext:b})=>{const x=(0,d.ZP)(),[k,w]=(0,i.useState)({}),{setModalTitle:S,setStatus:P}=(0,r.d)(),T=(0,_.Z)(),{id:I}=T.isAuth?T:{},C=f.filter((({id:e})=>k[e])),A=C.length>0;(0,i.useEffect)((()=>{(()=>{let e;[l.qb.SUBMITTED,l.qb.PROCESSING].includes(y)?e=x.nbt([""], C.length, "BlockAndUnfollow", true):n===l.Vm.CONVERSATION&&(e=y===l.qb.COMPLETED?(0,c.nk)(x.bt(" {{usernames}}", "Youve blocked {{usernames}}", "BlockAndUnfollow", undefined, true),{usernames:(0,s.Z)(m(C),x).join("")}).join(""):x.bt("", "Thanks for your report", "BlockAndUnfollow", undefined, true)),S(e)})()}),[y]),(0,i.useEffect)((()=>{P(A?l.qb.SELECTED:l.qb.STARTED)}),[k]);const E=f.filter((({id:e})=>e!==I)),j=[l.qb.STARTED,l.qb.COMPLETED].includes(y);return(0,p.jsx)("form",{method:"post",children:[l.qb.SUBMITTED,l.qb.PROCESSING].includes(y)?(0,p.jsx)(g,{onClose:()=>{P(l.qb.SELECTED)},onSubmit:()=>(P(l.qb.PROCESSING),Promise.all(Object.keys(k).filter((e=>k[e])).map((e=>function({userId:e,blockSource:t,blockContext:n}){o.Z.create("UserBlockResource",{blocked_user_id:e,block_source:t,block_context:n}).callCreate()}({userId:e,blockSource:"message_report",blockContext:b})))).finally((()=>{P(l.qb.COMPLETED)}))),users:C}):(0,p.jsxs)(a.xu,{padding:8,children:[(0,p.jsx)(a.xu,{children:y!==l.qb.COMPLETED?(()=>{let e;"harassingOther"===v?e=(0,c.nk)(x.bt(" {{ communityGuidelines }} ", "We remove content that identifies and attacks private people because we consider it to be bullying. We also dont allow content that reveal someones personally identifiable information. Learn more about our {{ communityGuidelines }}.", "confirmation message after reporting harassment", undefined, true),{communityGuidelines:(0,p.jsx)(a.rU,{display:"inlineBlock",href:u.Ms,underline:"hover",children:x.bt("", "Community Guidelines", "link to community guidelines for harassment", undefined, true)},"policyLink")}):"harassingPublicFigure"===v?e=x.bt("", "Please note that we wont necessarily take down stuff that attacks public figures.", "message shown after reporting harrassment", undefined, true):"harassingFriend"===v?e=x.bt(" Pin  Pin ", "Before we can review this Pin, we need to hear from the person whos being harassed. Please have your friend report this Pin to us.", "message shown after reporting harrassment", undefined, true):["spam","policies","hurtfulContent"].includes(t)&&(e=x.bt(" Pin ", "Well take a look at this Pin and delete it if it goes against our policies.", "confirmation message after reporting a pin", undefined, true));const n=x.nbt([""], E.length, "description to block people", true);return(0,p.jsxs)(i.Fragment,{children:[e&&(0,p.jsx)(a.xu,{marginBottom:8,children:(0,p.jsx)(a.xv,{children:e})}),(0,p.jsx)(a.xu,{marginBottom:8,children:(0,p.jsx)(a.xv,{children:n})}),(0,p.jsx)(a.xu,{marginBottom:8,children:E.map((({id:e,full_name:t})=>(0,p.jsx)(a.XZ,{id:"blockPinner"+e,checked:Boolean(k[e]),label:(0,c.nk)(x.bt(" {{ pinnerName }}", "Block {{ pinnerName }}", "BlockAndUnfollow", undefined, true),{pinnerName:t}).join(""),onChange:({checked:t})=>{w({...k,[e]:t})},helperText:x.bt(" Pin ", "You wont be able to send each other messages or interact with each others Pins.", "BlockAndUnfollow", undefined, true)},e)))})]})})():A&&(0,p.jsx)(a.xu,{marginBottom:8,children:(0,p.jsx)(a.xv,{children:x.bt(" Pin ", "You wont be able to follow each other or interact with each others pins.", "BlockAndUnfollow", undefined, true)},"blockingConfirmation")})}),(0,p.jsxs)(a.xu,{children:[y!==l.qb.COMPLETED&&(0,p.jsx)(a.xu,{marginBottom:8,children:(0,p.jsx)(a.xv,{size:"100",children:(0,c.nk)(x.bt(" {{ linkToTopic }} ", "Learn more about {{ linkToTopic }}", "BlockAndUnfollow", undefined, true),{linkToTopic:(0,p.jsx)(a.rU,{display:"inlineBlock",href:u.K_,underline:"hover",children:x.bt("", "blocking", "BlockAndUnfollow", undefined, true)},"policyLink")})})}),(0,p.jsx)(a.xu,{children:(0,p.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:j?()=>{h(),y===l.qb.COMPLETED&&(null==e||e())}:()=>{w(k),P(l.qb.SUBMITTED)},text:j?x.bt("", "Done", "Block.Complete", undefined, true):x.bt("", "Block", "BlockAndUnfollow", undefined, true)})})]})]})})};function y({flagOptions:e,flow:t,handleClose:n,handleNext:i,selectedReason:o,showPrimaryAction:r,submitButton:s}){const c=(0,d.ZP)();if(t===l.Zw.REPORT){var u;if(l.qb.PROCESSING===status||null!==(u=e.getFlagOption(o))&&void 0!==u&&u.isTerminalReason)return s;if(r)return(0,p.jsx)(a.zx,{fullWidth:!0,color:"red",disabled:void 0===o,onClick:i,text:c.bt("", "Next", "go to the next view in the report flow", undefined, true)})}else if(t===l.Zw.END)return(0,p.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:n,text:c.bt("", "Got it", "confirm reporting flow is done & close modal", undefined, true)});return null}function f({flow:e,flagReason:t}){const n=(0,d.ZP)();if(e===l.Zw.REPORT){if("attacks"===t)return(0,p.jsx)(a.xv,{size:"100",children:(0,c.nk)(n.bt(" {{ linkToTopic }} ", "Learn more about our {{ linkToTopic }}", "footer link to learn more about community guidelines", undefined, true),{linkToTopic:(0,p.jsx)(a.rU,{target:"blank",href:u.Ms,children:(0,p.jsx)(a.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:n.bt("", "Community Guidelines", "name of footer link to community guidelines", undefined, true)})},"policyLink")})});if("policies"===t)return(0,p.jsxs)("p",{children:[(0,p.jsx)(a.xv,{size:"100",children:(0,c.nk)(n.bt(" {{ linkToTopic }} ", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,p.jsx)(a.rU,{target:"blank",href:u.Ms+"#sub-section-adult-content",children:(0,p.jsx)(a.xv,{inline:!0,color:"error",size:"100",children:n.bt("", "our nudity policies", "name of footer link to policy", undefined, true)})},"policyLink")})}),(0,p.jsx)(a.xv,{size:"100",children:(0,c.nk)(n.bt(" {{ linkToTopic }} ", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,p.jsx)(a.rU,{target:"blank",href:u.Ms+"#sub-section-dangerous-goods-and-activities",children:(0,p.jsx)(a.xv,{inline:!0,color:"error",size:"100",children:n.bt("", "our policies on hurtful content", "name of footer link to policy", undefined, true)})},"policyLink")})}),(0,p.jsx)(a.xv,{size:"100",children:(0,c.nk)(n.bt(" {{ linkToTopic }} ", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,p.jsx)(a.rU,{target:"blank",href:u.Ms+"#sub-section-violence",children:(0,p.jsx)(a.xv,{inline:!0,color:"error",size:"100",children:n.bt("", "our policies on gore", "name of footer link to policy", undefined, true)})},"policyLink")})})]});if("spam"===t||void 0===t)return(0,p.jsx)(a.xv,{size:"100",children:(0,c.nk)(n.bt(" {{ linkToTopic }} ", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,p.jsx)(a.rU,{target:"blank",href:u.Ms,children:(0,p.jsx)(a.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:"spam"===t?n.bt("", "our spam policies", "name of footer link to policy", undefined, true):n.bt("", "our policies", "name of footer link to policy", undefined, true)})},"policyLink")})})}return null}function b({arrayOfData:e,handleSelectReason:t,selectedReason:n}){const i=(0,d.ZP)();return(0,p.jsx)(a.xu,{padding:2,children:(0,p.jsx)(a.FX,{id:"flag-option-radio-group",legend:i.bt("", "Flag legends", "flag_legend", undefined, true),legendDisplay:"hidden",children:e.map(((e,i)=>{const{condition:o}=e;return void 0===o||o?function(e,t,n,i){const{text:o,value:r,category:l}=e;return(0,p.jsx)(a.xu,{paddingY:2,children:(0,p.jsx)(a.FX.RadioButton,{checked:n===r,id:r,onChange:({checked:e})=>t(e,r,l),name:"flagReason",value:r,label:o})},i)}(e,t,n,i):null}))})})}class x{constructor(e){this.config=e,this.configMap=function(e){const t={};for(const n in e)e[n].forEach((e=>{const{value:i}=e;if(Object.prototype.hasOwnProperty.call(t,i))throw new Error("Duplicate key in FlagOptions config: "+i);t[i]={...e,parentOption:n}}));return t}(e)}getFlagOption(e){return e?this.configMap[e]:null}renderFlagLabels(e){const{flagReason:t,onSelectReason:n,selectedReason:i}=e;return(0,p.jsx)(b,{arrayOfData:this.config[t],handleSelectReason:n,selectedReason:i})}}var k=n(88622);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(...e){super(...e),w(this,"flagOptions",new x(this.props.flagOptionsConfig)),w(this,"renderContent",(()=>{const{content:e,flow:t,onSelectReason:n,selectedReason:i}=this.props;return e||(t===l.Zw.REPORT?this.flagOptions.renderFlagLabels({flagReason:this.props.flagReason||"__default",onSelectReason:n,selectedReason:i}):t===l.Zw.END?(0,p.jsx)(a.xv,{children:this.props.i18n.bt(" Pinterest ", "Well use your feedback to make your Pinterest experience better.", "final message in reporting flow", undefined, true)}):void 0)}))}componentDidUpdate(e){const{flow:t,onCompletedReport:n,onCompletedBlock:i}=e;if(this.props.flow!==t)switch(t){case l.Zw.REPORT:n&&n();break;case l.Zw.BLOCK:i&&i()}}render(){const{accessibilityModalLabel:e,deleteAndCloseConversation:t,flagType:n,flow:i,status:o,modalTitle:r,onClose:s,selectedReason:d,submitButton:c,flagReason:u,showPrimaryAction:h,users:m,blockContext:g}=this.props;return(0,p.jsx)(k.ZP,{accessibilityModalLabel:e,heading:r,onDismiss:s,size:"md",footer:i!==l.Zw.BLOCK?(0,p.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,p.jsx)(a.xu,{flex:"grow",children:(0,p.jsx)(f,{flagReason:u,flow:i})}),(0,p.jsx)(a.xu,{padding:1,children:i===l.Zw.REPORT?(0,p.jsx)(a.zx,{fullWidth:!0,onClick:void 0===u?this.props.onClose:()=>{var e,t;null===(e=(t=this.props).onRevert)||void 0===e||e.call(t)},text:void 0===u?this.props.i18n.bt("", "Cancel", "cancel form", undefined, true):this.props.i18n.bt("", "Back", "previous step in a form", undefined, true)}):null}),(0,p.jsx)(a.xu,{padding:1,children:(0,p.jsx)(y,{flagOptions:this.flagOptions,flow:i,handleClose:this.props.onClose,handleNext:()=>{var e,t;null===(e=(t=this.props).onNext)||void 0===e||e.call(t)},selectedReason:d,showPrimaryAction:!!h,submitButton:c})})]}):void 0,children:(0,p.jsx)(a.xu,{children:i===l.Zw.BLOCK?(0,p.jsx)(v,{deleteAndCloseConversation:t,flagReason:u,flagType:n,onClose:s,selectedReason:d,status:o,users:m,blockContext:g}):this.renderContent()})})}}function P(e){const t=(0,d.ZP)();return(0,p.jsx)(S,{...e,i18n:t})}},330325:(e,t,n)=>{n.d(t,{N:()=>d,d:()=>s});var i=n(667294),a=n(914205),o=n(583592),r=n(785893);const{Provider:l,useHook:s}=(0,o.Z)("Flag"),d=({children:e})=>{const[t,n]=(0,i.useState)(),[o,s]=(0,i.useState)(a.Zw.REPORT),[d,c]=(0,i.useState)(a.qb.STARTED),[u,p]=(0,i.useState)(),[h,m]=(0,i.useState)(),g=(0,i.useMemo)((()=>({flagReason:h,flow:o,status:d,selectedReason:u,modalTitle:t,setFlagReason:m,setFlow:s,setModalTitle:n,setStatus:c,setSelectedReason:p})),[t,o,d,u,h]);return(0,r.jsx)(l,{value:g,children:e})}},281203:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),a=n(702664),o=n(883119),r=n(649413),l=n(330325),s=n(914205),d=n(536042),c=n(837792),u=n(198541),p=n(952239),h=n(785893);const m="ignoreThisPin",g="IP",_="policies",v="attacks";function y({aggregatedPinDataId:e,didItDataId:t,onClose:n,pinId:y,username:f,users:b}){const x=(0,d.ZP)(),[k,w]=(0,i.useState)([]),[S,P]=(0,i.useState)(),[T,I]=(0,i.useState)(),C=(0,a.useDispatch)(),{flow:A,modalTitle:E,selectedReason:j,setFlow:R,setModalTitle:D,setSelectedReason:L,setStatus:F,status:M}=(0,l.d)();(0,i.useEffect)((()=>{D((()=>{if(A===s.Zw.REPORT)switch(T){case v:return x.bt("", "What's going on?", "title for report content flow", undefined, true);case _:return x.bt("", "What's wrong with this Try?", "title for report content flow", undefined, true);case g:return x.bt("", "Intellectual Property", "title for report content flow for IP complaints", undefined, true);default:return x.bt("", "What's wrong with this Try?", "title for the report content flow", undefined, true)}else if(A===s.Zw.END&&k.includes("notUseful"))return x.bt("", "Thanks for letting us know!", "title at end of report flow when content is not useful", undefined, true);return""})())}),[k,A,T]);const O=(0,h.jsx)(o.zx,{fullWidth:!0,color:"red",onClick:()=>{if(F(s.qb.PROCESSING),j===m)R(s.Zw.BLOCK),F(s.qb.STARTED);else{const n=[...k,j];w(n),((e,t,n,i,a)=>{C((0,p.Th)(e,t,n,i,a))})(e,n,t,S,f),k.includes("notUseful")?(R(s.Zw.END),F(s.qb.STARTED)):(R(s.Zw.BLOCK),F(s.qb.STARTED))}},text:x.bt("", "Report content", "button to report content", undefined, true)});return(0,h.jsx)(r.Z,{accessibilityModalLabel:x.bt("", "Report conversation", "Pin.DidIt.Report", undefined, true),content:"IP"===T?(0,h.jsx)(o.xu,{mdDisplay:"flex",justifyContent:"center",children:(0,h.jsxs)(o.xu,{mdColumn:9,children:[(0,h.jsx)(o.xu,{padding:2,marginStart:2,children:(0,h.jsx)(o.xv,{align:"center",color:"default",weight:"bold",children:x.bt(" Pin ", "If youve found content that you believe violates your intellectual property, you can fill out our copyright complaint form.", "explanation of IP complaint process", undefined, true)})}),(0,h.jsx)(o.xu,{padding:2,children:(0,h.jsx)(o.zx,{role:"link",href:(0,u.Z)(c.GE,{pin_id:y,user_did_it_id:t}),color:"red",text:x.bt("", "File a report", "link to DMCA form", undefined, true),target:"blank"})})]})}):null,flagType:s.Vm.DID_IT,flow:A,modalTitle:E,onClose:n(!0),onNext:()=>{I(j),w([...k,j]),L()},onRevert:()=>{const e=k[k.length-1],t=k.slice(0,-1);L(e),I(t[t.length-1]),w(t),P(),F(void 0===e?s.qb.STARTED:s.qb.SELECTED)},onSelectReason:(e,t,n)=>{e&&(L(t),F(s.qb.SELECTED),P(n))},showPrimaryAction:T!==g,submitButton:O,status:M,selectedReason:j,flagReason:T,users:b,blockContext:null!=e?e:"",flagOptionsConfig:{__default:[{text:x.bt("", "It isn't useful or relevant", "tried-it reporting flow", undefined, true),value:"ignoreThisPin",isTerminalReason:!0,category:"ignoreThisPin"},{text:x.bt(" Pinterest ", "It shouldn't be on Pinterest", "tried-it reporting flow", undefined, true),value:_,isTerminalReason:!1},{text:x.bt("", "It's spam", "tried-it reporting flow", undefined, true),value:"spam",isTerminalReason:!0,category:"spam"},{text:x.bt("", "It's my intellectual property", "tried-it reporting flow", undefined, true),isTerminalReason:!1,value:"IP"}],ignoreThisPin:[],policies:[{text:x.bt("", "It's sexually explicit", "tried-it reporting flow", undefined, true),value:"nudity",isTerminalReason:!0,category:"nudity"},{text:x.bt("", "It's self-harm", "an option on tried-it reporting flow", undefined, true),value:"self-harm",isTerminalReason:!0,category:"self-harm"},{text:x.bt("", "It's hate speech", "tried-it reporting flow", undefined, true),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"},{text:x.bt("", "It's harassment or bullying", "tried-it reporting flow", undefined, true),value:"attacks",isTerminalReason:!1,category:"attacks"},{text:x.bt("", "It's graphic violence", "tried-it reporting flow", undefined, true),value:"gore",isTerminalReason:!0,category:"graphic-violence"}],attacks:[{text:x.bt("", "It's a photo of me or my child", "tried-it reporting flow", undefined, true),value:"harassingMeOrMyChild",isTerminalReason:!0,category:"attacks"},{text:x.bt("", "It identifies and attacks me or someone I know", "tried-it reporting flow", undefined, true),value:"harassingMeOrAFriend",isTerminalReason:!0,category:"attacks"},{text:x.bt("", "Something else", "tried-it reporting flow", undefined, true),value:"harassingOther",isTerminalReason:!0,category:"attacks"}],IP:[],spam:[]}})}},914205:(e,t,n)=>{n.d(t,{Vm:()=>o,Zw:()=>i,qb:()=>a});const i={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},a={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},o={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},987867:(e,t,n)=>{n.d(t,{Z:()=>R});var i=n(667294),a=n(883119),o=n(40660),r=n(357626),l=n(388011),s=n(133636),d=n(536042),c=n(245410),u=n(802071),p=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m={overlay:{__style:{backgroundColor:"#000"}}};class g extends i.PureComponent{constructor(...e){super(...e),h(this,"handleRestartVideo",(({event:e})=>{e&&e.stopPropagation&&e.stopPropagation();const{onRestartVideo:t}=this.props;t&&t({event:e}),o.Z.increment("web.video.endcard.share",1,{status:"restart",variant:"enabled_send_first"})})),h(this,"handleShareVideo",(()=>{const{onToggleFlyout:e,isFlyoutOpen:t,pinId:n,requireAuth:i,logContextEvent:a}=this.props;t&&o.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"}),a({event_type:101,component:179,object_id_str:n,view_type:3,view_parameter:156,element:11731}),i?i():e&&e()})),h(this,"handleExternalSend",(()=>{o.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"})})),h(this,"renderReplayButton",(()=>(0,p.jsx)(a.iP,{accessibilityLabel:this.props.i18n.bt("", "Watch again", "Button when pressed restarts the video", undefined, true),onTap:this.handleRestartVideo,rounding:2,children:(0,p.jsxs)(a.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,p.jsx)(a.xu,{marginEnd:3,children:(0,p.jsx)(a.JO,{accessibilityLabel:this.props.i18n.bt("", "Watch again", "Button when pressed restarts the video", undefined, true),icon:"refresh",color:"inverse",size:18})}),(0,p.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n.bt("", "Watch again", "Clickable label when pressed restarts the video", undefined, true)})]})}))),h(this,"renderShareButton",(()=>{const{gridDescription:e,imageSrc:t,isFlyoutOpen:n,onFlyoutDismiss:i,pinId:o}=this.props;return(0,p.jsx)(a.iP,{accessibilityLabel:this.props.i18n.bt("", "Send", "end.video.send.icon.label", undefined, true),onTap:this.handleShareVideo,rounding:2,children:(0,p.jsxs)(a.xu,{alignItems:"center",display:"flex",padding:2,justifyContent:"center",children:[(0,p.jsx)(r.default,{buttonType:"icon",gridDescription:e,imageSrc:t,isFlyoutOpen:n,onExternalSend:this.handleExternalSend,onFlyoutDismiss:i,onToggleFlyout:()=>{},pinId:o,sendType:"pin",shownWithinMasonry:!0,iconOnly:!0,iconColor:"white",element:72,component:179,viewType:3,tabIndex:-1}),(0,p.jsx)(a.xu,{children:(0,p.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n.bt("", "Send", "end.video.send.icon.label", undefined, true)})})]})})}))}componentDidMount(){const{pinId:e,logContextEvent:t}=this.props;o.Z.increment("web.video.endcard.share",1,{status:"land",variant:"enabled_send_first"}),t({event_type:13,component:179,object_id_str:e,view_type:3,view_parameter:156,element:11731})}render(){const{backgroundImage:e,naturalHeight:t,naturalWidth:n,pinTitle:i}=this.props;return(0,p.jsx)(a.xu,{children:(0,p.jsxs)(a.Ee,{alt:i||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,p.jsx)(a.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:m.overlay}),(0,p.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column",children:(0,p.jsxs)(a.xu,{position:"absolute",children:[(0,p.jsx)(a.xu,{children:this.renderShareButton()}),(0,p.jsx)(a.xu,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}function _(e){const{logContextEvent:t}=(0,l.v)(),n=(0,d.ZP)(),i=(0,s.Z)();return(0,p.jsx)(g,{...e,i18n:n,requireAuth:i,logContextEvent:t})}const v=({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:o})=>{const r=(0,d.ZP)(),{checkExperiment:l}=(0,c.F)(),s=l((0,u.Z)().isAuth?"closeup_auth_dweb_video_scrubber":"closeup_unauth_dweb_video_scrubber_2").anyEnabled,h=r.bt("", "Replay", "closeupVideo.endCard.ReplayButton", undefined, true),g=r.bt("", "Replay", "closeupVideo.endCard.ReplayButton", undefined, true);return(0,p.jsx)(a.xu,{children:(0,p.jsxs)(a.Ee,{alt:o||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,p.jsx)(a.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:m.overlay}),(0,p.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",children:(0,p.jsx)(a.xu,{children:(0,p.jsx)(a.iP,{onTap:i,rounding:2,children:(0,p.jsxs)(a.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,p.jsx)(a.hU,{accessibilityLabel:s?h:r.bt("", "Watch again", "Button when pressed restarts the video", undefined, true),icon:"refresh",iconColor:"white",size:"md"}),(0,p.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:s?g:r.bt("", "Watch again", "Clickable label when pressed restarts the video", undefined, true)})]})})})})]})})};var y=n(969327),f=n(41162),b=n(719540),x=n(622200),k=n(282802),w=n(463031),S=n(634004),P=n(911386),T=n(886365),I=n(335263),C=n(714557),A=n(197083);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends i.Component{constructor(...e){super(...e),E(this,"state",{controls:"always"===this.props.showControls&&!this.props.disabled,fullscreen:!1,playing:!(0,y.G6)(this.props.requestContext.userAgent.browserName)&&(!!this.props.autoplay&&!this.props.disabled),ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted||this.props.shouldMute?0:1,videoStartTime:this.props.videoStartTime||0}),E(this,"setVideoPwtLoadingStop",((e=!1)=>{if(!x.Z)return;const{storyPinStepStopwatch:t,pinId:n,pwtSurfaceContext:i}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",n,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan({name:"perceived_video_load",endTime:x.Z.now()}),t.stop()),i&&(e||i.addAnnotation("video.startup.end"),i.addBinaryAnnotation("pin.id",n,"STRING"),i.addBinaryAnnotation("video",!0,"BOOL"),i.markConstraintComplete(I._z),i.addSubspan("perceived_video_load",null,x.Z.now()),"story_pin"===i.getMetricId().segment&&i.removeConstraint(I.pM))})),E(this,"componentDidMount",(()=>{const{customThumbnail:e,video:t,preferMp4:n}=this.props,{mp4:i}=t,a=t.hlsv3||t.hls||null,{thumbnail:o}=n&&i||a||{},r=(l=e||o)&&document.querySelector(`video[poster="${l}"]`)||null;var l;4===(null==r?void 0:r.ready)&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0))})),E(this,"componentDidUpdate",((e,t)=>{this.props.videoStartTime&&this.props.videoStartTime!==e.videoStartTime&&this.setState({videoStartTime:this.props.videoStartTime}),!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:"never"!==this.props.showControls}),e.isPlaying&&!1===this.props.isPlaying&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1}),"never"===this.props.showControls&&t.controls&&this.setState({controls:!1}),(t.controls||t.playing)&&this.props.disabled&&this.setState({playing:!1,controls:!1}),!t.playing&&this.state.playing&&this.props.onPlay&&this.props.onPlay()})),E(this,"handleTouch",(()=>{const{seeking:e}=this.state,{disabled:t}=this.props;e||t||this.setState((e=>({playing:!e.playing})))})),E(this,"handleShowControls",(()=>this.setState({controls:!0}))),E(this,"handleHideControls",(()=>this.setState({controls:!1}))),E(this,"handleReady",(()=>{const{ready:e,playing:t}=this.state,{autoplay:n,disabled:i}=this.props;n&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0}),(0,y.G6)(this.props.requestContext.userAgent.browserName)&&!t&&n&&!i&&this.setState({playing:!0})})),E(this,"handleEnded",(({event:e})=>{const{customThumbnail:t,customEndCard:n,pinId:i,setCurrentVideo:a,loop:o,onEnded:r}=this.props;var l;e.stopPropagation(),o||(this.setState({playing:!1}),(l=t)&&l.endsWith(".gif")||n||(this.setState({showEndCard:!0,videoStartTime:0}),a({pinId:i,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen()),r&&r()})),E(this,"handlePause",(({event:e})=>{e.stopPropagation(),this.setState({playing:!1})})),E(this,"handlePlay",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0})})),E(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})})),E(this,"handlePlayheadDown",(({event:e})=>{this.setState({seeking:!0})})),E(this,"handlePlayheadUp",(({event:e})=>{setTimeout((()=>{this.setState({seeking:!1})}),500)})),E(this,"handleRestartVideo",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})})),E(this,"handleShareRestartVideo",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})})),E(this,"handleVolumeChange",(({event:e,volume:t})=>{const{shouldMute:n}=this.props;e.stopPropagation(),n||this.setState({volume:t})})),E(this,"exitFullscreen",(()=>{const{document:e}=window;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())})),E(this,"renderCloseupVideoEndCard",((e,t,n,i)=>{const a={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleShareRestartVideo},o={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleRestartVideo},{flyoutShareProps:r}=this.props,l={gridDescription:r?r.gridDescription:"",imageSrc:r?r.imageSrc:"",isFlyoutOpen:!!r&&r.isFlyoutOpen,onFlyoutDismiss:r?r.onFlyoutDismiss:()=>{},onToggleFlyout:r?r.onToggleFlyout:()=>{},pinId:r?r.pinId:""};return i?(0,p.jsx)(v,{...o}):(0,p.jsx)(_,{...l,...a})}))}render(){const{autoplay:e,closeupStoryPinViewability:t,contextLogData:n={component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:i,isPromoted:o,loop:r,onTimeChange:l,objectFit:s,preferMp4:d,preload:c,requestContext:u,roundingOverride:h,showControls:m,variant:g,video:_,videoThumbnailStartTime:v}=this.props;n.is_closeup_video=!0;const{controls:f,fullscreen:b,playing:x,showEndCard:k,volume:S,videoStartTime:P}=this.state,T=_.hlsv3||_.hls||null;if(!T&&!_.mp4)return null;const{mp4:I}=_,E=d&&I&&I.url||T&&[{type:"video/m3u8",src:T.url}]||void 0,{height:j,thumbnail:R,width:D}=d&&I||T||{},L=i||R;let F;return F=null!=h?h:"default"===g?0:"storyPin"===g?w.yR:2,(0,p.jsx)(a.zd,{willChangeTransform:!((0,y.G6)(u.userAgent.browserName)&&b),rounding:F,wash:!0,children:k?this.renderCloseupVideoEndCard(null!=L?L:"",null!=j?j:1,null!=D?D:1,o):(0,p.jsx)(a.iP,{accessibilityLabel:this.props.i18n.bt("", "Pause or play video", "pin.closeup.video.tap", undefined, true),onMouseEnter:"hover"===m?this.handleShowControls:void 0,onMouseLeave:"hover"===m?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:(0,p.jsx)(A.ZP,{contextLogData:{...n,video_id:this.props.video.id},aspectRatio:(null!=D?D:1)/(null!=j?j:1),closeupStoryPinViewability:t,captions:"",controls:f,hlsConfig:{startLevel:C.VS},isAutoPlay:!!e,objectFit:s,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onControlsPause:this.handlePause,onControlsPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:l,onVolumeChange:this.handleVolumeChange,preferMp4:d,playing:x,onPlay:()=>{},onPlayError:()=>{},preload:c,poster:L,src:E,videoStartTime:P||v,volume:S,loop:r})})})}}function R(e){const t=(0,d.ZP)(),n=(0,k.B)(),a=(0,b.g)(),o=(0,f.E)(),{seekTime:r}=(0,S.Hx)(),{pinId:l,isPromoted:s}=e,{appUI:c,setCurrentVideo:u}=(0,T.I)(),{videosAutoplaying:h}=c,{organicVideosAutoplaying:m,promotedVideosAutoplaying:g}=h,_=s?g[l]:m[l],v=(0,P.Z)(),y=parseInt(v.t||0,10),[x,w]=(0,i.useState)((null==_?void 0:_.currentTime)||0);return(0,i.useEffect)((()=>{let e=x;y>0&&(e=y),r&&(e=r),w(e)}),[r,y,x]),(0,p.jsx)(j,{...e,i18n:t,isPlaying:!_||!_.paused,pwtSurfaceContext:o,requestContext:n,setCurrentVideo:u,storyPinStepStopwatch:a,videoStartTime:x})}E(j,"defaultProps",{loop:!1,showControls:"hover"})},411132:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(883119),o=n(88622),r=n(536042),l=n(630089),s=n(785893);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{constructor(...e){super(...e),d(this,"state",{modalIsOpen:!1}),d(this,"onSubmit",(()=>{const{onBlock:e,onBlockCallback:t,user:n}=this.props,{id:i,first_name:a=""}=null!=n?n:{};null==e||e(i,a,this.props.i18n),this.closeModal(),t&&t()})),d(this,"openModal",(()=>{this.setState({modalIsOpen:!0})})),d(this,"closeModal",(()=>{this.setState({modalIsOpen:!1})}))}render(){const{modalIsOpen:e}=this.state,{i18n:t,size:n,user:i}=this.props,{username:r,full_name:d,blocked_by_me:c}=null!=i?i:{};return(0,s.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:!c&&(0,s.jsxs)(a.xu,{children:[(0,s.jsx)(a.iP,{onTap:this.openModal,children:(0,s.jsx)(a.X6,{size:n||"400",children:t.bt("", "Block", "BlockButton.Heading.Block", undefined, true)})}),(0,s.jsxs)(o.ZP,{accessibilityModalLabel:"",isOpen:e,onDismiss:this.closeModal,mobileHideCloseIcon:!0,type:"block_button",children:[(0,s.jsx)(a.xu,{paddingX:3,paddingY:5,children:(0,s.jsx)(a.X6,{accessibilityLevel:1,size:"500",children:(0,l.nk)(t.bt(" {{ full_name }}", "Block {{ full_name }}?", "BlockButton.FullName.Block", undefined, true),{full_name:d})})}),(0,s.jsx)(a.xu,{marginBottom:3,marginStart:2,marginEnd:2,children:(0,s.jsx)(a.xv,{children:(0,l.nk)(t.bt(" {{full_name}}{{username}} Pin ", "If you block {{full_name}} ({{username}}), you wont be able to follow each other or interact with each others Pins.", "BlockButton.Description.Block", undefined, true),{full_name:d,username:r})})}),(0,s.jsx)(a.xu,{marginBottom:2,marginStart:2,marginEnd:2,children:(0,s.jsx)(a.zx,{fullWidth:!0,color:"red",text:t.bt("", "Block", "BlockButton.Action.Block", undefined, true),onClick:this.onSubmit})}),(0,s.jsx)(a.xu,{marginStart:2,marginEnd:2,children:(0,s.jsx)(a.zx,{fullWidth:!0,color:"gray",text:t.bt("", "Cancel", "BlockButton.Action.Cancel", undefined, true),onClick:this.closeModal})})]})]})})}}function u(e){const t=(0,r.ZP)();return(0,s.jsx)(c,{...e,i18n:t})}},40045:(e,t,n)=>{n.d(t,{Z:()=>i});const i={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},310561:(e,t,n)=>{n.d(t,{Hv:()=>s,aX:()=>u,nK:()=>p});var i=n(667294),a=n(616550),o=n(583592),r=n(785893);const{Provider:l,useHook:s}=(0,o.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function c(e,t){var n;const i={action:t.type,location:t.location,match:t.match};if(t.location===(null===(n=e.current)||void 0===n?void 0:n.location))return e;switch(t.type){case"POP":return e.forward.length>0&&d(e.forward[0].location)===d(i.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:i,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:i};default:return e}}function u(){const{current:e,previous:t}=s();return(0,i.useMemo)((()=>e?t.concat(e):t),[e,t])}function p({children:e}){const t=(0,a.useHistory)(),n=(0,a.useLocation)(),o=(0,a.useRouteMatch)(),s={forward:[],current:{action:t.action,location:n,match:o},previous:[]},[d,u]=(0,i.useReducer)(c,s);return(0,i.useEffect)((()=>{const{action:e}=t;u({type:e,location:n,match:o})}),[n]),(0,r.jsx)(l,{value:d,children:e})}},874261:(e,t,n)=>{n.d(t,{Z:()=>o});n(441143);var i=n(785893);class a{static factory(e){return e instanceof a?e:new a(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function o(e){const{css:t,unsafeCSS:n,...o}=e,r=String(t||"")||n||"";return!!r?(0,i.jsx)("style",{...o,dangerouslySetInnerHTML:{__html:String(a.factory(r))}}):null}},633917:(e,t,n)=>{n.d(t,{N:()=>r,Z:()=>o});var i=n(883119),a=n(785893);function o({children:e,fullWidth:t}){return(0,a.jsx)(i.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},children:e})}function r({children:e,enabled:t}){return t?(0,a.jsx)(o,{children:e}):e}},670640:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(167912),a=n(690108),o=n(125715),r=n(970588),l=n(49387),s=n(17330),d=n(198541),c=n(911386);const u={open(e){var t;const n=(i=e,u._validParams.reduce(((e,t)=>(i&&Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t]),e)),{}));var i;const a=u._getDialogType(e),p=u.generateFbRef(null!==(t=e.unauthId)&&void 0!==t?t:""),h=e.object_type&&e.object_id&&"feed"===a;let m=(0,s.Z)(e.path);const g=(0,c.Z)();if(g.ptrf&&(m=(0,d.Z)(m,{ptrf:g.ptrf})),h&&(m=(0,d.Z)(m,{fb_ref:p})),n.method=a,"feed"===n.method){const t=(0,o.Z)({width:e.width,height:e.height});let i="http://www.facebook.com/sharer/sharer.php?u="+m;n.picture&&(i+="&picture="+n.picture),n.name&&(i+="&title="+n.name),n.description&&(i+="&description="+n.description),n.caption&&(i+="&caption="+n.caption),window.open(encodeURI(i),"sharer",t)}else"send"===n.method?n.link=m:"share"===n.method&&(n.href=m),(0,l.default)((t=>{t.getLoginStatus((()=>{if("send"===n.method){t.ui(n);let i,a=10;const o=setInterval((()=>{i=function(){if(!document)return;const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe")).reduce(((e,t)=>t instanceof HTMLIFrameElement?e.concat([t]):e),[]);return e.length?(e.slice(0,e.length-1).forEach((e=>{var t;return null===(t=e.parentNode)||void 0===t?void 0:t.removeChild(e)})),e[e.length-1]):void 0}(),!i&&a||(clearInterval(o),i&&u.executeMessengerCallback(i,e.callback)),a-=1}),1e3)}else"share"===n.method&&t.ui(n,(t=>{h&&t&&!t.error_message&&(0,r.Z)({url:`/v3/log/facebook/feed_share/${e.object_type||""}/${e.object_id||""}/${p}`,method:"PUT",data:{showError:!1}}),e.callback&&e.callback(t)}))}))}),e.viewer)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10;const i=setInterval((()=>{const{width:t}=e.style;"0px"!==t&&n||(clearInterval(i),e.style.width="575px"),n-=1}),1e3);t&&t()},generateFbRef(e){let t="";for(;t.length<20;)t+=Math.floor(65535*Math.random()).toString(16);return e+":"+t},_getDialogType:e=>u._validOptions.includes(e.type)?e.type:"feed"},p=u;function h(e,t,n){const i=function(e,t){const n=window.screen.width,i=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(i>t?Math.round((i-t)/2):0)}(t,n);window.open(e,void 0,i)}const m={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){h(m._getWindowUrl(e.share_path,e.share_text),m.DIALOG_WIDTH,m.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,d.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,s.Z)(e):void 0,text:t})},g=m,_={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){h(_._getWindowUrl(e.tweet_path,e.tweet_text),_.DIALOG_WIDTH,_.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,d.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,s.Z)(e):void 0,text:t||void 0})},v=_;var y,f;const b=void 0!==y?y:y=n(295971),x=void 0!==f?f:f=n(134167),k={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t,n){const i=this._convertToInviteObject(e.object_type),o=e.invite_channel,r=null==e.invite_category?3:e.invite_category,l=e.object_id;return a.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:r,invite_object:i,invite_channel:o},invite_code:t,object_id:l,client_tracking_params:e.client_tracking_params}).callCreate()},createShareInviteData(e,t){const n=this._convertToInviteObject(e.object_type),o=e.invite_channel,l=null==e.invite_category?3:e.invite_category,s=e.orbac_subject_id;if(10===l&&e.path)return t?(async(e,t,n)=>{var a;const o=await(0,i.fetchQuery)(e,x,{invite_category:n.toString(),url:t}).toPromise();return(e=>{var t,n,i;return{invite_code:null!==(t=null==e?void 0:e.invite_code)&&void 0!==t?t:"",invite_url:null!==(n=null==e?void 0:e.invite_url)&&void 0!==n?n:"",title:null!==(i=null==e?void 0:e.title)&&void 0!==i?i:""}})(null==o||null===(a=o.v3CreateShareLinkQuery)||void 0===a?void 0:a.data)})(t,e.path,l):(0,r.Z)({url:"/v3/share/link/",data:{name:null,invite_category:l,url:e.path}}).then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)));if(t)return(async(e,t,n,a,o)=>{var r;const l={invite_category:t,invite_object:n,invite_channel:a},s=await(0,i.fetchQuery)(e,b,{inviteType:JSON.stringify(l),objectId:o}).toPromise();return(e=>{var t,n,i;return{invite_code:null!==(t=null==e?void 0:e.invite_code)&&void 0!==t?t:"",invite_url:null!==(n=null==e?void 0:e.invite_url)&&void 0!==n?n:"",title:null!==(i=null==e?void 0:e.title)&&void 0!==i?i:""}})(null==s||null===(r=s.v3InviteUserExternalQuery)||void 0===r?void 0:r.data)})(t,l,n,o.toString(),e.object_id);{const t=e.object_id;return a.Z.create("CreateExternalInviteResource",{invite_type:{invite_category:l,invite_object:n,invite_channel:o},object_id:t,...s?{orbac_subject_id:s}:{}}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}},logShareInvite(e,t,n){t&&k._logShareInvite(e,t.invite_code,n)},shareFacebookInvite(e,t){const{options:n,unauthId:i,viewer:a}=e;return k.createShareInviteData(n,t).then((e=>{const o=e.invite_url,r=e.invite_code;if(o){const l={type:"share",object_type:n.object_type,object_id:n.object_id,name:n.name,caption:e.title,description:n.description,path:o,picture:n.picture,callback(e){e&&!e.error_message&&k._logShareInvite(n,r,t)}};p.open({...l,display:"popup",unauthId:i,viewer:a})}return Promise.resolve(e)}),(e=>Promise.reject(e)))},shareTwitterInvite(e,t){const n=this._convertToInviteObject(e.object_type);return k.createShareInviteData(e,t).then((i=>{const a=i.invite_url,o=i.invite_code;let r=e.description;return 6===n&&e.name&&(r=e.name),r.trim()||(r=`${i.title}\n`),a&&v.openDialog({tweet_path:a,tweet_text:r}),k._logShareInvite(e,o,t),Promise.resolve(i)}),(e=>Promise.reject(e)))},shareLineInvite(e,t){const n=this._convertToInviteObject(e.object_type);return k.createShareInviteData(e,t).then((i=>{const a=i.invite_url,o=i.invite_code;let r=e.description;return 6===n&&e.name&&(r=e.name),r.trim()||(r=`${i.title}\n`),a&&g.openDialog({share_path:a,share_text:r}),k._logShareInvite(e,o,t),Promise.resolve(i)}),(e=>Promise.reject(e)))},shareFbMessengerInvite(e,t){const{options:n,unauthId:i,viewer:a}=e;return k.createShareInviteData(n,t).then((e=>{const o=e.invite_url,r=e.invite_code;return o&&p.open({type:"send",object_type:n.object_type,object_id:n.object_id,name:n.name,caption:e.title,description:n.description,path:o,picture:n.picture,callback(e){e&&e.success&&k._logShareInvite(n,r,t)},display:"popup",unauthId:i,viewer:a}),Promise.resolve(e)}),(e=>Promise.reject(e)))}},w=k},846226:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(785893);function o(e){const{children:t,display:n,id:o}=e;return(0,a.jsx)(i.xu,{"data-test-id":o,display:n,children:t})}},882973:(e,t,n)=>{n.d(t,{Pw:()=>i,SB:()=>a,x9:()=>o});const i=80,a=56,o=e=>"phone"===e?a:i},94080:(e,t,n)=>{n.d(t,{Z:()=>f});var i,a=n(167912),o=n(883119),r=n(536042),l=n(630089),s=n(846226),d=n(98736),c=n(618569),u=n(272109),p=n(107877),h=n(525104),m=n(785893);const g=void 0!==i?i:i=n(114572);function _({boardName:e,boardUrl:t,onClose:n,pinDescription:i,pinnerFullName:a,zIndex:p}){const h=(0,r.ZP)(),g=(0,c.Z)(),_=t&&e?{boardName:e,boardUrl:t,username:t.split("/")[1]}:null;return(0,u.Z)((()=>{null!=i&&i.trim()||_||(0,d.My)("lop.dweb.plp.more_info.empty")})),(0,m.jsx)("div",{"data-test-id":"more-information-modal",style:{backgroundColor:"rgba(85, 85, 85, 0.9)",color:"#333",height:"100vh",left:0,position:"fixed",top:0,WebkitFontSmoothing:"antialiased",width:"100vw",zIndex:p||2},onClick:()=>{g({action:"click",item:"close-more-information-modal"}),n()},children:(0,m.jsxs)(o.xu,{as:"section",color:"default",dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, calc(-50% - 32px))",paddingBottom:"10px"}},onClick:e=>e.stopPropagation(),position:"absolute",rounding:2,width:414,children:[(0,m.jsxs)(o.xu,{display:"flex",height:60,justifyContent:"end",dangerouslySetInlineStyle:{__style:{borderBottom:"solid 1px #efefef",padding:"0 24px"}},children:[(0,m.jsx)("div",{onClick:()=>n(),onKeyUp:()=>n(),role:"button",style:{cursor:"pointer",fill:"#767676",marginTop:"20px"},tabIndex:"0",children:(0,m.jsx)(s.Z,{id:"close-more-information-modal",children:(0,m.jsx)(o.JO,{accessibilityLabel:h.bt("", "Cancel", "close modal icon", undefined, true),icon:"cancel",inline:!0,size:18})})}),(0,m.jsx)(o.xu,{marginTop:5,position:"absolute",dangerouslySetInlineStyle:{__style:{fontSize:"21px",fontWeight:"bold",left:"50%",transform:"translateX(-50%)"}},children:h.bt("", "More information", "more information label", undefined, true)})]}),(0,m.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{maxHeight:"calc(60vh - 60px)",overflowY:"auto",padding:"0 24px 24px 24px"}},children:[!!i&&(0,m.jsx)("h2",{style:{fontSize:"16px",marginTop:"15px"},children:i}),!!_&&(0,m.jsx)(o.xu,{marginTop:3,children:(0,m.jsx)(o.xv,{children:(0,l.nk)(h.bt(" Pin  {{ profile_link }} {{ board_link }}", "Find this Pin and more on {{ board_link }} by {{ profile_link }}.", "Link to pin's board and board's owner", undefined, true),{board_link:(0,m.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(o.rU,{display:"inlineBlock",href:_.boardUrl,onClick:()=>(0,d.NC)("click_vase_modal_board",!0),underline:"hover",children:_.boardName},"board-link")}),profile_link:(0,m.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(o.rU,{display:"inlineBlock",href:`/${_.username}/`,onClick:()=>(0,d.NC)("click_vase_modal_profile",!0),underline:"hover",children:a||_.username},"profile-link")})})})})]})]})})}const v=({graphqlRef:e,onClose:t,zIndex:n})=>{const i=(0,a.useFragment)(g,e),{board:o,description:r,pinner:l}=i;return(0,m.jsx)(_,{boardName:null==o?void 0:o.name,boardUrl:"protected"===(null==o?void 0:o.privacy)?null:null==o?void 0:o.url,onClose:t,pinDescription:r,pinnerFullName:null==l?void 0:l.fullName,zIndex:n})},y=({pinId:e,onClose:t,zIndex:n})=>{const i=(0,h.S6)()(e),a=(0,p.gC)(),{description:o,pinner:r}=null!=i?i:Object.freeze({}),l="string"==typeof(null==i?void 0:i.board)?a(i.board):null==i?void 0:i.board;return(0,m.jsx)(_,{boardName:null==l?void 0:l.name,boardUrl:"protected"===(null==l?void 0:l.privacy)?null:null==l?void 0:l.url,onClose:t,pinDescription:o,pinnerFullName:null==r?void 0:r.full_name,zIndex:n})};function f({graphqlRef:e,pinId:t,onClose:n,zIndex:i}){return e?(0,m.jsx)(v,{graphqlRef:e,onClose:n,zIndex:i}):(0,m.jsx)(y,{onClose:n,pinId:t,zIndex:i})}},793085:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(883119),o=n(563962),r=n(536042),l=n(262600),s=n(785893);const d={sm:12,md:16,lg:20,xl:24};function c({isVerifiedMerchant:e,size:t,showText:n,showVerifiedIdentity:c,inspirationalBadges:u,inspirationalBadgesColor:p}){const h=(0,r.ZP)(),[m,g]=(0,i.useState)(!1),{dangerousInlineStyle:_,iconColor:v}=(0,l.W)(!!e),y=(0,o.Z)();return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(a.iP,{onTap:()=>{y({component:13534,element:11717,event_type:102}),g(!0)},rounding:"circle",children:(0,s.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:_,display:"flex","data-test-id":"verified-badge-icon",children:[(0,s.jsx)(a.JO,{accessibilityLabel:e?h.bt("", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true):h.bt("", "Badge icon", "merchantVerification.badge.icon", undefined, true),icon:"workflow-status-ok",color:v,inline:!0,size:d[t]}),n&&!c&&(0,s.jsx)(a.xu,{marginStart:2,children:(0,s.jsx)(a.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:_,children:h.bt("", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})})]})}),(e||n&&!c)&&(0,s.jsx)(l.Z,{showModal:m,setShowModal:g,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},262600:(e,t,n)=>{n.d(t,{W:()=>u,Z:()=>p});var i=n(667294),a=n(883119),o=n(770130),r=n(563962),l=n(88622),s=n(536042),d=n(837792),c=n(785893);const u=e=>{const t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:n,setShowModal:p}){const h=(0,s.ZP)(),[m,g]=(0,i.useState)(!0),{dangerousInlineStyle:_,iconColor:v}=u(!0),y=(0,r.Z)();return(0,i.useEffect)((()=>{n&&m&&(g(!1),y({event_type:13,component:13534}))}),[n]),(0,c.jsx)(l.ZP,{accessibilityModalLabel:h.bt("", "Verified merchant information", "creator.verifiedMerchant.accessibilityModalLabel", undefined, true),isOpen:n,mobileAccessibilityCloseIconLabel:h.bt("", "Close", "Close modal window", undefined, true),onDismiss:()=>{y({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,c.jsx)(a.xu,{padding:3,children:(0,c.jsxs)(a.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,c.jsx)(a.xu,{display:"flex",dangerouslySetInlineStyle:_,justifyContent:"center",children:(0,c.jsx)(a.JO,{accessibilityLabel:h.bt("", "Merchant verification badge icon", "creator.verifiedMerchant.modalIcon", undefined, true),color:v,icon:"workflow-status-ok",size:24})}),(0,c.jsx)(a.xu,{marginTop:4,children:(0,c.jsx)(a.xv,{color:"shopping",weight:"bold",align:"center",children:(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:_,children:h.bt("", "Verified merchant", "creator.verifiedMerchant.modalHeader", undefined, true)})})}),(0,c.jsx)(a.xu,{marginTop:4,marginBottom:4,children:(0,c.jsx)(a.xv,{align:"center",overflow:"normal",children:h.bt(" Pinterest ", "This retailer meets Pinterest's Merchant Guidelines", "creator.verifiedMerchant.modalText.", undefined, true)})}),e.map((e=>(0,c.jsxs)(a.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsx)(a.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,c.jsx)(a.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,o.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,c.jsx)(a.xu,{marginTop:2,children:(0,c.jsx)(a.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,c.jsx)(a.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,c.jsx)(a.zx,{role:"link",accessibilityLabel:h.bt("", "Learn more", "creator.verifiedMerchant.buttonText", undefined, true),target:"blank",size:"lg",href:d.vB,text:h.bt("", "Learn more", "creator.verifiedMerchant.buttonText", undefined, true)})})]})})})}},78309:(e,t,n)=>{n.d(t,{$N:()=>h,GY:()=>d,MZ:()=>r,NR:()=>u,Vn:()=>c,fm:()=>i,kM:()=>o,q6:()=>a,qp:()=>s,uV:()=>p,xL:()=>l});const i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},a={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},o={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},r={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch"},l={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},s={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY"},d={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},c={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},u={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type"},p=604800,h={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},387977:(e,t,n)=>{function i(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}n.d(t,{Z:()=>i})},798198:(e,t,n)=>{n.d(t,{CC:()=>i,Ll:()=>o,XF:()=>a});const i=(e,t)=>((e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}))(t/2,e/2,2*Math.random()*Math.PI),a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,o=e=>["@-webkit-keyframes","@keyframes"].map((t=>e.map((e=>t+" "+e)).join("\n"))).join("\n")},651575:(e,t,n)=>{n.d(t,{Z:()=>_});var i,a=n(167912),o=n(883119),r=n(536042),l=n(98736),s=n(618569),d=n(525104),c=n(785893);const u=void 0!==i?i:i=n(327511),p=()=>{const e=(0,r.ZP)();return(0,c.jsx)(o.xv,{size:"300",children:e.bt("Pinterest ", "Featured in Pinterest's article", "Title of suggesting articles module in the pin.", undefined, true)})};function h({articleId:e,imageUrl:t,title:n,url:i,isDesktop:a}){const d=(0,r.ZP)(),u=(0,s.Z)();if(!(e||t||n||i))return null;const h=()=>{(0,l.tj)("mweb.unauth.featured_in_article_text.plp.touch",{article_id:e}),u({action:"click",item:"pin-featured-in-article"})};return(0,c.jsxs)(o.xu,{marginTop:10,children:[(0,c.jsx)(o.iz,{}),!a&&(0,c.jsx)(o.xu,{marginTop:4,marginBottom:-2,children:(0,c.jsx)(p,{})}),(0,c.jsxs)(o.xu,{display:"flex",direction:"row",marginBottom:4,marginTop:4,children:[(0,c.jsx)(o.xu,{alignSelf:"center",children:(0,c.jsx)(o.zd,{width:48,height:48,rounding:3,children:t&&(0,c.jsx)(o.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:t})})}),(0,c.jsxs)(o.xu,{marginStart:2,marginEnd:2,alignSelf:"center",children:[a&&(0,c.jsx)(p,{}),(0,c.jsx)(o.rU,{href:i||"",underline:"none",tapStyle:"compress",onClick:()=>h(),children:(0,c.jsx)(o.xv,{size:"300",weight:"bold",overflow:"normal",children:n})})]}),(0,c.jsx)(o.xu,{"data-test-id":"view-button",marginStart:"auto",children:(0,c.jsx)(o.zx,{fullWidth:!0,href:i||"",size:"lg",role:"link",text:d.bt("", "View", "Button that takes the user from a pin to the article the pin is featured on", undefined, true),onClick:()=>h()})})]})]})}const m=({graphqlRef:e,isDesktop:t})=>{const n=(0,a.useFragment)(u,e),{relatedArticle:i}=n;return(0,c.jsx)(h,{articleId:null==i?void 0:i._id,imageUrl:null==i?void 0:i.mainImageUrl,title:null==i?void 0:i.title,url:null==i?void 0:i.urlPath,isDesktop:t})},g=({isDesktop:e,pinId:t})=>{const n=(0,d.S6)()(t),{related_article:i}=null!=n?n:Object.freeze({});return(0,c.jsx)(h,{articleId:null==i?void 0:i.id,imageUrl:null==i?void 0:i.main_image_url,title:null==i?void 0:i.title,url:null==i?void 0:i.url_path,isDesktop:e})};function _({graphqlRef:e,isDesktop:t,pinId:n}){return e?(0,c.jsx)(m,{isDesktop:t,graphqlRef:e}):(0,c.jsx)(g,{isDesktop:t,pinId:n})}},969327:(e,t,n)=>{n.d(t,{G6:()=>o,i7:()=>r,oi:()=>i,u$:()=>a,un:()=>s,vU:()=>l});const i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),a=e=>e?e.includes("Chrome")?i.CHROME:e.includes("Safari")?i.SAFARI:e.includes("Firefox")?i.FIREFOX:e.includes("Opera")?i.OPERA:e.includes("IE")?i.IE:e.includes("Edge")?i.EDGE:i.OTHER:i.OTHER;function o(e){return a(e)===i.SAFARI}function r(e){return a(e)===i.CHROME}function l(e){return a(e)===i.FIREFOX}function s(e){return a(e)===i.EDGE}},865173:(e,t,n)=>{n.d(t,{Z:()=>a,v:()=>i});const i=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function a(){if(!i())return[];try{return await navigator.getInstalledRelatedApps()}catch(e){return[]}}},770130:(e,t,n)=>{n.d(t,{Bu:()=>m,Dm:()=>l,I:()=>v,NG:()=>p,QP:()=>c,S4:()=>d,Xe:()=>u,_f:()=>h,eT:()=>g,hm:()=>_,yQ:()=>s,ym:()=>f});var i=n(9507);const a=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),o=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),r=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),l=[...Object.keys(a).map((e=>a[e])),...Object.keys(o).map((e=>o[e]))],s=[...Object.keys(r).map((e=>r[e]))],d=3,c=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:c[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="https://help.pinterest.com/article/merchant-details",h="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function m({verifiedMerchant:e}){var t,n;const i=null==e?void 0:e.isVerifiedMerchant,a=null==e||null===(t=e.inspirational_signal)||void 0===t?void 0:t.is_inspirational,o=null==e||null===(n=e.inspirational_signal)||void 0===n?void 0:n.is_eligible_for_storefront_badges;return Boolean(i&&a&&o)}function g(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function _(e){return(null==e?void 0:e.profile_badges)||[]}function v(e,t,n){return t&&n?t.map((e=>n.find((t=>t.id===e.trim())))).filter(Boolean):[]}function y(e){const t=(0,i.oo)(e);if(!t)return"white";const[n,a,o]=t;return(0,i.DW)(n,a,o)<=i.I?"white":"black"}function f(e){const t=e||c[0];return{backgroundColor:t,color:y(t)}}},572559:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(38823),a=n(972551);function o({carouselData:e,images:t,richMetadata:n,richSummary:o,shouldUnifyImageSizes:r,additionalImages:l}){const s=(0,a.Z)({richPinData:n||o});return s&&l&&l.length>0?(0,i.Z)(null,l,e&&e.index,r,s.id):s&&s.additional_images&&s.additional_images.length>0?(0,i.Z)(t,s.additional_images,e&&e.index,r,s.id):e||void 0}},346190:(e,t,n)=>{function i(e,t=!1){if(!e)return null;if(t){if(e["736x"]&&e["736x"].url)return e["736x"];if(e["564x"]&&e["564x"].url)return e["564x"]}else{if(e["564x"]&&e["564x"].url)return e["564x"];if(e["736x"]&&e["736x"].url)return e["736x"]}return e["474x"]&&e["474x"].url?e["474x"]:e["236x"]&&e["236x"].url?e["236x"]:null}n.d(t,{Z:()=>i})},38823:(e,t,n)=>{n.d(t,{Z:()=>o});const i=["236x","474x","564x","736x"];function a(e){function t(e,{imageKey:t,height:n,width:i}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].height||1/0))),i=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].width||1/0)));return{imageKey:t,height:n,width:i}}));return e.map((e=>n.reduce(t,e)))}function o(e,t,n,i,o){const r=(null==t?void 0:t.map((({canonical_images:e,image_signature:t})=>({images:e||void 0,image_signature:t||void 0}))))||[],l=e?[{images:e},...r]:r;return{carousel_slots:i?a(l):l,index:n||0,id:o}}},946618:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(739425);const a=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,o=/\/discover\/article\/[\w-]+\/(\d+)/,r=(e,t)=>t?e.substring(t.length).split("/")[0]:e,l=({boardUrl:e,callToCreateSourcePinId:t,path:n,pinId:l,pinnerUserName:s,query:d,search:c,storyPinDataId:u})=>{var p,h;if(!n)return"";let m="";switch(n){case"/":case"/homefeed/":return"UserHomefeedResource";case s&&`/${s}/pins/`:return"UserPinsResource";case s&&`/${s}/`:case/\/_activity\//.test(n)&&n:return"UserActivityPinsResource";case/\/_created\//.test(n)&&n:return u?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(n)&&n:return"UserDiscoveredPinsResource";case/\/_shop\//.test(n)&&n:return"StoreFrontFeedResource";case/\/_saved\//.test(n)&&n:return"BoardlessPinsResource";case s&&`/${s}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(n)&&n:return"VisualLiveSearchResource";case/\/pin\//.test(n)&&n:m="/pin/";const g=r(n,m);if(l!==g)return t?`ApiResource_callToCreatePins_${g}`:`RelatedPinFeedResource_${g}`;break;case/\/search\//.test(n)&&n:if(c){return`SearchResource_${((0,i.mB)(c,{shouldDecode:!1}).q||"").toLowerCase()}`}if(d)return`SearchResource_${encodeURIComponent(d.q||"").toLowerCase()}`;break;case o.test(n)&&n:return`ExploreArticleResource_${(null===(p=n.match(o))||void 0===p?void 0:p[2])||"unknown"}`;case/\/discover\/article\//.test(n)&&n:m="/discover/article/";return`ExploreArticleResource_${r(n,m)}`;case/\/categories\//.test(n)&&n:m="/categories/";return`CategoryFeedResource_${r(n,m)}`;case/\/discover\/topics\//.test(n)&&n:return"CategoryFeedResource";case/\/news_hub\//.test(n)&&n:m="/news_hub/";return`NewsHubDetailsResource_${r(n,m)}`;case/\/_tools\/more-ideas\//.test(n)&&n:return"BoardContentRecommendationResource";case/\/topics\//.test(n)&&n:m="/topics/";return`TopicFeedResource_${r(n,m)}`;case s&&`/${s}/products/`:return"StoreFrontFeedResource";case/\/source\//.test(n)&&n:m="/source/";return`DomainFeedResource_${r(n,m)}`;case/\/explore\//.test(n)&&n:m="/explore/";return`SearchResource_${r(n,m)}`;case e:case!!e&&/\/more_ideas\//.test(n)&&n:return"BoardFeedResource";case e&&n.indexOf(e)>-1&&n:return"BoardSectionPinsResource";case/\/following\//.test(n)&&n:return"FollowingFeedResource";case/\/brand_catalog\//.test(n)&&n:return"BrandCatalogFeedResource";case a.test(n)&&n:return`TodayArticleFeedResource_${(null===(h=n.match(a))||void 0===h?void 0:h[2])||"unknown"}`;case/\/today\//.test(n):return"TodayTabResource";case/\story_feed\//.test(n)&&n:if(c){const{feed_type:e,request_params:t}=(0,i.mB)(c);return`StoryFeedResource_${e}_${t}`}}return""},s=({boardUrl:e,callToCreateSourcePinId:t,location:n,pinId:i,pinnerUserName:a,previousHistory:o,storyPinDataId:r,trackingParams:s,trackingParamsMap:d={}})=>{if(!i||!s||!n)return;if(!d)return`${s}~0`;const{pathname:c,search:u,query:p}=n,h=l({boardUrl:e,callToCreateSourcePinId:t,path:c,pinId:i,pinnerUserName:a,query:p,search:u,storyPinDataId:r,trackingParams:s,trackingParamsMap:d}),m=Object.keys(d);let g;if((c||"").startsWith("/pin/")){const e=m.find((e=>"PinResource"!==e));g=e?d[e]:d.PinResource}else g=d[h];let _;if(!g&&o&&o.length){const n=(e=>{let t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""})(o[o.length-1].location);_=l({boardUrl:e,callToCreateSourcePinId:t,path:n,pinId:i,pinnerUserName:a,query:p,search:u,storyPinDataId:r,trackingParams:s,trackingParamsMap:d}),g=d[_]}return g||(g=`${s||""}~0`),g}},222443:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(616550),a=n(946618),o=n(525104);function r(){const e=(0,o.S6)(),t=(0,i.useLocation)();return(n,i)=>{let o;const r=e(n);if(null!=i&&i.shouldTrackForPrevLocation){const e=(null==r?void 0:r.tracking_params_map)||{},t=Object.keys(e).find((e=>"PinResource"!==e));r&&(o=t?e[t]:e.PinResource)}else if(r){var l,s;o=(0,a.Z)({boardUrl:null===(l=r.board)||void 0===l?void 0:l.url,callToCreateSourcePinId:r.call_to_create_source_pin_id,location:t,pinId:r.id,pinnerUserName:null===(s=r.pinner)||void 0===s?void 0:s.username,storyPinDataId:r.story_pin_data_id,trackingParams:r.tracking_params,trackingParamsMap:r.tracking_params_map})}return o}}},9507:(e,t,n)=>{n.d(t,{DW:()=>l,I:()=>r,oo:()=>o,vq:()=>a,zI:()=>s});const i=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t},a=(e,t,n)=>"#"+i(e)+i(t)+i(n),o=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},r=.18,l=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2,s=e=>{const t=e.replace("#","");return(299*parseInt(t.substr(0,2),16)+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155}},496484:(e,t,n)=>{n.d(t,{Z:()=>ce});var i=n(883119),a=n(667294),o=n(702664),r=n(473727),l=n(914939),s=n(330325),d=n(281203),c=n(621699),u=n(536042),p=n(785893);const h=({isQuestion:e,name:t,size:n,src:a})=>{const o=(0,u.ZP)();return(0,p.jsxs)(i.xu,{position:"relative",children:[(0,p.jsx)(c.Z,{size:n,src:a,name:t}),e&&(0,p.jsxs)(i.xu,{position:"absolute",right:!0,bottom:!0,marginEnd:-1,marginBottom:-1,width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",children:[(0,p.jsx)(i.xu,{position:"absolute",children:(0,p.jsx)(i.JO,{icon:"speech",color:"dark",accessibilityLabel:o.bt("", "Q and A comment", "comment.userAvatar.creator.q&aIndicator", undefined, true)})}),(0,p.jsx)(i.xu,{position:"absolute",children:(0,p.jsx)(i.JO,{icon:"question-mark",color:"light",size:8,accessibilityLabel:o.bt("", "Q and A comment", "comment.userAvatar.creator.q&aIndicator", undefined, true)})})]})]})},m=({color:e,isMarkedHelpful:t})=>{const n=(0,u.ZP)();return(0,p.jsx)(i.JO,{color:t?"brandPrimary":e,accessibilityLabel:n.bt("", "Helpful", "comment.button.helpful", undefined, true),icon:void 0,size:12,dangerouslySetSvgPath:{__path:"M21 13.5C21 14.604 20.104 15.5 19 15.5C20.104 15.5 21 16.396 21 17.5C21 18.604 20.104 19.5 19 19.5H16.75C17.717 19.5 18.5 20.284 18.5 21.25C18.5 22.216 17.717 23 16.75 23H10.5C6.357 23 3 19.642 3 15.5C3 13.386 3.878 11.479 5.286 10.116C7.357 7.907 8.502 5.034 8.502 2C8.502 0.896 9.396 0 10.502 0C11.605 0 12.502 0.896 12.502 2C12.502 3.906 12.147 5.758 11.504 7.5H19C20.104 7.5 21 8.396 21 9.5C21 10.604 20.104 11.5 19 11.5C20.104 11.5 21 12.396 21 13.5ZM21 13.5C21 14.604 20.104 15.5 19 15.5C20.104 15.5 21 16.396 21 17.5C21 18.604 20.104 19.5 19 19.5H16.75C17.717 19.5 18.5 20.284 18.5 21.25C18.5 22.216 17.717 23 16.75 23H10.5C6.357 23 3 19.642 3 15.5C3 13.386 3.878 11.479 5.286 10.116C7.357 7.907 8.502 5.034 8.502 2C8.502 0.896 9.396 0 10.502 0C11.605 0 12.502 0.896 12.502 2C12.502 3.906 12.147 5.758 11.504 7.5H19C20.104 7.5 21 8.396 21 9.5C21 10.604 20.104 11.5 19 11.5C20.104 11.5 21 12.396 21 13.5Z"},inline:!0})};var g=n(932845),_=n(123228),v=n(388011),y=n(550140),f=n(245410),b=n(63262),x=n(802071),k=n(329689),w=n(421461),S=n(384722),P=n(76008),T=n(952239),I=n(16393),C=n(274796),A=n(613352);const E=({aggregatedPinDataId:e,anchor:t,closeupAttributionId:n,comment:r,dismiss:l,isOpen:s,isReply:d,onEdit:c,onReportTry:h,onShowBlockUserModal:m,parentId:E,pinnerId:j,pinId:R})=>{const D=(0,u.ZP)(),L=(0,o.useDispatch)(),{logContextEvent:F}=(0,v.v)(),{showToast:M}=(0,b.F9)(),{anyEnabled:O}=(0,f.F)().checkExperiment("web_m10n_business_access_orbac_ga"),{toggleAggregatedCommentHighlight:z}=(0,P.nf)(),Z=(0,g.Z)(),[N,U]=(0,a.useState)(!1);(0,a.useEffect)((()=>{U(s)}),[s,U]);const B=(0,x.Z)(),K=(0,k.Z)(),V=(0,w.Z)(),{reportComment:H}=(0,A.f)(),G=null!=n?n:"",W=r.user.id,$=B.isAuth&&G===B.id,q="userdiditdata"===r.type,Y=(0,S.q6)(B,null!=j?j:"",O?K:{}),J=(0,S.D3)(B,W,O?K:{}),X=(0,S.D3)(B,G,O?K:{}),Q=B.isAuth&&(r.tagged_users||[]).filter((({id:e})=>e===B.id)).length>0,ee=e=>()=>{(async e=>{try{await z({aggregatedCommentId:r.id,pinId:R,isHighlighted:e}),F({event_type:101,component:13712,element:e?12475:12474,view_type:220,aux_data:{creator_id:W}}),M((({hideToast:t})=>(0,p.jsx)(y.ZP,{primaryAction:{accessibilityLabel:D.bt("", "Undo comment highlight or comment highlight removal", "unifiedComment.unifiedCommentContainer.commentHighlightToast.a11yUndoButton", undefined, true),label:D.bt("", "Undo", "unifiedComment.unifiedCommentContainer.commentHighlightToast.undoButton", undefined, true),size:"lg",onClick:()=>{z({aggregatedCommentId:r.id,pinId:R,isHighlighted:!e})}},onHide:t,text:e?D.bt("", "Highlight removed", "unifiedComment.unifiedCommentContainer.commentHighlightRemovalToast", undefined, true):D.bt("", "Comment highlighted", "unifiedComment.unifiedCommentContainer.commentHighlightToast", undefined, true)})))}catch(t){t.message&&M((({hideToast:e})=>(0,p.jsx)(y.ZP,{onHide:e,text:t.message,type:"error"})))}})(e)},te=e=>()=>{e(),l()};if(!s)return null;const ne={highlight:D.bt("", "Highlight", "Highlight a community post or comment", undefined, true),removeHighlight:D.bt("", "Remove highlight", "Remove highlight for a community post or comment", undefined, true),edit:D.bt("", "Edit", "Edit a community post or comment", undefined, true),delete:D.bt("", "Delete", "Delete a community post or comment", undefined, true),reportContent:D.bt("", "Report this content", "Report a community post or comment", undefined, true),removeMention:D.bt(" @", "Remove @mention", "closeup.activityItem.removeMention", undefined, true),reportForNetzDG:D.bt("(NetzDG) ", "Report comment for NetzDG", "commentOverflowMenu.option.reportForNetzDG", undefined, true),blockUser:D.bt("", "Block user", "closeup.activityItem.blockUser", undefined, true)},ie=new i.Ry(1);return N&&(0,p.jsx)(i.xu,{onFocus:e=>e.stopPropagation(),children:(0,p.jsx)(i.Lt,{id:"comment-overflow-popover",anchor:t,idealDirection:"down",onDismiss:l,isWithinFixedContainer:!1,zIndex:ie,children:B.isAuth?(0,p.jsxs)(a.Fragment,{children:[!d&&$&&!r.highlighted_by_pin_owner&&!q&&(0,p.jsx)(i.Lt.Item,{onSelect:te(ee(!1)),option:{label:ne.highlight,value:ne.highlight},dataTestId:"dropdown-item-highlight"}),!d&&$&&r.highlighted_by_pin_owner&&!q&&(0,p.jsx)(i.Lt.Item,{onSelect:te(ee(!0)),option:{label:ne.removeHighlight,value:ne.removeHighlight},dataTestId:"dropdown-item-remove-highlight"}),J&&(0,p.jsx)(i.Lt.Item,{onSelect:te(c),option:{label:ne.edit,value:ne.edit},dataTestId:"dropdown-item-edit"}),(J||X)&&(0,p.jsx)(i.Lt.Item,{onSelect:te((()=>{"aggregatedcomment"===r.type?Z({aggregatedCommentId:r.id,aggregatedPinId:null!=e?e:"",feedType:d?"aggregatedComments":C.Z.UNIFIED_COMMENTS,orbacSubjectId:V,parentId:E,type:d?_.Rv.REPLY_TO_AGGREGATED:_.Rv.TOP,updateParentCommentCount:!0}):L((0,T.lg)({aggregatedPinDataId:null!=e?e:"",feedType:C.Z.UNIFIED_COMMENTS,id:r.id,isOwnedByMe:!0,pinId:null!=R?R:"",username:r.user.username,updateParentDidItCount:!0}))})),option:{label:ne.delete,value:ne.delete},dataTestId:"dropdown-item-delete"}),!J&&!Y&&(0,p.jsx)(i.Lt.Item,{onSelect:te((()=>{"aggregatedcomment"===r.type?H(r.id,null,null):"userdiditdata"===r.type&&h()})),option:{label:ne.reportContent,value:ne.reportContent},dataTestId:"dropdown-item-report"}),Q&&(0,p.jsx)(i.Lt.Item,{onSelect:te((()=>{L((0,I.Q)(r.id)),M((({hideToast:e})=>(0,p.jsx)(y.ZP,{onHide:e,text:D.bt(" @", "@mention removed!", "unifiedComment.unifiedCommentContainer.mentionRemovalToast", undefined, true)})))})),option:{label:ne.removeMention,value:ne.removeMention},dataTestId:"dropdown-item-remove-mention"}),!J&&(0,p.jsx)(i.Lt.Item,{onSelect:te((()=>{U(!1),m()})),option:{label:ne.blockUser,value:ne.blockUser},dataTestId:"dropdown-item-block-user"})]}):(0,p.jsx)(i.Lt.Link,{href:"https://policy.pinterest.com/de/netzdg/",option:{label:ne.reportForNetzDG,value:ne.reportForNetzDG},dataTestId:"dropdown-item-report-for-netzdg"})})})};var j=n(639210),R=n.n(j),D=n(118949),L=n.n(D);const F={containerStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)"},helpfulLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",right:"50%",transform:"translateX(50%)"},helpfulStyle:{backgroundImage:`url(${R()})`},lovedLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translateX(-50%)"},lovedStyle:{backgroundImage:`url(${L()})`}},M=({setHelpful:e,setLoved:t})=>{const n=(0,u.ZP)(),[o,r]=(0,a.useState)(!1),[l,s]=(0,a.useState)(!1),d=e=>()=>{r(e)},c=e=>()=>{s(e)};return(0,p.jsxs)(i.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:F.containerStyle},"data-test-id":"comment-reaction-tray-background",display:"flex",height:25,justifyContent:"center",padding:1,position:"relative",rounding:"pill",width:43,children:[(0,p.jsx)(i.iP,{fullHeight:!0,onMouseDown:t,onMouseEnter:c(!0),onMouseLeave:c(!1),children:(0,p.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:F.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:18,marginBottom:l?3:1,position:"absolute",width:18,children:l&&(0,p.jsx)(i.xu,{top:!0,color:"selected",dangerouslySetInlineStyle:{__style:F.lovedLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",children:(0,p.jsx)(i.xv,{color:"inverse",overflow:"noWrap",size:"100",weight:"bold",children:n.bt("", "Love", "comment.button.loved", undefined, true)})})})}),(0,p.jsx)(i.iP,{fullHeight:!0,onMouseDown:e,onMouseEnter:d(!0),onMouseLeave:d(!1),children:(0,p.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:F.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:18,marginBottom:o?3:1,position:"absolute",width:18,children:o&&(0,p.jsx)(i.xu,{top:!0,color:"selected",dangerouslySetInlineStyle:{__style:F.helpfulLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",children:(0,p.jsx)(i.xv,{color:"inverse",overflow:"noWrap",size:"100",weight:"bold",children:n.bt("", "Helpful", "comment.button.helpful", undefined, true)})})})})]})};var O=n(746985),z=n.n(O),Z=n(55997),N=n.n(Z);const U={helpfulStyle:{backgroundImage:`url(${z()})`},lovedStyle:{backgroundImage:`url(${N()})`}},B=({response:e})=>{const t=14===e.reaction_type,n=1===e.reaction_type,a=e.user.is_private_profile?e.user.first_name:e.user.full_name;return(0,p.jsxs)(i.kC,{alignItems:"center",children:[(0,p.jsx)(i.iP,{role:"link",href:`/${e.user.username}/`,children:(0,p.jsxs)(i.kC,{alignItems:"center",children:[(0,p.jsx)(i.xu,{maxWidth:40,children:(0,p.jsx)(c.Z,{outline:!0,accessibilityLabel:"",name:a,size:"sm",src:e.user.image_medium_url})}),(0,p.jsx)(i.xu,{marginStart:2,maxWidth:80,children:(0,p.jsx)(i.xv,{color:"inverse",size:"100",weight:"bold",children:a})})]})}),(0,p.jsxs)(i.xu,{alignContent:"end",display:"flex",padding:2,children:[n&&(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:U.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:16,width:16}),t&&(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:U.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:16,width:16})]})]})};var K=n(819079);const V=["userreaction.id","userreaction.reaction_type","userreaction.user()","user.first_name","user.full_name","user.id","user.image_medium_url","user.is_private_profile","user.username"],H=({commentId:e,isMarkedHelpfulByMe:t,isLovedByMe:n})=>{var o,r;const l=(0,x.Z)(),s=(0,K.Z)({name:"ApiResource",options:{url:`/v3/aggregated_comments/${e}/reacted_by/`,field_sets:V}});let d=null===(o=s.data)||void 0===o?void 0:o.filter((e=>e.user.id!==l.id));if((n||t)&&d){d=[{id:e,reaction_type:n?1:14,user:{first_name:l.isAuth?l.firstName:"",full_name:l.isAuth?l.fullName:"",id:l.isAuth?l.id:"",image_medium_url:l.isAuth?l.imageMediumUrl:"",is_private_profile:!!l.isAuth&&!!l.isPrivateProfile,username:l.isAuth?l.username:""}},...d]}const c=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const{current:e}=c,t=()=>{s.isFetching||(s.isAtEnd?null==e||e.removeEventListener("scroll",t):s.fetchMore())};return null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}}),[s]),(0,p.jsx)(i.xu,{color:"selected",maxHeight:140,overflow:"scroll",ref:c,rounding:2,width:180,children:null===(r=d)||void 0===r?void 0:r.map((e=>(0,p.jsx)(i.xu,{"data-test-id":"reaction-list-single-user",margin:3,children:(0,p.jsx)(B,{response:e})},e.id)))})};var G=n(846226),W=n(154522);const $=({commentId:e,dismissReactionList:t,helpfulCount:n,isMarkedHelpfulByMe:o,isLovedByMe:r,isReactionListOpen:l,lovedCount:s,onReactionCountHover:d,onToggleHelpful:c,onToggleLove:h})=>{const m=(0,u.ZP)(),g=(0,a.useRef)(),[_,v]=(0,a.useState)(!1);let y=!1,f=(s||0)+(n||0);o&&r&&(f-=1);const b=e=>()=>{v(e)},x=()=>{y=!0,d()},k=()=>{y=!1,setTimeout((()=>{y||t()}),1e3)},w=(0,p.jsx)(G.Z,{id:"comment-reaction-container-entry-point",children:_?(0,p.jsx)(i.iP,{onMouseLeave:b(!1),onMouseDown:b(!1),children:(0,p.jsx)(M,{setHelpful:c(!0),setLoved:h(!0)})}):(0,p.jsx)(i.iP,{onMouseEnter:b(!0),children:(0,p.jsx)(i.JO,{accessibilityLabel:m.bt("", "React", "comment.actionbar.react", undefined, true),color:"subtle",icon:"heart-outline",size:16})})});return(0,p.jsxs)(i.kC,{alignItems:"center",gap:{row:1,column:0},children:[o||r?(0,p.jsx)(i.iP,{onMouseDown:()=>{c(!1)(),h(!1)()},children:(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${r?N():z()})`}},"data-test-id":r?"comment-reaction-container-loved-emoji":"comment-reaction-container-helpful-emoji",height:16,width:16})}):w,f>0&&(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(i.iP,{onMouseEnter:x,onMouseLeave:k,children:(0,p.jsx)(i.xu,{"data-test-id":"comment-reaction-container-reaction-count",ref:g,children:(0,p.jsx)(i.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:f})})}),l&&(0,p.jsx)(i.mh,{zIndex:W.lI,children:(0,p.jsx)(i.J2,{anchor:g.current,idealDirection:"down",onDismiss:t,positionRelativeToAnchor:!1,children:(0,p.jsx)(i.iP,{onMouseEnter:x,onMouseLeave:k,children:(0,p.jsx)(H,{commentId:e,isMarkedHelpfulByMe:o,isLovedByMe:r})})})})]})]})};var q=n(394366),Y=n(630089);function J(e){const{featuredCommentId:t,parentId:n,parentType:r,isDesktop:l,isLoading:s,isReadOnly:d,openOverflowMenu:c,replyingToCommentId:h,toggleHelpful:m,toggleLike:g,toggleReplyComposer:_,isORBACProfileManager:v,isVideo:y,storyPinDataId:f,pinId:b,closeupAttributionId:x,aggregatedPinDataId:k,closeupAttributionUsername:w,pinnerId:S,reactionListCommentId:T,showReactionListForComment:I,viewParameter:A}=e,E=(0,u.ZP)(),j=(0,P.lV)(),R=(0,o.useSelector)((({feeds:e})=>(e[`${C.Z.AGGREGATED_COMMENT_REPLIES}:${n}`]||[]).reduceRight(((e,{id:t})=>{const n=j[t];return n?[...e,n]:e}),[]))),[D,L]=(0,a.useState)(1),F=D===R.length;return(0,p.jsxs)(a.Fragment,{children:[R.length>1&&(0,p.jsx)(i.iP,{onTap:()=>{L(F?0:R.length)},children:(0,p.jsxs)(i.xu,{marginBottom:4,children:[(0,p.jsx)(i.xu,{display:"inlineBlock",marginEnd:2,children:(0,p.jsx)(i.xv,{color:"subtle",size:"200",weight:"bold",children:""})}),(0,p.jsx)(i.xv,{inline:!0,color:"subtle",size:"100",weight:"bold",children:F?E.bt("", "Hide replies", "comment.button.hideReplies", undefined, true):(0,Y.nk)(E.nbt([" {{ commentCount }} "], R.length, "comment.button.showReplies", true),{commentCount:R.length})})]})}),(0,p.jsx)(ce,{comments:R.slice(0,D),commentsDisabled:!1,featuredCommentId:t,gapSize:2,isDesktop:l,isLoading:s,isReadOnly:d,openOverflowMenu:c,toggleReplyComposer:_,parentId:n,parentType:r,replyingToCommentId:h,toggleHelpful:m,toggleLike:g,userAvatarSize:"sm",isORBACProfileManager:v,isVideo:y,storyPinDataId:f,pinId:b,closeupAttributionId:x,aggregatedPinDataId:k,closeupAttributionUsername:w,pinnerId:S,showReactionListForComment:I,reactionListCommentId:T,viewParameter:A})]})}var X=n(606900),Q=n(62152),ee=n(315219),te=n(282802),ne=n(575794),ie=n(738318),ae=n(94339),oe=n(953595),re=n(446191);const le=25;function se(e){var t,n,c,g;const{aggregatedPinDataId:w,closeupAttributionId:T,closeupAttributionUsername:I,comment:C,featuredCommentId:A,isDesktop:j,isReadOnly:R,isVideo:D,openOverflowMenu:L,toggleReplyComposer:F,parentId:M,parentType:O=ie.o.pin,pinId:z,storyPinDataId:Z,replyingToCommentId:N,showReactionListForComment:U,toggleHelpful:B,toggleLike:K,userAvatarSize:V,isORBACProfileManager:H,pinnerId:G,reactionListCommentId:W,viewParameter:se}=e,{user:{id:de,first_name:ce,id:ue,image_medium_url:pe,username:he},id:me,comment_count:ge,helpful_count:_e,tags:ve}=C;let ye=!1,fe=0,be=!1;const xe=!!C.marked_helpful_by_me;let ke;const we=!R,Se=[C.user];let Pe="",Te=new Date;"aggregatedcomment"===C.type?(ye=C.highlighted_by_pin_owner,fe=C.reaction_counts[1],be=C.reaction_by_me>0,Se.push(...C.tagged_users),Pe=`${he} ${C.text}`,Te=new Date(C.created_at)):(ke=(C.images[0]||{})["150x150"],Pe=`${he} ${C.details}`,Te=new Date(C.done_at));const Ie=(0,u.ZP)(),Ce=(0,x.Z)(),{logContextEvent:Ae}=(0,v.v)(),{country:Ee}=(0,te.B)(),{checkExperiment:je}=(0,f.F)(),{showToast:Re}=(0,b.F9)(),De=(0,o.useDispatch)(),Le=(0,a.useRef)(),{anyEnabled:Fe}=je("web_m10n_business_access_orbac_ga"),Me=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"].includes(Ee),Oe=1===C.comment_tag,ze=(0,k.Z)(),Ze=Fe?(0,S.lJ)(Ce,ze):"",{nativeEngagementsHiddenForUser:Ne}=(0,ae.G)(),{aggregatedCommentsHiddenForUser:Ue,updateAggregatedComment:Be}=(0,P.nf)(),Ke=(0,l.Z)(),Ve="userdiditdata"===C.type,He=(0,Q.Z)(),Ge=[{offset:0,length:he.length,color:"darkGray"},...ve.map((e=>({...e,offset:(e.offset||0)+he.length+1,color:"shopping"})))],[We,$e]=(0,a.useState)(!1),[qe,Ye]=(0,a.useState)(!1),[Je,Xe]=(0,a.useState)(!1),[Qe,et]=(0,a.useState)(!1),[tt,nt]=(0,a.useState)(!1),[it,at]=(0,a.useState)(!1),[ot,rt]=(0,a.useState)(_.A9.NONE),lt=e=>()=>{Ye(e)};(0,a.useEffect)((()=>{ge>0&&De((0,ne.U)("aggregatedcomment"===C.type?"AggregatedCommentReplyFeedResource":"DidItCommentsResource",{options:{isUnifiedComment:!0,objectId:me,redux_normalize_feed:!0}}))}),[C.type,me]);const st=O.toLowerCase()===ie.o.aggregatedComment.toLowerCase(),dt=C.user.first_name||"",ct=e=>()=>{$e(e),at(e)},ut=e=>()=>{nt(!e)},pt=()=>{rt(_.A9.NONE)};return(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(i.$j,{show:Je,accessibilityLabel:"Loading comment"}),!qe&&!Je&&(0,p.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,p.jsx)(i.xu,{marginEnd:2,children:(0,p.jsx)(r.rU,{to:`/${he}/`,children:(0,p.jsx)(h,{isQuestion:Oe,name:ce||he||"",size:V,src:null!=pe?pe:""})})}),(0,p.jsxs)(i.kC,{flex:"grow",justifyContent:"start",direction:"column",children:[(0,p.jsxs)(i.kC,{justifyContent:"between",children:[(0,p.jsx)(i.kC.Item,{minWidth:0,children:(0,p.jsxs)(i.kC,{direction:"column",children:[(0,p.jsx)(X.Z,{isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:Se,tags:Ge,text:Pe}),ke&&(0,p.jsx)(i.xu,{marginTop:1,marginBottom:4,children:(0,p.jsx)(i.zd,{width:150,height:150,rounding:2,wash:!0,children:(0,p.jsx)(i.Ee,{alt:null!==(t=ke.url)&&void 0!==t?t:"",src:null!==(n=ke.url)&&void 0!==n?n:"",color:"#efefef",naturalWidth:null!==(c=ke.width)&&void 0!==c?c:1,naturalHeight:null!==(g=ke.height)&&void 0!==g?g:1},ke.url)})})]})}),A===me&&(0,p.jsx)(i.xu,{alignSelf:"center",color:"primary",height:8,rounding:"pill",minWidth:8})]}),ye&&(0,p.jsx)(i.xu,{marginTop:4,marginBottom:3,children:(0,p.jsx)(i.xv,{size:"100",children:(0,Y.nk)(Ie.bt(" @{{ closeupAttributionUsername }} ", "Highlighted by @{{ closeupAttributionUsername }}", "comment.highlighted.label", undefined, true),{closeupAttributionUsername:I})})}),(we||Me)&&(0,p.jsxs)(i.xu,{alignItems:"center",display:"flex",height:le,justifyContent:"between",position:"relative",children:[(0,p.jsxs)(i.kC,{alignItems:"center",gap:{row:5,column:0},children:[!R&&(0,p.jsx)(i.xv,{color:"subtle",size:"200",children:He(Te,!0)}),!R&&!Ve&&(!H||Fe)&&(0,p.jsx)(i.iP,{onTap:()=>{F(C,M,O)},children:(0,p.jsx)(i.xv,{color:"subtle",size:"200",weight:"bold",children:Ie.bt("", "Reply", "comment.button.reply", undefined, true)})}),!R&&!Ve&&!H&&(j?(0,p.jsx)($,{commentId:me,dismissReactionList:()=>{U(void 0)},helpfulCount:_e,isMarkedHelpfulByMe:xe,isLovedByMe:be,lovedCount:fe,onReactionCountHover:()=>{U(me)},onToggleHelpful:e=>()=>{xe!==e&&B(me,!e)()},onToggleLove:e=>()=>{be!==e&&K(me,!e)()},isReactionListOpen:W===me}):(0,p.jsxs)(i.xu,{display:"flex",alignItems:"center","data-test-id":"reactions-likeWithCountButton",children:[(0,p.jsx)(i.hU,{accessibilityLabel:Ie.bt("", "Like", "comment.button.like", undefined, true),icon:"heart",iconColor:be?"red":"gray",size:"xs",onClick:K(me,be)}),fe>0&&(0,p.jsx)(i.xv,{color:"subtle",size:"100",weight:"bold",children:fe})]})),!(Ce.id===ue&&Oe)&&(!H||Fe)&&(0,p.jsx)(i.xu,{ref:Le,children:(0,p.jsx)(i.hU,{accessibilityLabel:Ie.bt("", "More", "comment.button.more", undefined, true),icon:"ellipsis",iconColor:"gray",size:"xs",onClick:()=>{j?$e(!We):L&&L(C)}})})]}),!R&&!Ve&&!H&&!j&&(0,p.jsx)(i.xu,{children:(0,p.jsx)(i.iP,{fullWidth:!1,onTap:B(me,xe),children:(0,p.jsxs)(i.kC,{height:"100%",alignItems:"center",gap:{row:1,column:0},children:[(0,p.jsx)(m,{color:"subtle",isMarkedHelpful:xe}),(0,p.jsx)(i.xv,{color:"subtle",size:"200",weight:"bold",children:Ie.bt("", "Helpful", "comment.button.helpful", undefined, true)}),_e>0&&(0,p.jsx)(i.xv,{color:"subtle",size:"100",weight:"bold",children:_e})]})})})]})]})]}),j&&(0,p.jsxs)(a.Fragment,{children:[qe&&(0,p.jsx)(i.xu,{marginTop:3,children:(0,p.jsx)(q.Z,{commentWarningModalState:ot,dismissCommentWarningModal:pt,initialText:"aggregatedcomment"===C.type?C.text:C.details,initialTags:C.tags,onAddItem:async({contentMarkdown:e,force:t,tags:n})=>{Xe(!0);try{await Be({commentId:C.id,force:t,orbacSubjectId:Ze,tags:n,text:e})}catch(i){if([ee.ky,ee.LJ].includes(i.code)&&j)return rt(i.code===ee.ky?_.A9.WARNING:_.A9.BLOCK),Xe(!1),!1}return Ye(!1),Xe(!1),!0},onCancelItem:lt(!1),objectType:ie.o.aggregatedComment,showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:se})}),N===me&&(0,p.jsx)(i.xu,{marginTop:3,marginStart:st?0:12,children:(0,p.jsx)(q.Z,{commentWarningModalState:ot,dismissCommentWarningModal:pt,initialText:st?`${dt} `:"",initialTags:st?[{offset:0,object_id:de,length:dt.length,tag_type:1}]:[],onAddItem:async({contentMarkdown:e,force:t,tags:n})=>{let i;et(!0);let a=C.id;if(st&&(a=M,i=C.id),a)try{await Ke({force:t,fromUnifiedComment:!0,objectType:ie.o.aggregatedComment,objectId:a,orbacSubjectId:Ze,tags:n,text:e,replyToCommentId:i})}catch(o){if([ee.ky,ee.LJ].includes(o.code)&&j)return rt(o.code===ee.ky?_.A9.WARNING:_.A9.BLOCK),et(!1),!1}return F(void 0),et(!1),!0},onCancelItem:()=>{F()},objectType:ie.o.aggregatedComment,showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:se})})]}),(ge>0||Qe)&&(0,p.jsx)(i.xu,{marginStart:12,marginTop:4,children:(0,p.jsx)(J,{featuredCommentId:A,isDesktop:j,isLoading:Qe,isReadOnly:R,parentId:me,parentType:C.type,replyingToCommentId:N,toggleReplyComposer:F,openOverflowMenu:L,toggleHelpful:B,toggleLike:K,isORBACProfileManager:H,pinId:z,closeupAttributionId:T,isVideo:D,storyPinDataId:Z,aggregatedPinDataId:w,closeupAttributionUsername:I,pinnerId:G,showReactionListForComment:U,reactionListCommentId:W,viewParameter:se})}),j&&(!R||Me)&&(0,p.jsx)(E,{anchor:Le.current,comment:C,dismiss:()=>{$e(!1)},isOpen:We,isReply:st,onEdit:lt(!0),onReportTry:ut(!1),onShowBlockUserModal:ct(!0),parentId:M,closeupAttributionId:T,pinnerId:G,pinId:z,aggregatedPinDataId:w}),tt&&(0,p.jsx)(s.N,{children:(0,p.jsx)(d.Z,{aggregatedPinDataId:w,didItDataId:me,onClose:ut,pinId:null!=z?z:"",username:he,users:[C.user]})}),it&&(0,p.jsx)(oe.Z,{firstName:null!=ce?ce:"",onBlockUser:()=>{De((0,re.Ge)({id:de,orbacSubjectId:Ze,blockSource:"comment",blockContext:me})),Ue(de),Ne(de),Ae({event_type:101,component:13712,element:87,view_type:220,aux_data:{creator_id:Ce.isAuth?Ce.id:null}}),at(!1),Re((({hideToast:e})=>(0,p.jsx)(y.ZP,{onHide:e,text:(0,Y.nk)(Ie.bt(" {{ username }}", "You've blocked {{ username }}", "comment.blockAuthor.toast", undefined, true),{username:he}).join("")})))},onClearModal:ct(!1)})]})}var de=n(833122);function ce(e){const{aggregatedPinDataId:t,comments:n,commentsDisabled:a,featuredCommentId:o,gapSize:r=6,isDesktop:l,isLoaded:s=!1,isLoading:d=!1,isReadOnly:c,openOverflowMenu:h,toggleReplyComposer:m,parentId:g,parentType:_,replyingToCommentId:v,toggleHelpful:y,toggleLike:f,userAvatarSize:b,isORBACProfileManager:k,isVideo:w,storyPinDataId:S,pinId:P,closeupAttributionId:T,closeupAttributionUsername:I,pinnerId:C,showReactionListForComment:A,reactionListCommentId:E,viewParameter:j}=e,R=(0,u.ZP)(),{isAuth:D}=(0,x.Z)();let L;return L=S?"story":w?"video":"pin",a?(0,p.jsx)(i.xu,{alignSelf:"center",width:"100%",children:(0,p.jsx)(i.xv,{align:l?"start":"center",color:"subtle",children:R.bt(" Pin ", "Comments are turned off for this Pin", "commentThread.disabledState.message", undefined, true)})}):n.length>0?(0,p.jsxs)(i.kC,{dataTestId:"aggregated-comment-list",direction:"column",gap:{row:0,column:r},maxHeight:"100%",width:"100%",children:[n.map(((e,n)=>(0,p.jsx)(de.F,{impressionAuxFields:{commentId:e.id,pinId:P,pinOwnerUserId:T,pinType:L,parentId:g,parentType:_,commentType:"aggregatedComment"},componentType:"pin"===_?13696:13697,impressionType:"Comment",loggingId:e.id,slotIndex:n,viewType:3,children:({impressionTrackerRef:n})=>(0,p.jsx)(i.xu,{ref:n,"data-test-id":"commentThread-comment",children:(0,p.jsx)(se,{comment:e,isDesktop:l,featuredCommentId:o,isReadOnly:c,parentId:g,parentType:_,openOverflowMenu:h,replyingToCommentId:v,toggleReplyComposer:m,toggleHelpful:y,toggleLike:f,userAvatarSize:b,isORBACProfileManager:k,aggregatedPinDataId:t,closeupAttributionUsername:I,closeupAttributionId:T,pinId:P,storyPinDataId:S,isVideo:w,pinnerId:C,showReactionListForComment:A,reactionListCommentId:E,viewParameter:j})})},e.id))),(0,p.jsx)(i.$j,{accessibilityLabel:R.bt("", "Comments loading", " - ", undefined, true),show:d})]}):(0,p.jsxs)(i.xu,{alignSelf:"center",width:"100%",children:[(0,p.jsx)(i.$j,{accessibilityLabel:R.bt("", "Comments loading", " - ", undefined, true),show:d}),s&&D&&(0,p.jsx)(i.xv,{align:l?"start":"center",color:"subtle",children:R.bt("", "No comments yet! Add one to start the conversation.", "commentThread.emptyState.message", undefined, true)})]})}},394366:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(497088),o=n(785893);const r=(0,i.lazy)((()=>Promise.all([n.e(46210),n.e(60375)]).then(n.bind(n,243231))));function l(e){return(0,o.jsx)(a.Z,{fallback:null,children:(0,o.jsx)(r,{...e})})}},606900:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(785893);const o=({isFirstTaggedUserAuthor:e,shouldShowFirstNameOnly:t,tags:n,taggedUsers:o,text:r})=>{const l=(e,t)=>(0,a.jsx)(i.xv,{inline:!0,overflow:"normal",children:e},t);return(0,a.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:(()=>{if(!n.length||!o||n.length!==o.length)return l(r,"1");let s=0,d=[];return n.forEach(((n,c)=>{const u=r.substring(s,n.offset);s=n.offset+n.length;const p=r.substring(n.offset,s);d=d.concat(l(u,`${c}a`)).concat(((n,r,l,s)=>(0,a.jsx)(i.xv,{color:n,inline:!0,weight:"bold",overflow:"normal",children:(0,a.jsx)(i.rU,{href:`/${o[l].username}`,display:"inlineBlock",underline:"hover",children:t||0===l&&e?o[l].first_name||o[l].username[0]:r})},s))(n.color,p,c,`${c}b`))})),d=d.concat(l(r.substring(s),"2")),(0,a.jsx)(i.xv,{inline:!0,overflow:"normal",children:d})})()})}},123228:(e,t,n)=>{n.d(t,{A9:()=>s,LH:()=>a,Rv:()=>o,TJ:()=>r,iB:()=>i,pW:()=>l});const i=48,a=i+8,o=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),r="comment_featured_ids",l="did_it_featured_ids",s={NONE:"none",WARNING:"warning",BLOCK:"block"}},560954:(e,t,n)=>{n.d(t,{Z:()=>h,w:()=>m});var i=n(630089);const a=e=>e.bt("{{ first }}", "{{ first }}", "Generic message that lists 1 item", undefined, true),o=e=>e.bt("{{ first }}  {{ second }}", "{{ first }} and {{ second }}", "Generic message that lists 2 items", undefined, true),r=e=>e.bt("{{ first }}{{ second }}  {{ third }}", "{{ first }}, {{ second }} and {{ third }}", "Generic message that lists 3 items", undefined, true),l=e=>e.bt("{{ first }}{{ second }}{{ third }}  {{ fourth }}", "{{ first }}, {{ second }}, {{ third }} and {{ fourth }}", "Generic message that lists 4 items", undefined, true),s=e=>e.bt("{{ first }}{{ second }}{{ third }}{{ fourth }}  {{ fifth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}", "Generic message that lists 5 items", undefined, true),d=e=>e.bt("{{ first }}{{ second }}{{ third }}{{ fourth }}{{ fifth }}  {{ sixth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}", "Generic message that lists 6 items", undefined, true),c=e=>e.bt("{{ first }}{{ second }}{{ third }}{{ fourth }}{{ fifth }}{{ sixth }}  {{ seventh }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}", "Generic message that lists 7 items", undefined, true),u=e=>e.bt("{{ first }}{{ second }}{{ third }}{{ fourth }}{{ fifth }}  {{ remaining }} ", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others", "Generic message that lists more than 6 items", undefined, true),p=e=>e.bt("{{ first }}{{ second }}{{ third }}{{ fourth }}{{ fifth }}{{ sixth }}  {{ remaining }} ", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others", "Generic message that lists more than 7 items", undefined, true);function h(e,t){const n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,i.nk)(a(t),n);case 2:return(0,i.nk)(o(t),n);case 3:return(0,i.nk)(r(t),n);case 4:return(0,i.nk)(l(t),n);case 5:return(0,i.nk)(s(t),n);case 6:return(0,i.nk)(d(t),n);default:return(0,i.nk)(u(t),n)}}function m(e,t){const n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,i.nk)(a(t),n);case 2:return(0,i.nk)(o(t),n);case 3:return(0,i.nk)(r(t),n);case 4:return(0,i.nk)(l(t),n);case 5:return(0,i.nk)(s(t),n);case 6:return(0,i.nk)(d(t),n);case 7:return(0,i.nk)(c(t),n);default:return(0,i.nk)(p(t),n)}}},388011:(e,t,n)=>{n.d(t,{B:()=>s,v:()=>l});var i=n(788241),a=n(583592),o=n(785893);const{Provider:r,useHook:l}=(0,a.Z)("ContextLogger");function s({children:e,value:t}){const{setViewContextData:n}=(0,i.sV)();return t.injectSetViewContextDataFromHook=n,(0,o.jsx)(r,{value:t,children:e})}},563962:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(388011);const a=()=>(0,i.v)().logContextEvent},541842:(e,t,n)=>{n.d(t,{Z:()=>i});const i=()=>1e6*Date.now()},377234:(e,t,n)=>{n.d(t,{F6:()=>u,Hs:()=>c,Yc:()=>s,vs:()=>d});var i=n(667294),a=n(611756),o=n(98736);const r="theme",l="dark"===(0,a.qn)(r),s=()=>l;function d(){const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{t(s())}),[t]),e}const c=()=>{(0,a.Nh)(r,"dark"),(0,o.My)("mweb.dark_mode.enable"),window.location.reload()},u=()=>{(0,a.L_)(r),(0,o.My)("mweb.dark_mode.disable"),window.location.reload()}},117651:(e,t,n)=>{function i(e){const t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,{Z:()=>i})},560544:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>Math.floor(new Date(e).getTime()/1e3)},758360:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(973935);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r extends i.Component{constructor(...e){super(...e),o(this,"observer",null),o(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=a.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return i.Children.only(this.props.children)}}const l=r},583121:(e,t,n)=>{n.d(t,{Bx:()=>a,N4:()=>r,is:()=>l,lt:()=>i,oM:()=>o});const i=e=>e.bt(" Pinterest", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),a=e=>e.bt(" Pin ", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),o=e=>e.bt(" Pin ", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),r=({i18n:e,toFollow:t})=>t?e.bt("", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt("", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true),l=e=>e.bt(" Pin ", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true)},402833:(e,t,n)=>{n.d(t,{g:()=>r,t:()=>o});var i=n(667294);const a=(0,i.createContext)(null),o=a.Provider,r=()=>(0,i.useContext)(a)},243370:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(616550),o=n(402833),r=n(911386);const l=e=>{const t=(0,a.useLocation)(),n=(0,o.g)();(0,i.useEffect)((()=>{if(n){const{showDesktopSignupModal:i,pinLinkClickHandler:a}=n,{mt:o,l,showsignup:s}=(0,r.Z)(t.search);o?i({signupFlow:"login"===o?{type:"login"}:{type:"signup"},attributionLabel:"navigation_1",container:e,reason:"UPSELL_LOGIN_OR_SIGNUP"}):s?i({signupFlow:{type:"signup"},attributionLabel:"closeup_query_param_showSignup",source:"defaultSource",reason:"UPSELL_LOGIN_OR_SIGNUP"}):l&&a&&a()}}),[e,t,!!n])}},133636:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(583121),a=n(536042),o=n(393599);const r=()=>{const{loginForMore:e,viewer:t,limitedLoginModalSubheader:n}=(0,o.H)(),r=(0,a.ZP)();return"AUTH"===t.type?null:t=>{null==e||e.setVisible(!0),null==n||n.setText((null==t?void 0:t.loginModalHeader)||(0,i.lt)(r))}}},737311:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(40660),o=n(391297);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),r(this,"state",{error:null,info:null}),r(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{var n;const{name:t}=this.props,i=this.props.type||"secondary";(0,o.T)({extraData:null!==(n=e.extraData)&&void 0!==n?n:{},errorBoundary:t,errorBoundaryType:i,message:e.message,name:e.name,stack:e.stack}),a.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(i){a.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},604094:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(737311).Z},33476:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(702664),o=n(527386),r=n(216702),l=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),s(this,"state",{hasCompleted:[],hasDismissed:[]}),s(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:n,viewExperience:i,viewExperienceObject:a}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",a(e)):n?i(e.placement_id,e.experience_id,n):i(e.placement_id,e.experience_id))})),s(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:n,experience:i,isBackendExperience:a,preventRemoval:o,targeting:r}=this.props,l=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){const{placement_id:e,experience_id:s}=i||{},d=o||2===l;(1===l||d)&&e&&s&&(a?n(i,d):r?t(e,s,d,r):t(e,s,d),this.setState((e=>({hasCompleted:[...e.hasCompleted,s]}))))}})),s(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:i,preventRemoval:a,targeting:o}=this.props,{placement_id:r,experience_id:l}=n||{};n&&!this.state.hasDismissed.includes(l)&&(i?t(n):o?e(r,l,!!a,o):e(r,l,!!a),this.setState((e=>({hasDismissed:[...e.hasDismissed,l]}))))})),s(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:n,predicate:i,transitionType:a}=this.props,{experience_id:o,type:r}=e;if(t&&t.includes(o))return!0;if(null==t||!t.length){if(i&&i(e))return!0;if(n&&n.includes(r))return!0;if(a&&a===r)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,n=this.props.experience;n&&this.shouldRenderExperience()&&(t&&t.experience_id===n.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({})}):i.Children.only(e):null}}function c(e){const t=(0,a.useSelector)((({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0))),n=(0,a.useDispatch)();return(0,l.jsx)(d,{...e,experience:t,completeExperience:(e,t,i,a)=>n((0,o.CK)(e,t,i,!1,{},a)),completeExperienceObject:(e,t)=>n((0,r.Tl)(e,t)),dismissExperience:(e,t,i,a)=>n((0,o.Qu)(e,t,i,void 0,a)),dismissExperienceObject:e=>n((0,r.CF)(e)),viewExperience:(e,t,i)=>n((0,o.UT)(e,t,!1,!1,void 0,i)),viewExperienceObject:e=>n((0,r.dy)(e))})}s(d,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},527386:(e,t,n)=>{n.d(t,{CK:()=>h,N:()=>y,Qu:()=>m,UT:()=>p,YX:()=>v,d9:()=>g,fO:()=>d,kd:()=>_,pz:()=>c});var i=n(40660),a=n(690108),o=n(703688),r=n(256558),l=n(970588);let s;const d=(e,t)=>n=>{const i=t?{extra_context:e,targeting:t}:{extra_context:e};return a.Z.create("UserExperiencePlatformResource",i).callGet().then((e=>e.resource_response?n((0,r.OD)(e.resource_response.data)):void 0))},c=(e,t,n,i)=>(l,d)=>{if(t)return Promise.resolve();if(i&&(s=i),1===e.length){const t=e[0],i=d().experiences[t],a=(null==i?void 0:i.extraContext)||null;if(JSON.stringify(a)===JSON.stringify(n)||(0,o.E3)(i)&&!(n&&Object.keys(n).length>0))return Promise.resolve()}return a.Z.create("UserExperienceResource",{placement_ids:e,extra_context:n||null,targeting:i}).callGet().then((e=>e.resource_response?l((0,r.cL)(e.resource_response.data)):void 0))},u=(e,t)=>(n,i,o,l=!1,c,u)=>(p,h)=>{const{experiences:m,experiencesMulti:g}=h();let _=null,v=!0;var y;l||(v=m[n]&&m[n].experience_id===i,_=v?m[n]:Array.isArray(g[n])&&(null===(y=g[n])||void 0===y?void 0:y.find((e=>e.experience_id===i))));if(_&&_.experience_id===i||l&&n&&i){const l=a.Z.create(e,{placed_experience_id:`${n}%3A${i}`,extra_context:null!=c?c:{},targeting:u}),h=v?r.Yb:r.xW;switch(t){case"dismissed":return l.callDelete().then((()=>{p(h(n,i,t)),p(d(void 0,s))}));case"completed":return l.callUpdate().then((()=>{o||(p(h(n,i,t)),p(d(void 0,s)))}));case"viewed":return p(h(n,i,t)),l.callUpdate().then((()=>{1000162===n&&p(d())}));case"completedWithoutHomefeed":return l.callUpdate().then((()=>{o||p(h(n,i,t))}));default:return Promise.resolve()}}return Promise.resolve()},p=u("UserExperienceViewedResource","viewed"),h=u("UserExperienceCompletedResource","completed"),m=u("UserExperienceResource","dismissed"),g=u("UserExperienceCompletedResource","completedWithoutHomefeed"),_=(e,t)=>(n,a)=>{const{experiences:o}=a(),r=o[e];r&&r.triggerable_placed_exps&&r.triggerable_placed_exps.length&&r.triggerable_placed_exps.forEach((n=>{const[,a]=n.split(":");let o=t;r.metadata&&r.metadata[a]&&(o={...t,...r.metadata[a]}),(0,l.Z)({url:`/v3/experiences/${n.replace(":","%3A")}/trigger/`,method:"PUT",data:o?{extra_context:JSON.stringify(o,null,1)}:{}}).then((()=>{((e,t,n={})=>{i.Z.increment(`${e}.${t}`,1,n)})("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:a})}))}))},v=e=>(t,n)=>{t(_(e));const{experiences:i}=n();return i[e]},y=(e,t,n)=>i=>{n&&(s=n),i(_(e,t)),t&&Object.keys(t).length>0&&i(c([e],!1,t,n))}},216702:(e,t,n)=>{n.d(t,{CF:()=>l,Tl:()=>r,dy:()=>s});var i=n(690108),a=n(527386);const o=(e,t)=>(n,o)=>r=>{if(n&&n.id){const l=i.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":l.callDelete().then((()=>{r((0,a.fO)())}));break;case"completed":l.callUpdate().then((()=>{o||r((0,a.fO)())}));break;case"viewed":l.callUpdate()}}},r=o("UserExperienceCompletedResource","completed"),l=o("UserExperienceResource","dismissed"),s=o("UserExperienceViewedResource","viewed")},703688:(e,t,n)=>{function i(e){return!!e&&0!==e.type}n.d(t,{A0:()=>o,E3:()=>i,MQ:()=>a});const a=(e,t,n)=>{const a=e[n];return t[n]&&i(a)?a:null};function o(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},488897:(e,t,n)=>{n.d(t,{$S:()=>i,V$:()=>a,_4:()=>r,iY:()=>l,mR:()=>o});const i="REFRESH_ALL_EXPERIENCES_MULTI",a="UPDATE_EXPERIENCE_MULTI",o="FETCH_EXPERIENCES",r="REFRESH_ALL_EXPERIENCES",l="UPDATE_EXPERIENCE"},256558:(e,t,n)=>{n.d(t,{NW:()=>r,OD:()=>s,Yb:()=>l,cL:()=>d,xW:()=>o});var i=n(690108),a=n(488897);const o=(e,t,n)=>({type:a.V$,payload:{placementId:e,experienceId:t,status:n}}),r=e=>t=>i.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((n=e.resource_response.data,{type:a.$S,payload:{experiencesMulti:n}})):void 0;var n})),l=(e,t,n)=>({type:a.iY,payload:{placementId:e,experienceId:t,status:n}}),s=e=>({type:a._4,payload:{experiences:e}}),d=e=>({type:a.mR,payload:{experiences:e}})},765456:(e,t,n)=>{n.d(t,{_:()=>d,a:()=>c});var i=n(667294),a=n(702664),o=n(618446),r=n.n(o),l=n(527386),s=n(282802);const d=({extraContext:e,id:t,shouldUsePlacedExperience:n=!0})=>{const o=(0,i.useRef)(),d=(0,a.useDispatch)(),{isBot:c}=(0,s.B)(),u=(0,a.useSelector)((e=>e.experiences[t]));return(0,i.useEffect)((()=>{d((0,l.kd)(t))}),[d,u,t]),(0,i.useEffect)((()=>{n||r()(o.current,e)||(d((0,l.pz)([t],c,e)),o.current=e)}),[d,e,c,t,n]),u},c=e=>(d(e),(0,a.useSelector)((t=>t.experiencesMulti[e.id])))},125715:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{const[t,n]=[(null==e?void 0:e.width)||580,(null==e?void 0:e.height)||400],[i,a]=[window.screen.width,window.screen.height];return["scrollbars=yes","resizable=yes","toolbar=no","location=yes",`width=${t}`,`height=${n}`,`left=${Math.round((i-t)/2)}`,`top=${a>n?Math.round((a-n)/2):0}`].join(",")}},621982:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(537347),a=n.n(i),o=n(40660);function r(e){if("undefined"==typeof window||!document.head)return o.Z.increment("load_fonts.failure",1,{failure_reason:"window undefined"}),Promise.reject(new Error("Window is undefined or no head on the document. Unable to load fonts"));const{head:t}=document,n=[];return e.forEach((e=>{e.styles.forEach((i=>{var o;let r=document.querySelector(`#${null!==(o=e.fontFamily)&&void 0!==o?o:""}-${i.name}`);if(!r){var l;if(r=document.createElement("style"),r.setAttribute("id",`${null!==(l=e.fontFamily)&&void 0!==l?l:""}-${i.name}`),t.appendChild(r),e.format&&i.fontUrl&&r&&r.sheet){var s;r.sheet.insertRule(`\n            @font-face {\n              font-family: "${null!==(s=e.fontFamily)&&void 0!==s?s:""}";\n              font-style: "${i.fontStyle}";\n              font-weight: "${i.fontWeight}";\n              src: url("${i.fontUrl}") format("${e.format}");\n            }\n          `,0)}n.push(new(a())(e.fontFamily,{style:i.fontStyle,weight:i.fontWeight}).load())}}))})),Promise.all(n).then((()=>{Promise.resolve()})).catch((e=>{o.Z.increment("load_fonts.failure",1,{failure_reason:"unsuccessful load"}),Promise.reject(e)}))}},621699:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(785893);const o=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function r({accessibilityLabel:e,name:t,outline:n,size:r,src:l,verified:s}){return(0,a.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:n,size:r,src:o(l,t)?void 0:l,verified:s})}r.displayName="Avatar";const l=r},781493:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(883119);const o=(0,i.createContext)();var r=n(785893);function l(e){(0,i.useContext)(o);const{alt:t,color:n,children:l,crossOrigin:s,decoding:d,elementTiming:c,fetchPriority:u,fit:p,loading:h,naturalHeight:m,naturalWidth:g,onError:_,onLoad:v,role:y,sizes:f,src:b,srcSet:x}=e;return(0,r.jsx)(a.Ee,{alt:t,color:n,crossOrigin:s,decoding:d,elementTiming:c,fetchPriority:u,fit:p,loading:h,naturalHeight:m,naturalWidth:g,onError:_,onLoad:v,role:y,sizes:f,src:b,srcSet:x,children:l})}},88622:(e,t,n)=>{n.d(t,{ZP:()=>d,b7:()=>r.b7,bN:()=>l,p4:()=>s});var i=n(240684),a=n(549201),o=n(785893),r=n(467105);const l=(0,i.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(51879).then(n.bind(n,943072)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 943072}}),s=(0,i.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(72430).then(n.bind(n,894121)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 894121}});function d(e){const t=(0,a.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){const{isOpen:t,mobileAccessibilityCloseIconLabel:n,mobileAllowScroll:i,mobileHideCloseIcon:a,mobileIsFullscreen:r,mobileIsSlideUp:s,type:d,mobileIsFooter:c,zIndex:u,...p}=e;return(0,o.jsx)(l,{...p})}const{allowClickAndDrag:i,allowMediaPlay:r,allowScroll:d,role:c,size:u,_dangerouslyDisableScrollBoundaryContainer:p,...h}=e;return(0,o.jsx)(s,{...h,isOpen:n})}},943072:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(667294),a=n(883119),o=n(467105),r=n(906215),l=n(455788),s=n(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:p,closeOnOutsideClick:h,footer:m,heading:g,onDismiss:_,role:v,size:y,subHeading:f}){(0,i.useEffect)((()=>(r.Z.pause(),function(){r.Z.resume()})),[]);return(0,s.jsx)(a.mh,{zIndex:o.b7,children:(0,s.jsx)(l.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,s.jsx)(a.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:h,heading:g,footer:m,onDismiss:()=>{r.Z.resume(),_()},role:v,size:y,subHeading:f,padding:"none",children:p})})})}},894121:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var i=n(667294),a=n(883119),o=n(387977),r=n(467105),l=n(536042),s=n(906215),d=n(282802),c=n(455788),u=n(98736),p=n(549201),h=n(886365),m=n(785893);const g=()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},_=()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function v({accessibilityModalLabel:e,align:t="center",allowScroll:n=!1,children:v,closeOnOutsideClick:y=!0,footer:f,heading:b,mobileAccessibilityCloseIconLabel:x,mobileHideCloseIcon:k,mobileIsFullscreen:w,isOpen:S,mobileIsSlideUp:P,mobileIsFooter:T,onDismiss:I,zIndex:C,subHeading:A,type:E}){const j=(0,l.ZP)(),{isRTL:R}=(0,d.B)(),D=(0,i.useRef)(!1),[L,F]=(0,i.useState)(!1),{setAppFocusState:M}=(0,h.I)(),O=(0,p.ZP)();(0,i.useEffect)((()=>{(0,u.My)(`mweb_unauth.mobile_modal.${E||"unknown_type"}.did_mount.is_open.${String(!!S)}`)}),[S,E]),(0,i.useEffect)((()=>(D.current=(0,o.Z)((()=>{D.current&&F(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&D.current&&(window.cancelAnimationFrame(D.current),D.current=null)})),[]),(0,i.useEffect)((()=>(S?(s.Z.pause(),M(!1)):(s.Z.resume(),M(!0)),()=>{S&&(s.Z.resume(),M(!0))})),[M,S]),(0,i.useEffect)((()=>{const e=S&&!n;return e&&g(),()=>{e&&_()}}),[S,n]);return S?(0,m.jsx)(c.Z,{children:(0,m.jsx)(a.mh,{children:(0,m.jsxs)(a.xu,{"aria-label":e,display:"inlineBlock",zIndex:C||r.ZM,position:"relative",role:"dialog",children:[(0,m.jsx)(a.iP,{accessibilityLabel:j.bt("", "Mobile Signup Modal Mask", "mweb.signup_modal.mask", undefined, true),onTap:({event:e})=>{const t=e;(0,u.tj)(`mweb_unauth.mobile_modal.wash_tap.${E||"unknown_type"}.with_dismissal`,{x:t.clientX,y:t.clientY}),y&&I()},tapStyle:"none",children:(0,m.jsx)(a.xu,{height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new a.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}}})}),(0,m.jsxs)(a.xu,{position:"fixed",color:"default",dangerouslySetInlineStyle:P?(0,r.Vf)({isFullscreen:w,isTablet:"tablet"===O,isShowing:L,isRelatedInterestsModal:"related_interests_modal"===E}):(0,r.JN)({variant:w?"fullscreen":"tablet"===O?"tablet":T?"footer":"signup"===E?"signup":void 0}),children:[(0,m.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[x&&!k?(0,m.jsx)(a.xu,{padding:2,"data-test-id":"mobile-modal-cancel-button",children:(0,m.jsx)(a.hU,{accessibilityLabel:x,iconColor:"darkGray",icon:"cancel",onClick:I,padding:4,size:"sm"})}):null,b?(0,m.jsx)(a.kC.Item,{flex:"grow",children:(0,m.jsx)(a.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:x&&!k?{marginRight:R?-10:50,marginLeft:R?50:-10}:{}},children:[w?b:(0,m.jsx)(a.xv,{align:t,weight:"bold",size:"400",children:b}),A?(0,m.jsx)(a.xv,{align:t,children:A}):null]})})}):null]}),(0,m.jsxs)(a.xu,{overflow:"auto",children:[v,f]})]})]})})}):null}},467105:(e,t,n)=>{n.d(t,{JN:()=>d,Vf:()=>c,ZM:()=>l,b7:()=>r,i_:()=>s});var i=n(883119),a=n(377234),o=n(360675);const r=new i.Ry(1e3),l=new i.H3([o.Z]),s=12,d=({variant:e})=>{let t;return t="fullscreen"===e?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===e?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===e?{border:(0,a.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===e?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"}:{border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"},{__style:t}},c=({isFullscreen:e,isTablet:t,isShowing:n,isRelatedInterestsModal:i})=>{let o={border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},r=n?"translateY(0)":"translateY(100vh)";return o.height=e?"100vh":"",t&&i&&(o={...o,width:425,left:"50%",transform:"translateX(-50%)"},r=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...o,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:r}}}},550140:(e,t,n)=>{n.d(t,{UZ:()=>c,Vg:()=>d,ZP:()=>u});var i=n(667294),a=n(883119),o=n(549201),r=n(272109),l=n(785893);const s=2e3,d=200,c=({deviceType:e,hiding:t,visible:n})=>{const i="desktop"===e;let a=0,o=i?"translateY(200px)":"translateY(-200px)",r="opacity 0.1s ease-in-out",l="hidden";return n&&!t&&(a=1,o="translateY(0)",r="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",l="visible"),n&&t&&(o="scale(1.1)",r="opacity transform 0.2s"),{opacity:a,pointerEvents:"auto",position:"relative",marginTop:i?10:0,transform:o,transition:r,visibility:l}};function u({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:n,primaryAction:u,dismissButton:p,helperLink:h,thumbnail:m,type:g,dataTestId:_,duration:v=s,onHide:y,href:f,onClick:b,openNewPage:x,imageUrl:k}){var w;const S=(0,o.ZP)(),[P,T]=(0,i.useState)(!1),[I,C]=(0,i.useState)(!1),A=(0,i.useRef)(),E=()=>{T(!0),A.current=setTimeout(y,d)},j=()=>{A.current=setTimeout(E,v)},R=()=>{A.current&&clearTimeout(A.current)};let D;(0,r.Z)((()=>(setTimeout((()=>C(!0)),100),j(),R))),k&&(D={image:(0,l.jsx)(a.Ee,{alt:"string"==typeof n?n:`${n[0]} ${n[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:k})});const L=(0,l.jsx)(a.FN,{_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,primaryAction:u,text:n,thumbnail:null!==(w=D)&&void 0!==w?w:m,type:g,dismissButton:p,helperLink:h}),{marginTop:F,opacity:M,pointerEvents:O,position:z,transform:Z,transition:N,visibility:U}=c({deviceType:S,hiding:P,visible:I});return(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:Z,transition:N,visibility:U,pointerEvents:O}},"data-test-id":null!=_?_:"toast",onMouseEnter:R,onMouseLeave:j,opacity:M,position:z,marginTop:F,display:"flex",children:f?(0,l.jsx)(a.iP,{role:"link",href:f,onTap:({event:e})=>null==b?void 0:b(e),target:x?"blank":null,rounding:"pill",children:L}):L})}},310072:(e,t,n)=>{function i(e){return`${e.userAgent.isMobile?"mobile":"desktop"}.${e.country}.${e.userAgent.platform}.${e.userAgent.browserName}`.replace(/ /g,"_")}n.d(t,{Z:()=>i})},465001:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(167912);function a({children:e,fragment:t,fragmentKey:n}){return e((0,i.useFragment)(t,n))}},448709:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(497088),o=n(785893);function r({useGraphQLAdapter:e,useLegacyAdapter:t}){const n=({children:t,data:n})=>t({enabled:!0,data:e(n)}),r=({children:e,data:n})=>e({enabled:!1,data:t(n)});return function({children:e,input:t}){var l;const s=t.enabled?(0,o.jsx)(n,{data:t.data,children:e}):(0,o.jsx)(r,{data:t.data,children:e}),d=null!==(l=t.suspense)&&void 0!==l&&l.dangerouslyServerRender?i.Suspense:a.Z;return t.suspense?(0,o.jsx)(d,{fallback:t.suspense.fallback,children:s}):s}}},802760:(e,t,n)=>{n.d(t,{JU:()=>d,M2:()=>s,qb:()=>c});var i=n(702664),a=n(167912),o=n(525104),r=n(785893);function l({useRedux:e,useGraphQLAdapter:t,useLegacyAdapter:n}){const i=({children:e,fragment:n,fragmentKey:i})=>{const o=(0,a.useFragment)(n,i);return e({data:t(o),fragmentRef:o})},o=({children:t,id:i})=>t({data:n(e(i),i),fragmentRef:null});return function({children:e,dataKey:t,fragment:n}){return"string"!=typeof t?(0,r.jsx)(i,{fragment:n,fragmentKey:t,children:e}):(0,r.jsx)(o,{id:t,children:e})}}function s(e){return l({...e,useRedux:e=>(0,o.S6)()(e)})}function d(e){return l({...e,useRedux:e=>(0,i.useSelector)((({stories:t})=>t[e]))})}function c(e){return l({...e,useRedux:e=>(0,i.useSelector)((({articles:t})=>t[e]))})}},24286:(e,t,n)=>{n.d(t,{$H:()=>r,$q:()=>f,D6:()=>d,KN:()=>b,Lo:()=>a,OS:()=>h,P2:()=>_,ZZ:()=>u,g5:()=>p,jC:()=>l,lX:()=>g,nW:()=>m,oX:()=>v,qG:()=>y,tG:()=>o,yF:()=>i,yc:()=>c,yt:()=>s});const i=236,a=2*i/3,o=175,r=24,l=4,s=8,d=2,c=2,u=14,p=16,h=5,m=12,g=16,_=24,v=16,y=-1,f=(e=!1,t=!1)=>e?t?g:m:_,b=(e,t,n,i,a=u)=>{const o=e+a;return`\n@media (min-width: ${t*o}px) and (max-width: ${(n+1)*o-1}px) {\n  ${i}\n}\n`}},62152:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(736409),a=n(536042),o=n(630089);function r(){const e=(0,a.ZP)();return function(t,n){const a=new Date(t),r=new Date-a,l=Math.floor(r/i.FS),s=Math.floor(r/i.UK),d=Math.floor(r/i.F4),c=Math.floor(r/i.VL),u=Math.floor(r/i.N1),p=e.nbt(["{{ minutes }} "], l, " - ", true),h=e.nbt(["{{ hours }} "], s, " - ", true),m=e.nbt(["{{ days }} "], d, " - ", true),g=e.nbt(["{{ weeks }} "], c, " - ", true),_=e.nbt(["{{ years }} "], u, " - ", true),v=e.nbt(["{{ minutes }} "], l, "minutes ago abbreviated", true),y=e.nbt(["{{ hours }} "], s, "hours ago abbreviated", true),f=e.nbt(["{{ days }} "], d, "days ago abbreviated", true),b=e.nbt(["{{ weeks }} "], c, "weeks ago abbreviated", true),x=e.nbt(["{{ years }} "], u, "years ago abbreviated", true);return u>0?(0,o.nk)(n?x:_,{years:u}).join(""):c>0?(0,o.nk)(n?b:g,{weeks:c}).join(""):d>0?(0,o.nk)(n?f:m,{days:d}).join(""):s>0?(0,o.nk)(n?y:h,{hours:s}).join(""):l>0?(0,o.nk)(n?v:p,{minutes:l}).join(""):e.bt("", "Just now", " - ", undefined, true)}}},536042:(e,t,n)=>{n.d(t,{ZP:()=>l,oz:()=>o,q6:()=>a});var i=n(583592);const{Provider:a,Consumer:o,useHook:r}=(0,i.Z)("i18n"),l=r},734417:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(536042),a=n(493851);const o=(e,t)=>{const n=t||0,i=10**n,a=+(n?e*i:e).toFixed(8),o=Math.floor(a),r=a-o,l=r>.5-1e-8&&r<.5+1e-8?o%2==0?o:o+1:Math.round(a);return n?l/i:l},r=({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:i})=>{const a={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...a,style:n,..."currency"===n?{currency:i,currencyDisplay:"symbol"}:{}}:a},l=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0},s=(e,t)=>{if(t){const{minimumFractionDigits:n,maximumFractionDigits:i}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==n&&void 0!==i)return{minimumFractionDigits:n,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function d(){const e=(0,i.ZP)();return(t,n,i)=>{let d=0,c=0;const u=i&&i.style||void 0,p=i&&i.shortform||!1,h=i&&i.uplimit||void 0,m=i&&i.currency||void 0,g=!!h&&n>=h,_=h&&g?h:n;if("currency"===u){const{minimumFractionDigits:e,maximumFractionDigits:n}=s(t,m);d=void 0===i||void 0===i.maximum_fraction_digits?n:i.maximum_fraction_digits,c=void 0===i||void 0===i.minimum_fraction_digits?e:i.minimum_fraction_digits}else d=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,c=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits;if(p&&_>999&&(d=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,c=0),d<c)return String(_);let v=_,y="";const f=[{"100M":{value:1e8,localeKey:e.bt("", "", "Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.", undefined, true)}},{"10k":{value:1e4,localeKey:e.bt("", "", "Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.", undefined, true)}}],b=[{b:{value:1e9,localeKey:e.bt("B", "B", "Abbreviation for one billion.", undefined, true)}},{m:{value:1e6,localeKey:e.bt("", "M", "Abbreviation for one million.", undefined, true)}},{k:{value:1e3,localeKey:e.bt("", "k", "Abbreviation for one thousand.", undefined, true)}}],x=/^zh|ja|ko/.test(t);if(p&&_>999){const e=x?f:b;for(let t=0;t<e.length;t+=1){const n=Object.keys(e[t])[0],i=e[t][n].value;if(_>=i){v=o(_/i*Math.pow(10,d))/Math.pow(10,d),y=e[t][n].localeKey;break}}}if(null==v)return"";const k=v.toLocaleString([l(t)&&"ar-SA"!==t?t:"en-US"],r({maximumFractionDigits:d,minimumFractionDigits:c,currency:m,style:u}));return y&&y.length>0?(0,a.Z)(e.bt("{{formattedNumber}} {{numberSuffix}}", "{{formattedNumber}}{{numberSuffix}}", "i18n.usePrettyNumberFormat.prettyNumberFormat", undefined, true),{formattedNumber:k,numberSuffix:y})+(g?"+":""):k+(g?"+":"")}}},833122:(e,t,n)=>{n.d(t,{F:()=>s,Z:()=>l});var i=n(667294),a=n(388011),o=n(906215);const r={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704}};function l({carouselData:e,closeupImpressionType:t,closeupNavigationType:n,componentType:l,contextLogData:s,clientTrackingParams:d,elementType:c,impressionAuxFields:u,inImpressionExp:p,impressionType:h,impressionsFramework:m,isPaused:g,loggingId:_,objectIdStr:v,slotIndex:y,trackCarousel:f,viewData:b,viewParameter:x,viewType:k}){const{logContextEvent:w}=(0,a.v)(),S=m||o.Z,P=(0,i.useRef)(null),T=i=>{const a=r[h],o=a.idType;let p={clientTrackingParams:d,endTime:i.endTime,[o]:_,slotIndex:y,time:i.startTime,renderDuration:i.endTime-i.startTime,type:t,...u,forcedExit:"removed"===i.forcedExit?0:void 0};var m,g,S,T;"Pin"===h&&(p={...p,pinCellWidth:(null===(m=P.current)||void 0===m?void 0:m.getBoundingClientRect().width)||0,pinCellHeight:(null===(g=P.current)||void 0===g?void 0:g.getBoundingClientRect().height)||0,windowWidth:null===(S=window)||void 0===S?void 0:S.innerWidth,windowHeight:null===(T=window)||void 0===T?void 0:T.innerHeight});const I={component:l,object_id_str:v,view_type:k,view_data:b||{},view_parameter:x};if(f){if(e){var C,A,E;w({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...p,carouselDataId:Number(e.id),carouselSlotId:(null===(C=e.carousel_slots)||void 0===C?void 0:C[null!==(A=e.index)&&void 0!==A?A:0])&&Number(e.carousel_slots[null!==(E=e.index)&&void 0!==E?E:0].id),slotIndex:e.index}]},...I,aux_data:{...s}})}}else w({clientTrackingParams:d,event_type:a.eventType,...I,element:c,event_data:{[a.impressionType]:"Story"===h?p:[p]},aux_data:{closeup_navigation_type:n,...s}})},I=(0,i.useCallback)((()=>{try{P.current instanceof HTMLElement&&S.start(P.current).onExitViewport(T).setDebugId(_||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[P.current]);(0,i.useEffect)((()=>(p&&!S.inExperiment&&S.setExperimentStatus(!0),g||I(),()=>{P.current instanceof HTMLElement&&S.stop(P.current)})),[I]);const C=(0,i.useRef)(g);return(0,i.useEffect)((()=>{C.current&&!g&&I(),C.current=g}),[g,I]),P}const s=({children:e,...t})=>e({impressionTrackerRef:l(t)})},121633:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z3:()=>p,LU:()=>h,ZP:()=>m});const a=1e6,o=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,r={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},l={},s={background:"#FF8A8A",transform:"scale(.98)"},d={init:e=>({transform:`scale(${l[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[r.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[r.exit]:s,[r.stopped]:s,[r.paused]:s,[r.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class c{constructor(e){i(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),i(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),i(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),i(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(r.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(r.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,o&&Object.assign(this.node.style,d.init(e)),this}pause(){return this.inViewport&&(this._debug(r.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(r.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(r.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*a,endTime:Date.now()*a,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(o)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),d[e]&&Object.assign(this.node.style,d[e]),e){case r.flushed:case r.paused:case r.exit:l[this.debugId]=!0}}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=!0,h=!1;class m{constructor(){u(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),u(this,"_handleMutations",((e,t)=>{const n=this.mutationObservers.get(t);n&&n.offsetHeight<1&&n&&this.stop(n,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=h,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const n=this.activeImpressions.get(e);var i;n&&(n.stop(t),this.mutationObservers.delete(n.mutationObserver),n.stopMutationObserver(),this.activeImpressions.delete(e),null===(i=window.activeImpressions)||void 0===i||i.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){var n;t=new c(e),this.activeImpressions.set(e,t),null===(n=window.activeImpressions)||void 0===n||n.set(e,t),this.observer.observe(e);const i=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(i)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=p){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===h&&(this.pausePriority=e))}resume(e=p){e===h&&this.pausePriority===p||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=h)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:n}=t.getBoundingClientRect();return n>e?n:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:n}=t.getBoundingClientRect();return n<e?n:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const n={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,n),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},906215:(e,t,n)=>{n.d(t,{Z:()=>i});const i=new(n(121633).ZP)},630089:(e,t,n)=>{n.d(t,{Wc:()=>s,bF:()=>c,nk:()=>l,r7:()=>u});var i=n(667294),a=n(785893);function o(e,t,n){return e.split(n).map((e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e}))}const r=/(\{\{\s*\w+\s*\}\})/g;function l(e,t){return o(e,t,r)}function s(e,t){return o(e,t,r).join("")}const d=/(\{\s*\w+\s*\})/g;function c(e,t){return o(e,t,d)}const u=({text:e})=>Array.isArray(e)?e.map(((e,t)=>(0,a.jsx)(i.Fragment,{children:e},t))):e},149596:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends i.Component{constructor(...e){super(...e),a(this,"ref",(0,i.createRef)()),a(this,"observer",null),a(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){null!==this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}const r=o},17206:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(970588),a=n(739425);const o=(e=(()=>{}))=>{const t=(0,a.mB)(window.location.search),{invite_code:n}=t;if(!n)return void e(t);const o=encodeURIComponent(n),r=encodeURIComponent(o);(0,i.Z)({url:"/v3/invite_code/attribution/land/",method:"POST",data:{invite_code:r}})}},619795:(e,t,n)=>{n.d(t,{U:()=>p});var i=n(40660);const a="nic_v3",o=`${a}=1a`,r=`${a}=1b`,l=[o,r],s=["invite_code","invite","board_invite_code","sender"],d=e=>!!s.find((t=>e.includes(t))),c=e=>{return e.pathname.includes("/pin/")&&!d(e.search)&&(t=e.search,!l.find((e=>t.includes(e))));var t},u=(e,t,n=!1,l)=>{if(!c(e))return;const s=n?"mweb":"web";if(t){i.Z.increment(`${s}.${a}.social_tracking_pin_non_invite.insert.attempt`);try{const d=((e,t,n)=>{const i=(e.search?"&":"?")+(n?r:o)+t;return e.pathname+e.search+i})(e,t,n);i.Z.increment(`${s}.${a}.social_tracking_pin_non_invite.insert.success`),l(d)}catch(d){i.Z.increment(`${s}.${a}.social_tracking_pin_non_invite.insert.caught_exception`)}}else i.Z.increment(`${s}.${a}.social_tracking_pin_non_invite.insert.no_encrypted_id`)},p=(e,t,n,o,r)=>{const l=n?"mweb":"web";i.Z.increment(`${l}.${a}.social_tracking_pin_non_invite.attempt`);try{!n&&o&&c(e)?(i.Z.increment(`${l}.${a}.social_tracking_pin_non_invite.search_string_eligible`),((e,t,n=!1,i)=>{u(e,"",n,i)})(e,0,n,r)):(s=e.search,d(s)||(e=>e.includes("sender"))(s)||!s.includes(a)||i.Z.increment(`${l}.${a}.social_tracking_pin_non_invite.search_string_land`))}catch(p){i.Z.increment(`${l}.${a}.social_tracking_pin_non_invite.caught_exception`)}var s}},110417:(e,t,n)=>{n.d(t,{Rq:()=>i,Vf:()=>a,jd:()=>o,oy:()=>r});const i=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,a=28,o=e=>window.innerHeight>=748&&i(e),r=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},525571:(e,t,n)=>{n.d(t,{Z:()=>a});const i=28;function a(e){if(!e)return!1;const t=new Date(e);return t.setDate(t.getDate()+i),(new Date).getTime()<t.getTime()}},948196:(e,t,n)=>{function i(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}n.d(t,{Z:()=>i})},5342:(e,t,n)=>{n.d(t,{Z:()=>a});const i=28;function a(e,t,n=i){if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;let a;a=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const o=new Date,r=a?new Date(a):o;return r.setDate(r.getDate()+n),(new Date).getTime()<r.getTime()}},731048:(e,t,n)=>{n.d(t,{Z:()=>i});const i={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},943795:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>c,DEFAULT_PADDING_Y:()=>u,FixedFooter:()=>y,FixedHeader:()=>v});var i=n(667294),a=n(883119),o=n(377234),r=n(906215),l=n(107577),s=n(245410),d=n(785893);const c=64,u=3,p=100,h=44,m="0px 0px 8px rgba(0, 0, 0, 0.1)",g="1px solid #efefef";function _({children:e,footerConfig:t,headerConfig:n,height:l,hideOnScroll:h,hideOnScrollState:{isHidden:_,updateHiddenState:v},noPadding:y,paddingY:f=u,type:b,zIndex:x}){const{headerLimitedOverflow:k,ignoreObstructions:w,zIndexForGestaltBug:S}=n||{},{appUpsellFooterConfig:P,footerInLego:T,navFooterConfig:I}=t||{},C=!!P,A="header"===b?"top":"bottom",{anyEnabled:E}=(0,s.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),j=(0,o.vs)(),R=E?j:(0,o.Yc)(),D=(0,i.useRef)(null),L=(0,i.useRef)(null);(0,i.useEffect)((()=>{try{if(!w){const e=D.current;L.current=k&&e&&Array.isArray(e.children)?e.children[0]:e,L.current instanceof HTMLElement&&r.Z.addObstruction(A,L.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{w||L.current instanceof HTMLElement&&r.Z.removeObstruction(A,L.current)}}),[w,k,A,R]);const F="top"===A?"relative":"fixed",M=y?0:f,O=(null!=l?l:c)+((null==n?void 0:n.overrideTop)||0),z=h||I?{transition:T?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",..._?{transform:`translateY(${"top"===A?-O:O}px)`,opacity:T?0:1}:Object.freeze({})}:{},Z="relative"!==F||null!=n&&n.noGutter?0:2,N=Z?-Z:0,U=R?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";let B,K;return R&&("header"===b?B=-1:K=-1),(0,d.jsx)(a.xu,{ref:D,dangerouslySetInlineStyle:{__style:{top:B,bottomStyle:K,...!x||S?{zIndex:S||1}:Object.freeze({}),...k?{background:"transparent",overflow:"hidden",paddingBottom:p,marginBottom:-p,pointerEvents:"none"}:Object.freeze({}),...null!=n&&n.hasBorder?{borderBottom:g}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...z}},zIndex:S?void 0:x,"data-test-id":b,display:C?"flex":void 0,height:l&&!T?l:void 0,position:F,bottom:"footer"===b,top:"header"===b,left:!0,right:!0,marginStart:T?"auto":N,marginEnd:T?"auto":N,onTransitionEnd:()=>{(h||I)&&L.current&&(_?r.Z.removeObstruction(A,L.current):r.Z.addObstruction(A,L.current))},width:T||"fixed"!==F?void 0:"100%",children:(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==n?void 0:n.isTranslucent)&&U||(null==n?void 0:n.isTransparentBackground)&&"transparent"||"var(--color-background-default)",height:T?C?void 0:null!=l?l:c:"100%",boxShadow:T?m:void 0,marginBottom:!T||null!=I&&I.docked?void 0:16,...k?{pointerEvents:"auto"}:Object.freeze({}),...null!=n&&n.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==b||y?0:4)+Z,paddingY:M,position:"relative",width:I?I.footerWidth:C?void 0:"100%",rounding:!T||null!=I&&I.docked?void 0:"pill",display:T||null!=t&&t.alignCenter?"flex":void 0,marginStart:T?"auto":void 0,marginEnd:T?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:v}):e})})}function v({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:i,isTransparentBackground:o,noGutter:r,overrideTop:s,useRoundedCorners:c,zIndexForGestaltBug:p,...m}){const{noPadding:g,paddingY:v=u,zIndex:y}=m,f=g?0:v;return(0,d.jsx)(a.Le,{top:s||0,height:t?h+2*f*4:void 0,zIndex:y||void 0,children:(0,d.jsx)(l.Z,{hideOnScroll:m.hideOnScroll,children:a=>(0,d.jsx)(_,{...m,hideOnScrollState:a,type:"header",headerConfig:{isTranslucent:i,isTransparentBackground:o,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:r,overrideTop:s,zIndexForGestaltBug:p,useRoundedCorners:c}})})})}function y({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:a,...o}){return(0,d.jsx)(l.Z,{appUpsellFooterConfig:t,hideOnScroll:o.hideOnScroll,navFooterConfig:null==a?void 0:a.scrollConfig,children:r=>(0,d.jsx)(_,{...o,hideOnScrollState:r,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:a}})})}},107577:(e,t,n)=>{n.d(t,{Z:()=>l,m:()=>r});var i=n(667294),a=n(552369);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r=20;class l extends i.Component{constructor(...e){var t;super(...e),o(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!(null===(t=this.props.navFooterConfig)||void 0===t||!t.isDockedNavOnPlp)}),o(this,"lastScrollPos",0),o(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),o(this,"handleScroll",(0,a.Z)((()=>{var e;const{appUpsellFooterConfig:t,navFooterConfig:n}=this.props,{isHidden:i}=this.state,a=window.scrollY,o=a-this.lastScrollPos;let l="none";const{scrollHeight:s,clientHeight:d}=document.documentElement||{};if(!Number.isNaN(s)&&!Number.isNaN(d))if(o<0){const e=window.scrollMinY||0;l=a<=Math.abs(e+Math.max(o,r))?"start":"none"}else{l=a>=(window.scrollMaxY||s-d)-Math.max(o,r)?"end":"none"}const c=null!=n&&n.isModal?0:55;if(t)if(o>r&&i&&a>=500){t.shouldShowAfterScroll()&&(this.updateHiddenState(!1),null==n||n.onScroll(!1))}else(o<-r&&!i||a<=c)&&(this.updateHiddenState(!0),null==n||n.onScroll(!0));else null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp?"start"===l&&!i||a<=c?(this.updateHiddenState(!0),null==n||n.onScroll(!0)):(a>c||"end"===l)&&i&&(this.updateHiddenState(!1),null==n||n.onScroll(!1)):(o<-r||"start"===l)&&i||a<=c?(this.updateHiddenState(!1),null==n||n.onScroll(!1)):(o>r||"end"===l)&&!i&&(this.updateHiddenState(!0),null==n||n.onScroll(!0));this.lastScrollPos=a}),30))}componentDidMount(){try{var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(t){window.console.error(t),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){var t,n,i,a;!e.hideOnScroll&&this.props.hideOnScroll||(null===(t=e.navFooterConfig)||void 0===t||!t.isDockedNavOnPlp)&&null!==(n=this.props.navFooterConfig)&&void 0!==n&&n.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!==(i=e.navFooterConfig)&&void 0!==i&&i.isDockedNavOnPlp&&(null===(a=this.props.navFooterConfig)||void 0===a||!a.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){const{children:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!(null!=t&&t.forceShow)&&n,updateHiddenState:this.updateHiddenState})}}},265259:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),a=n(24286),o=n(319689),r=n(549201),l=n(785893);const s=({children:e,roundedForLargeDevice:t})=>{const n="phone"!==(0,r.ZP)()&&t;return(0,o.V)()?(0,l.jsx)(i.xu,{marginStart:-a.D6,marginEnd:-a.D6,rounding:n?6:void 0,overflow:n?"hidden":void 0,children:(0,l.jsx)(o.C,{value:!1,children:e})}):e}},993869:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(883119),a=n(24286),o=n(110417),r=n(319689),l=n(282802),s=n(785893);const d=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:d=!0,height:c,showKeychainError:u=!1,useViewport:p=!1})=>{const h=(0,l.B)(),m=(0,o.jd)(h.userAgent.platform)?o.Vf:0;return(0,s.jsx)(i.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:p?`calc(100vh - ${m}px)`:c,paddingX:d?a.D6:void 0,paddingY:n||u?void 0:3,children:(0,s.jsx)(r.C,{value:!!d,children:e})})}},319689:(e,t,n)=>{n.d(t,{C:()=>o,V:()=>r});var i=n(667294);const a=(0,i.createContext)(!1),o=a.Provider,r=()=>(0,i.useContext)(a)},354428:(e,t,n)=>{n.d(t,{nS:()=>x,iw:()=>w,gV:()=>f,G3:()=>S,lI:()=>P,Gj:()=>k,Jd:()=>y,$3:()=>b});var i=n(874965),a=n(965533),o=n(946618),r=n(457628),l=n(791045),s=n(970588),d=n(898252),c=n(250307);const u=e=>"string"!=typeof e&&e?e.state:null;var p=n(845098),h=n(48040),m=n(957733),g=n(625168),_=n(204926),v=n(795142);const y=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},f=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),b=({location:e,pin:{id:t,is_downstream_promotion:n,promoter:i},surface:a})=>!(0,d.jL)(n,!!i)&&(({location:e,pinId:t,surface:n})=>{const i=Boolean(n),a=v.ZF.includes(n),o=e.pathname.includes(t);return i&&!a||o})({location:e,pinId:t,surface:a}),x=e=>{const t=Math.round(1e3*Math.random())+"",n=Math.round(1e3*Math.random())+"";r.t8((0,l.GS)(t),n);const i=`${t}-${n}`,{queryParams:a,url:o}=e;let s={token:i,url:o};if(!a){const{pinId:t,csrId:n,clientTrackingParams:i,auxData:a}=e;s={...s,pin:null!=t?t:void 0,csr:n&&!t?n:void 0,client_tracking_params:i,aux_data:a?JSON.stringify(a):void 0}}a&&(s={...s,...a});return`/offsite/?${(0,p.Z)(s)}`},k=e=>{(0,a.Z)(x(e),!0)},w=async({isMounted:e,pin:t,location:n,spamCheckCallback:i,href:a})=>{var r,l;const d=await(0,s.Z)({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:(0,o.Z)({boardUrl:null==t||null===(r=t.board)||void 0===r?void 0:r.url,callToCreateSourcePinId:null==t?void 0:t.call_to_create_source_pin_id,location:n,pinId:null==t?void 0:t.id,pinnerUserName:null==t||null===(l=t.pinner)||void 0===l?void 0:l.username,storyPinDataId:null==t?void 0:t.story_pin_data_id,trackingParams:null==t?void 0:t.tracking_params,trackingParamsMap:null==t?void 0:t.tracking_params_map}),pin_id:null==t?void 0:t.id,url:a}});if(!d.resource_response.error&&e){const e=d.resource_response.data||{},{message:t,redirect_status:n,url:a}=e;i({blocked:["blocked","suspicious","porn"].includes(n),message:t,redirectStatus:n,sanitized_url:a})}},S=({event:e,onHistoryChange:t,href:n,history:i,target:o})=>{const r=(0,c.Z)(n),l=u(n),s=(0,h.Z)(r);s===g.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===o?(0,a.Z)(r,"blank"===o):i&&s===g.Z.SAME_ORIGIN&&(i.push((0,m.Z)({url:r}),null!=l?l:{}),t&&t({event:e}))},P=({href:e,pinId:t,pin:n,location:a,auxData:r,spamCheck:l,queryParams:s},d,c)=>{"undefined"!=typeof window&&window.Windows?(0,_.Z)({url:e,pinId:t,pin:n,location:a,auxData:r}):n?(({spamCheck:e,auxData:t,location:n,pin:a,pinId:r,href:l},s,d)=>{if(null!=e&&e.blocked)null==d||d(e);else{var c,u;if((0,i.b)({href:l,pinId:r,pin:a,location:n,auxData:t},s))return;k({url:l,pinId:r,csrId:null,clientTrackingParams:(0,o.Z)({boardUrl:null===(c=a.board)||void 0===c?void 0:c.url,callToCreateSourcePinId:a.call_to_create_source_pin_id,location:n,pinId:a.id,pinnerUserName:null===(u=a.pinner)||void 0===u?void 0:u.username,storyPinDataId:a.story_pin_data_id,trackingParams:a.tracking_params,trackingParamsMap:a.tracking_params_map}),auxData:t})}})({spamCheck:l,auxData:r,location:a,pin:n,pinId:t,href:e},d,c):k({url:e,pinId:t,queryParams:s})}},599551:(e,t,n)=>{n.d(t,{Z:()=>c,p:()=>u});var i=n(667294),a=n(616550),o=n(388011),r=n(354428),l=n(250307),s=n(28630),d=n(554318);function c(e){var t;const{externalData:n,href:c,onHistoryChange:u,target:p}=e,{logContextEvent:h}=(0,o.v)(),[m,g]=(0,i.useState)(null),[_,v]=(0,i.useState)(!1),y=(0,a.useHistory)(),f=(0,a.useLocation)(),b=(0,s.Z)({url:(0,l.Z)(c)}),{showWarning:x}=null!==(t=(0,d.s)())&&void 0!==t?t:{};return(0,i.useEffect)((()=>(v(!0),()=>{v(!1)})),[]),(0,i.useEffect)((()=>{b&&null!=n&&n.pin&&null===m&&_&&(0,r.$3)({location:f,pin:n.pin,surface:n.surface})&&(0,r.iw)({isMounted:_,pin:n.pin,location:f,spamCheckCallback:e=>g(e),href:(0,l.Z)(c)})}),[null==n?void 0:n.pin,null==n?void 0:n.surface,c,b,_,f,m]),({event:e})=>{var t;(0,r.gV)({isOffsiteUrl:b,event:e})||(e.preventDefault(),c&&(b||null!=n&&n.dangerouslyForceOffsiteUrl?(0,r.lI)({auxData:null==n?void 0:n.auxData,href:(0,l.Z)(c),pinId:null==n||null===(t=n.pin)||void 0===t?void 0:t.id,pin:null==n?void 0:n.pin,queryParams:null==n?void 0:n.queryParams,location:f,spamCheck:m},h,x):(0,r.G3)({event:e,href:c,history:y,onHistoryChange:u,target:"blank"===p?"blank":null})))}}const u=({children:e,...t})=>e({handleClick:c(t)})},307052:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(40660);const a=20,o=100,r=.01;function l(e,t){return new Promise(((n,l)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)n();else{const t=setInterval((()=>{window.FB||e===a?(clearInterval(t),n()):(e+=1,i.Z.increment(`mweb.loadScript.facebook.tries_${e}`,r))}),o)}else if("GSI"===t)if(window.google)n();else{const t=setInterval((()=>{window.google||e===a?(clearInterval(t),n()):(e+=1,i.Z.increment(`mweb.loadScript.gsi.tries_${e}`,r))}),o)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",(()=>n())),t.addEventListener("error",l),document.getElementsByTagName("head")[0].appendChild(t)}}))}},279409:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(948196);function a(e,t=!1){return n=>{if(!(0,i.Z)(n))return t&&Array.isArray(n)?n.map(a(e,t)):n;const o={};return Object.keys(n).forEach((r=>{const l=e(n[r],r);(0,i.Z)(n[r])||t&&Array.isArray(n[r])?o[l]=a(e,t)(n[r]):o[l]=n[r]})),o}}function o(e,t=!1){const n=(t,n)=>e(n);return e=>a(n,t)(e)}},532465:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r});const a=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((t=>t!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((t=>t!==e))}getAppState(){return this.windowInFocus?0:void 0}},o=e=>{if(e.isHidden){const{reason:t}=e;a.windowInFocus=!1,a.onPauseListeners.forEach((e=>e(t)))}else a.windowInFocus=!0,a.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>o({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>o({isHidden:!1}))),window.addEventListener("blur",(()=>o({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>o({isHidden:!1}))),window.addEventListener("pagehide",(()=>o({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>o(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>o(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const r=a},7997:(e,t,n)=>{n.d(t,{Z:()=>i});const i=({hasRecipe:e,hasArticle:t,i18n:n})=>e?n.bt("", "Make it", "pinPage.pinActionBar.Makeit.Button", undefined, true):t?n.bt("", "Read it", "pinPage.pinActionBar.Readit.Button", undefined, true):n.bt("", "Visit", "pinPage.pinActionBar.visitButton", undefined, true)},624417:(e,t,n)=>{function i({embedSrc:e,embedType:t,images:n,preferredResolution:i}){if(!e&&!t&&!n)return"";if("gif"===t)return e||"";const a=n;if(!a)return"";if(i){const e="474x"===i&&a["474x"]||"236x"===i&&a["236x"]||a["736x"];if(e&&e.url)return e.url}const o=Object.keys(a).map((e=>{try{const t=e.split("x")[0];return Number.isNaN(Number(t))?(a[t]=a[e],t):e}catch(t){return""}}));o.sort();const r=o.pop();return a[r]&&a[r].url||""}n.d(t,{Z:()=>i})},850019:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(898252);const a=()=>({isLeadPin:!1,isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1});function o(e){var t;const{access:n,attribution:o,embed:r,is_eligible_for_web_closeup:l,promoted_is_lead_ad:s,rich_summary:d,sponsorship:c,story_pin_data_id:u,videos:p}=e,h=a();s&&(h.isLeadPin=!0),null!==(t=e.carousel_data)&&void 0!==t&&t.id&&(h.isCarousel=!0),l&&(h.isOneTap=!0),(0,i.iR)(p)&&(h.isVideo=!0);const m=r||o&&o.embed||null;return m&&"gif"===m.type&&(h.isGif=!0),d&&"product"===d.type_name&&(h.isProduct=!0),d&&"recipe"===d.type_name&&(h.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(h.isPromoted=!0),(n||[]).includes("write")&&(h.isOwnPin=!0),u&&(h.isStoryPin=!0),c&&(h.isSponsored=!0),h}},740494:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(465991);const a=e=>(e||"").trim().replace(/\s+/g," "),o=({storyPinDataId:e,pinDescription:t,richMetadataDescription:n,richSummaryDisplayName:o,closeupDescription:r,closeupUnifiedDescription:l,seoDescription:s,seoNoindexReason:d})=>{if(d&&i.eg.has(d))return a(s);return!!e?a(t):a((0,i.eK)({richMetadataDescription:n,richSummaryDisplayName:o,closeupUnifiedDescription:l}).description)||a(l||"")||a(r)||a(t)||a(n)||""}},150875:(e,t,n)=>{n.d(t,{Z:()=>o});const i=800,a=400;function o(){let e=i,t=a;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},898252:(e,t,n)=>{n.d(t,{Js:()=>d,NK:()=>x,Nc:()=>k,VX:()=>c,ZE:()=>y,Zt:()=>f,_J:()=>h,_S:()=>w,cL:()=>_,dZ:()=>T,hb:()=>b,hy:()=>p,iR:()=>s,jL:()=>u,o:()=>S,oN:()=>r,pU:()=>P,rM:()=>v,sV:()=>m,sY:()=>g});var i=n(850019);const a="all_time_realtime",o="30d_realtime",r=5e3,l=["Uploaded by user"],s=e=>!!e&&!!e.video_list,d=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},c=(e,t)=>t&&t.products&&t.products.length>0||(null==e?void 0:e.products)&&e.products.length>0||!1,u=(e,t)=>!!t&&!e,p=e=>!!e,h=e=>!!e&&5!==e,m=e=>["email","messages","deep_linking"].includes(e),g=e=>!!e&&"gif"===e,_=({embedSrc:e,embedSubtype:t,embedType:n})=>!!e&&!g(n)&&!(e=>"pinstory"===e)(t),v=({link:e,mobileLink:t,trackedLink:n})=>!t&&!n&&!e,y=e=>/pin.it/gim.test(e||""),f=({link:e,mobileLink:t,origImageUrl:n,trackedLink:i})=>t||i||e||n||"",b=({isGif:e,isProductPin:t,isRecipePin:n,isStoryPin:i,isVideoPin:a})=>e?"gif":t?"productPin":n?"recipePin":i?"storyPin":a?"video":"image",x=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function k({pin:e,isSCEEnabled:t}){var n;const{aggregated_pin_data:a}=e,{isStoryPin:r,isVideo:l}=(0,i.Z)(e);return!(!t&&(r||l))&&0!==Object.keys((null==a||null===(n=a.creator_analytics)||void 0===n?void 0:n[o])||{}).length}function w(e){for(const t of l)if(e===t)return!1;return!0}function S(e){return 0!==Object.keys((null==e?void 0:e[o])||{}).length}function P(e){return 0!==Object.keys((null==e?void 0:e[a])||{}).length}function T(e){var t;return!(null==e||null===(t=e[o])||void 0===t||!t.is_realtime)}},465991:(e,t,n)=>{n.d(t,{eg:()=>r,kt:()=>m,hP:()=>p,fs:()=>d,eK:()=>c,Ly:()=>u,BY:()=>h,bN:()=>g,RC:()=>l,EU:()=>s});const i=/\s\s+/g,a=e=>e.replace(i," ");var o=n(371362);const r=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),l=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,s=(e,t)=>e?e.trim().length>t?(0,o.ZP)(e.trim(),t).trim():e.trim():"",d=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:o})=>{const r=o||e,l=s(t,200);return l||(n||(i||(a&&r?r:null)))},c=e=>{const{richSummaryDisplayName:t}=e,n=e.pinJoinVisualAnnotation||[],i=e.pinJoinAnnotationsWithLinks||{},r=e.richMetadataDescription||"",l=e.closeupUnifiedDescription||"",s=n.map((e=>(i||{})[e]||{name:e,url:""}));let d="";const c=(t||"").toLocaleLowerCase().trim(),u=r.toLocaleLowerCase().trim(),p=l.toLocaleLowerCase().trim();return l&&l.length>3&&p!==c?d=l:r&&r.length>3&&u!==c&&(d=r),d&&(d=a((0,o.ZP)(d,496)).trim()),{description:d,annotationsWithLinks:s}},u=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:o,pinJoinVisualAnnotation:l,pinJoinAnnotationsWithLinks:s,seoNoindexReason:u,seoTitle:p})=>{if(u&&r.has(u))return p;const{annotationsWithLinks:h}=c({pinJoinVisualAnnotation:l,pinJoinAnnotationsWithLinks:s}),m=(h||[]).map((e=>e.name)),g=e=>(e||[])[0]||null;return d({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:o})||g(l)||g(m)||e},p=(e,t,n,i)=>{var a;let o=(a=e,"string"==typeof a?a:"").trim();return n?(i&&i.trim().length&&(o=i),n.length>0&&(o&&(o+=" "),o+=n.join(", ")),o):i&&i.trim().length?i:o},h=e=>`/pin/${e}/`,m=(e,t)=>{const n=`Pinterest video from ${t}: `.concat(e);return""===t?e:n},g=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:h(e)},600268:(e,t,n)=>{n.d(t,{NC:()=>o,Rc:()=>l,WK:()=>d,X9:()=>a,b9:()=>i,f9:()=>s,gu:()=>r});const i="pin-builder-font-faces",a="system-font-faces",o="pin-builder-education-font-faces",r="licensed",l="system",s="brand",d=4},140523:(e,t,n)=>{n.d(t,{Z:()=>i});const i={STARTED:1,FINISHED:2}},937633:(e,t,n)=>{n.d(t,{k:()=>S});var i=n(667294),a=n(702664),o=n(690108),r=n(970588);const l=["etsy","facebook","microsoft","twitter","google","instagram","youtube","dropbox"];function s({network:e,data:t,requestContext:n}){if(l.includes(e))return o.Z.create("UserSocialNetworkResource",{network:e,data:t}).callCreate();const i=`/v3/connect/${e}/`,a=((e,t,n)=>{let i;switch(e){case"facebook":const{facebookToken:e}=n;i=t?{facebook_id:t.id,facebook_token:e}:Object.freeze({});break;case"gplus":i=t?{one_time_code:t.one_time_code,redirect_uri:t.redirect_uri||void 0}:Object.freeze({});break;case"line":i=t?{line_id_token:t.line_id_token,line_access_token:t.line_access_token}:Object.freeze({});break;default:i=Object.freeze({})}return i})(e,t,n);return(0,r.Z)({url:i,method:"PUT",data:a})}var d=n(820997),c=n(125715),u=n(310072),p=n(947326),h=n(684113),m=n(837792),g=n(98736);let _=Object.freeze({});const v=e=>{const{network:t}=e;if(!_[t])return;const{[t]:{error:n,success:i,complete:a},...o}=_;_={...o},"error"===e.type?null==n||n(Object.freeze({})):i("facebook"===e.network?{id:e.profile.id}:{one_time_code:e.one_time_code,redirect_uri:e.redirect_uri}),null==a||a()},y=({i18n:e,network:t,callbacks:n,requestContext:i,inAnyGoogleLocaleFixExperiment:a})=>{if(n={error:()=>{},complete:()=>{},...n},(0,g.My)(`auth_web.social_connect.${t}.${(0,u.Z)(i)}`),"gplus"===t||"google"===t)(0,g.My)("auth_web.social_connect.google.migration"),async function(e,t){var n,i;await(0,h.Px)(void 0,t||void 0);const a=null===(n=window.google)||void 0===n||null===(i=n.accounts)||void 0===i?void 0:i.oauth2;a&&a.initCodeClient({client_id:m.v3,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",ux_mode:"popup",callback:e}).requestCode()}((e=>{n.success({one_time_code:e.code,redirect_uri:"postmessage"})}),a?i.language:void 0);else if("line"===t){const{locale:e}=i;(0,p.Z)(e,n)}else{const i=window.open("/connect/"+t+"/","",(e=>{switch(e){case"dropbox":return"width=600,height=800";case"instagram":return(0,c.Z)({width:580,height:580});case"etsy":return(0,c.Z)({width:580,height:775});case"youtube":return(0,c.Z)({width:605,height:640});default:return(0,c.Z)()}})(t));if(!i)return d.Z.showError(e.bt("", "You must enable popups!", " - ", undefined, true)),void(n.error&&n.error(Object.freeze({})));const a=setInterval((()=>{i.closed&&(clearInterval(a),v({network:t,type:"error"}))}),1e3);_={..._,[t]:n}}};window.addEventListener("message",(e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(e.origin!==t)return;const n=e.data;if(n&&"social-connect-complete"===n.type){const t=e.data;t.network&&v(t)}}));var f=n(245410),b=n(282802),x=n(756513),k=n(802071);class w{constructor({invalidateResource:e,requestContext:t,viewer:n,inAnyGoogleLocaleFixExperiment:i}){this.getUserId=()=>n.isAuth?n.id:"",this.getUsername=()=>n.isAuth?n.username:"",this.isLimitedLogin=()=>n.isLimitedLogin,this.invalidateResource=e,this.requestContext=t,this.inAnyGoogleLocaleFixExperiment=i}handleConnect(e,t,n,i){const a=t=>{("connect"===t.type?s({network:e,data:t.data,requestContext:this.requestContext}):(0,r.Z)({url:`/v3/connect/${e}/`,method:"DELETE"})).then((e=>{var t;const i={user_id:this.getUserId(),username:this.getUsername(),field_set_key:"social_connect"};this.invalidateResource("UserResource",i),o.Z.create("UserResource",i).callGet(),null===(t=n.success)||void 0===t||t.call(n,e)}),(e=>{var t;e&&"object"==typeof e&&(null===(t=n.error)||void 0===t||t.call(n,{api_error_code:e.api_error_code,code:e.code,message:e.message}))})).finally((()=>{var e;null===(e=n.complete)||void 0===e||e.call(n)}))};t?this.isLimitedLogin()?a({type:"connect"}):y({network:e,callbacks:{success:e=>a({type:"connect",data:e}),error:n.error,complete:n.complete},i18n:i,requestContext:this.requestContext,inAnyGoogleLocaleFixExperiment:this.inAnyGoogleLocaleFixExperiment}):a({type:"disconnect"})}}function S(){const e=(0,a.useDispatch)(),t=(0,b.B)(),n=(0,k.Z)(),{checkExperiment:o}=(0,f.F)(),r=o("mweb_google_button_locale_fix").anyEnabled||o("dweb_google_button_locale_fix").anyEnabled;return(0,i.useMemo)((()=>new w({invalidateResource:(t,n)=>e((0,x.jB)(t,n)),requestContext:t,viewer:n,inAnyGoogleLocaleFixExperiment:r})),[e,r,t,n])}},947326:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(457628),a=n(791045),o=n(611756);var r=n(837792),l=n(739425),s=n(845098),d=n(619277);const c="undefined"!=typeof window,u=c?`${window.location.origin}/oauth/line/redirect`:"",p=({origin:e,data:t})=>t&&e===window.location.origin?String(t):null,h=({url:e,key:t})=>{if(!e.startsWith(window.location.origin)||t!==d.MM)return null;const n=(0,o.qn)(d.MM);return(0,o.L_)(d.MM),n};function m(e,t){var n;if(!c)return void(null===(n=t.error)||void 0===n||n.call(t,{message:"Window is undefined"}));let o;const d=function(e=5){const t="abcdefghijklmnopqrstuvwxyz1234567890";return new Array(e).fill("").map((()=>t[Math.floor(36*Math.random())])).join("")}(10),m=async e=>{if(!e.isTrusted)return;const n=e instanceof MessageEvent?p(e):h(e),r=(0,l.mB)(n);if(r.state&&r.code&&r.state===d){o&&!o.closed&&o.close();try{const e=await fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":`${String(i.U2(a.fS))}`},method:"POST",body:(0,s.Z)({code:r.code,redirect_uri:u})}),n=await e.json(),{id_token:o,access_token:l}=n;var c;if(o&&l)t.success({line_id_token:o,line_access_token:l});else null===(c=t.error)||void 0===c||c.call(t,{message:"No tokens returned"})}catch(v){var g;null===(g=t.error)||void 0===g||g.call(t,v)}finally{var _;o&&!o.closed&&o.close(),window.removeEventListener("message",m),window.removeEventListener("storage",m),null===(_=t.complete)||void 0===_||_.call(t)}}};window.addEventListener("message",m),window.addEventListener("storage",m),o=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${r.z}&redirect_uri=${encodeURIComponent(u)}&state=${d}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}},450667:(e,t,n)=>{n.d(t,{GH:()=>s,JF:()=>_,Jb:()=>h,MI:()=>g,_V:()=>d,sl:()=>u,we:()=>p});var i=n(560544),a=n(970588),o=n(307052),r=n(710197),l=n(98736);const s="274266067164",d=e=>{const t=["public_profile","email","user_friends"];return e?t:[...t,"user_birthday"]},c=["picture.type(large)","id","first_name","last_name","email","gender"],u=e=>{e&&(0,l.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,l.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:s,status:!0,xfbml:!0,version:"v2.7"})):e?(0,l.dy)({event:"global_object_not_found",provider:"facebook"}):(0,l.My)("pcons.non_autologin.fb.global_object_not_found")},p=(e,t)=>{t&&(0,l.dy)({event:"load_script_start",provider:"facebook"});return(0,o.Z)((0,r.Z)(e),"FACEBOOK").then((()=>u(t)))},h=()=>new Promise((e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)})),m=({userID:e,accessToken:t,data:{birthday:n,email:a,first_name:o,gender:r,last_name:l,picture:s}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:n?(0,i.Z)(n):void 0,email:a,first_name:o,gender:r,image_url:s&&!s.data.is_silhouette?s.data.url:void 0,last_name:l});async function g(e,t){var n;const i=(null===(n=(await(0,a.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:t?c:[...c,"birthday"]}})).resource_response)||void 0===n?void 0:n.data)||{};return(0,l.My)(i?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:i.birthday,email:i.email,first_name:i.first_name,gender:i.gender,id:i.id,last_name:i.last_name,picture:i.picture}}const _=e=>new Promise((t=>{window.FB.login(t,{scope:d(e).join(",")})})).then((t=>((e,t,n)=>new Promise(((i,a)=>{if("connected"!==e.status)return void a({status:e.status||"unknown"});const{userID:o,accessToken:r}=e.authResponse;g(r,t).then((e=>{i({creds:{facebook_id:o,facebook_token:r,facebook_autologin:(null==n?void 0:n.autologin)||!1},signupOptions:m({userID:o,accessToken:r,data:e})})}),a)})))(t,e)))},49387:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(970588),a=n(307052),o=n(140523),r=n(710197),l=n(837792),s=n(98736);let d=!1;const c=(e,t,n="en-US",u)=>{u&&(0,s.dy)({event:"load_script_start",provider:"facebook"}),(0,a.Z)((0,r.Z)(n),"FACEBOOK").then((()=>{u&&(0,s.dy)({event:"load_script_success",provider:"facebook"});const n=window.FB;n?(d||(u&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),n.init({appId:l.GH,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",(()=>{(e=>e.isAuth&&!!e.facebookId&&!e.isLimitedLogin)(t)&&c((e=>{if(!e.getUserID())return;const t=e.getAccessToken();t&&(0,i.Z)({url:"/v3/connect/facebook/",method:"POST",data:{facebook_token:t}})}),t)})),d=!0,window.fb_init=o.Z.FINISHED),e(n)):u&&(0,s.dy)({event:"global_object_not_found",provider:"facebook"})})),window.fb_init=o.Z.STARTED},u=c},710197:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},684113:(e,t,n)=>{n.d(t,{Fm:()=>r,OY:()=>s,PL:()=>c,Px:()=>l,mK:()=>u,ru:()=>d});var i=n(307052),a=n(837792),o=n(98736);const r=()=>{var e,t,n;return null===(e=window)||void 0===e||null===(t=e.google)||void 0===t||null===(n=t.accounts)||void 0===n?void 0:n.id},l=(e,t)=>(0,i.Z)("https://accounts.google.com/gsi/client"+(t?`?hl=${t}`:""),null!=e&&e.unsafe?null:"GSI"),s=({autoSelect:e,itpSupport:t,useFedCMForPrompt:n},i)=>{var o;null===(o=r())||void 0===o||o.initialize({auto_select:null!=e&&e,client_id:a.v3,callback:i,cancel_on_tap_outside:!1,context:"use",itp_support:t,use_fedcm_for_prompt:n})},d=({buttonRef:e,isDesktop:t,locale:n})=>{const i=r();if(i&&e.current){const t=e.current.offsetWidth;i.renderButton(e.current,{locale:n,size:"large",shape:"pill",text:"continue_with",theme:"outline",width:t+"px",click_listener:()=>(0,o.EX)({event:"start",provider:"google"})})}else(0,o.My)((t?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},c=e=>"auto"===e?"AUTO_LOGIN":e.startsWith("btn")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT",u=e=>{switch(e){case"SIGN_IN_WITH_GOOGLE_BUTTON":return"gsi_btn";case"ONE_TAP_PROMPT":return"onetap_btn";default:return"other"}}},617285:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(245410);const o=()=>{const e=(0,a.F)();return(0,i.useCallback)((()=>{e.flush()}),[e])}},830074:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),a=n(883119),o=n(536042),r=n(630089),l=n(993926),s=n(549201),d=n(196039),c=n(785893);function u(){const e=(0,o.ZP)();return e.bt("", "Free shipping", "closeup.product.shipping", undefined, true)}function p({freeShippingPrice:e}){const t=(0,o.ZP)();return(0,r.nk)(t.bt(" {{ shippingPrice }}+", "Free shipping with {{ shippingPrice }}+", "closeup.product.shipping", undefined, true),{shippingPrice:e}).join("")}function h(){const e=(0,o.ZP)();return e.bt("", "Shipping info", "closeup.product.shipping", undefined, true)}function m({clickthroughFn:e}){const t=(0,o.ZP)(),[n,r]=(0,i.useState)(!1),l=(0,s.HG)(),u=(0,i.useRef)(null),p=()=>{r(!n)},h=t.bt("", "Check the merchant's site for shipping to your region", "closeup.product.shipping", undefined, true),m=t.bt("", "Visit site", "closeup.product.shipping", undefined, true),g=l?(0,c.jsx)(a.J2,{anchor:u.current,onDismiss:p,idealDirection:"right",children:(0,c.jsx)(a.xu,{padding:5,rounding:4,children:(0,c.jsx)(a.xv,{children:h})})}):(0,c.jsx)(a.Io,{onDismiss:p,zIndex:d.lp,size:"auto",heading:"",children:(0,c.jsxs)(a.xu,{alignItems:"center",direction:"column",marginStart:10,marginEnd:10,display:"flex",children:[(0,c.jsx)(a.xu,{marginBottom:5,children:(0,c.jsx)(a.xv,{size:"400",weight:"bold",align:"center",children:h})}),(0,c.jsx)(a.zx,{text:m,accessibilityLabel:m,size:"lg",onClick:e})]})});return(0,c.jsxs)(a.xu,{display:"flex",alignItems:"center",marginStart:1,children:[(0,c.jsx)(a.iP,{ref:u,onTap:p,children:(0,c.jsx)(a.JO,{accessibilityLabel:t.bt("", "Show shipping information", "closeup.product.shipping", undefined, true),color:"default",icon:"info-circle",size:14})}),n&&g]})}function g({clickthroughFn:e,customStyles:t,showPrevDot:n,freeShippingPrice:i,freeShippingValue:o,showShippingCountryDisclaimer:r}){const s=n?[""]:[],{color:d="subtle",size:g="200"}=t||{};if(!Number.isFinite(o)&&!r)return null;let _;return 0===o?_=(0,c.jsx)(u,{}):i?_=(0,c.jsx)(p,{freeShippingPrice:i}):r&&(_=(0,c.jsx)(h,{})),_&&s.push((0,c.jsxs)(a.kC,{direction:"row",children:[_,r&&(0,c.jsx)(m,{clickthroughFn:e})]})),0===s.length?null:(0,c.jsx)(a.xv,{color:d,size:g,children:(0,c.jsx)(l.Z,{color:d,items:s})})}},950695:(e,t,n)=>{n.d(t,{kf:()=>_,l5:()=>m,of:()=>p,xC:()=>g,yz:()=>h});var i=n(667294),a=n(40660),o=n(583592),r=n(500797),l=n(272109),s=n(567648),d=n(785893);const{Provider:c,useMaybeHook:u}=(0,o.Z)("PwaContext"),p=({children:e,initialContext:t})=>{const[n,o]=(0,i.useState)(null),s=t||{pwaType:"unknown",twaType:null},u=s.pwaType;(0,l.Z)((()=>{const e=(0,r.FB)(window)||"unknown";o(e),u!==e&&a.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})}));const p="unknown"===u&&n?n:u,{twaType:h}=s,m=(0,i.useMemo)((()=>({pwaType:p,twaType:h})),[p,h]);return(0,d.jsx)(c,{value:m,children:e})},h=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},m=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},g=()=>"android-twa"===h(),_=()=>{const e=h(),t=(0,s.Z)();return"unknown"===e&&t?null:"windows"===e}},397352:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=(n(883119),n(781493)),o=n(785893);const r=(e,t,n)=>{const a=(0,i.useRef)(null),o=(0,i.useRef)(null);(0,i.useEffect)((()=>{if(e!==a.current||n&&n!==o.current){a.current=e;const n=(i=e,document.querySelector(`img[src="${i}"]`)||null);null!=n&&n.complete&&t()}var i;o.current=n}),[e,t,n])};function l({alt:e,children:t,color:n,elementTiming:i,isActive:l=!1,naturalHeight:s,naturalWidth:d,onLoad:c,src:u,fit:p="none"}){return r(u,c,l),(0,o.jsx)(a.Z,{alt:e,color:n,elementTiming:i,naturalHeight:s,naturalWidth:d,onLoad:c,src:u,fit:p,children:t})}},677263:(e,t,n)=>{n.d(t,{cA:()=>z,fM:()=>Z,N5:()=>N});var i=n(667294),a=n(616550),o=n(938790),r=n(39008);const l=e=>{switch(e){case"/":return"homefeed";case"/pin/:id":case"/pin/:id/sent":return"pin_closeup";case"/pin/:id/visual-search":return"flashlight";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/search/:scope":return"search";case"/ideas/:interest/:id":return"topic";default:return null}};var s=n(574155),d=n(938085),c=n(40660),u=n(845092),p=n(335741),h=n(768337),m=n(813107),g=n(154174);const _=e=>Number(e.toFixed(2));var v=n(994405);const y={pin_closeup:{LCP:"pin_closeup_lcp",FID:"pin_closeup_fid"},board:{LCP:"board_lcp",FID:"board_fid"},other_profile:{LCP:"other_profile_lcp",FID:"other_profile_fid"},topic:{LCP:"topic_lcp",FID:"topic_fid"}},f=["CA","GB","DE","FR","AU","JP","BR","MX"],b=({surface:e,pwtStaticContext:t})=>"pin_closeup"===e?[(0,v.U)({isDesktop:"desktop"===t.deviceType,viewerType:(t.isBot?"bot":t.isAuthenticated&&"auth")||"unauth"})]:[],x=({pwtStaticContext:e,surface:t})=>{const n="pin_closeup"===t||"board"===t||"other_profile"===t||"topic"===t?(({pwtStaticContext:e,surface:t})=>{const n=(0,u.Jx)({annotateExperiments:b({surface:t,pwtStaticContext:e}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:y[t].LCP,pwtStaticContext:e}),i=(0,u.Jx)({name:y[t].FID,pwtStaticContext:e});return(e,t)=>{"LCP"===e?n.stop(t):"FID"===e&&i.stop(t)}})({pwtStaticContext:e,surface:t}):null,{isAuthenticated:i,isBot:a,isSocialBot:o,deviceType:r,country:l,fullPath:s,browserName:v,osName:x}=e,k={},w=(d,u,p)=>{if(!k[d]){k[d]=!0;const _=(0,m.Z)(e),y=`${_}.${t}.${d}`,b=`${_}.tags.${t}.${d}`;let w;if(w="iOS"===x&&"Chrome"===v?"iOS_Chrome":"CrUX","LCPCount"===d)c.Z.count(`${y}.sum`,u,1),c.Z.increment(`${y}.size`,1);else{const e=(0,h.Z)(l),m=(0,g.Z)(s);"FID"===d||"FIDStartTime"===d?(c.Z.timing(`${y}`,u,1),c.Z.timing(`${b}`,u,1,{timingBucket:null==p?void 0:p.timingBucket,isAuth:i,CrUXSegment:w,region:e,..."pin_closeup"===t&&("feedback"===m||"sent"===m||"default"===m)&&{pinType:m}})):(c.Z.timing(`${y}`,u,1),c.Z.timing(`${b}`,u,1,{isAuth:i,CrUXSegment:w,region:e,..."pin_closeup"===t&&("feedback"===m||"sent"===m||"default"===m)&&{pinType:m}})),!i&&f.includes(l)&&(({botType:e,deviceType:t,isChrome:n,region:i})=>{const a=`pwtlogger.${e}.${t}`,o=["all",...i?[i.toLowerCase()]:[]],r=["all",...n?["chrome"]:[]],l=[];return o.forEach((e=>{r.forEach((t=>{l.push(`${a}.region_${e}.browser_${t}`)}))})),l})({botType:(o?"socialBot":a&&"bot")||"nonbot",deviceType:r,isChrome:!0,region:e}).forEach((e=>{c.Z.timing(`${e}.tags.growthSEO.${t}_${d}`,u,1,{country:l})})),n&&n(d,u)}}};(0,d.Tx)((({value:e})=>{const t=(0,p.Af)();let n;n=e<=100?"Good":e>100&&e<=300?"Needs Improvement":"Poor",w("FID",_(e),{timingBucket:n}),t&&w("FIDStartTime",_(t),{timingBucket:n})})),(0,d.Tb)((({value:e})=>{w("LCPCount",(0,p.Kj)()),w("LCP",(e=>10*Math.round(e/10))(e))})),(0,d.Y)((({value:e})=>w("FCP",e)))};var k=n(763795),w=n(39983);const S=(0,n(30482).XV)("LayoutShiftDebugger"),P=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&P(e.parentNode)||null,T=e=>Math.round(1e3*e);let I=[];const C=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:n})=>{const i=(0,u.Jx)({annotateMarks:["initialAppLoad","RenderReactContainer"],name:"cumulative_layout_shift",pwtStaticContext:e});let a=0;const o=e=>{a=e.timeStamp};window.addEventListener("scroll",o),window.addEventListener("beforeunload",(()=>{window.removeEventListener("scroll",o)}));const r=`${(0,m.Z)(e)}.CLS`,l=()=>(e=>{let t=Object.freeze({}),n=0;I.forEach((({value:e,shift:{sources:i},route:a,params:o,hadRecentNavigation:r,hadRecentScroll:l,isAuth:s})=>{if(n+=e,!i||!i.length)return;const d=e/i.length;i.forEach((({node:e})=>{const n=e?P(e)||"ROOT":"NODE_REMOVED",i=o&&o.scope?o.scope:"none",c={route:a,searchScope:i,boundaryId:n,hadRecentNavigation:r,hadRecentScroll:l,isAuth:s},u=JSON.stringify(c);t={...t,[u]:{score:((t[u]||{}).score||0)+d,tags:c}}}))})),Object.keys(t).forEach((n=>{const{score:i,tags:a}=t[n];c.Z.count(`${e}.shifts`,T(i),1,{...a})})),S("Debug CLS boundaries",n,t,I),I=[]})(r);let s,p=0,h=0,g=0;(0,d.kz)((({entries:i,value:o})=>{if(g=o||0,i.length){const{path:r,params:l}=t();s=n();const d=i[0].startTime,c=p!==d,u=c?i:i.slice(h);c&&(p=d),I=I.concat(u.map((t=>({value:o,shift:t,route:r,params:l,hadRecentNavigation:s>0&&s+500>t.startTime,hadRecentScroll:a>0&&a+500>t.startTime,isAuth:e.isAuthenticated})))),h=i.length}}),!0);const _=setInterval((()=>{if(I.length){l();const t=(e=g)<=.1?"good":e<=.25?"adequate":"poor";c.Z.count(`${r}.${t}`,1,1),i.stop(T(g))}var e}),1e3);window.addEventListener("beforeunload",(()=>{clearInterval(_),0===g&&i.abort("no_shifts_detected")}))};let A=null;const E=(e,t)=>{let n,i=0,a=0,o=null,r=null,l=null,s=null,d=[];const c=()=>{a+=1,l=window.requestAnimationFrame(c)},p=()=>{if(s){const n=d.some((e=>null!==o&&o-e>0&&o-e<=500)),a=t(),{isAuthenticated:l}=e;if(n){const t=(0,u.Jx)({name:"scroll_session",pwtStaticContext:e});if(!t)return;const n={surface:a,isAuthenticated:l};if(null===o||null===r||0===i)if(null===o&&null===r)t.error("no_duration",n);else if(null==o)A=r,t.error("no_start",n);else if(null==r){let e;e=A&&o-A<750?"no_end.outside_window":"no_end.single_event",t.error(e,n)}else t.error("no_frames",n);else{A=r;const e=r-o,s=e/i;0===s?t.error("zero_value",n):s<0?t.error("negative_value",n):(t.addBinaryAnnotation("surface",a,"STRING"),t.addBinaryAnnotation("isAuthenticated",l,"BOOL"),t.addBinaryAnnotation("duration_ms",e,"I32"),t.addBinaryAnnotation("total_frames_rendered",i,"I16"),t.stop(s))}}else(0,k.A9)("WARN.scroll_session.not_user",{tags:{isAuthenticated:l,surface:a}})}window.cancelAnimationFrame(l),i=0,a=0,d=[],r=null,o=null,s=null},h=({timeStamp:e})=>{n&&clearTimeout(n),n=setTimeout(p,500),null===s?(s=100*Math.random()<10,s&&(l=window.requestAnimationFrame(c),o=e)):s&&(r=e,i+=a,a=0)},m=({timeStamp:e})=>{d.push(e)};["wheel","pointerdown","keydown"].forEach((e=>{window.addEventListener(e,m,{passive:!0,capture:!0})})),window.addEventListener("scroll",h,{passive:!0}),window.addEventListener("pagehide",(()=>{window.removeEventListener("scroll",h),["wheel","pointerdown","keydown"].forEach((e=>{window.removeEventListener(e,m)}))}))};var j=n(353335),R=n(785893);const D=(0,i.createContext)(null),L=(0,i.createContext)(null),F=()=>{(0,k.A9)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach((e=>{window.performance[e]||(0,k.A9)(`not_supported.window.performance.${e}`)})):(0,k.A9)("not_supported.window.performance"),window.PerformanceObserver||(0,k.A9)("not_supported.window.PerformanceObserer"),(0,s.v)()||(0,k.A9)("not_supported.grid_profiler")},M=()=>{var e;return null!==(e=window.performance)&&void 0!==e&&e.now?window.performance.now():null},O=e=>["/advertiser/"].reduce(((t,n)=>e.includes(n)||t),!1);function z({children:e,immutableLocation:t,resourceTimingCacheSize:n,routerHistoryAction:s,staticContext:d}){const c=(0,i.useRef)(null),u=(0,i.useRef)(null),h=(0,i.useRef)(t),m=(0,i.useRef)(!0),{path:g,params:_}=(0,a.useRouteMatch)(),v=(0,i.useRef)(g),y=(0,i.useRef)(_),f=!d.isCachedRender&&(0,o.Z)(d.deviceType);(0,i.useEffect)((()=>{v.current=g}),[g]),(0,i.useEffect)((()=>{y.current=_}),[_]),(0,i.useEffect)((()=>{if((0,j.X_)({size:n||1e3}),(0,p.UQ)(),F(),m.current=!1,f&&!r.is){if(E(d,(()=>l(v.current)?l(v.current)||"UNKNOWN_SURFACE":v.current||"UNKNOWN_SURFACE")),"Chrome"===d.browserName){C({staticContext:d,getCurrentRoute:()=>({path:v.current,params:y.current}),getLastNavigationTime:()=>u.current||0});const e=l(v.current);e&&x({pwtStaticContext:d,surface:e})}}}),[]);if(O(t.pathname)?h.current.pathname!==t.pathname:h.current!==t){h.current=t,u.current=M();const{current:e}=u;if(!m.current){const t=!c.current;(0,k.A9)("routeStart",{tags:{action:s}}),(0,j.Eg)(t),(0,p.Ux)(t),(0,p.on)(),(0,w.tl)();const{customBufferSize:n,defaultBufferSize:i}=(0,j.LH)();e&&((0,k.A9)("routeStart.customBufferSize",{count:n}),(0,k.A9)("routeStart.defaultBufferSize",{count:i}),c.current={time:e,action:s})}}return(0,R.jsx)(D.Provider,{value:f?d:null,children:(0,R.jsx)(L.Provider,{value:c.current,children:e})})}const Z=()=>(0,i.useContext)(L),N=()=>(0,i.useContext)(D)},77494:(e,t,n)=>{n.d(t,{Z:()=>$});var i=n(667294),a=n(532465),o=n(93501),r=n(30482),l=n(763795),s=n(39983),d=n(677263),c=n(41162),u=n(372453),p=n(363959),h=n(324e3),m=n(583077);const g=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...(0,m.jh)("constraint_",e),...(0,m.jh)("mark_",(0,s.gQ)()),...(0,m.jh)("browser_",{...t?(0,m.D3)(t):{},...(0,m.rX)()})});var _=n(577491),v=n(335741),y=n(769916);const f=(e,t)=>{const{firstInputDelay:n}=(0,v.v2)();return[...e.map((e=>(0,_.Z)(e,t))).filter(Boolean),...n?[{name:"fid",id:(0,y.Z)(),parentId:t,startTime:n.startTime,endTime:n.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var b=n(40660),x=n(813107);const k=({eventPrefix:e,endTime:t,tags:n,resourceArr:i,resourceType:a="allResources"})=>{const o=i.length;if(o>0&&"object"==typeof i[0]&&!Array.isArray(i[0])){const r=[...i].sort(((e,t)=>e.fetchStart-t.fetchStart)),l=[...i].sort(((e,t)=>e.responseEnd-t.responseEnd));let s=1;const d=t/5;let c=0;for(;s<=5;){let t=0;for(;c<=o-1&&r[c].fetchStart<=d*s;)c+=1,t+=1;b.Z.gauge(`${e}.tags.${a}.fetchStartInterval${s}of5`,t,.2,n),b.Z.gauge(`${e}.${a}.fetchStartInterval${s}of5`,t,.2),s+=1}const u={zeroPercentInFlight:r[0].fetchStart,twentyFivePercentInFlight:r[Math.floor(o/4)].fetchStart,fiftyPercentInFlight:r[2*Math.floor(o/4)].fetchStart,seventyFivePercentInFlight:r[3*Math.floor(o/4)].fetchStart,hundredPercentInFlight:r[o-1].fetchStart,twentyFivePercentComplete:l[Math.floor(o/4)].responseEnd,fiftyPercentComplete:l[2*Math.floor(o/4)].responseEnd,seventyFivePercentComplete:l[3*Math.floor(o/4)].responseEnd,hundredPercentComplete:l[o-1].responseEnd};for(const t in u)u[t]&&(b.Z.timing(`${e}.tags.${a}.${t}`,u[t],.2,n),b.Z.timing(`${e}.${a}.${t}`,u[t],.2))}},w=({annotateExperiments:e,endTime:t,entries:n,metricId:i,pwtStaticContext:a})=>{const o=`${(0,x.Z)(a)}.${i.surface}`,r=[o];e&&e.forEach((e=>{const t=a.getExperimentGroup(e)||"null";r.push(`${o}.${e}.${t}`)}));const l={lcpTimingBucket:(e=>{let t;return t=e<=2500?"Good":e>2500&&e<=4e3?"Needs Improvement":"Poor",t})((0,v.Bn)())||"unknown",isAuthenticated:a.isAuthenticated,navigationType:i.navigationType},s=Array.from(n.filter((e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=t))),d=[],c=[],u=[],p=[],h=[];s.forEach((e=>{"img"===e.initiatorType?d.push(e):"css"===e.initiatorType?c.push(e):"script"===e.initiatorType?u.push(e):"xmlhttprequest"===e.initiatorType?p.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&h.push(e)})),r.forEach((e=>{k({eventPrefix:e,endTime:t,tags:l,resourceArr:s}),k({eventPrefix:e,endTime:t,tags:l,resourceArr:d,resourceType:"image"}),k({eventPrefix:e,endTime:t,tags:l,resourceArr:c,resourceType:"css"}),k({eventPrefix:e,endTime:t,tags:l,resourceArr:u,resourceType:"scripts"}),k({eventPrefix:e,endTime:t,tags:l,resourceArr:p,resourceType:"xhr"}),k({eventPrefix:e,endTime:t,tags:l,resourceArr:h,resourceType:"preloadedImage"})}))};var S=n(353335);const P=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:i,endTime:a,imageTimings:o,metricId:r,pwtStaticContext:l,startTime:s,traceId:d,spans:c})=>{const m=(0,S.Cg)();let _;"initial_app_load"===r.navigationType&&(_=(0,p.Z)());const v=o.map((({name:e})=>e)),y=m.map((e=>(0,h.p)(e,v))).filter((({timing:e})=>!(({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime||e<n.startTime-100)(e,{startTime:s,endTime:a})));return"board"!==r.surface&&"pin_closeup"!==r.surface||w({annotateExperiments:e,endTime:a,entries:m,metricId:r,pwtStaticContext:l}),{type:"COMPLETE",traceId:d,startTime:s,endTime:a,spans:f(y,d).concat(c),annotationMap:g({constraintMap:i,initialNavTiming:_,annotations:t}),binaryAnnotationMap:(0,u.rA)({annotateExperiments:e,binaryAnnotations:n,entries:m,metricId:r,performanceResources:y,pwtEndTime:a,pwtStaticContext:l})}};let T=!1;const I=(e,t)=>e&&t?T?((0,l.H)("duplicated_initial_app_load_surface_pwt"),(0,y.Z)()):(T=!0,t):(0,y.Z)();var C=n(591614),A=n(361905);const E=e=>{const t=performance.getEntriesByType("resource").filter((e=>e.name.includes("i.pinimg"))).reduce(((e,t)=>{const n=t.name.replace(".jpg","").split("/");return{[n[n.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}}),{});[...Array.from(document.getElementsByTagName("img")).map((e=>{const n=e.src.replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]){var a;const n=(null===(a=(0,A.rZ)(e))||void 0===a?void 0:a.width)||1,o=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:o,ratio:o/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}})),...Array.from(document.querySelectorAll('div[role="img"]')).map((e=>{const n=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]&&e instanceof HTMLDivElement){var a;const n=(null===(a=(0,A.rZ)(e))||void 0===a?void 0:a.width)||1,o=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:o,ratio:o/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}}))].forEach((t=>{const{ratio:n,fileName:i,downloadedSize:a}=t;t.ratio>1.05&&(0,l.A9)(`checkImageRatio.${e}`,{count:Math.round(10*n)/10,tags:{fileName:`${a}_${i}`}})}))};var j=n(622200),R=n(282802);const D=(e,t)=>{const n=(0,i.useRef)(t);return{getState:()=>n.current,dispatch:t=>{n.current=e(n.current,t)}}};var L=n(694952),F=n(935340),M=n(785893);const O=["initial_app_load","client_route_push"],z=(0,r.XV)("PwtSurface"),Z="NavigationComplete",N="VisuallyComplete",U=(e,t)=>{e.isSampled&&(0,C.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},B=e=>{if(e.metricConfig.constraints.every((t=>e.constraintMap[t]))){const t=Math.max(...e.metricConfig.constraints.map((t=>e.constraintMap[t])));return((e,t)=>{var n;const{metricConfig:{metricId:i,pwtStaticContext:a,annotateExperiments:r},annotations:d,binaryAnnotations:c,constraintMap:u,startTime:p,imageTimings:h,isSampled:m,spans:g}=e;(0,s.L8)(`PWT_Complete_${(0,o.KJ)(i)}`);const _=I("initial_app_load"===i.navigationType,null===(n=a.serverData)||void 0===n?void 0:n.trace_id),v=P({annotateExperiments:r,annotations:d,binaryAnnotations:c,constraintMap:u,endTime:t,imageTimings:h,metricId:i,pwtStaticContext:a,startTime:p,traceId:_,spans:g});m&&(0,C.Z)({metricId:i,pwtStaticContext:a,result:v});try{E(String(v.binaryAnnotationMap["metricId.surface"].value))}catch(y){(0,l.H)("image_ratio_check_error",{error:y})}return{...e,result:v,status:"DONE"}})(e,t)}return e},K=(e,t)=>{const{constraint:n,time:i}=t,a=(0,o.KJ)(e.metricConfig.metricId);return j.Z?e.metricConfig.constraints.find((e=>e===n))?e.constraintMap[n]?(z(`constraint "${n}" is already complete.`),(0,l.H)("duplicated_constraint_complete",{constraint:n,action:a}),e):(z(`marking constraint "${n}" as complete`),(0,s.ZP)(`constraint_${n}_is_complete`),B({...e,constraintMap:{...e.constraintMap,[n]:i||j.Z.now()}})):(z(`marked constraint "${n}" is not a required constraint.`),e):((0,l.H)("missing_window_performance",{action:a}),e)},V=(e,t)=>{if(z("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:n,startTime:i,isSampled:a}=t;if("TIMING"===e.status&&i!==e.startTime&&U(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};const r=(0,o.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===i&&e.constraintMap[Z]?((0,l.H)("duplicated_init_route_action",{action:r}),e):("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?((0,l.A9)(`TIMING.${r}`,{tags:{userAgent:null===(s=window)||void 0===s||null===(d=s.navigator)||void 0===d?void 0:d.userAgent}}),(0,l.A9)(`TIMING.sampled.${r}`,{tags:{userAgent:null===(c=window)||void 0===c||null===(u=c.navigator)||void 0===u?void 0:u.userAgent},sampleRate:.5})):((0,l.A9)(`TIMING.${r}`),(0,l.A9)(`TIMING.sampled.${r}`,{sampleRate:.5})),K({status:"TIMING",metricConfig:n,startTime:i,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:a,spans:[]},{constraint:Z}));var s,d,c,u})(e,t.payload);if("TIMING"!==e.status)return z(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":U(e,t.reason);const n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":const{name:i}=t.payload;if(!j.Z)return e;const a=j.Z.now();return z(`adding annotation {${i}: ${a}}`),{...e,annotations:{...e.annotations,[i]:a}};case"BINARY_ANNOTATE":const{name:r,value:s,annotationType:d}=t.payload;return z(`adding binary annotation {${r}: ${s}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:s,type:d}}};case"MARK_CONSTRAINT_COMPLETE":return K(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!j.Z){const t=(0,o.KJ)(e.metricConfig.metricId);(0,l.H)("missing_window_performance",{action:t})}z(`removing constraint "${t}"`);const n=e.metricConfig.constraints.filter((e=>e!==t)),{[t]:i,...a}=e.constraintMap;return B({...e,constraintMap:a,metricConfig:{...e.metricConfig,constraints:n}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!j.Z){const t=(0,o.KJ)(e.metricConfig.metricId);(0,l.H)("missing_window_performance",{action:t})}z(`updating pwt segment to "${t}"`);const n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:n}}=t;if(0===n.length){U(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const i=Math.max(...n.map((e=>e.responseEnd||0)));return K({...e,imageTimings:n},{constraint:N,time:i})}case"ADD_SUBSPAN":const{startTime:c}=e,{payload:{name:u,startTime:p,endTime:h,annotations:m,binaryAnnotations:g,parentId:_}}=t;return{...e,spans:[...e.spans,{name:u,id:(0,y.Z)(),startTime:p||c,endTime:h,annotationMap:{...m},binaryAnnotationMap:{...g},parentId:_}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,y.Z)(),startTime:j.Z?j.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const v=e.spans.findIndex((e=>e.name===t.payload.name));return v>-1?(e.spans[v].endTime=j.Z?j.Z.now():0,t.payload.annotations&&(e.spans[v].annotationMap={...e.spans[v].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[v].binaryAnnotationMap={...e.spans[v].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,l.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const f=(0,o.KJ)(e.metricConfig.metricId);return(0,l.H)("invalid_pwt_surface_action",{action:f}),e}},H=e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},G=({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:o,annotateExperiments:r,customEnabledNavigationTypes:l,navigationInfo:{clientNavigation:s,navigationType:c},sampleRate:u})=>{const p=(0,i.useRef)("NOT_SET"),h=(0,d.N5)(),{getState:m,dispatch:g}=D(V,{status:"DISABLED",metricConfig:null}),_=(0,R.B)();if(p.current!==s&&(p.current=s,h)){const{isAuthenticated:i}=h,a=e&&c&&(l||O).includes(c)?{metricId:{type:"surface",surface:e,navigationType:c,isAuthenticated:i,segment:n},annotateExperiments:r,constraints:[Z,...t||[],...o?[N]:[]],pwtStaticContext:h}:null;g({type:"INIT_ROUTE",payload:{metricConfig:a,startTime:s?s.time:0,isSampled:!u||Math.random()<u}})}const v=m();if((0,i.useEffect)((()=>{const e=e=>{g({type:"ABORT",reason:e})};a.Z.onSessionPause(e);const t=window.innerHeight,n=window.innerWidth,i=()=>{var e,a,o;const r=window.innerHeight!==t,l=window.innerWidth!==n,s={handler:(0,L.H)(),deviceType:null!==(e=null==h?void 0:h.deviceType)&&void 0!==e?e:"unknown",isAuthenticated:null!==(a=null==h?void 0:h.isAuthenticated)&&void 0!==a?a:"unknown",platform:null!==(o=_.userAgent.platform)&&void 0!==o?o:"unknown"};(0,F.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...s,heightChanged:r,widthChanged:l}}),r&&(0,F.S0)("webapp.PwtLogger.resizeHeightDelta",Math.abs(window.innerHeight-t),{sampleRate:1,tags:s}),l&&(0,F.S0)("webapp.PwtLogger.resizeWidthDelta",Math.abs(window.innerWidth-n),{sampleRate:1,tags:s}),window.removeEventListener("resize",i),g({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",i),()=>{const t=m();z("handling unmount",t),"TIMING"===t.status&&U(t,"unmount"),a.Z.removePauseListener(e),window.removeEventListener("resize",i)}}),[]),"TIMING"!==v.status||!v.constraintMap[Z])return{state:v,context:null};const{startTime:y,metricConfig:f}=v;return{state:v,context:{abort:e=>g({type:"ABORT",reason:e}),addAnnotation:e=>g({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>g({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),addSubspan:(e,t,n,i={},a={},o=null)=>g({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:o}}),getId:()=>y,getMetricId:()=>f.metricId,markConstraintComplete:e=>g({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:j.Z?j.Z.now():0}}),removeConstraint:e=>g({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>g({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:f.constraints.includes(N)?e=>g({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},n={},i=null)=>g({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}}),stopSubspan:(e,t={},n={},i=null)=>g({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}})}}},W=()=>{const e=(0,c.E)(),t=!!e;(0,i.useEffect)((()=>{if(t){const t=null==e?void 0:e.getMetricId(),n=t?(0,o.KJ)(t):null;(0,l.H)("nested_pwt_surface",{action:n})}}),[t])};function $({children:e,...t}){var n;const i=(0,d.fM)(),a=H(i),o=[...null!==(n=t.annotateExperiments)&&void 0!==n?n:[]],r={...t,annotateExperiments:o,navigationInfo:{navigationType:a,clientNavigation:i}},{context:l}=G(r);return W(),(0,M.jsx)(c.S,{value:l,children:e})}},41162:(e,t,n)=>{n.d(t,{E:()=>o,S:()=>a});var i=n(583592);const{Provider:a,useMaybeHook:o}=(0,i.Z)("pwtSurfaceContext")},938790:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(574155);const a=()=>{var e;return!(null===(e=window.performance)||void 0===e||!e.timing)};var o=n(622200);function r(e){return!("desktop"===e&&!a())&&(!!o.Z&&(0,i.v)())}},93501:(e,t,n)=>{n.d(t,{KJ:()=>c,Rp:()=>d});const i={id:14,name:"own_profile"},a={id:15,name:"other_profile"},o={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"}}},client_route_push:{unauth:{},auth:{bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},search_tab:{id:25,name:"search_tab_render"},pin_closeup:{id:13,name:"pin_closeup_details"},sterling_audiences:{id:224,name:"sterling_audiences_page_user_nav"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"},sterling_reporting_details:{id:227,name:"sterling_reporting_details_user_nav"},own_profile:i,other_profile:a}},client_route_replace:{unauth:{},auth:{own_profile:i,other_profile:a,sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"}}}},r={initial_app_load:{auth:{pin_closeup:{product_detail_page:{id:120,name:"product_details_interactive"},product_detail_page_plus:{id:121,name:"product_details_plus_interactive"}}}},client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"},product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}},client_route_replace:{auth:{pin_closeup:{product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}}},l={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701},s=e=>{var t,n;const{navigationType:i,isAuthenticated:a,segment:l,surface:s}=e,d=a?"auth":"unauth",c=null===(t=r[i])||void 0===t||null===(n=t[d])||void 0===n?void 0:n[s];return l&&c&&c[l]||o[i][d][s]},d=e=>{if("stopwatch"===e.type)return l[e.name]||null;const t=s(e);return t?t.id:null},c=e=>{if("stopwatch"===e.type)return e.name;const{navigationType:t,isAuthenticated:n,segment:i,surface:a}=e,o=n?"auth":"unauth",r=s(e);return r?r.name:`${t}_${o}_${a}${i?"_"+i:""}`}},30482:(e,t,n)=>{n.d(t,{Ex:()=>r,XV:()=>o,v5:()=>a});var i=n(39008);const a=(e,t)=>{i.DQ&&(e.style.outline=`10px solid ${t}`,e.style.outlineOffset="-30px")},o=e=>(t,...n)=>{i.DQ&&console.log("string"==typeof t?`[PWT:${e}] ${t}`:t,...n)},r=e=>t=>{i.jn&&console.log(`[CWV:${e}] ${String(t)}`)}},361905:(e,t,n)=>{n.d(t,{F9:()=>c,LM:()=>s,VZ:()=>o,cQ:()=>u,rZ:()=>r});var i=n(520636),a=n(763795);const o=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,r=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,l=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;const t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},s=()=>document.querySelector?document.querySelectorAll(i.wc).length:((0,a.H)("missing_document_query_selector"),0),d=(e,t)=>{const n=r(e);if(!n)return(0,a.H)("missing_client_rect"),!1;if(n.width<100&&n.height<100){if(e instanceof HTMLImageElement)return!1;const t=l(e);if(null!=t&&t.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:n,pageYOffset:i})=>{const a=e+i;if(a>=n)return!1;const o=Math.min(t,n-a);return o>.5*t||o>.2*n})(n,t)},c=()=>{const e=(()=>{if(!document.querySelector)return(0,a.H)("missing_document_query_selector"),null;const e=document.querySelectorAll(i.wc);return e[e.length-1]||null})();if(!e)return!1;const t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},u=(e,t,n)=>{if(!document.querySelector)return(0,a.H)("missing_document_query_selector"),[];const o={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},r=[i.Wf,...e?[i.fF]:[],...t?[i.$N]:[]].join(","),s=[...document.querySelectorAll(r)];if(n){const e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{const n=[...e.children];!n.length&&e.style.backgroundImage?s.push(e):n.length&&n.forEach((e=>{t(e)}))};e.forEach((e=>{t(e)}))}return s.reduce(((e,n)=>{if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&d(n,o)){const t=l(n);if(t){const i=(t||"").replace(/.*\//,"");return e.concat([{element:n,fileName:i}])}}return e}),[])}},520636:(e,t,n)=>{n.d(t,{$N:()=>s,Kb:()=>i,Wf:()=>r,fF:()=>l,wc:()=>o});const i="pwt-grid-item",a=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${i}"]`],o=a.join(","),r=a.map((e=>`${e} img`)).join(","),l=a.map((e=>`${e} div[style*=background-image]`)).join(","),s=a.map((e=>`${e} video`)).join(",")},574155:(e,t,n)=>{n.d(t,{Z:()=>k,v:()=>v});var i=n(667294),a=n(93501),o=n(30482),r=n(361905),l=n(763795),s=n(39983),d=n(41162),c=n(353335),u=n(456453);const p=500,h=100,m=6e4,g=6e4,_=(0,o.XV)("GridProfiler"),v=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,r.VZ)(),y=e=>"LAYOUT"===e.status&&p||"TIMING"===e.status&&h||null,f=(e,t)=>{if(!t){const t=(0,r.LM)();if(t===e)return _("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,r.F9)())return _("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}},b=(e,t)=>{let n=0,i=0,a=0,o=0,r=0;return e=e.filter((e=>"pin"===e.type)),t.forEach(((t,l)=>{var s,d,c,u,p,h;const m=t.fileName.split(".")[0];let g;g=e[l],m!==(null===(s=g)||void 0===s?void 0:s.image_signature)&&(g=e.find((e=>m===(null==e?void 0:e.image_signature)))),void 0===g?r+=1:g.is_promoted||"PROMOTED_PIN"===(null===(d=g.recommendation_reason)||void 0===d?void 0:d.reason)||null!==(c=g)&&void 0!==c&&null!==(u=c.promoter)&&void 0!==u&&u.length?a+=1:null!==g.story_pin_data_id&&void 0!==g.story_pin_data_id?n+=1:null!==(p=g)&&void 0!==p&&null!==(h=p.videos)&&void 0!==h&&h.video_list?i+=1:o+=1})),{storyPinCount:n,videoCount:i,adCount:a,imageCount:o,unknownCount:r}},x=(e,t)=>{const n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)};function k({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:v=!1,includeSections:k}){const w=(0,d.E)(),S=null==w?void 0:w.getId(),P=null==w?void 0:w.setVisuallyCompleteResult,[T,I]=(0,i.useState)({status:"DISABLED"});(0,i.useEffect)((()=>{I(P?{status:"LAYOUT",failedCount:0,numOfItemsChecked:0}:{status:"DISABLED"})}),[S,P]),(0,i.useEffect)((()=>{if("DISABLED"!==T.status&&(0,s.ZP)(`GridVisuallyCompleteProfiler_${T.status}`),_("new status",T),"LAYOUT"===T.status){const e=x("scroll",(()=>{(0,s.ZP)("scrollDuringLayout")}));return()=>{e()}}return()=>{}}),[T.status]),(0,u.Z)((()=>{if(!w||!P)return;const{abort:i,getMetricId:s}=w,d=s();switch(T.status){case"LAYOUT":{const t=f(T.numOfItemsChecked,e);t.complete?I({status:"TIMING",failedCount:0,pinElements:(0,r.cQ)(n,v,k)}):T.failedCount*p>m?((0,l.A9)(`images.${(0,a.KJ)(d)}.visuallyComplete.maxLayoutAttempt`),i("visuallyComplete_layoutTimeout"),I({status:"DISABLED"})):I({...T,failedCount:T.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{const e=(0,c.Cg)(),n=T.pinElements.length,r=[];let s=0,u=0,p=0;if(T.pinElements.forEach((({element:t,fileName:n})=>{const i=e.find((e=>e.name.endsWith(n)));i?i.responseEnd?(r.push(i),(0,o.v5)(t,"green")):(p+=1,(0,o.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(u+=1,(0,o.v5)(t,"red")):(s+=1,(0,o.v5)(t,"greenyellow"))})),s||p)T.failedCount*h>g?((0,l.A9)(`images.${(0,a.KJ)(d)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:s,noTimingCount:u,noTimingResponseEndCount:p}}),i("visuallyComplete_timingTimeout"),I({status:"DISABLED"})):I({...T,failedCount:T.failedCount+1});else{if(_(`All ${r.length} images are fetched`),t&&t.length){const e=b(t,T.pinElements);Object.entries(e).forEach((([e,t])=>{w.addBinaryAnnotation(e,t,"I16")})),(0,l.A9)(`${(0,a.KJ)(d)}.pinTypes`,{tags:e})}P({imageTimings:r}),I({status:"DISABLED"}),(0,l.A9)(`images.${(0,a.KJ)(d)}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:u}})}break}}}),y(T))}},763795:(e,t,n)=>{n.d(t,{A9:()=>p,DG:()=>c,H:()=>h,S$:()=>m,iF:()=>u});var i=n(40660),a=n(39008),o=n(30482),r=n(549201);const l=(0,o.XV)("logPwtStats");let s=null,d=!0;function c(e){s={browserName:e.userAgent.browserName,browserVersion:e.userAgent.browserVersion,deviceType:(0,r.Mq)(e),isAuthenticated:e.isAuthenticated,isBot:e.isBot,isSocialBot:e.isSocialBot}}const u=e=>{s&&(s.historyAction=e)},p=(e,t={sampleRate:1},n=!0)=>{const o=a.DQ?1:t.sampleRate;if(!s)return l("pwt.metrics_quality.no_context"),void i.Z.increment("pwt.metrics_quality.no_context",o,{eventName:e});const{browserName:r,browserVersion:d,deviceType:c,isBot:u,isSocialBot:p}=s,h=`pwt.${(p?"socialBot":u&&"bot")||"nonbot"}.metrics_quality.${c}.${e}`,m={...t.tags||{},browserName:r,browserVersion:(null==d?void 0:d.split(".")[0])||"0"},{count:g}=t;n&&(l(`${h}: ${"number"==typeof g?g:1}`),t.tags&&l(Object.entries(t.tags))),a.is||i.Z.count(h,"number"==typeof g?g:1,o,m)},h=(e,t)=>p(`ERROR.${null!=t&&t.action?t.action+".":""}${e}`,{tags:t}),m=({appLoadName:e,clientNavName:t},n)=>{if(s){const i="APP_VOLUME.";d?(p(i.concat(e),{tags:{browserSupportsPwtProfiler:!!n}}),d=!1):"PUSH"===s.historyAction&&p(i.concat(t),{tags:{browserSupportsPwtProfiler:!!n}})}else i.Z.increment("pwt.metrics_quality.no_context",1,{eventName:e.concat(`.${t}`)})}},39983:(e,t,n)=>{n.d(t,{Ao:()=>s,BA:()=>d,L8:()=>u,ZP:()=>p,at:()=>a,gQ:()=>l,tl:()=>c});var i=n(622200);const a="masonryPagination";let o={};const r=e=>` ${e}`,l=()=>{const e={};return Object.keys(o).forEach((t=>{(o[t]||[]).slice(0,3).forEach(((n,i)=>{e[i?`${t}_${i+1}`:t]=n}))})),e},s=(e,t)=>(o[e]||[]).filter((e=>e<t)).length,d=(e,t)=>s(e,t)>0,c=()=>{i.Z&&Object.keys(o).forEach((e=>((e,t)=>{const n=r(t);e.clearMarks(n),e.clearMeasures(n)})(i.Z,e))),o={}},u=e=>{i.Z&&(o[e]=(o[e]||[]).concat([i.Z.now()]),((e,t,n,i)=>{const a=r(t);e.measure(a,n,i)})(i.Z,e))},p=e=>{i.Z&&(o[e]=(o[e]||[]).concat([i.Z.now()]),((e,t)=>{const n=r(t);e.mark(n)})(i.Z,e))}},486986:(e,t,n)=>{n.d(t,{cC:()=>o,jy:()=>a,qr:()=>l,sk:()=>r});const i=e=>"number"==typeof e?Math.round(e):e,a=e=>({type:"I16",value:i(e)}),o=e=>({type:"I32",value:i(e)}),r=e=>({type:"STRING",value:e}),l=e=>({type:"BOOL",value:e})},583077:(e,t,n)=>{n.d(t,{D3:()=>o,Hd:()=>s,jh:()=>l,rX:()=>r});var i=n(941314),a=n(335741);const o=e=>({...(0,i.Z)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),r=()=>{const{firstInputDelay:e,largestContentfulPaint:t}=(0,a.v2)();return{firstInputDelayStart:(null==e?void 0:e.startTime)||0,firstInputDelayEnd:(null==e?void 0:e.endTime)||0,largestContentfulPaint:t||0}},l=(e,t)=>Object.keys(t).reduce(((n,i)=>({...n,[`${e}${i}`]:t[i]})),{}),s=(e,t)=>Object.keys(e).reduce(((n,i)=>t.includes(i)?{...n,[i]:e[i]}:n),Object.freeze({}))},372453:(e,t,n)=>{n.d(t,{ng:()=>v,rA:()=>f});var i=n(93501),a=n(39983),o=n(486986),r=n(335741),l=n(353335),s=n(910673);const d=(e,t)=>(e||[]).reduce(((e,n)=>({...e,[`experiment.${n}`]:(0,o.sk)(t(n))})),{}),c=(e,t)=>"number"==typeof t?e(t):null,u=e=>e.reduce(((e,t)=>e+t),0),p=(e,t)=>Object.keys(t).reduce(((n,i)=>({...n,[`${e}${i}`]:t[i]})),{}),h=e=>{if(!e.length)return{};const t=e.map((({startTime:e,requestStart:t,responseStart:n,responseEnd:i})=>{const a=t||e;return{startTime:e,requestStart:a,responseStart:n||a,responseEnd:i}})),n=u(t.map((e=>e.requestStart-e.startTime))),i=u(t.map((e=>e.responseStart-e.requestStart))),a=u(t.map((e=>e.responseEnd-e.responseStart))),r=n+i+a,l=u(e.map((e=>e.decodedBodySize||0)));return{decodedBodySize:(0,o.cC)((s=l,Number(Number(s/1024).toFixed(3)))),"duration.all":(0,o.cC)(r),"duration.requestStartToResponseStart":(0,o.cC)(i),"duration.responseStartToResponseEnd":(0,o.cC)(a),"duration.startToRequestStart":(0,o.cC)(n)};var s},m=e=>{const t=e.filter((e=>!!e.responseEnd));return{...e.length?{...h(t),"count.completed":(0,o.cC)(t.length)}:{},"count.all":(0,o.cC)(e.length)}},g=e=>{const t=["timeSecond1","timeSecond2","timeSecond3"],n={timeSecond1:{start:0,end:0,count:0},timeSecond2:{start:0,end:0,count:0},timeSecond3:{start:0,end:0,count:0}},i={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};if(e.length){const{requestStart:a,startTime:o}=e[0].timing,r=a||o;n.timeSecond1.start=r,n.timeSecond1.end=r+1e3,n.timeSecond2.start=r+1e3,n.timeSecond2.end=r+2e3,n.timeSecond3.start=r+2e3,n.timeSecond3.end=r+3e3,e.forEach((e=>{const{timing:a}=e;i[e.category]=i[e.category].concat([a]),e.isDeferred&&(i.script_deferred=i.script_deferred.concat([a])),e.isExternal&&(i.external=i.external.concat([a])),e.isVisuallyCompleteRequired&&(i.visually_complete=i.visually_complete.concat([a]));const{requestStart:o,startTime:r,responseEnd:l}=a,s=o||r;t.forEach((e=>{const{start:t,end:i}=n[e];(s>=t&&s<i||s<t&&l>t)&&(n[e].count+=1)}))}))}const a={...p("concurrentRequests.",Object.keys(n).reduce(((e,t)=>e={...e,[t]:(0,o.cC)(n[t].count)}),{}))};return{...Object.keys(i).reduce(((e,t)=>({...e,...p(`resource.${t}.`,m(i[t]))})),a)}},_=(e,t,n)=>{var a;const{devicePixelRatio:r,navigator:d,innerWidth:u,innerHeight:p,performance:h}=window,{deviceMemory:m,hardwareConcurrency:g,platform:_,userAgent:v,connection:y}=d,{memory:f}=h,{appType:b,appVersion:x,browserName:k,browserVersion:w,deviceType:S,isAppShell:P,isAuthenticated:T,isBot:I,isSocialBot:C,locale:A,osName:E,stageName:j}=t,R="desktop"===S?b||5:b||6;let D;const{navigationType:L}=e;let F=null;if("initial_app_load"===L){var M;D=1;const e=null===(M=(0,s.Z)("navigation")[0])||void 0===M?void 0:M.transferSize;F=e?parseFloat((.001*e).toFixed(1)):null}else D=4;return{"app.type":(0,o.jy)(R),"app.version":(0,o.sk)(x),"browser.name":(0,o.sk)(k),"browser.version":(0,o.sk)(w),"cpu.speed":(0,o.jy)(g),"device.memory":(0,o.jy)(m),"device.type":(0,o.jy)(0),"device.typeName":(0,o.sk)(S),"device.version":(0,o.sk)("unknown"),"pwt.cause":(0,o.jy)(D),"net.effectiveType":(0,o.sk)((null==y?void 0:y.effectiveType)||null),"net.downlink":(0,o.cC)(c((e=>10*Math.round(e/10)),null==y?void 0:y.downlink)),"net.downlinkMax":(0,o.cC)(c((e=>10*Math.round(e/10)),null==y?void 0:y.downlinkMax)),"net.rtt":(0,o.cC)(c((e=>10*Math.round(e/10)),null==y?void 0:y.rtt)),"net.speed":(0,o.cC)((0,l.Hv)(n,!1)),"pwt.result":(0,o.jy)(1),"view.type":(0,o.cC)(0),"viewport.height":(0,o.cC)(p||0),"viewport.width":(0,o.cC)(u||0),devicePixelRatio:(0,o.cC)(r||0),isAppShell:(0,o.qr)(P),isAuthenticated:(0,o.qr)(T),isBot:(0,o.qr)(I),isSocialBot:(0,o.qr)(C),locale:(0,o.sk)(A),osName:(0,o.sk)(E),...null!==F&&{htmlResponseSize:(0,o.cC)(F)},nextHopProtocol:(0,o.sk)((null===(a=(0,s.Z)("navigation")[0])||void 0===a?void 0:a.nextHopProtocol)||null),platform:(0,o.sk)(_||null),profilerVersion:(0,o.sk)("3"),pwtActionName:(0,o.jy)((0,i.Rp)(e)),stageName:(0,o.sk)(j),userAgent:(0,o.sk)(v),usedJSHeapSize:(0,o.cC)((null==f?void 0:f.usedJSHeapSize)||0),totalJSHeapSize:(0,o.cC)((null==f?void 0:f.totalJSHeapSize)||0),jsHeapSizeLimit:(0,o.cC)((null==f?void 0:f.jsHeapSizeLimit)||0)}},v=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:i={},performanceResourceTimings:a=[]})=>({...d(e,n.getExperimentGroup),..._(t,n,a),...i,stopwatchVersion:(0,o.jy)(1)}),y=(e,t)=>{var n;const{navigator:i}=window,{serviceWorker:l}=i,{surface:s,navigationType:d,isAuthenticated:c}=e,{cumulativeLayoutShiftScore:p,longTaskDurations:h}=(0,r.v2)();return{...h.length?{"longTask.count":(0,o.cC)(h.length),"longTask.maxDuration":(0,o.cC)(Math.max(...h)),"longTask.totalDuration":(0,o.cC)(u(h))}:{},cumulativeLayoutShiftScore:(0,o.cC)(100*p),"masonry.paginationMarkCount":(0,o.cC)((0,a.Ao)(a.at,t)),"metricId.isAuthenticated":(0,o.qr)(c),"metricId.navigationType":(0,o.sk)(d),"metricId.surface":(0,o.sk)(s),resourceBufferClearedCount:(0,o.jy)((0,a.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,o.qr)((0,a.BA)("scrollDuringLayout",t)),serviceWorker:(0,o.qr)(l?!!l.controller:null),serviceWorkerState:(0,o.sk)((null==l||null===(n=l.controller)||void 0===n?void 0:n.state)||null)}},f=({annotateExperiments:e,binaryAnnotations:t={},entries:n,metricId:i,performanceResources:a,pwtEndTime:o,pwtStaticContext:r})=>({...t,...g(a),...d(e,r.getExperimentGroup),..._(i,r,n),...y(i,o)})},363959:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(622200);const a=()=>{const[e]=i.Z?i.Z.getEntriesByType("navigation"):[];return e}},324e3:(e,t,n)=>{n.d(t,{i:()=>i,p:()=>r});const i=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{const t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();return["js","mjs"].includes(n)?"script":"css"===n?"css":["mp4","m4v","mov","ts","m3u8"].includes(n)?"video":["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n)?"image":"other"}}},a=e=>{const t=e.replace(new RegExp(`^${window.location.origin||""}`),""),n=document&&document.querySelector(`script[src='${t}']`);return!!n&&n.hasAttribute("defer")},o=e=>["pinimg","pinterest","pinterdev"].every((t=>!e.includes(`${t}`))),r=(e,t)=>{const n=i(e),{name:r}=e;return{category:n,isDeferred:"script"===n&&a(r),isExternal:o(r),isVisuallyCompleteRequired:"image"===n&&t.includes(r),timing:e}}},591614:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(334130),a=n(39008),o=n(93501),r=n(30482),l=n(763795);let s=null;const d=(e,t)=>(s=s||{results:[],context:t},s.results.push(e),s);var c=n(486986),u=n(363959),p=n(769916),h=n(910673);const m=(e,t)=>Object.keys(e).reduce(((n,i)=>{const a=e[i];return a?{...n,[i]:{timestamp:t+a}}:n}),{}),g=({span:e,timeOrigin:t})=>{return{id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:m(e.annotationMap,t),binary_annotations:(n=e.binaryAnnotationMap,Object.keys(n).reduce(((e,t)=>{const i=n[t];if(!i)return e;const{value:a,type:o}=i;return null==a?e:e.concat({name:t,value:a,annotation_type:o})}),[]))};var n},_=(e,{startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:a,parentId:o,traceId:r})=>({name:`pwt/${e}`,startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:a,parentId:o,id:r}),v=({annotations:e})=>e.reduce(((e,{key:t,timestamp:n})=>({...e,[`server_${t}`]:{timestamp:n}})),{}),y=(e,t)=>({...e,annotations:{...v(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),f=({traceId:e,actionName:t,result:n,timeOrigin:i,serverDataToJoin:a})=>{let o=g({span:_(t,n),timeOrigin:i}),r=null;return a&&(o=y(o,a),r=((e,t,n)=>{var i;const a=(0,u.Z)();return(null==a?void 0:a.responseEnd)?y(g({span:{name:"html",startTime:0,endTime:(null==a?void 0:a.responseEnd)||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,c.sk)((null===(i=(0,h.Z)("navigation")[0])||void 0===i?void 0:i.nextHopProtocol)||null)},id:e.server_span_id||(0,p.Z)(),parentId:t},timeOrigin:n}),e):null})(a,e,i)),{trace_id:e,spans:[o,...r?[r]:[],...n.spans.map((e=>g({span:e,timeOrigin:i})))]}},b=e=>({debugTrace:a.eD,locale:e.locale,stageName:e.stageName}),x=(0,r.XV)("reportResult"),k=()=>{var e;return null!==(e=window.performance)&&void 0!==e&&e.now?Date.now()-window.performance.now():"unknown"};function w({metricId:e,pwtStaticContext:t,result:n,isAuth:r}){const{serverData:s}=t,c=(0,o.KJ)(e),u=`${n.type}.${c}`,p=`${n.type}.sampled.${c}`,h=void 0!==r&&{tags:{isAuth:r}}||void 0;if((0,l.A9)(n.reason?u.concat(`.${n.reason}`):u,h),(0,l.A9)(n.reason?p.concat(`.${n.reason}`):p,{...h,sampleRate:.5}),"COMPLETE"!==n.type)return void x(`Abort metric ${c}`,n);const m=k();if("unknown"===m)return x(`Unable to convert to absolute times for ${c} due to missing time origin`),void(0,l.A9)(`missingTimeOrigin.${c}`,h);if(a.is&&(window.PWT_LAB_DATA=d(n,t)),n.spans.length&&(n.spans=n.spans.map((e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e)))),!a.is){const a=e.navigationType&&"initial_app_load"===e.navigationType,{traceId:o}=n,r=f({traceId:o,actionName:c,result:n,timeOrigin:m,serverDataToJoin:a&&s||null});(0,i.Z)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(r),report_context:JSON.stringify(b(t))}}),x(`PinTrace ${c} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${o.toString(16)}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},941314:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},577491:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(486986),a=n(941314),o=n(769916);const r=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function l(e,t){const{category:n,timing:l,isDeferred:s,isExternal:d,isVisuallyCompleteRequired:c}=e;return l.responseEnd&&("image"!==n||c)?{name:r(e),id:(0,o.Z)(),parentId:t,startTime:l.startTime,endTime:l.responseEnd,annotationMap:(0,a.Z)(l),binaryAnnotationMap:{category:(0,i.sk)(n),decodedBodySize:(0,i.cC)(l.decodedBodySize||0),initiatorType:(0,i.sk)(l.initiatorType),isDeferred:(0,i.qr)(s),isExternal:(0,i.qr)(d),name:(0,i.sk)(l.name),nextHopProtocol:(0,i.sk)(l.nextHopProtocol),transferSize:(0,i.cC)(l.transferSize||0)}}:null}},912208:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),a=n(583592),o=n(763795),r=n(677263),l=n(30482),s=n(39983),d=n(583077),c=n(372453),u=n(363959),p=n(324e3),h=n(591614),m=n(577491),g=n(879751),_=n(55941),v=n(769916),y=n(622200);const f=(0,l.XV)("PwtStopwatch"),b=(e,t)=>{if(y.Z){if("start"===t.type&&!e.isTiming){const{name:n,startTime:i,navigationType:a}=t;return(0,o.A9)(`TIMING.${n}`),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof i?i:y.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:a},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming){if(!t.bypassIsTimingCheck){const n=t.name||e.name;return f("ignoring action - stopwatch is not actively timing",t),(0,o.A9)(`WARN.${n}.noTiming.${t.type}`),e}f("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t)}if("annotate"===t.type){const n=y.Z.now();return f(`adding annotation {${t.label}: ${n}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:n}])}}if("binaryAnnotate"===t.type)return f(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type){const{value:n,type:i}=t.binaryAnnotationValueAndType;if(e.binaryAnnotations[t.name]){const a=e.binaryAnnotations[t.name].value||0;return f(`operating on binary annotation {\n          name: ${t.name}\n          pervious value: ${String(a)}\n          operand: ${String(n)}\n        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n?t.operation(a,n):a,type:i}}}}return{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n,type:i}}}}if("addSubspan"===t.type){f(`adding subspan {${t.name}}`);-1!==e.spans.findIndex((e=>e.name===t.name))&&f(`WARNING: adding duplicate subspan name {${t.name}}`);const n=t.id||(0,v.Z)();-1!==e.spans.findIndex((e=>e.id===n))&&f(`WARNING: adding duplicate subspan id {${t.name}: ${n}}`);let i=0;return t.startTime?i=t.startTime:e.startTime?i=e.startTime:f(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:n,startTime:i,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){var n;f(`starting subspan {${t.name}}`);-1!==e.spans.findIndex((e=>e.name===t.name))&&f(`WARNING: starting duplicate subspan name {${t.name}}`);const i=t.id||(0,v.Z)();-1!==e.spans.findIndex((e=>e.id===i))&&f(`WARNING: starting duplicate subspan id {${t.name}: ${i}}`);const a=t.parentName?null===(n=e.spans.find((e=>e.name===t.parentName)))||void 0===n?void 0:n.id:null;return{...e,spans:[...e.spans,{name:t.name,id:i,parentId:t.parentId||a,startTime:y.Z.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){if(f(`stopping subspan {${t.name}}`),!t.id){e.spans.reduce(((e,n)=>n.name===t.name?[...e,n]:e),[]).length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type})}const n=t.id?e.spans.findIndex((e=>e.id===t.id)):e.spans.findIndex((e=>e.name===t.name));return n>-1?(e.spans[n].endTime=y.Z.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})):(0,o.H)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){e.spans.reduce(((e,n)=>n.name===t.currentName?[...e,n]:e),[]).length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});const n=e.spans.findIndex((e=>e.name===t.currentName));return n>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[...e.spanNameUpdates,{currentName:t.currentName,newName:t.newName}]:(f(`renaming subspan {${t.currentName}} to {${t.newName}}`),e.spans[n].name=t.newName):(0,o.H)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){const{startTime:n,metricId:i,pwtStaticContext:a,annotations:o,binaryAnnotations:r,isSampled:l,spans:_,traceId:b}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),l){const l=t.stopTime||y.Z.now(),x=[..._.map((t=>{t.endTime===1/0&&(t.endTime=l);const n=e.spanNameUpdates.findIndex((e=>t.name===e.currentName));return n>-1&&(f(`renaming subspan {${t.name}} to {${e.spanNameUpdates[n].newName}}`),t.name=e.spanNameUpdates[n].newName,e.spanNameUpdates=e.spanNameUpdates.filter((e=>e.newName!==t.name))),t}))];if(t.manualAndResourceSpans||0===_.length){const e=(0,v.Z)();x.push({name:"network_resources",id:e,startTime:n,endTime:l,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map((t=>(0,m.Z)((0,p.p)(t,[]),e))).filter(Boolean))}const k="initial_app_load"===i.navigationType&&(0,u.Z)(),w={type:"COMPLETE",traceId:b,startTime:n,endTime:l,spans:x,annotationMap:{...(0,g.Z)(o),...(0,d.jh)("browser_",k?(0,d.D3)(k):{}),...(0,d.jh)("mark_",(0,s.gQ)())},binaryAnnotationMap:(0,c.ng)({metricId:i,pwtStaticContext:a,binaryAnnotations:r,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,h.Z)({metricId:i,pwtStaticContext:a,result:w})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,v.Z)(),spanNameUpdates:[]}}if("error"===t.type){const{error:n,stopwatchPerformanceObserver:i}=t;return n&&(0,o.H)(n),i&&i.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,v.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();const{metricId:n,pwtStaticContext:i}=e,a=t.reason||"";return(0,h.Z)({metricId:n,pwtStaticContext:i,result:{type:"ABORT",reason:a}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,v.Z)(),spanNameUpdates:[]}}}return e},x=({name:e,sampleRate:t,navigationType:n,manualAndResourceSpans:a=!1})=>{const o=(0,r.N5)(),l=(0,i.useRef)([]),s=(0,i.useRef)(null),[d,c]=(0,i.useReducer)(b,{isTiming:!1,name:e,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,v.Z)(),spanNameUpdates:[]});return o?{isTiming:d.isTiming,start:i=>{if(window.PerformanceObserver){const e=1e3;l.current=[],s.current=(0,_.Z)({entryTypes:["resource"]},(t=>{l.current=l.current.concat(t.getEntries()),l.current.length>e&&(l.current=l.current.slice(-e))}))}const a={type:"start",startTime:i,name:e,navigationType:n,pwtStaticContext:o,isSampled:!t||Math.random()<t};return c(a)},stop:e=>c({type:"stop",stopTime:e,stopwatchPerformanceObserver:s.current,customStopwatchBuffer:l.current,manualAndResourceSpans:a}),error:e=>{c({type:"error",stopwatchPerformanceObserver:s.current,error:e})},abort:e=>c({type:"abort",stopwatchPerformanceObserver:s.current,customStopwatchBuffer:l.current,reason:e}),annotate:(e,t,n=!1)=>c({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n}),binaryAnnotate:(e,t,n,i,a=!1)=>c({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:i,bypassIsTimingCheck:a}),binaryAnnotateOperation:({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a=!1})=>c({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a}),addSubspan:({name:e,startTime:t,endTime:n,annotations:i={},binaryAnnotations:a={},parentId:o=null,id:r=null,bypassIsTimingCheck:l=!1})=>c({type:"addSubspan",name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:o,id:r,bypassIsTimingCheck:l}),subspanStart:({name:e,annotations:t={},binaryAnnotations:n={},parentId:i=null,parentName:a=null,id:o=null,bypassIsTimingCheck:r=!1})=>c({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:a,id:o,bypassIsTimingCheck:r}),subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:o=!1})=>c({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:o}),subspanUpdateName:({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i=!0})=>c({type:"subspanUpdateName",currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i}),getSpans:(e,t)=>d.spans.filter((n=>n[e]===t)),getTraceId:()=>d.traceId}:null};var k=n(785893);const w=({name:e,sampleRate:t,abortOnUnloadOrClientNavigation:n=!0,navigationType:l,manualAndResourceSpans:s=!1})=>{const{Provider:d,useMaybeHook:c}=(0,a.Z)(`Stopwatch_${e}`);return{Provider:function({children:a}){const c=x({name:e,sampleRate:t,navigationType:l,manualAndResourceSpans:s}),u=(0,r.fM)(),p=u?u.time:0,h=(0,i.useRef)(!1),m=null==c?void 0:c.isTiming,g=(0,i.useCallback)((t=>{h.current?(h.current=!1,null==c||c.abort(t)):(0,o.A9)(`WARN.${e}.noTiming.abort`)}),[c]),_=(0,i.useCallback)(((e,t)=>{null==c||c.annotate(e,t)}),[c]),v=(0,i.useCallback)(((e,t,n,i)=>{null==c||c.binaryAnnotate(e,t,n,i)}),[c]),y=(0,i.useCallback)((({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a})=>{null==c||c.binaryAnnotateOperation({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a})}),[c]),f=(0,i.useCallback)((({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:o,id:r,bypassIsTimingCheck:l})=>{null==c||c.addSubspan({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:o,id:r,bypassIsTimingCheck:l})}),[c]),b=(0,i.useCallback)((({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:a,id:o,bypassIsTimingCheck:r})=>{null==c||c.subspanStart({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:a,id:o,bypassIsTimingCheck:r})}),[c]),w=(0,i.useCallback)((({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:o})=>{null==c||c.subspanStop({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:o})}),[c]),S=(0,i.useCallback)((({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i})=>{null==c||c.subspanUpdateName({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i})}),[c]),P=(0,i.useCallback)(((e,t)=>c?c.getSpans(e,t):[]),[c]),T=(0,i.useCallback)((()=>c?c.getTraceId():0),[c]),I=(0,i.useCallback)((t=>{h.current?(h.current=!1,null==c||c.error(t)):(0,o.A9)(`WARN.${e}.noTiming.error`)}),[c]),C=(0,i.useCallback)((e=>{h.current&&(null==c||c.abort("duplicated_init_stopwatch_action")),h.current=!0,null==c||c.start(e)}),[c]),A=(0,i.useCallback)((t=>{h.current?(h.current=!1,null==c||c.stop(t)):(0,o.A9)(`WARN.${e}.noTiming.stop`)}),[c]);(0,i.useEffect)((()=>()=>{n&&g("unloadOrClientNavigation")}),[p]);const E=(0,i.useMemo)((()=>({isTiming:m,abort:g,addAnnotation:_,addBinaryAnnotation:v,binaryAnnotationOperation:y,addSubspan:f,subspanStart:b,subspanStop:w,getSpans:P,getTraceId:T,updateSubspanName:S,stop:A,error:I,start:C})),[m,g,_,v,y,f,b,w,P,T,S,A,I,C]);return(0,k.jsx)(d,{value:E,children:a})},useHook:c}}},845092:(e,t,n)=>{n.d(t,{ku:()=>P,Jx:()=>k,PY:()=>S});var i=n(30482),a=n(763795),o=n(39983),r=n(583077),l=n(372453),s=n(363959),d=n(335741);const c=()=>(0,d.PJ)().reduce(((e,{identifier:t,loadTime:n,renderTime:i})=>e[`${t}_loadTime`]?e[`${t}_dupe_loadTime`]?{...e,[`${t}_dupe_loadTime`]:n,[`${t}_dupe_renderTime`]:i}:e:{...e,[`${t}_loadTime`]:n,[`${t}_renderTime`]:i}),Object.freeze({}));var u=n(941314),p=n(360588),h=n(353335);const m=e=>{if("pin_closeup"===e){const e=(0,p.Z)();return(e=>{const t=(0,h.y0)();return e.reduce(((e,{name:n,match:i})=>t.filter((e=>i(e))).slice(0,2).reduce(((e,t,i)=>({...e,...(0,r.jh)(`${n}${i?"_dupe1":""}_`,(0,u.Z)(t))})),e)),Object.freeze({}))})([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}return{}};var g=n(324e3),_=n(591614),v=n(577491),y=n(55941),f=n(769916);const b=(0,i.XV)("LightStopwatch"),x={},k=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:n,name:i,pwtStaticContext:d})=>{const u=(()=>{let e=[],t=null;if(window.PerformanceObserver){const n=1e3;t=(0,y.Z)({entryTypes:["resource"]},(t=>{e=e.concat(t.getEntries()),e.length>n&&(e=e.slice(-n))}))}return{get:()=>e,disconnect:()=>{t&&t.disconnect()}}})();let p=!0,h={};(0,a.A9)(`TIMING.${i}`,{tags:{isAuth:d.isAuthenticated}});const k={type:"stopwatch",name:i,navigationType:"initial_app_load"},w={abort:e=>{p?(p=!1,(0,_.Z)({metricId:k,pwtStaticContext:d,result:{type:"ABORT",reason:e}})):(0,a.H)("duplicate_abort_action",{action:i})},error:(e,t)=>{const n={...t,action:i};p?(e&&(0,a.H)(e,n),u&&u.disconnect(),p=!1):(0,a.H)("duplicate_error_action",n)},stop:y=>{if(!p)return void(0,a.H)("duplicate_stop_action",{action:i});p=!1,u.disconnect();const b=(0,f.Z)(),x=(0,s.Z)(),w=u.get(),S={type:"COMPLETE",traceId:(0,f.Z)(),startTime:0,endTime:y,spans:[{name:"network_resources",id:b,startTime:0,endTime:y,annotationMap:{},binaryAnnotationMap:{},parentId:null},...w.map((e=>(0,v.Z)((0,g.p)(e,[]),b))).filter(Boolean)],annotationMap:{...(0,r.jh)("resource_",n?m(n):{}),...(0,r.jh)("element_",c()),...(0,r.jh)("mark_",t&&t.length?(0,r.Hd)((0,o.gQ)(),t):{}),...(0,r.jh)("browser_",x?(0,r.D3)(x):{})},binaryAnnotationMap:(0,l.ng)({annotateExperiments:e,metricId:k,pwtStaticContext:d,performanceResourceTimings:w,binaryAnnotations:h})};(0,_.Z)({metricId:k,pwtStaticContext:d,result:S,isAuth:d.isAuthenticated})},addBinaryAnnotation:(e,t,n)=>{b(`adding binary annotation {${e}: ${String(t)}}`),h={...h,[e]:{value:t,type:n}}}};return x[i]=w,w},w=e=>x[e],S=e=>!!w(e),P=({stopwatchName:e,binaryAnnotationName:t,value:n,annotationType:i})=>{const a=w(e);a&&a.addBinaryAnnotation(t,n,i)}},719540:(e,t,n)=>{n.d(t,{T:()=>r,g:()=>l});var i=n(912208);const{Provider:a,useHook:o}=(0,i.Z)({name:"story_pin_step",sampleRate:1}),r=a,l=o},879751:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{let t={};e.forEach((({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}}));let n=Object.freeze({});return Object.keys(t).forEach((e=>{(t[e]||[]).forEach(((t,i)=>{const a=i?`${e}_${i+1}`:e;n={...n,[a]:t}}))})),n}},335741:(e,t,n)=>{n.d(t,{Af:()=>_,Bn:()=>m,Kj:()=>p,PJ:()=>s,UQ:()=>v,Ux:()=>d,on:()=>r,v2:()=>c});var i=n(545225),a=n(55941);const o={cumulativeLayoutShiftScore:0,firstInputDelay:null,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},r=()=>{o.longTaskDurations=[]},l=(0,i.Z)((()=>o.elementTimings)),s=()=>l.get(),d=e=>{e&&l.save(),o.elementTimings=[]},c=()=>o;let u=0;const p=()=>u;let h;const m=()=>h;let g;const _=()=>g,v=()=>{(0,a.Z)({type:"element",buffered:!0},(e=>{o.elementTimings=o.elementTimings.concat(e.getEntries().reduce(((e,{identifier:t,loadTime:n,renderTime:i})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof i?[{identifier:t,loadTime:n,renderTime:i}]:[])),[]))})),(0,a.Z)({entryTypes:["longtask"]},(e=>{e.getEntries().map((e=>o.longTaskDurations.push(e.duration)))}),(()=>r())),(0,a.Z)({type:"first-input",buffered:!0},((e,t)=>{const n=e.getEntries()[0];n&&n.startTime&&n.processingStart&&(o.firstInputDelay={startTime:n.startTime,endTime:n.processingStart},g=o.firstInputDelay.startTime),t.disconnect()}),(()=>{o.firstInputDelay=null})),(0,a.Z)({type:"largest-contentful-paint",buffered:!0},(e=>{const t=e.getEntries(),n=t.length,i=t[n-1];i&&(u=n,o.largestContentfulPaint=i.renderTime||i.loadTime||null,h=i.renderTime||i.loadTime||null)})),(0,a.Z)({type:"layout-shift",buffered:!0},(e=>{e.getEntries().forEach((e=>{e.hadRecentInput||(o.cumulativeLayoutShiftScore+=e.value)}))}))}},768337:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";default:return"OTHER"}}},545225:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},813107:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{const{deviceType:t,isBot:n,isSocialBot:i}=e;return`coreWebVitalsLite.v1.${(i?"socialBot":n&&"bot")||"nonbot"}.${t}`}},154174:(e,t,n)=>{function i(e){return e.split("/")[3]||"default"}n.d(t,{Z:()=>i})},55941:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>{if(!window.PerformanceObserver)return null;try{const i=new window.PerformanceObserver(t);return i.observe(e),window.addEventListener("beforeunload",(()=>{i.disconnect()})),n&&window.addEventListener("popstate",(()=>{n()})),i}catch(i){return null}}},360588:(e,t,n)=>{n.d(t,{Z:()=>a,f:()=>i});const i="closeupImage",a=()=>{if(!document.querySelector)return null;const e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},769916:(e,t,n)=>{function i(){let e="";for(let t=0;t<15;t+=1){e+="0123456789"[Math.floor(10*Math.random())]}return Number(e)}n.d(t,{Z:()=>i})},353335:(e,t,n)=>{n.d(t,{Cg:()=>g,Eg:()=>v,Hv:()=>f,LH:()=>y,MM:()=>b,X_:()=>p,y0:()=>_});var i=n(39008),a=n(763795),o=n(39983),r=n(324e3),l=n(545225),s=n(55941),d=n(910673);let c;function u(){window.performance&&window.performance.clearResourceTimings&&((0,o.ZP)("resourceBufferCleared"),i.DQ&&console.info("Warning: Clearing resource timings in default buffer."),(0,a.A9)("resourceBufferSize",{count:(0,d.Z)("resource").length}),window.performance.clearResourceTimings())}const p=({size:e})=>{if(window.performance){window.PerformanceObserver?(c=(0,d.Z)("resource"),(0,s.Z)({entryTypes:["resource"]},(t=>{c=(c||[]).concat(t.getEntries()),c.length>e&&(c=c.slice(-e))}))):(window.addEventListener("popstate",(()=>{(0,d.Z)("resource").length>e&&u()})),window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(e));try{window.performance.onresourcetimingbufferfull=()=>{c||u()}}catch(t){}}},h=()=>c||(0,d.Z)("resource"),m=(0,l.Z)(h),g=h,_=()=>m.get(),v=e=>{e&&m.save(),c&&((0,a.A9)("customBufferSize",{count:c.length}),c=[]),u()},y=()=>({customBufferSize:c?c.length:0,defaultBufferSize:(0,d.Z)("resource").length}),f=(e,t=!0)=>{let n=0,i=0;const o=(l=e.filter((e=>t?!("image"!==(0,r.i)(e)||(e.responseEnd||(n+=1),e.transferSize||(i+=1),!e.responseEnd||!e.transferSize)):!!e.responseEnd&&!!e.transferSize)).map((e=>8*(e.transferSize||0)/((e.responseEnd-e.responseStart)/1e3)/1e3))).length?l.reduce(((e,t)=>e+t),0)/l.length:null;var l;return t&&(n>0&&(0,a.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:n}},!1),i>0&&(0,a.A9)("images.downloadSpeed.transferSize",{tags:{count:i}},!1)),o},b=e=>{if(!e)return"unknown";const t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},910673:(e,t,n)=>{function i(e){var t,n;return(null===(t=window)||void 0===t||null===(n=t.performance)||void 0===n?void 0:n.getEntriesByType)&&window.performance.getEntriesByType(e)||[]}n.d(t,{Z:()=>i})},622200:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(a=window.performance)&&a.clearMarks&&a.clearMeasures&&a.clearResourceTimings&&a.getEntries&&a.getEntriesByName&&a.getEntriesByType&&a.mark&&a.measure&&a.now&&a.setResourceTimingBufferSize?a:null;var a},31407:(e,t,n)=>{n.d(t,{A:()=>s,Z:()=>d});var i=n(667294),a=n(883119),o=n(785893);const r=12,l=3,s=({fill:e,width:t,color:n})=>{const s="half"===e?(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(a.xu,{position:"absolute",children:(0,o.jsx)(a.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:r})}),(0,o.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:r})]}):(0,o.jsx)(a.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:r});return(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:`${l}px`}},display:"inlineBlock","data-test-id":`rating-star-${e}`,children:s})};function d({max_rating:e,rating:t,width:n,color:i}){const d=[],c=parseFloat(e)||5,u=function(e,t){return 5*(t=t<=e?t:e)/e}(c,parseFloat(t)||0);if(Number.isNaN(u))return null;const p=Math.floor(u),h=u-p;return[...Array(p).keys()].forEach((e=>d.push((0,o.jsx)(s,{color:i,fill:"full",width:n},e)))),h>=.75?d.push((0,o.jsx)(s,{color:i,fill:"full",width:n},d.length)):h>=.25&&d.push((0,o.jsx)(s,{color:i,fill:"half",width:n},d.length)),[...Array(5-d.length).keys()].forEach((()=>d.push((0,o.jsx)(s,{color:i,fill:"empty",width:n},d.length)))),(0,o.jsx)(a.xu,{position:"relative",display:"inlineBlock",width:c*(r+l),children:d})}},895200:(e,t,n)=>{function i({m:e=0,h:t=0}){let n;return n=t<=0?t:e>45?t+1:e>15?t+.5:t,{m:e,h:t,rm:t>0?0:e,rh:n}}function a(e){const t=Math.floor(e/3600);return i({m:Math.floor(e%3600/60),h:t})}n.d(t,{X:()=>i,u:()=>a})},31086:(e,t,n)=>{n.d(t,{Z:()=>r,k:()=>o});const i=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","original_referrer","source","top_level_source","top_level_source_depth"]),a=e=>!i.has(e)&&!e.startsWith("__track__");function o(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce(((e,t)=>{const[n,i]=t.split("=");return e[n]=JSON.parse(i),e}),{})}const r=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(a).sort().map((t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`)).join(","):""},170567:(e,t,n)=>{n.d(t,{UZ:()=>u,Z8:()=>p,my:()=>h});var i=n(667294),a=(n(702664),n(690108)),o=n(583592),r=n(785893);function l(e,t,n){var i;const a=[...null!==(i=t[e][n.payload.name])&&void 0!==i?i:[],n.payload.handler],o={...t};return o[e]={...t[e],[n.payload.name]:a},o}function s(e,t,n){if(!t[e][n.payload.name])return t;const i=t[e][n.payload.name].filter((e=>e!==n.payload.handler)),a={...t};return a[e]={...t[e],[n.payload.name]:i},a}const{Provider:d,useHook:c}=(0,o.Z)("ResourceContext");function u({children:e}){const[{listeners:t,moreListeners:n},o]=(0,i.useReducer)(((e,t)=>{switch(t.type){case"addListener":return l("listeners",e,t);case"addMoreListener":return l("moreListeners",e,t);case"removeListener":return s("listeners",e,t);case"removeMoreListener":return s("moreListeners",e,t);default:return e}}),{listeners:{},moreListeners:{}});a.Z.fetchCompleteCallback=({resource:e,options:n,response:i,normalizedResponse:a,refresh:o,resourceSchema:r})=>{t[e]&&t[e].forEach((t=>t({isRefresh:o,normalizedResponse:a,options:n,schema:r,resource:e,response:i})))},a.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:i,normalizedResponse:a,refresh:o,resourceSchema:r})=>{n[e]&&n[e].forEach((n=>n({isRefresh:o,normalizedResponse:a,options:t,schema:r,resource:e,response:i})))};const c=(0,i.useMemo)((()=>({listenerDispatch:o})),[]);return(0,r.jsx)(d,{value:c,children:e})}function p(e,t){const{listenerDispatch:n}=c();(0,i.useEffect)((()=>(n({type:"addListener",payload:{name:e,handler:t}}),()=>{n({type:"removeListener",payload:{name:e,handler:t}})})))}function h(e,t){const{listenerDispatch:n}=c();(0,i.useEffect)((()=>(n({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{n({type:"removeMoreListener",payload:{name:e,handler:t}})})))}},575794:(e,t,n)=>{n.d(t,{U:()=>u,b:()=>p});var i=n(690108),a=n(31086),o=n(33319),r=n(756513),l=n(782677),s=n(255655);const d=(e,{bookmark:t,options:n,schema:i})=>{const a=i||s.Z[e];return"function"==typeof a?a({resource:e,options:n,bookmark:t}):a};function c({fetchOptions:e,resource:t,retry:n}){return(s,u)=>{var p,h,m;const{bookmark:g,headers:_,options:v,refresh:y,schema:f}=e,b=(0,a.Z)(v);if(null!==(p=u().resources)&&void 0!==p&&null!==(h=p[t])&&void 0!==h&&null!==(m=h[b])&&void 0!==m&&m.fetching&&!n)return Promise.resolve();const x=n?n.bookmark:g,k=x?{...v,bookmarks:[x]}:v;return s((0,r.LQ)(t,v,!0)),i.Z.create(t,k).callGet(void 0,_).then((a=>{var u;const p=null===(u=a.resource_response)||void 0===u?void 0:u.data,[h]=a.bookmarks||[];if(Array.isArray(p)&&0===p.length&&h&&h!==o.q){const i=n?n.count:0;if(!(i>=o.s))return s(c({resource:t,fetchOptions:e,retry:{count:i+1,bookmark:h}}))}!function(e,t){"VisualSearchFlashlightUnifiedResource"===e&&(t=t.results)}(t,p);const{normalizedResponse:m,resourceSchema:_}=function({data:e,opts:{bookmark:t,options:n,schema:i},resource:a}){const o=d(a,{bookmark:t,options:n,schema:i});return{normalizedResponse:o&&e?(0,l.Fv)(e,o):null,resourceSchema:o}}({data:p,opts:{bookmark:g,options:v,schema:f},resource:t})||{normalizedResponse:null,resourceSchema:void 0};return g?(s((0,r.Dm)(t,v,a,m,_)),i.Z.fetchMoreCompleteCallback&&i.Z.fetchMoreCompleteCallback({resource:t,options:v,response:a,normalizedResponse:m,refresh:y,resourceSchema:_})):(s((0,r.Sr)(t,v,a,m,y,_)),i.Z.fetchCompleteCallback&&i.Z.fetchCompleteCallback({resource:t,options:v,response:a,normalizedResponse:m,refresh:y,resourceSchema:_})),Promise.resolve()}),(e=>{s((0,r.Tl)(t,v,e))}))}}const u=(e,{bookmark:t,headers:n,options:i,schema:a})=>c({resource:e,fetchOptions:{bookmark:t,headers:n,options:i,refresh:!1,schema:a}}),p=(e,{headers:t,options:n,schema:i})=>c({resource:e,fetchOptions:{headers:t,options:n,refresh:!0,schema:i}})},907276:(e,t,n)=>{function i(e,t){let n;if(e.error){const{httpStatus:i,api_error_code:a,redirectUrl:o}=e.error;if(404===i||401===i&&7===a){n={pathname:t?"/ideas/":"/",state:{showError:!0}}}301===i&&o&&(n={pathname:o})}return n}n.d(t,{Z:()=>i})},857867:(e,t,n)=>{n.d(t,{AF:()=>i,KK:()=>a,aW:()=>l,cR:()=>o,se:()=>s,zP:()=>r});const i="CREATE_COMPLETE",a="FETCHING",o="FETCH_ERROR",r="FETCH_COMPLETE",l="FETCH_MORE_COMPLETE",s="RESOURCE_INVALIDATE"},756513:(e,t,n)=>{n.d(t,{Dm:()=>s,LQ:()=>o,Sr:()=>l,Tl:()=>r,XM:()=>a,jB:()=>d});var i=n(857867);function a(e,t,n,a){return{type:i.AF,payload:{resource:e,options:t,response:n,normalizedResponse:a}}}function o(e,t,n){return{type:i.KK,payload:{resource:e,options:t,isFetching:n}}}const r=(e,t,n)=>({type:i.cR,payload:{resource:e,options:t,error:n}});function l(e,t,n,a,o,r){return{type:i.zP,payload:{isRefresh:o,normalizedResponse:a,options:t,resource:e,response:n,schema:r}}}function s(e,t,n,a,o){return{type:i.aW,payload:{resource:e,options:t,response:n,normalizedResponse:a,schema:o}}}function d(e,t){return{type:i.se,payload:{resource:e,optionsOrOptionsKey:t}}}},819079:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(702664),o=n(616550),r=n(31086),l=n(282802),s=n(575794),d=n(33319);const c={},u=({httpStatus:e})=>!e||e>=500;function p(e){const{enabledRouteRefresh:t,__unstableEnableSuspenseSupport:n,headers:p,name:h,noCache:m,options:g,schema:_}=null!=e?e:{name:"DisabledResource",options:null},v=!e,y=(0,a.useDispatch)(),f=(0,r.Z)(g),b=(0,i.useRef)(null),x=(0,i.useRef)(),k=(0,o.useHistory)(),w=k&&"POP"!==k.action,S=e=>(e[h]||c)[f]||c,P=(0,a.useSelector)((({resources:e})=>S(e).nextBookmark)),T=(0,a.useSelector)((({resources:e})=>S(e).data)),I=(0,a.useSelector)((({resources:e})=>S(e).auxData)),C=(0,a.useSelector)((({resources:e})=>S(e).error)),A=(0,a.useSelector)((({resources:e})=>Boolean(S(e).fetching))),E=Boolean(C)||void 0!==T,j=E&&!A&&P===d.q,R=Boolean(E&&t&&w&&!v),[D,L]=(0,i.useState)(R),F=(0,i.useCallback)((e=>{b.current=y((0,s.U)(h,{options:g,schema:_,bookmark:e,headers:p}))}),[y,h,f,_,p]),M=()=>{b.current=y((0,s.b)(h,{options:g,schema:_,headers:p}))},{isBot:O}=(0,l.B)(),z=()=>{if(!v&&x.current!==f){const e=void 0===x.current;x.current=f,!E&&!A||e&&C&&u(C)?F():(!O&&m||R)&&M()}};(0,i.useEffect)((()=>{n||z()})),n&&z();const Z=(0,i.useCallback)((()=>{v||(M(),L(!0))}),[v,s.b,h,f,p,L]),N=(0,i.useCallback)((()=>{!P||j||A||v||F(P)}),[v,F,P,j,A]);if(b.current)if(E&&!A)b.current=null;else if(n)throw b.current;const U=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:N,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:Z}),B={auxData:I,data:T,error:C,fetchMore:N,isAtEnd:j,isFetching:A,isLoaded:E,isRefreshing:D,nextBookmark:P,refresh:Z};return(0,a.shallowEqual)(B,U.current)||(!D||!U.current.data&&R||(0,a.shallowEqual)(B.data,U.current.data)||(B.isRefreshing=!1,L(!1)),U.current=B),U.current}},85044:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(616550),a=n(988014),o=n(907276),r=n(819079),l=n(802071);function s(e){const t=(0,i.useHistory)(),n=(0,i.useLocation)(),{isAuth:s}=(0,l.Z)(),d=!s&&(0,a.L6)(n),c=(0,r.Z)(e),u=(0,o.Z)(c,d);return u&&t.replace(u.pathname,u.state),c}},789907:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);const a=e=>{const t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,i.jsx)("div",{"data-test-id":"rich-pin-information",...t,children:e.children||null})}},196858:(e,t,n)=>{n.d(t,{G:()=>i});const i="https://schema.org/Recipe"},497088:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(245410),o=n(282802),r=n(785893);function l({children:e,fallback:t}){const n=t||null,{isAuthenticated:l}=(0,o.B)(),{checkExperiment:s}=(0,a.F)();return(0,r.jsx)(i.Suspense,{fallback:n,children:e})}},643183:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(497088).Z},649715:(e,t,n)=>{function i(e){return(e||"").trim().replace(/\s+/g," ")}n.d(t,{Z:()=>i})},972551:(e,t,n)=>{function i({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}n.d(t,{Z:()=>i})},482277:(e,t,n)=>{function i({isEligibleForPdp:e,isStaleProduct:t,isOutOfStockProduct:n}){return!!e||!!t||!!n}n.d(t,{Z:()=>i})},466946:(e,t,n)=>{n.d(t,{l:()=>o,r:()=>r});var i=n(667294);const a=(0,i.createContext)(null),o=()=>(0,i.useContext)(a),r=a.Provider},599226:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(402833),a=n(466946);const o=()=>{const e=(0,i.g)(),t=(0,a.l)();return n=>{const{mobileOptions:i,desktopOptions:a,reason:o,attributionLabel:r}=n;e?e.showDesktopSignupModal({signupFlow:"login"===(null==a?void 0:a.modalType)?{type:"login"}:{type:"signup"},reason:o,attributionLabel:r,...null==a?void 0:a.modalOptions}):t&&t.showMobileSignupModal({reason:o,attributionLabel:r,headingType:null==i?void 0:i.headingType})}}},16754:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{fill:"none",height:e,width:e,viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{fill:"#1a73e8",height:"56",rx:"28",width:"56"}),(0,i.jsx)("path",{d:"m37.086 39.782h-18.454c-2.624 0-4.914-1.983-4.914-4.607v-.028 1.536c0 2.624 2.29 4.913 4.914 4.913h18.454c2.653 0 4.914-2.317 4.914-4.913v-1.536c0 2.624-2.29 4.635-4.914 4.635zm-23.395-13.234v-2.094l-3.434-5.667c-.196-.307-.28-.586-.252-.866v2.401c0 .224.084.447.223.698z",fill:"#185abc"}),(0,i.jsx)("path",{d:"m37.086 17h-25.853c-1.033 0-1.619.893-.92 1.843l3.377 5.863v10.469c0 2.68 1.955 4.914 4.607 4.914h18.761c2.653 0 4.914-2.262 4.914-4.914v-13.233c.028-2.68-2.234-4.942-4.886-4.942z",fill:"#fff"}),(0,i.jsx)("path",{d:"m36.78 24.39h-17.842c-.782 0-1.535-.474-1.535-1.228 0-.753.753-1.228 1.535-1.228h17.84c.782 0 1.536.475 1.536 1.228 0 .754-.754 1.229-1.536 1.229zm0 4.915h-17.842c-.782 0-1.535-.475-1.535-1.229s.753-1.228 1.535-1.228h17.84c.782 0 1.536.474 1.536 1.228s-.754 1.229-1.536 1.229zm-4.942 4.941h-12.928c-.782 0-1.535-.474-1.535-1.228s.753-1.229 1.535-1.229h12.927c.781 0 1.535.475 1.535 1.229s-.754 1.228-1.535 1.228z",fill:"#8ab4f8"})]})}},512403:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},269758:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,i.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},871755:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4144_9512)"}),(0,i.jsx)("path",{d:"M27.7512 13C23.3085 13 19.0478 14.47 15.9063 17.0867C12.7649 19.7033 11 23.2522 11 26.9526C11.004 29.3596 11.7556 31.7247 13.1816 33.8182C14.6076 35.9117 16.6595 37.6624 19.138 38.9C18.4779 40.3778 17.4878 41.7636 16.2089 43C18.6891 42.5646 21.0173 41.65 23.0123 40.3273C24.5505 40.708 26.1465 40.9027 27.7512 40.9053C32.1939 40.9052 36.4546 39.4352 39.5961 36.8186C42.7375 34.202 44.5024 30.6531 44.5024 26.9526C44.5024 23.2522 42.7375 19.7033 39.5961 17.0867C36.4546 14.47 32.1939 13 27.7512 13Z",fill:"white"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_4144_9512",x1:"28.4444",y1:"52.2827",x2:"28.4444",y2:"6.94986",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#0CBD2A"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#5BF675"})]})})]})}},894637:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,i.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,i.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},757551:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,i.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,i.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649)"}),(0,i.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("radialGradient",{id:"paint0_radial_3730_649",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.16 43.826) scale(34.8672)",children:[(0,i.jsx)("stop",{stopColor:"#09F"}),(0,i.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,i.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},916224:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4401_2673)"}),(0,i.jsx)("path",{d:"M22.452 39.991c-.907 0-.753-.342-1.066-1.206l-2.667-8.779 20.533-12.181",fill:"#C8DAEA"}),(0,i.jsx)("path",{d:"M22.452 39.991c.7 0 1.01-.32 1.4-.7l3.734-3.63-4.657-2.808",fill:"#A9C9DD"}),(0,i.jsx)("path",{d:"m22.928 32.854 11.284 8.336c1.288.71 2.217.343 2.538-1.195l4.593-21.645c.47-1.885-.719-2.74-1.95-2.181l-26.971 10.4c-1.841.738-1.83 1.765-.336 2.223l6.921 2.16 16.024-10.109c.757-.458 1.45-.212.881.294",fill:"url(#paint1_linear_4401_2673)"}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"paint0_linear_4401_2673",x1:"37.352",y1:"9.352",x2:"23.352",y2:"42",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#37AEE2"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#1E96C8"})]}),(0,i.jsxs)("linearGradient",{id:"paint1_linear_4401_2673",x1:"31.096",y1:"27.16",x2:"35.466",y2:"37.116",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#EFF7FC"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#fff"})]})]})]})}},343226:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,i.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},317218:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#7360F2"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.362 31.327s.57.05.875-.33l.597-.75c.288-.374.984-.61 1.665-.232.902.509 2.067 1.309 2.866 2.054.44.371.542.918.242 1.495l-.002.012a6.278 6.278 0 0 1-1.243 1.53l-.012.009c-.587.489-1.261.773-1.983.538l-.013-.018c-1.296-.367-4.405-1.952-6.386-3.532-3.242-2.558-5.546-6.776-6.183-9.038l-.02-.013c-.235-.724.052-1.398.539-1.984l.01-.01a6.224 6.224 0 0 1 1.53-1.243l.012-.003c.576-.3 1.122-.198 1.494.243.49.505 1.408 1.721 2.054 2.865.378.68.141 1.377-.231 1.664l-.752.598c-.379.306-.33.876-.33.876s1.113 4.207 5.271 5.269Zm6.543-3.488a.405.405 0 0 1-.406-.403c-.018-2.44-.752-4.384-2.178-5.776-1.43-1.393-3.236-2.108-5.37-2.122a.403.403 0 0 1-.4-.408.403.403 0 0 1 .403-.402h.003c2.35.016 4.344.808 5.93 2.352 1.586 1.55 2.402 3.687 2.422 6.35a.406.406 0 0 1-.401.409h-.003Zm-2.127-.832h-.01a.405.405 0 0 1-.395-.414c.032-1.384-.364-2.503-1.208-3.425-.84-.918-1.993-1.42-3.527-1.532a.406.406 0 0 1-.374-.433.406.406 0 0 1 .433-.375c1.725.127 3.093.73 4.065 1.794.977 1.066 1.456 2.409 1.42 3.989a.406.406 0 0 1-.404.396Zm-2.077-.696a.404.404 0 0 1-.404-.386c-.068-1.373-.716-2.045-2.036-2.117a.404.404 0 1 1 .043-.808c1.744.093 2.712 1.092 2.8 2.886a.403.403 0 0 1-.383.423l-.02.002Zm9.09 4.625c-.808 6.503-5.563 6.913-6.44 7.195-.374.12-3.843.982-8.203.698 0 0-3.251 3.92-4.266 4.94-.158.159-.344.223-.469.194-.175-.043-.223-.251-.22-.553l.027-5.354v-.001c-6.35-1.764-5.98-8.394-5.908-11.864.072-3.47.724-6.315 2.661-8.227 3.48-3.152 10.65-2.681 10.65-2.681 6.054.027 8.955 1.85 9.628 2.46 2.234 1.912 3.371 6.49 2.54 13.193Zm-.87-14.817c-.796-.73-4.01-3.064-11.167-3.096 0 0-8.44-.51-12.554 3.267-2.29 2.29-3.096 5.64-3.181 9.797-.085 4.157-.195 11.944 7.311 14.056l.008.002-.005 3.221s-.047 1.306.812 1.572c1.039.322 1.648-.669 2.641-1.738a88.708 88.708 0 0 0 1.863-2.107c5.135.43 9.082-.556 9.532-.701 1.036-.337 6.902-1.088 7.857-8.876.984-8.03-.477-13.106-3.117-15.397Z",fill:"#fff"})]})}},320634:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},868489:(e,t,n)=>{n.d(t,{o$:()=>a,ty:()=>o,vE:()=>r});var i=n(583592);const{Provider:a,MaybeConsumer:o,useMaybeHook:r}=(0,i.Z)("inviteContext")},204125:(e,t,n)=>{n.d(t,{LO:()=>o,Pu:()=>r,cc:()=>i,dB:()=>a,yF:()=>l});const i={10:13098,11:13099,6:13100,5:13101,14:13102,12:13103,15:13104,8:13105,4:13106,1:13107,3:13107,18:13108,19:13109,20:13110,21:13111,22:13112,23:13113,26:13114,27:13115,29:13116,9:13286},a={10:13415,11:13416,6:13417,5:13418,14:13419,12:13420,15:13421,8:13422,4:13423,1:13424,3:13424,18:13425,19:13426,20:13427,21:13428,22:13429,23:13430,26:13431,27:13432,29:13433,9:13434},o={10:13436,11:13437,6:13438,5:13439,14:13440,12:13441,15:13442,8:13443,4:13444,1:13445,3:13445,18:13446,19:13447,20:13448,21:13449,22:13450,23:13451,26:13452,27:13453,29:13454,9:13455},r={10:13457,11:13458,6:13459,5:13460,14:13461,12:13462,15:13463,8:13464,4:13465,1:13466,3:13466,18:13467,19:13468,20:13469,21:13470,22:13471,23:13472,26:13473,27:13474,29:13475,9:13476},l={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8}},455788:(e,t,n)=>{n.d(t,{U:()=>r,Z:()=>l});var i=n(731048),a=n(785893);const o=()=>{},r=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function l({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:l,children:s}){const d=e=>function(e,t){t&&e.keyCode===i.Z.ESCAPE||r(e)}(e,t);return(0,a.jsx)("div",{onAbort:r,onAnimationEnd:r,onAnimationIteration:r,onAnimationStart:r,onBlur:o,onCanPlay:n?o:r,onCanPlayThrough:r,onChange:r,onClick:e?o:r,onCompositionEnd:r,onCompositionStart:r,onCompositionUpdate:r,onContextMenu:r,onCopy:r,onCut:r,onDoubleClick:r,onDurationChange:r,onEmptied:r,onEncrypted:r,onEnded:r,onError:r,onFocus:o,onInput:r,onInvalid:r,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:r,onLoadedData:r,onLoadedMetadata:r,onLoadStart:r,onMouseDown:r,onMouseEnter:r,onMouseLeave:r,onMouseMove:e?o:r,onMouseOut:r,onMouseOver:r,onMouseUp:e?o:r,onPaste:r,onPause:r,onPlay:r,onPlaying:r,onProgress:r,onRateChange:r,onScroll:l?o:r,onSeeked:r,onSeeking:r,onSelect:r,onStalled:r,onSubmit:r,onSuspend:r,onTimeUpdate:r,onTouchCancel:r,onTouchEnd:e?o:r,onTouchMove:e?o:r,onTouchStart:e?o:r,onTransitionEnd:r,onVolumeChange:r,onWaiting:r,onWheel:r,children:s})}},634004:(e,t,n)=>{n.d(t,{Wr:()=>p,Hx:()=>m,RC:()=>h});var i=n(667294),a=n(583592);const o="";var r=n(681468),l=n(133244),s=n(785893);const d=()=>Promise.resolve().then(n.bind(n,681468)),{Provider:c,useHook:u}=(0,a.Z)("IdeaPinVideoPlayer");function p({children:e}){const[t,n]=(0,l.Z)(d,r.initialState),a=(0,i.useMemo)((()=>({dispatch:n,ideaPinVideoPlayerControls:t})),[n,t]);return(0,s.jsx)(c,{value:a,children:e})}function h(){const{dispatch:e}=u();return(0,i.useMemo)((()=>({updateSeekTime:(t,n)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:n||o}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||o}})},updateSeekingIdeaPin:t=>{e(t?{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}:{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:t=>{e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:t=>{e({type:"UPDATE_DURATION",payload:{duration:t}})}})),[e])}function m(){const{ideaPinVideoPlayerControls:e}=u();return e}},681468:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a,initialState:()=>i});const i={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function a(e=i,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime},seekTime:t.payload.seekTime};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{},seekTime:void 0};case"UPDATE_SEEKING_IDEA_PIN":return{...e,isSeekingIdeaPin:t.payload.isSeekingIdeaPin};case"UPDATE_CURRENT_TIME":return{...e,currentProgressInfo:{...e.currentProgressInfo,currentTime:t.payload.currentTime}};case"UPDATE_DURATION":return{...e,currentProgressInfo:{...e.currentProgressInfo,duration:t.payload.duration}};default:return e}}},463031:(e,t,n)=>{n.d(t,{Cc:()=>p,Gf:()=>_,LX:()=>a,Lc:()=>y,Ls:()=>h,Rf:()=>s,YL:()=>l,ap:()=>o,h8:()=>c,jH:()=>v,pE:()=>d,s5:()=>g,tQ:()=>u,yR:()=>r});var i=n(883119);const a={w:9,h:16},o=a.w/a.h,r=8,l=10,s=5e3;function d(e,t=1){return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}const c={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},u=[c.IMAGE,c.VIDEO],p={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},h=new i.Ry(1),m=new i.Ry(5),g=new i.H3([m]),_=new i.H3([g]),v=new i.Ry(1e3),y=e=>{const t=Math.floor(e||0),n=Math.floor(t/60),i=t-60*n;return`${n<10?`${n}`:n}:${i<10?`0${i}`:i}`}},448509:(e,t,n)=>{n.d(t,{BN:()=>c,RK:()=>d,d3:()=>p,tq:()=>h,xm:()=>u});var i=n(667294),a=n(621982),o=n(463031),r=n(550542),l=n(272109);const s=(e,t)=>{const n=(0,o.pE)(e,t);return`${n.y}px ${n.x}px`},d=({alignment:e,verticalAlignment:t})=>{const n={alignItems:"flex-start",display:"flex",height:"100%",justifyContent:"start",textAlign:"left",width:"100%"};return 1===t?n.alignItems="center":2===t&&(n.alignItems="flex-end"),1===e&&(n.justifyContent="center",n.textAlign="center"),n},c=({fontSize:e,hexColor:t,highlightColor:n,letterSpacing:i,lineHeight:a,name:o})=>({fontSize:e,letterSpacing:i,color:t,fontFamily:o,margin:0,maxHeight:"100%",textShadow:!n&&t&&"#ffffff"===t.toLowerCase()?"0px 1px 4px rgba(0, 0, 0, 0.2)":void 0,wordBreak:"break-word",...n?{backgroundColor:n,borderRadius:e/5,padding:s(e,a)}:{}}),u=({fontSize:e,hasText:t,highlightColor:n,lineHeight:i})=>({...n?{backgroundColor:t?n:void 0,borderRadius:e/5,padding:s(e,i)}:{}}),p=({letterSpacing:e,lineHeight:t,name:n,url:i})=>({fontFamily:n,fontGroup:"",fontOverrides:{letterSpacing:e,lineHeight:t,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:i}]}),h=({hasPin:e,pages:t,limitToSingleFont:n})=>{const[s,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)((()=>!!e&&(0,r.X7)(t))),h=()=>{const e=t.reduce(((e,t)=>{var i;let a=(null==t||null===(i=t.blocks)||void 0===i?void 0:i.filter((e=>[o.h8.PARAGRAPH,o.h8.HEADING].includes(e.type))))||[];return n&&a.length>1&&(a=[a[0]]),a.forEach((t=>{var n;const i=(null===(n=t.style)||void 0===n?void 0:n.font)||o.Cc.font,{name:a=""}=i;e[a]||(e[a]=i)})),e}),{});if(Object.keys(e).length>0){const t=Object.keys(e).map((t=>{const n=e[t];return p({letterSpacing:n.letter_spacing,lineHeight:n.line_height,name:n.name,url:n.url})}));(0,a.Z)(t),d(!0)}};return(0,l.Z)((()=>{h()})),(0,l.Z)((()=>{c||h()})),(0,i.useEffect)((()=>{c||u((0,r.X7)(t))}),[c,t]),{fontsLoaded:s,mediaDataReceived:c}}},551897:(e,t,n)=>{function i({currentTime:e,endTime:t,startTime:n}){return!("number"==typeof n&&"number"==typeof t&&n>=0&&t>0&&n<t)||n<=e&&e<=t}n.d(t,{Z:()=>i})},550542:(e,t,n)=>{n.d(t,{B7:()=>r,X7:()=>l,n4:()=>o});var i=n(463031);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=(e,t)=>{const n=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(null==e||!e.match(n)||null==t||!t.match(n))return null;const i=null==e?void 0:e.split("."),a=null==t?void 0:t.split("."),o=Math.max((null!=i?i:"").length,(null!=a?a:"").length);for(let s=0;s<o;s+=1){var r,l;const e=s<(null!==(r=null==i?void 0:i.length)&&void 0!==r?r:0)?parseInt(null==i?void 0:i[s],10):0,t=s<(null!==(l=null==a?void 0:a.length)&&void 0!==l?l:0)?parseInt(null==a?void 0:a[s],10):0;if(e<t)return-1;if(e>t)return 1}return 0};class r{constructor(e,t,n){a(this,"start",Date.now()),a(this,"paused",!1),this.onProgress=e,this.onComplete=t,this.duration=n,this.remaining=n,"undefined"!=typeof window&&(this.intervalId=window.setInterval((()=>{const e=this.paused?this.duration-this.remaining:this.duration-this.remaining+(Date.now()-this.start);this.onProgress(e/this.duration)}),500),this.resume())}currentTime(){return this.duration-this.remaining}pause(){this.paused=!0,window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start;const e=this.duration-this.remaining;this.onProgress(e/this.duration)}resume(){this.paused=!1,this.start=Date.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(this.onComplete,this.remaining)}clear(){window.clearTimeout(this.timerId),window.clearInterval(this.intervalId)}}const l=e=>e.some((e=>{var t;return(null!==(t=null==e?void 0:e.blocks)&&void 0!==t?t:[]).some((e=>e.type===i.h8.IMAGE&&!!e.image||e.type===i.h8.VIDEO&&(!!e.video||!!e.video_signature)))}))},729522:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(540975);const a=/\{\{\s*(\w+)\s*\}\}/g,o=(e,t)=>(0,i.Z)(a,e,t)},686473:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},614481:(e,t,n)=>{n.d(t,{Z:()=>a});const i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,a=e=>i.test(e)},51536:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"":e},540975:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},493851:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(729522),a=n(686473);const o=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,a.Z)(t[e].toString()):""})),(0,i.Z)(e,n)}},371362:(e,t,n)=>{n.d(t,{ZP:()=>r});const i=80,a="",o=!1;function r(e,t=i,n=a,r=o){let l;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||r)l=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);l=e.substring(0,n)}return l=l.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),l+n}},716793:(e,t,n)=>{function i(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}n.d(t,{Z:()=>i})},99220:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),a=n(758360),o=n(310561),r=n(282802),l=n(114935),s=n(291986),d=n(583592);const{Provider:c,useMaybeHook:u}=(0,d.Z)("timeSpentContext");var p=n(393729),h=n(525104),m=n(785893);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(e){super(e),g(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),g(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:n,objectId:i,timeSpentContext:a,view:o,viewParameter:r}=this.props;return{view:o||a&&a.view,viewParameter:r||a&&a.viewParameter,component:t||a&&a.component,element:n,objectId:i||a&&a.objectId,clientTrackingParams:e||a&&a.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),g(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),g(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),g(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),g(this,"getTimedPair",(()=>this.state.timedPair)),g(this,"setTimedPair",(e=>this.setState({timedPair:e}))),g(this,"isRegistered",!1),g(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),g(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),g(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:n,left:i,right:a,top:o}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===i&&0===a&&0===o?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new s.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,l.Z)(e.auxData,this.props.auxData)&&(0,l.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,m.jsx)(c,{value:this.getContext(),children:(0,m.jsx)(a.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:i.Children.only(e)})})}}function v(e){var t;const n=(0,o.Hv)(),a=u(),l=(0,p.w)(),s=(0,h.H0)(),{requestIdentifier:d=""}=(0,r.B)(),c={app_instance_id:d.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,i.useEffect)((()=>{null==l||l.setHistoryStackContext(n)}),[n,l]),(0,i.useEffect)((()=>{null==l||l.setPins(null!=s?s:{})}),[s,l]),l?(0,m.jsx)(_,{...e,auxData:c,timeSpentContext:a,timeSpentManager:l,children:e.children}):e.children}v.displayName="TimeSpent";const y=v},393729:(e,t,n)=>{n.d(t,{j:()=>u,w:()=>c});var i=n(388011),a=n(583592),o=n(282802),r=n(549201),l=n(272109),s=n(785893);const{Provider:d,useMaybeHook:c}=(0,a.Z)("TimeSpentManagerContext");function u({children:e,value:t}){const n=(0,i.v)(),a=(0,r.HG)(),{isAuthenticated:c}=(0,o.B)(),u=a&&c;return(0,l.Z)((()=>{document.hasFocus()&&t(n,u).registerApp(),t(n,u).addEventListeners()})),(0,s.jsx)(d,{value:t(n,u),children:e})}},291986:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(172045),a=n(17314);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const l=class{constructor(e){o(this,"start",(()=>(this.startTime=r(),this.startTime))),o(this,"end",(()=>(this.endTime=r(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,i.Z)()}catch(t){this.uuid=(0,a.Z)()}e&&Object.assign(this,e)}}},806685:(e,t,n)=>{n.d(t,{E5:()=>d,T7:()=>o,Y_:()=>c,bl:()=>l,d9:()=>p,nx:()=>u,xt:()=>s});n(883119);var i=n(282802),a=n(802071);function o(e,t,n,i){const a=function(e,t){return t?"shop":0===e||2===e?"trending":1===e?"best":"article"}(e,t),o=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-")}(n);return`/today/${a}/${encodeURIComponent(o)}/${i}/`}const r={en:["US","GB","CA","IN","AU","ID"],es:["MX","PE","AR","CL","CO","ES","VE","UY","PY","EC","BO","CR","DO","SV","GT","HN","NI","PR","PA"],pt:["BR"],de:["DE","AT","CH"],fr:["FR"],id:["ID"],ja:["JP"],it:["IT"],sv:["SE"]};function l(){var e;const t=(0,i.B)(),n=(0,a.Z)(),o=n.isAuth?n.country:t.country,l=t.locale.substring(0,2);return null===(e=r[l])||void 0===e?void 0:e.includes(o)}const s=(e,t,n)=>e||(t||n||""),d=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)),c=e=>"todayarticle"===e.type,u=e=>Array.isArray(e)&&e.length>0&&e.every((e=>"story"===e.type)),p=e=>{var t,n;return(null!==(t=e.height)&&void 0!==t?t:1)/(null!==(n=e.width)&&void 0!==n?n:1)}},153091:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(806685);function a(e){const{article_creator_user:t,display_type:n,feed_source:a,header_pin_id:o,id:r,is_product_pin_feed:l,title:s,video_pin:d}=e;switch(n){case 0:case 1:return s?(0,i.T7)(a,null!=l&&l,s,r):"";case 8:return null!=t&&t.username?`/${encodeURIComponent(t.username)}/`:"";case 3:case 6:return o?`/pin/${o}/`:"";case 2:return null!=d&&d.id?`/pin/${d.id}/`:"";default:return""}}},618569:(e,t,n)=>{n.d(t,{S:()=>l,Z:()=>s});var i=n(667294),a=n(616550),o=n(988014),r=n(98736);const l=e=>(0,o.L6)(e)?"pin":(0,o.am)(e)?"board":(0,o.Xn)(e)?"login":(0,o.C$)(e)?"home":(0,o.cD)(e)?"profile":(0,o.dr)(e)?"ideas":(0,o.gT)(e)?"ideas-root":(0,o.tZ)(e)?"videos":(0,o.Q0)(e)?"videos-category":(0,o.$Y)(e)?"article":(0,o.E0)(e)?"shopping-spotlight":(0,o.Zz)(e)?"today":(0,o.j8)(e)?"unauth-profile":(0,o.f1)(e)?"shopping-root":(0,o.OX)(e)?"shopping-category":"other";function s(){const e=(0,a.useLocation)();return(0,i.useCallback)((({action:t,item:n,within:i})=>{const a=l(e);(0,r.My)(`logged_out_product.interaction.${a}.${t}`,{item:n||"none",within:i||"none"})}),[e])}},36310:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(883119),o=n(785893);class r extends i.Component{constructor(e){var t,n,a;super(e),a={manualTruncate:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,this.ref=(0,i.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,i=this.ref&&this.ref.current;if(!i)return;const a=void 0===i.textContent?"innerText":"textContent",o=i[a];("boolean"!=typeof t.spaces||t.spaces?o.split(" "):o).length<2?this.setState({manualTruncate:!0}):n.e(14118).then(n.bind(n,448433)).then((({default:n})=>{n(i,e,t)}))}render(){const{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:i}=this.state,r={maxWidth:e,maxHeight:t},l=n?{display:"inline",...r}:{...r};return i?(0,o.jsx)(a.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:l},ref:this.ref,"data-test-id":"truncater",children:this.props.children}):(0,o.jsx)(a.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:l},"data-test-id":"truncater",children:this.props.children})}}const l=r},800591:(e,t,n)=>{n.d(t,{$J:()=>i,Ct:()=>h,Dm:()=>p,Ff:()=>u,Md:()=>s,My:()=>r,Rp:()=>l,ak:()=>o,d0:()=>m,gs:()=>g,jm:()=>d,oo:()=>a,vw:()=>c});const i={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",MOBILE_SMALL:"MOBILE_SMALL",MOBILE_LARGE:"MOBILE_LARGE"},a=2,o=6,r=3,l=1.5,s=16,d=8,c=16/9,u=25,p="Includes Paid Promotion #Ad",h={PRE_LIVE:1,OFFLINE:2,LIVE:3,POST_LIVE:4},m={TRUE:!0,FALSE:!1,UNKNOWN:void 0},g=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"]},331211:(e,t,n)=>{n.d(t,{ZP:()=>r,p6:()=>o,pf:()=>l});var i=n(642298),a=n(800591);function o(e){return{date:e?(0,i.Z)(new Date(e),"eeee, MMMM do,"):"",shortDate:e?(0,i.Z)(new Date(e),"eee, MMM do,"):"",formalDate:e?(0,i.Z)(new Date(e),"d MMM yyy"):"",dayOfWeek:e?(0,i.Z)(new Date(e),"EEEE"):"",time:e?(0,i.Z)(new Date(e),"h:mm aaa"):"",mmddyyy:e?(0,i.Z)(new Date(e),"MM/dd/yyyy"):"",Emmmdd:e?(0,i.Z)(new Date(e),"E, MMM dd"):""}}function r(e){var t,n;const i=e.creator_class_instance.live_status===a.Ct.POST_LIVE;return{pinId:e.id,classId:e.creator_class.id,storyId:null===(t=e.creator_class.recap_pin)||void 0===t?void 0:t.id,creatorClassInstance:e.creator_class_instance,creatorClassInstanceId:e.creator_class_instance.id,title:e.creator_class_instance.title,isLive:e.creator_class_instance.live_status===a.Ct.LIVE,postLive:i,path:`/tv/${e.id}/?referrer=${e.referrer||0}`,recapPath:`/pin/${(null===(n=e.creator_class.recap_pin)||void 0===n?void 0:n.id)||e.id}/?referrer=${e.referrer||0}`,creator:{avatar:e.creator_class.creator.image_medium_url,host:e.creator_class.creator.full_name||e.creator_class.creator.username,path:`/${e.creator_class.creator.username}`},video:i&&e.creator_class_instance.replay_video?e.creator_class_instance.replay_video.video_list.V_720P:e.creator_class_instance.preview_video?e.creator_class_instance.preview_video.video_list.V_720P:e.creator_class_instance.hero_video?e.creator_class_instance.hero_video.video_list.V_720P:null,subscriberCount:e.creator_class.subscriber_count,subscribers:e.creator_class.subscribers}}function l(e,t,n){const i=a.gs.indexOf(e)>-1,o=a.gs.indexOf(t)>-1;return n&&i||o}},454709:(e,t,n)=>{n.d(t,{Z:()=>s,a:()=>l});var i=n(667294),a=n(883119),o=n(536042),r=n(785893);const l=({isExpanded:e,onToggle:t,expandedText:n,collapsedText:i})=>(0,r.jsx)(a.xu,{display:"inlineBlock","data-test-id":"more-description",children:(0,r.jsx)(a.iP,{onTap:t,children:(0,r.jsx)(a.xv,{weight:"bold",inline:!0,children:e?n:i})})});function s({isExpanded:e,description:t,maxHeight:n,handleToggle:s,Wrapper:d}){const c=(0,i.useRef)(null),[u,p]=(0,i.useState)(!1),h=(0,o.ZP)();(0,i.useEffect)((()=>{if(!c||!c.current)return;const{height:e}=c.current.getBoundingClientRect();e>n&&p(!0)}),[c,n]);const m=(0,r.jsx)(l,{isExpanded:e,onToggle:s,expandedText:h.bt("", "less", "closeup.description.toggle.lessButton", undefined, true),collapsedText:h.bt("...", "... more", "closeup.description.toggle.moreButton", undefined, true)});return(0,r.jsx)(d,{children:(0,r.jsxs)(a.xu,{maxHeight:e?void 0:n,overflow:"hidden",position:"relative",children:[(0,r.jsx)(a.xu,{ref:c,children:(0,r.jsxs)(a.xv,{inline:!0,children:[t," ",u&&e&&(0,r.jsxs)(a.xv,{inline:!0,weight:"bold",children:["... ",m]})]})}),u&&!e&&(0,r.jsx)(a.xu,{position:"absolute",right:!0,bottom:!0,width:140,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(270deg, rgb(255, 255, 255) 50%, rgba(255, 255, 255, 0) 100%)",textAlign:"end"}},children:m})]})})}},910717:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(785893);function o({ariaHidden:e=!1,color:t="darkGray",size:n}){return(0,a.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,a.jsx)(i.xv,{color:t,inline:!0,size:null!=n?n:"200",children:""})})}},993926:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(883119),o=n(910717),r=n(785893);function l(e){return null!=e}function s({additionalPadding:e,color:t="darkGray",inline:n,items:s}){const d=e?(0,r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,r.jsx)(o.Z,{color:t})}):(0,r.jsx)(o.Z,{color:t}),c=s.filter(l).reduce(((e,t,n)=>[...e,0!==n?d:null,t]),[]).filter(l).map(((e,t)=>(0,r.jsx)(i.Fragment,{children:e},t)));return 0===c.length?null:n?(0,r.jsx)(a.xu,{children:c}):(0,r.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:c})}},63262:(e,t,n)=>{n.d(t,{F9:()=>o,Zo:()=>a});var i=n(583592);const{Provider:a,useHook:o}=(0,i.Z)("toastManagerContext")},105314:(e,t,n)=>{n.d(t,{M:()=>r,Q:()=>o});var i=n(667294);const a=(0,i.createContext)(null),o=()=>(0,i.useContext)(a),r=a.Provider},348672:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(105314);const a=()=>{var e;return(null===(e=(0,i.Q)())||void 0===e?void 0:e.showUnauthContextMenu)||(()=>{})}},3060:(e,t,n)=>{n.d(t,{Ag:()=>o,C0:()=>s,L1:()=>p,Vi:()=>r,YD:()=>u,kS:()=>a,oo:()=>l,p3:()=>h,vC:()=>d,vI:()=>c});var i=n(957286);const a="https://www.pinterest.com/business/hub/",o="https://www.pinterest.com/homefeed/",r="www.pinterest.com",l="https://help.pinterest.com",s=`${(0,i.Z)({site:"www"})}`,d=(0,i.Z)({site:"developers"}),c=`${(0,i.Z)({site:"sterling"})}`,u=`${(0,i.Z)({site:"analytics"})}`,p=`${(0,i.Z)({site:"trends"})}`,h=`${(0,i.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="})}`},250307:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},286354:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(911386);const a=({url:e})=>{if(e){const t=e.split("?");if(t[1])return(0,i.Z)(t[1])}return(0,i.Z)()}},28630:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(799665);const a=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,i.Z)(e))},957733:(e,t,n)=>{n.d(t,{Z:()=>o});const i=(e,t)=>0===e.lastIndexOf(t,0);var a=n(17330);const o=({url:e})=>{const t=(0,a.Z)("/");return i(e,t)?e.substr(t.length-1):e}},133244:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);function a(e,t){const n=(0,i.useRef)([]),[a,o]=(0,i.useState)(),[r,l]=(0,i.useReducer)(null!=a?a:()=>t,t),s=(0,i.useCallback)((t=>{a?l(t):(n.current.length||e().then((e=>{o((()=>e.default))})),n.current=[...n.current,t])}),[e,a]);return(0,i.useEffect)((()=>{a&&(n.current.forEach(l),n.current=[])}),[a]),[r,s]}},272109:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);const a=e=>{(0,i.useEffect)(e,[])}},806681:(e,t,n)=>{n.d(t,{Z:()=>r,q:()=>o});var i=n(667294);const a=()=>{const[e,t]=(0,i.useState)(!1),[n,a]=(0,i.useState)(!1),[o,r]=(0,i.useState)(!1);return{active:e,focused:n,hovered:o,onBlur:()=>{a(!1),t(!1)},onFocus:()=>a(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),t(!1)},onMouseUp:()=>t(!1)}};function o({children:e}){return e(a())}const r=a},456453:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);const a=(e,t)=>{const n=(0,i.useRef)((()=>{}));(0,i.useEffect)((()=>{n.current=e}),[e]),(0,i.useEffect)((()=>{if(null===t)return()=>{};const e=setInterval((()=>n.current()),t);return()=>clearInterval(e)}),[t])}},567648:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294);const a=()=>()=>{},o=()=>!1,r=()=>!0,l=()=>(0,i.useSyncExternalStore)(a,o,r)},464649:(e,t,n)=>{n.d(t,{G:()=>l,Z:()=>s});var i=n(667294),a=n(616550),o=n(785893);const r=(0,i.createContext)(!0);function l({children:e}){const t=(0,a.useLocation)(),[n,l]=(0,i.useState)(!0),s=(0,i.useRef)(t);return(0,i.useEffect)((()=>{s.current!==t&&(s.current=t,l(!1))}),[t]),(0,o.jsx)(r.Provider,{value:n,children:e})}function s(){return(0,i.useContext)(r)}},802071:(e,t,n)=>{n.d(t,{$:()=>a,Z:()=>r});var i=n(583592);const{Provider:a,useHook:o}=(0,i.Z)("viewer"),r=o},782219:(e,t,n)=>{n.d(t,{GW:()=>a,RL:()=>i,s4:()=>o});const i="ios",a="android",o="ipad"},931696:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),a=n(867631),o=n.n(a),r=n(883119),l=n(563962),s=n(245410),d=n(282802),c=n(802071),u=n(499992),p=n(505204),h=n(886365),m=n(785893);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=(e,t)=>{if(t){const n="control"===t?"v3.pinimg.com":"v2.pinimg.com";return e.replace("v1.pinimg.com",n)}return e},v=(e,t)=>"string"==typeof e?_(e,t):Array.isArray(e)?((e,t)=>e[0].src&&t?[{...e[0],src:_(e[0].src,t)}]:e)(e,t):e;class y extends i.PureComponent{constructor(...e){super(...e),g(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:p.Cy.DEFAULT,videoStartTime:this.props.seekTime||0}),g(this,"errorRetryCount",1),g(this,"firstFragBuffered",!1),g(this,"hasPlaybackStarted",!1),g(this,"hasVideoSessionStarted",!1),g(this,"hasVideoSessionEnded",!1),g(this,"hls",null),g(this,"fragStartupTime",{}),g(this,"lastLevelSwitchKbps",null),g(this,"lastStallTime",null),g(this,"lastPauseTime",null),g(this,"logSessionStartOnNextPlay",!1),g(this,"playerId",""),g(this,"videoSessionId",""),g(this,"videoVisibleTime",null),g(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?_(this.props.src,this.props.quicExpGroup):_(this.props.src[0].src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null}),g(this,"initializeHls",(()=>{this.destroyHls();const{src:e,hlsConfig:t,quicExpGroup:n}=this.props,i=new(o())(t),a=v(e,n);i.loadSource(a),this.videoPlayerRef&&i.attachMedia(this.videoPlayerRef.video),i.on(o().Events.FRAG_BUFFERED,this.handleHlsFragBuffered),i.on(o().Events.FRAG_CHANGED,this.handleHlsFragChanged),i.on(o().Events.FRAG_LOADING,this.handleHlsFragLoading),i.on(o().Events.FRAG_LOADED,this.handleHlsFragLoaded),i.on(o().Events.MANIFEST_PARSED,(()=>{this.setState({isManifestParsed:!0})})),i.on(o().Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),i.on(o().Events.ERROR,this.handleHlsError),this.hls=i})),g(this,"destroyHls",(()=>{const{hls:e}=this;e&&e.destroy()})),g(this,"addSegment",(e=>{const{segments:t}=this.playbackPerformance,n=t&&t[t.length-1];if(this.hls&&t.length&&n&&n.uri!==e.url){this.updateWatchDurationForCurrentSegment();const n=this.videoPlayerRef&&this.videoPlayerRef.video,i=this.hls&&this.hls.levels||{},a="number"==typeof e.level?i[e.level]:{},o=this.fragStartupTime[e.url];let r=-1;o&&o.startLoadTime&&o.endLoadTime&&(r=o.endLoadTime-o.startLoadTime);const l={indicatedKbps:a.bitrate/p.bR,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:r,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:n&&n.clientWidth||-1,viewportHeight:n&&n.clientHeight||-1,watchedDurationMs:0};t.push(l)}})),g(this,"initializeSegments",(e=>{const{contextLogData:t={}}=this.props,{is_closeup_video:n=!1}=t,{segments:i}=this.playbackPerformance;if(!i.length)if(this.hls&&this.videoPlayerRef&&this.videoPlayerRef.video&&e){if(!i.length&&"number"==typeof e.level){const t=this.videoPlayerRef&&this.videoPlayerRef.video,{levels:n}=this.hls,a="number"==typeof e.level?n[e.level]:{},o=this.fragStartupTime[e.url];let r=-1;o&&o.startLoadTime&&o.endLoadTime&&(r=o.endLoadTime-o.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/p.bR;const l={indicatedKbps:a.bitrate/p.bR,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:r,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:t.clientWidth,viewportHeight:t.clientHeight,watchedDurationMs:0};i.push(l)}}else(0,u.tE)("initializeSegmentsFailed",!0,n)})),g(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*p.gJ:null)),g(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:n,playing:i}=this.props,{is_closeup_video:a=!1}=t,{canPlayVideo:o}=this.state;(0,u.tE)("handleCanPlayVideo",!0,a,{firstCanPlayEvent:!o,playing:i}),this.playbackPerformance.hasFatalError=!1,o||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),n&&n(e)})),g(this,"handleEnded",(e=>{const{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,a=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),this.fragStartupTime={}):t||this.logPlaybackPerformance(p.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:p.Cy.ENDED}),n&&n(e)})),g(this,"handleHlsError",((e,t)=>{var n;const{contextLogData:i={}}=this.props,{is_closeup_video:a=!1}=i;if(this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${t.details}`,t.fatal){var r,l,s,d;this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.errorName=t.type,this.playbackPerformance.errorReason=t.details,this.playbackPerformance.errorCode=t.response&&t.response.code?t.response.code:0;const e={errorName:t.type,errorReason:t.details,errorRetryCount:this.errorRetryCount,errorMessage:(null===(r=t.err)||void 0===r||null===(l=r.message)||void 0===l?void 0:l.slice(0,50))||"unknown",errorResponse:(null===(s=t.response)||void 0===s||null===(d=s.text)||void 0===d?void 0:d.slice(0,50))||"unknown",playbackState:this.state.playbackState};if((0,u.tE)("fatalError",!0,a,e),this.errorRetryCount>0)switch(this.errorRetryCount-=1,t.type){case o().ErrorTypes.NETWORK_ERROR:if(t.details===o().ErrorDetails.MANIFEST_LOAD_ERROR||t.details===o().ErrorDetails.MANIFEST_LOAD_TIMEOUT||t.details===o().ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){var c;const{src:e,quicExpGroup:t}=this.props,n=v(e,t);null===(c=this.hls)||void 0===c||c.loadSource(n)}else{var h;null===(h=this.hls)||void 0===h||h.startLoad()}break;case o().ErrorTypes.MEDIA_ERROR:null===(n=this.hls)||void 0===n||n.recoverMediaError()}}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:p.Cy.FAILED})})),g(this,"handleHlsFragBuffered",((e,t)=>{this.firstFragBuffered||(this.initializeSegments(t.frag),this.firstFragBuffered=!0)})),g(this,"handleHlsFragChanged",((e,t)=>{this.addSegment(t.frag)})),g(this,"handleHlsFragLoading",((e,t)=>{var n;const i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&!this.fragStartupTime[i]&&(this.fragStartupTime[i]={startLoadTime:new Date})})),g(this,"handleHlsFragLoaded",((e,t)=>{var n;t.frag&&t.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=t.frag.loaded/p.Fm);const i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&this.fragStartupTime[i]&&this.fragStartupTime[i].startLoadTime&&(this.fragStartupTime[i].endLoadTime=new Date)})),g(this,"handleHlsLevelSwitched",(()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/p.bR)})),g(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:p.Cy.LOADED_METADATA})})),g(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:p.Cy.LOAD_START})})),g(this,"handleLoadedData",(()=>{this.setState({playbackState:p.Cy.LOADED_DATA})})),g(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:p.Cy.PLAYING}),this.props.clearSeekTime&&this.props.clearSeekTime()})),g(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),g(this,"handleVideoPause",(()=>{this.state.playbackState!==p.Cy.STALLING&&this.state.playbackState!==p.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:p.Cy.PAUSED})})),g(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==p.Cy.ENDED&&this.setState({playbackState:p.Cy.SEEKING})})),g(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==p.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1),this.setState({playbackState:p.Cy.STALLING})})),g(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===p.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),g(this,"resetPlaybackMetrics",(()=>{this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastLevelSwitchKbps=null,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.downloadedKiloBytes=0,this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),g(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),g(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),g(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),g(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),g(this,"updateStallDuration",(()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)})),g(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const{lastPauseTime:e}=this;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),g(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){const e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),g(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:n={},userId:i,isAutoPlay:a,logContextEvent:o,preload:r}=this.props,{is_closeup_video:l=!1}=n,{canPlayTime:s,detailedErrors:d,downloadedKiloBytes:c,errorCode:h,errorName:m,errorReason:g,hasFatalError:_,playbackStartTimestamp:v,totalPauseDurationMs:y,totalStallDurationMs:f,segments:b,srcString:x,loadStartTime:k,numberOfStalls:w,numberOfSeeks:S}=this.playbackPerformance,P=this.videoPlayerRef&&this.videoPlayerRef.video,T=e===p.DR,I=T&&!this.hasVideoSessionStarted,C=!T&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&P&&(I||C)){var A;let I=-1;s&&k&&(I=s>k?s-k:0);let C=-1;s&&this.videoVisibleTime&&(C=s>this.videoVisibleTime?s-this.videoVisibleTime:0),T&&(this.videoSessionId=(0,p.Y7)(i),this.playerId=this.playerId||(0,p.EB)());const E={autoplaying:a,averageVideoKbps:-1,detailedErrors:d,downloadedKiloBytes:c,isCellular:!1,errorCode:h,errorName:m,errorReason:g,fatalError:_,nativeVideoDurationMs:P.duration*p.gJ||-1,numberOfStalls:w,numberOfSeeks:S,overallPausedDurationMs:y,overallBufferDurationMs:f,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:v||-1,segments:[],sessionMark:e,screenPixelScale:null!==(A=window)&&void 0!==A&&A.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:P.clientWidth,startupPlayerHeight:P.clientHeight,startupTimeMs:I,startupLatencyMs:C,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:P.videoWidth,startupVariantHeight:P.videoHeight,videoUrl:x,wasVideoPreloaded:"auto"===r};if(!T&&b.length){const{levels:e}=this.hls,t=b[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const n=b.reduce(((t,n)=>{if(n&&"number"==typeof n.level&&e&&e.length>0){return t+(e[n.level]||{}).bitrate*(n.watchedDurationMs||0)/p.gJ}return t}),0),i=b.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);let a=null,o=0,r=0;do{o+=b[r].watchedDurationMs,a=a||b[r].level,r+=1}while(r<b.length&&b[r].level===a);E.startupVariantKbps=t.indicatedKbps,E.startupVariantWatchedDurationMs=o,E.startupVariantWidth=t.sourceWidth,E.startupVariantHeight=t.sourceHeight,E.startupPlayerWidth=t.viewportWidth,E.startupPlayerHeight=t.viewportHeight,E.overallWatchedDurationMs=i,i>0?(E.averageVideoKbps=n/(i/p.gJ),E.rebufferRate=this.playbackPerformance.totalStallDurationMs/i):0===i&&(E.averageVideoKbps=-1,E.rebufferRate=-1,E.errorName="invalid_watch_duration"),E.segments=b}else E.errorName="invalid_watch_duration";(0,u.ZP)(E,!0,l,{playbackState:this.state.playbackState,...t});const{clientTrackingParams:j,component:R,durationNs:D,element:L,objectId:F,pairId:M,viewData:O,view:z,viewParameter:Z,...N}=n;o({aux_data:{...N,is_closeup_video:l,playback_session_id:this.videoSessionId},clientTrackingParams:j,component:R,duration_ns:D,element:L,event_data:{videoPerformanceData:E},event_type:3606,object_id_str:F,pair_id:M,view_data:O,view_parameter:Z,view_type:z}),T?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,u.tE)(T?"sessionStart":"sessionEnd",!0,l,{playbackState:this.state.playbackState,...t})}}))}componentDidMount(){const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:n=!1}=e;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,u.tE)("videoMounted",!0,n),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(p.DR,{initiator:"mount"}))}componentDidUpdate(e){const{loop:t,playing:n,src:i,visible:a,appInFocus:o,seekTime:r}=this.props;var l,s;r&&r!==e.seekTime&&this.setState({videoStartTime:r}),(typeof(l=e.src)!=typeof(s=i)||(Array.isArray(s)?l.length!==s.length||s.some(((e,t)=>!Array.isArray(l)||e.type!==l[t].type||e.src!==l[t].src)):s!==l))&&this.initializeHls(),e.appInFocus&&!o&&(this.logPlaybackPerformance(p.$f,{initiator:"update",loop:t}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===a&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"update",loop:t})),!1===e.visible&&!0===a&&(this.videoVisibleTime=this.videoVisibleTime||new Date,n?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),n&&o&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"unmount",loop:e}),this.destroyHls()}render(){const{aspectRatio:e,backgroundColor:t,captions:n,controls:i,loop:a,loopOverride:o,objectFit:l,onDurationChange:s,onFullscreenChange:d,onLoadedChange:c,onControlsPlay:u,onPlayheadDown:p,onPlayheadUp:h,onSeek:g,onVolumeChange:_,playbackRate:y,playing:f,playsInline:b,poster:x,preload:k,quicExpGroup:w,src:S,volume:P}=this.props,{canPlayVideo:T,isManifestParsed:I,videoStartTime:C}=this.state,A=v(S,w);return(0,m.jsx)(r.nk,{aspectRatio:e,backgroundColor:t,captions:n,controls:i,loop:void 0===o?a:o,objectFit:l,onDurationChange:s,onEnded:this.handleEnded,onFullscreenChange:d,onLoadStart:this.handleLoadStart,onLoadedChange:c,onControlsPause:this.handleUserPause,onControlsPlay:u,onPlaying:this.handlePlaying,onPlayheadDown:p,onPlayheadUp:h,onReady:this.handleCanPlayVideo,onSeek:g,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:_,onWaiting:this.handleStalled,playbackRate:y,onPlay:()=>{},onPlayError:()=>{},playing:I&&T&&f,playsInline:b,poster:x,preload:k,ref:this.setVideoPlayerRef,src:A,startTime:C,volume:P})}}const f=(0,i.memo)((function(e){const{country:t,isAuthenticated:n,isBot:i,isSocialBot:a,unauthId:o,userAgent:r}=(0,d.B)(),p=(0,l.Z)(),g=(0,c.Z)(),{browserName:_,browserVersion:v,isMobile:f}=r,{contextLogData:b={}}=e,{is_closeup_video:x=!1,view:k,viewParameter:w}=b,{checkExperiment:S}=(0,s.F)();let P=null;n&&(P=S("web_video_quic").group.length?S("web_video_quic").group:null);const{appUI:T}=(0,h.I)(),I=S("web_video_fail_to_start_fix").anyEnabled?T.appInFocus:e.appInFocus,C={browserName:_,browserVersion:v,country:t,isAuthenticated:n,isBot:i,is_closeup_video:x,isMobile:f,isSocialBot:a,view:k,viewParameter:w};return(0,u.r$)(C),(0,m.jsx)(y,{...e,userId:g.id||o,appInFocus:I,quicExpGroup:P,logContextEvent:p})}))},634923:(e,t,n)=>{n.d(t,{Z:()=>o,t:()=>a});const i=()=>{var e,t;const n="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let i,a=null===(o=window)||void 0===o||!o.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var o;return n?"4g"===n?i="40-80":(a="1x",i="0-1"):i="unknown",{downloadSpeedGroup:i,screenDimension:a}};function a(e){const{downloadSpeedGroup:t,screenDimension:n}=i(),a={"1x":e.V_EXP3,"2x":e.V_EXP5},o={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:a,"0-1":a,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":o,"40-80":o,"80_or_above":o}[t][n]||e.V_720P||void 0}function o(e){const{video_list:t={}}=e,n=a(t),i=t.V_HLSV3_MOBILE||void 0;return n?{hlsv3:i,mp4:n}:{hlsv3:i}}},499992:(e,t,n)=>{n.d(t,{ZP:()=>p,r$:()=>c,tE:()=>u});var i=n(40660),a=n(768337),o=n(505204);const r=["isCellular","videoUrl","sessionMark"];let l={},s="";const d=e=>e<0?"negative":0===e?"zero":e<200?"xs":e<400?"s":e<600?"m":e<800?"l":e<1e3?"xl":e<1200?"xxl":"over1200",c=e=>{const{browserName:t,browserVersion:n,country:i,isAuthenticated:o,isBot:r,isMobile:d,isSocialBot:c,view:u="unknown",viewParameter:p="unknown"}=e;s=(c?"socialBot":r&&"bot")||"nonbot";const h=(0,a.Z)(i);l={browserName:t,browserVersion:(null==n?void 0:n.split(".")[0])||"0",isAuthenticated:o,isMobile:d,region:h,view:u,viewParameter:p}};function u(e,t,n,a={}){const o=n?"closeup":"nonCloseup",r=t?"hls":"nonHls",d={...a,...l},c=`web.video.${r}.${s}.${o}.${e}`;"nonbot"===s&&i.Z.increment(c,1,d)}function p(e,t,n,a={}){const c=n?"closeup":"nonCloseup",u=t?"hls":"nonHls",p=e.sessionMark===o.DR?"sessionStart":"sessionEnd",h={...a,...l};if("nonbot"===s&&(Object.entries(e).forEach((([t,n])=>{const a=`web.video.${u}.${s}.${c}.${p}.${t}`,o=parseInt(n,10),l="number"==typeof o?o:-1;if(!r.includes(t))if(t.includes("fatalError")&&!0===n){const{errorCode:t,errorName:n,errorReason:o}=e;i.Z.increment(a,1,{errorCode:t,errorName:n,errorReason:o,...h})}else if(t.includes("Width")||t.includes("Height")){const e=d(l);i.Z.increment(a,1,{dimensionBucket:e,...h})}else if("numberOfStalls"===t){let e=n;l>1e3?e="over1000":l>10?e="over10":l<0&&(e="negative"),i.Z.increment(a,1,{numberOfStalls:e,...h})}else"screenPixelScale"===t?i.Z.increment(a,1,{screenPixelScale:n||-1,...h}):l>=0?(0===l&&i.Z.increment(`${a}.zero`,1,h),i.Z.timing(a,l,1)):l<0&&i.Z.increment(`${a}.negative`,1,h)})),e.sessionMark!==o.DR)){const{rebufferRate:t,screenPixelScale:n,startupLatencyMs:a,startupVariantWidth:o,startupPlayerWidth:r}=e,l=`web.video.${u}.${s}.${c}.${p}`;if("number"==typeof o&&"number"==typeof r&&"number"==typeof n){const e=1.5*o>n*r;i.Z.increment(`${l}.upscaled.${e?"good":"bad"}`,1,h)}"number"==typeof a&&i.Z.increment(`${l}.startupLatency.${a<500?"good":"bad"}`,1,h),"number"==typeof t&&i.Z.increment(`${l}.rebufferRate.${t<.01?"good":"bad"}`,1,h)}}},505204:(e,t,n)=>{n.d(t,{$f:()=>o,Cy:()=>d,DR:()=>a,EB:()=>p,Fm:()=>s,Y7:()=>u,bR:()=>l,gJ:()=>r,lG:()=>c});var i=n(172045);const a=1,o=2,r=1e3,l=1e3,s=1e3,d=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),c=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function u(e){return e+"-"+(0,i.Z)()}function p(){return(0,i.Z)()}},736567:(e,t,n)=>{n.d(t,{Z:()=>o,e:()=>a});var i=n(117651);const a=e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}const i=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"},o=e=>{var t,n,a,o,r;return(0,i.Z)((null===(t=e.videos)||void 0===t?void 0:t.duration)||(null===(n=e.videos)||void 0===n||null===(a=n.video_list)||void 0===a||null===(o=a.V_HLSV4)||void 0===o?void 0:o.duration)||(null===(r=e.story_pin_data)||void 0===r?void 0:r.total_video_duration)||0)}},204926:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(946618),a=n(970588),o=n(354428);function r({url:e,pinId:t,pin:n,location:r,auxData:l}){var s,d;(0,a.Z)({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:n?(0,i.Z)({boardUrl:null===(s=n.board)||void 0===s?void 0:s.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:r,pinId:n.id,pinnerUserName:null===(d=n.pinner)||void 0===d?void 0:d.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}):void 0,pin_id:n?n.id:t,url:e,aux_data:JSON.stringify(l)}}).then((a=>{if(a&&a.resource_response&&!a.resource_response.error){const{resource_response:e}=a,{redirect_status:t,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(t)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(n){var s,d;const a=(0,i.Z)({boardUrl:null===(s=n.board)||void 0===s?void 0:s.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:r,pinId:n.id,pinnerUserName:null===(d=n.pinner)||void 0===d?void 0:d.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map});(0,o.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:a,auxData:l})}else(0,o.Gj)({url:e,pinId:t})}))}},732192:(e,t,n)=>{n.r(t),n.d(t,{RoleBasedAccessControlProvider:()=>f,useRoleBasedAccessControlContext:()=>y});var i=n(667294),a=n(583592),o=n(245410),r=n(819079),l=n(802071),s=n(771799),d=n(173085),c=n(716793);const u=e=>{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,c.Z)(n)]=e[n]:t[(0,c.Z)(n)]=u(e[n]));return t},p=(e,t)=>{const n=[];for(const o in e)o!==t&&n.push({id:o,...u(e[o])});const i=n.sort((({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t))),a=new Map;for(const o of i)a.set(o.id,o);return a},h={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},m=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},g=e=>{const[t,n]=(0,i.useReducer)(m,h),a=(({dispatch:e,isEnabled:t,state:n})=>{const{orbacVisibility:a,disableProfileChanger:o,headerVisible:r}=n;return{changeProfile:(0,i.useCallback)((n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})}),[t,e]),toggleORBACVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=n?n:!a})}),[t,e,a]),toggleDisableProfileChanger:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=n?n:!o})}),[t,e,o]),toggleHeaderVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!r})}),[t,e,r])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:o,orbacVisibility:r}=t;(0,i.useEffect)((()=>{const e=(0,d.qn)("orbacActiveProfile",!1);e&&n({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,i.useEffect)((()=>{const e=(0,d.qn)("orbacVisibilty",!1);e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,i.useEffect)((()=>{(0,d.Nh)("orbacVisibility",r)}),[r]),(0,i.useEffect)((()=>{(0,d.Nh)("orbacActiveProfile",o)}),[o]);return{state:t,actions:a,receiveProfiles:(0,i.useCallback)(((e,t)=>{n({type:"LOAD_PROFILES",payload:p(e,t)})}),[n])}};var _=n(785893);const{Provider:v,useMaybeHook:y}=(0,a.Z)("RoleBasedAccessControlContext"),f=({children:e})=>{const{checkExperiment:t}=(0,o.F)(),n=(0,l.Z)(),a=Boolean(n.isAuth&&n.isPartner&&t("web_m10n_business_access_orbac_www").anyEnabled),{state:d,actions:c,receiveProfiles:u}=g(a),{activeProfile:p,headerVisible:h,profiles:m=[]}=d,y=m?Array.from(m.values()):[],f=(0,s.Z)(y),b=!!(n.isAuth&&y.length>0)&&f,x=n.isAuth?n.id:"",k=n.isAuth?n.username:"",{changeProfile:w,toggleORBACVisibility:S,toggleDisableProfileChanger:P,toggleHeaderVisibility:T}=c;(0,i.useEffect)((()=>{a&&("string"!=typeof f?p||w(x):w(f))}),[f,x,a,w,p]),(0,i.useEffect)((()=>{a&&(b&&!h&&T(!0),!b&&h&&T(!1))}),[T,b,a,h,m]);const{data:I}=(0,r.Z)(a?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),C=null==I?void 0:I.profiles;let A;n&&n.isAuth&&d.activeProfile===n.id?A={id:n.id,permissions:["OWNER"],user:{username:k,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:p&&d.profiles&&(A=d.profiles.get(p)),(0,i.useEffect)((()=>{C&&u(C,x)}),[u,C,x]);const E=d.profiles?Array.from(d.profiles.values()):[];return(0,_.jsx)(v,{value:{profiles:E,headerVisible:d.headerVisible,activeProfile:A,changeProfile:w,toggleORBACVisibility:S,toggleDisableProfileChanger:P,toggleHeaderVisibility:T},children:e})}},329689:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(245410),a=n(732192),o=n(771799);const r=()=>{const{checkExperiment:e}=(0,i.F)(),t=(0,a.useRoleBasedAccessControlContext)(),{activeProfile:n}=t||{},r=e("web_m10n_business_access_orbac_www").anyEnabled,l=(0,o.Z)((null==t?void 0:t.profiles)||[]),{anyEnabled:s}=e("useorbacroutematcher_in_useorbacactingas");return r?s&&!l?Object.freeze({}):n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({}):Object.freeze({})}},771799:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(616550),a=n(988014),o=n(245410),r=n(802071),l=n(525104);const s=e=>{var t,n,s,d;const c=(0,i.useLocation)(),u=(0,r.Z)(),p=(0,l.S6)(),{anyEnabled:h}=(0,o.F)().checkExperiment("web_m10n_business_access_orbac_www"),m=(0,i.useRouteMatch)("/:username"),g=null==m||null===(t=m.params)||void 0===t?void 0:t.username,_=(0,i.useRouteMatch)("/pin/:id"),v=!(null==_||null===(n=_.params)||void 0===n||!n.id)&&(null===(s=p(_.params.id))||void 0===s||null===(d=s.pinner)||void 0===d?void 0:d.id);if((0,a.ej)(c))return!1;if((0,a.RU)(c))return!0;if((0,a.mY)(c))return h;const y=e.concat(u.isAuth?{user:{username:u.username},id:u.id}:{}).find((e=>{const{user:t={},id:n}=e||{},{username:i}=t;return!!(i&&g||v&&n)&&(i===g||v===n)}));return!!y&&y.id}},421461:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(802071),a=n(329689),o=n(384722);const r=()=>{const e=(0,i.Z)(),t=(0,a.Z)();return(0,o.lJ)(e,t)}},384722:(e,t,n)=>{n.d(t,{D3:()=>d,DX:()=>l,KY:()=>c,Ms:()=>i,N1:()=>u,_P:()=>r,lJ:()=>o,nl:()=>a,q6:()=>s});const i=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},a=(e,t)=>Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),o=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",r=(e,t,n)=>{var i;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(i=e.advertiser)||void 0===i?void 0:i.merchant_id},l=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,s=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),d=(e,t,n)=>!!(s(e,t,n)||e&&e.isAuth&&t===e.id),c=(e,t,n)=>{const i=t&&t.owner&&t.owner.id||"";return d(e,i,n)};function u(e,t,n){const i=t?t.id:"";return d(e,i,n)}},76008:(e,t,n)=>{n.d(t,{pb:()=>x,nf:()=>k,lV:()=>w});var i=n(667294),a=n(702664),o=n(441143),r=n.n(o),l=n(690108),s=n(583592),d=n(970588),c=n(170567),u=n(618446),p=n.n(u),h=n(682492),m=n.n(h);const g={feature_map:Object.freeze({})},_=(e,t)=>{const n={...m()({},e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return p()(e,n)?e:n},v=(e=g,t)=>{if("FETCH_COMPLETE"===t.type){const{payload:{resource:n}}=t,{data:i}=t.payload.response.resource_response;if("AggregatedCommentFeedResource"===n||"AggregatedCommentReplyFeedResource"===n||"DidItCommentsResource"===n){const t=(i||[]).reduce(((t,n)=>(t[n.id]=_(e[n.id],n),t)),{});return{...e,...t}}if("UnifiedCommentsResource"===n&&i&&i.length>0){const t=i.filter((e=>"aggregatedcomment"===e.type)).reduce(((t,n)=>(t[n.id]=_(e[n.id],n),t)),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===n&&i&&i.length>0){const t=i[0].aggregated_comment,n=t?{[t.id]:_(e[t.id],t)}:{},a=i[0].creator_reply,o=a?{[a.id]:_(e[a.id],a)}:{};return{...e,...n,...o}}if("AggregatedCommentFeaturesResource"===n&&i&&Object.keys(i).length>0)return{...e,feature_map:i}}else{if("AGGREGATED_COMMENT_CREATED"===t.type){const{payload:{aggregatedComment:n}}=t;return n.id?{...e,[n.id]:n}:e}if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){const{payload:{aggregatedCommentId:n}}=t,i={...e};return delete i[n],i}if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){const{payload:{userId:n}}=t;return Object.fromEntries(Object.entries(e).filter((e=>{var t;return(null===(t=e[1].user)||void 0===t?void 0:t.id)!==n})))}if("AGGREGATED_COMMENT_UPDATED"===t.type){const{payload:{data:n}}=t;return{...e,[n.id]:_(e[n.id],n)}}if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){const{payload:{data:n}}=t,i=e[n.id],a=i.reaction_counts[1]||0,o={1:n.reaction_by_me?a+1:a-1},r={...i,reaction_by_me:n.reaction_by_me,reaction_counts:o};return{...e,[n.id]:r}}if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){const{payload:{data:n}}=t,i=e[n.id],a=i.helpful_count||0,o=n.marked_helpful_by_me?a+1:a-1,r={...i,marked_helpful_by_me:n.marked_helpful_by_me,helpful_count:o};return{...e,[n.id]:r}}if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){const{payload:{data:n}}=t,i={...e[n.aggregated_comment_id],highlighted_by_pin_owner:n.is_highlighted};return{...e,[n.aggregated_comment_id]:i}}if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){const{payload:{data:{featureMap:n}}}=t;return{...e,feature_map:{...e.feature_map,...n}}}if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){const{payload:{increment:n,id:i}}=t,a=e[i];if(!a)return e;const o={...a,comment_count:a.comment_count+n};return{...e,[i]:o}}if("DELETE_COMMENT_MENTION"===t.type){const{payload:{aggregatedCommentId:n,tagged_users:i}}=t,a={...e[n],tagged_users:i};return{...e,[n]:a}}}return e};var y=n(785893);const{Provider:f,useHook:b}=(0,s.Z)("AggregatedComments");function x({children:e}){const t=(0,a.useSelector)((({resources:e})=>e.UnifiedCommentsResource));let n=g;t&&Object.values(t).forEach((e=>{var t;const i=null===(t=e.data)||void 0===t?void 0:t.filter((e=>"aggregatedcomment"===e.type)),a=null==i?void 0:i.reduce(((e,t)=>(e[t.id]=_(n[t.id],t),e)),{});n={...n,...a}}));const[o,r]=(0,i.useReducer)(v,n),l=e=>{r({type:"FETCH_COMPLETE",payload:e})};(0,c.Z8)("AggregatedCommentFeaturesResource",l),(0,c.my)("AggregatedCommentFeaturesResource",l),(0,c.Z8)("AggregatedCommentFeedResource",l),(0,c.my)("AggregatedCommentFeedResource",l),(0,c.Z8)("AggregatedCommentReplyFeedResource",l),(0,c.my)("AggregatedCommentReplyFeedResource",l),(0,c.Z8)("DidItCommentsResource",l),(0,c.my)("DidItCommentsResource",l),(0,c.Z8)("UnifiedCommentsPreviewResource",l),(0,c.my)("UnifiedCommentsPreviewResource",l),(0,c.Z8)("UnifiedCommentsResource",l),(0,c.my)("UnifiedCommentsResource",l);const s=(0,i.useMemo)((()=>({aggregatedComments:o,dispatch:r})),[o,r]);return(0,y.jsx)(f,{value:s,children:e})}function k(){const{dispatch:e}=b();return(0,i.useMemo)((()=>({aggregatedCommentCreated(t,n){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:n}})},aggregatedCommentDeleted:(t,n)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:n}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({commentId:e,reason:t,detailedReasons:n})=>(0,d.Z)({url:`/v3/aggregated_comments/${e}/flag/`,method:"PUT",data:{commentId:e,reason:t,detailedReasons:n}}),deleteCommentMention:async t=>{var n;const{resource_response:i}=await(0,d.Z)({url:`/v3/aggregated_comments/${t}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),a=null!==(n=null==i?void 0:i.data)&&void 0!==n?n:{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:a.id,tagged_users:a.tagged_users}})},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:n})=>{(0,d.Z)({url:`/v3/helpful/1/${t}/`,method:n?"DELETE":"POST"}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!n}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:n,isHighlighted:i})=>{r()(t),r()(n),await(0,d.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:n,highlight:!i}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:n,is_highlighted:!i}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:n})=>{(0,d.Z)({url:`/v3/aggregated_comments/${t}/react/`,method:n?"DELETE":"POST",data:{reaction_type:1}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:n?0:1}}})},updateAggregatedComment:async({commentId:t,force:n,orbacSubjectId:i,tags:a,text:o})=>{var r;const{resource_response:s}=await l.Z.create("AggregatedCommentResource",{commentId:t,force:n,tags:a,text:o,...i?{orbacSubjectId:i}:{}}).callUpdate({showError:!1}),{tagged_users:d}=null!==(r=null==s?void 0:s.data)&&void 0!==r?r:{},c=d.map((e=>({...e})));e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:c,tags:JSON.parse(a),text:o}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:n,passcode:i})=>{var a;const{resource_response:o}=await l.Z.create("AggregatedCommentFeaturesResource",{userId:t,featureMap:n,passcode:i}).callUpdate({showError:!1}),r=null!==(a=null==o?void 0:o.data)&&void 0!==a?a:Object.freeze({});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:r}}})},updateCommentCount:(t,n)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:n,id:t}})}})),[e])}function w(){const{aggregatedComments:e}=b();return e}},738318:(e,t,n)=>{n.d(t,{o:()=>i});const i={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"}},886365:(e,t,n)=>{n.d(t,{g:()=>h,I:()=>p});var i=n(667294),a=n(583592),o=n(532465),r=n(150361),l=n.n(r);const s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},d=(e=s,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){const{payload:n}=t,{pinId:i,isPromoted:a,currentTime:o,inVideoGridAutoplayExp:r}=n,{videosAutoplaying:s}=e,{currentlyPlayingOrganicVideoId:d,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}=s,p=l()(c),h=l()(u);return!a&&d&&r?e:(a?p[i]={pinId:i,currentTime:o,paused:!1}:h[i]={pinId:i,currentTime:o,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:a?d:i,promotedVideosAutoplaying:p,organicVideosAutoplaying:h}})}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){const{payload:n}=t,{pinId:i,isPromoted:a,currentTime:o}=n,{videosAutoplaying:r}=e,{promotedVideosAutoplaying:s,organicVideosAutoplaying:d}=r,c=l()(s),u=l()(d);return a?c[i]={...c[i],paused:!0,currentTime:o}:u[i]={...u[i],paused:!0,currentTime:o},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}}}return"SET_APP_FOCUS_STATE"===t.type?{...e,appInFocus:t.payload}:"SET_VIEWPORT_SIZE"===t.type?{...e,viewportSize:t.payload}:"SET_FOOTER_VISIBILITY_STATE"===t.type?{...e,footerPlusButtonVisible:t.payload}:e};var c=n(785893);const{Provider:u,useHook:p}=(0,a.Z)("AppUI");function h({children:e}){const[t,n]=(0,i.useReducer)(d,s),a=(0,i.useCallback)((e=>n({type:"PAUSE_CURRENT_VIDEO",payload:e})),[]),r=(0,i.useCallback)((e=>n({type:"SET_APP_FOCUS_STATE",payload:e})),[]),l=(0,i.useCallback)((e=>n({type:"SET_CURRENT_VIDEO",payload:e})),[]),p=(0,i.useCallback)((e=>n({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})),[]),h=(0,i.useCallback)((e=>n({type:"SET_IS_AUTOPLAY",payload:e})),[]),m=(0,i.useCallback)((e=>n({type:"SET_VIEWPORT_SIZE",payload:e})),[]),g=(0,i.useCallback)((e=>n({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})),[]),_=(0,i.useMemo)((()=>({pauseAutoplay:a,setCurrentVideo:l,setFooterPlusButtonVisible:p,setIsAutoplay:h,setViewportSize:m,toggleTypeaheadOverlay:g,setAppFocusState:r,appUI:t})),[a,l,p,h,m,g,r,t]);return(0,i.useEffect)((()=>{o.Z.onSessionResume((()=>{r(!0)})).onSessionPause((()=>{r(!1)}))}),[r]),(0,c.jsx)(u,{value:_,children:e})}},336331:(e,t,n)=>{n.d(t,{$:()=>o,B:()=>a});var i=n(583592);const{Provider:a,useHook:o}=(0,i.Z)("SurfaceContext",{surface:"Unknown"})},795142:(e,t,n)=>{n.d(t,{UP:()=>l,Wv:()=>a,ZF:()=>i,zI:()=>o,zl:()=>r});const i=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],a=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],o=[...a,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],r=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],l=["BaseBoardPinGrid"]},724097:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(883119),a=n(460914),o=n(785893);const r={__style:{borderRadius:"4px",padding:"10px 14px"}},l={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},s={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:t,customStyles:n,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:h=70,onTouch:m,pressState:g,shape:_,text:v})=>{const y=(e=>"transparent"===e||"dark"===e?"inverse":"primary"===e?"light":"default")(t),f=(({color:e,icon:t})=>t?s:"transparent"===e?{__style:{...r.__style,...l}}:r)({color:t,icon:c}),b=(0,o.jsx)(i.xu,{position:"relative",children:(0,o.jsx)(i.xu,{color:t,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:h,dangerouslySetInlineStyle:"pill"===_?(x=n,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...x}}):f,children:(0,o.jsxs)(i.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,o.jsx)(i.xu,{paddingX:"check"===c?2:0,children:(0,o.jsx)(i.JO,{accessibilityLabel:e,color:y,icon:c,inline:!0,size:"check"===c?16:20})}),(0,o.jsx)(i.xv,{color:y,inline:!0,size:"300",lineClamp:1,weight:"bold",children:v})]})})});var x;return m?(0,o.jsx)(a.Z,{onTouch:m,rounding:"pill"===_?"pill":2,pressState:g||"none",children:(0,o.jsx)(i.xu,{ref:d,children:b})}):b}},510525:(e,t,n)=>{n.d(t,{i5:()=>f,sX:()=>k,aX:()=>b,Z5:()=>y,NG:()=>x,MT:()=>w,iu:()=>S});var i=n(667294),a=n(690108),o=n(583592),r=n(170567),l=n(682492),s=n.n(l);const d=(e,t)=>e.data[t]&&e.data[t].messages||[];function c(e,t){const n={};return e.filter((e=>!!e)).reduce(((e,i)=>{const a=t(i);return n[a]?(s()(n[a],i),e):(n[a]=i,e.concat([i]))}),[])}function u(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function p(e,t,n){return u(c(d(e,t).concat(n),(e=>e.id)))}const h={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function m(e=h,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const n={...e,data:{...e.data}},{id:i}=t.payload;return delete n.data[i],n}if("FETCH_COMPLETE"===t.type){const{options:n,resource:i,response:a}=t.payload,o=a.resource_response.data;if("ConversationMessagesResource"===i){const t=o||[],i=(null==n?void 0:n.conversation_id)||"",a=p(e,i,t),r=a[a.length-1];return{...e,data:{...e.data,[i]:{...e.data[i],id:i,messages:a,unread:0,last_message:r}}}}if("ConversationsResource"===i){const t=o||[],n={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:i,name:a,board:o,emails:r,unread:l,users:s,last_message:d}=e,c=p(n,t,[d]);n.data[t]={...n.data[t],id:t,created_at:i,name:a,board:o,emails:r||[],unread:l||0,users:s||[],last_message:d,messages:c}})),n}if("ConversationResource"===i){const t=o||{},{id:n}=t,i={...e,data:{...e.data}};return n&&(i.data[n]={...i.data[n],...t}),i}if("NewsHubBadgeResource"===i){if(o){const t=o.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:n,message:i}=t.payload;return e.data[n]?{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:[...e.data[n].messages,i]}}}:e}if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){const{id:n,tempMessage:i,newMessage:a}=t.payload;if(e.data[n]){if(d(e,n).find((e=>e.id===i.id&&e.created_ms===i.created_ms))){const t=u(c(d(e,n).filter((e=>e.id!==i.id)).concat([a]),(e=>e.id)));return{...e,data:{...e.data,[n]:{...e.data[n],last_message:a,messages:t}}}}}return e}if("MESSAGE_SEND_PENDING_FAILURE"===t.type){const{id:n,tempMessageId:i}=t.payload;if(e.data[n]){const t=d(e,n).filter((e=>e.id!==i));return{...e,data:{...e.data,[n]:{...e.data[n],messages:t}}}}return e}if("OPEN_NEW_MESSAGE"===t.type){const{objectAttachment:n}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:n}}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};if("CLEAR_MESSAGE_BADGE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],unread:0}}}}if("CONVERSATION_SAVE_POSITION"===t.type){const{id:n,position:i}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],position:i}}}}if("CONVERSATION_RESET_POSITION"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],position:null}}}}if("SET_OBJECT_ATTACHMENT"===t.type){const{objectAttachment:n}=t.payload;return{...e,objectAttachment:n}}if("REMOVE_OBJECT_ATTACHMENT"===t.type)return{...e,objectAttachment:null}}return e}var g=n(785893);const _=(()=>{let e=0;return()=>e++})(),{Provider:v,useHook:y}=(0,o.Z)("Conversations");function f({children:e}){const[t,n]=(0,i.useReducer)(m,h),o=(0,i.useCallback)((e=>n({type:"FETCH_COMPLETE",payload:e})),[]);(0,r.Z8)("ConversationMessagesResource",o),(0,r.my)("ConversationMessagesResource",o),(0,r.Z8)("ConversationsResource",o),(0,r.Z8)("ConversationResource",o),(0,r.Z8)("NewsHubBadgeResource",o);const l=(0,i.useCallback)(((e,t=!1,i="")=>n({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:i}})),[]),s=(0,i.useCallback)(((e,t="",i=!1)=>n({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:i}})),[]),d=(0,i.useCallback)((e=>n({type:"CONVERSATION_CREATE",payload:e})),[]),c=(0,i.useCallback)((e=>n({type:"CONVERSATION_DELETE",payload:{id:e}})),[]),u=(0,i.useCallback)(((e,t)=>n({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}})),[]),p=(0,i.useCallback)((e=>n({type:"CONVERSATION_RESET_POSITION",payload:{id:e}})),[]),_=(0,i.useCallback)(((e,t,i)=>{a.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;n({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";i(t)}))}),[]),y=(0,i.useCallback)((()=>{n({type:"CLOSE_DROPDOWN"})}),[]),f=(0,i.useCallback)((()=>{n({type:"OPEN_DROPDOWN"})}),[]),b=(0,i.useCallback)((e=>{n({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})}),[]),x=(0,i.useCallback)(((e,t)=>n({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})),[]),k=(0,i.useCallback)(((e,t,i)=>n({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:i}})),[]),w=(0,i.useCallback)(((e,t)=>n({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}})),[]),S=(0,i.useCallback)((e=>n({type:"UPDATE_NEWSHUB_COUNT",payload:e})),[]),P=(0,i.useCallback)((e=>n({type:"UPDATE_UNREAD_COUNT",payload:e})),[]),T=(0,i.useCallback)((e=>n({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}})),[]),I=(0,i.useCallback)((e=>n({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}})),[]),C=(0,i.useCallback)((()=>n({type:"REMOVE_OBJECT_ATTACHMENT"})),[]),A=(0,i.useMemo)((()=>({clearMessageBadge:T,conversationOpen:l,conversationClose:s,conversationCreate:d,conversationDelete:c,conversationGet:_,saveConversationPosition:u,resetConversationPosition:p,dropdownClose:y,dropdownOpen:f,newMessageOpen:b,pendingMessageSend:x,pendingMessageSuccess:k,pendingMessageFailure:w,updateNewsHubCount:S,updateUnreadCount:P,conversations:t,setObjectAttachment:I,removeObjectAttachment:C})),[T,l,s,d,c,_,u,p,y,f,b,x,k,w,S,P,t,I,C]);return(0,g.jsx)(v,{value:A,children:e})}function b(){const{conversationCreate:e}=y();return async t=>{let n;const i=a.Z.create("ConversationsResource",t);try{var o;const t=null===(o=(await i.callCreate()).resource_response)||void 0===o?void 0:o.data;t&&(e(t),n=t)}catch(r){throw new Error(r.message)}return n}}function x(){const{conversations:e,conversationCreate:t,pendingMessageSend:n,pendingMessageSuccess:i,pendingMessageFailure:o}=y();return async(r,l,s,d)=>{const{text:c,pinId:u,boardId:p,userId:h,didItId:m}=l;async function g(){const e=a.Z.create("ConversationMessagesResource",{conversation_id:r,text:c,pin:u,board:p,user:h,user_did_it_data:m,source:s}),t=`${_()}`,l={text:c,sender:d,created_at:(new Date).toString(),created_ms:Date.now(),id:t,type:"tempMessage"};n(r,l);try{var g;const t=null===(g=(await e.callCreate()).resource_response)||void 0===g?void 0:g.data;t&&i(r,l,t)}catch(v){throw o(r,t),new Error(v.message)}}if(e.data[r])await g();else{const e=a.Z.create("ConversationResource",{conversation_id:r});try{var v;const n=null===(v=(await e.callGet()).resource_response)||void 0===v?void 0:v.data;n&&(t(n),await g())}catch(y){throw new Error(y.message)}}}}function k(e){const{conversations:t}=y();return t.data[e]}function w(e){const{conversations:t}=y();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function S(){const{conversations:{data:e}}=y(),t=(n=e,Object.keys(n).map((e=>n[e]))).filter((e=>e.users&&e.last_message));var n,i;return i=t,Array.from(i).sort(((e,t)=>new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at)))}},843843:(e,t,n)=>{n.d(t,{MZ:()=>L,di:()=>M,Ai:()=>F});var i=n(667294),a=n(616550),o=n(883119),r=n(865173),l=n(563962),s=n(525571),d=n(988014),c=n(245410),u=n(617285),p=n(500797),h=n(282802),m=n(611756),g=n(173085),_=n(98736),v=n(802071),y=n(700453),f=n(277192),b=n(799006),x=n(724097),k=n(250307),w=n(388011),S=n(354428),P=n(28630);const T=({children:e,external:t,externalQueryParams:n,target:i,href:o})=>{const{logContextEvent:r}=(0,w.v)(),l=(0,a.useHistory)(),s=(0,a.useLocation)();if(!o)return null;const d=(0,k.Z)(o);return e({navigate:e=>{e.preventDefault(),(0,P.Z)({url:d})||t?(0,S.lI)({href:d,queryParams:n,location:s},r,null):(0,S.G3)({event:e,href:o,history:l,target:"blank"===i?"blank":null})}})};var I=n(785893);const C=({accessibilityLabel:e,children:t,external:n,externalQueryParams:i,inline:a=!1,newTab:r,nofollow:l,onTouch:s,onBlur:d,onFocus:c,pressState:u,rounding:p,to:h})=>(0,I.jsx)(T,{external:n,target:r?"blank":null,externalQueryParams:i,href:h,children:({navigate:n})=>(0,I.jsx)(o.rU,{accessibilityLabel:e,onBlur:d?({event:e})=>d(e):void 0,onFocus:c?({event:e})=>c(e):void 0,underline:"none",href:(0,k.Z)(h),display:a?"inlineBlock":"block",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),null==s||s(e),e.defaultPrevented||n(e)},rel:l?"nofollow":"none",rounding:p,tapStyle:(Array.isArray(u)?u:[u]).includes("compress")?"compress":"none",children:t})}),A=({external:e,externalQueryParams:t,newTab:n,onTouch:i,to:a,...o})=>(0,I.jsx)(T,{external:e,target:n?"blank":null,externalQueryParams:t,href:a,children:({navigate:e})=>(0,I.jsx)(x.Z,{onTouch:t=>{null==i||i(t),t.defaultPrevented||e(t)},...o})});var E=n(689363),j=n(352865),R=n(712968);const D=(e,t=!1)=>function({isAppUpsellDisabled:n,...x}){const{children:k,clientTrackingParams:w,deeplinkUri:S,external:P,onTouch:T,refresh:C,to:A,viewParameter:D,viewType:L}=x,F=(0,b.Z)(),[M,O]=(0,i.useState)(!1),[z,Z]=(0,i.useState)(!1),[N,U]=(0,i.useState)(!1),[B,K]=(0,i.useState)("control"),{isAuth:V}=(0,v.Z)(),{userAgent:{platform:H,browserName:G},locale:W}=(0,h.B)(),$=(0,R.Tt)(),q=(0,l.Z)(),{checkExperiment:Y}=(0,c.F)(),J=(0,a.useLocation)(),X=(0,u.Z)();(0,i.useEffect)((()=>{!async function(){if(r.v){U(!0);(await(0,r.Z)()).length>0&&Z(!0)}}()}),[]),(0,i.useEffect)((()=>{V||(0,_.My)(`unauth.app_upsell.has_app.${z.toString()}`,{browser:G,platform:H})}),[G,z,V,H]);const Q=()=>{q({event_type:1701,view_type:L,view_parameter:D}),M&&O(!1)};return(0,I.jsxs)(o.xu,{"data-test-id":"deeplink-wrapper",children:[M&&(0,I.jsx)(f.Z,{clientTrackingParams:w,copyChangeGroup:B,deepLinkUri:S,isOpen:!0,onDismiss:()=>{q({component:14157,element:10308,event_type:10220,view_type:L||202,view_parameter:D,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,m.Nh)("deeplinkBehavior","branchfallback"),Q()},shouldTrackDismiss:!0,to:A,viewParameter:D,viewType:L,within:"deep-link-app-upsell-modal"}),(0,I.jsx)(E.Z,{children:i=>(0,I.jsx)(e,{...x,onTouch:e=>{const a=F&&!n&&V&&!P&&!C&&!(0,p.FP)(window)&&!("ios"===H&&(W||"").startsWith("ar"))&&(0,j.kp)((0,s.Z)(null==$?void 0:$.created_at));if(a){let t=!0,n=!1;if("string"==typeof S&&(S||"").startsWith("/pin/")&&((0,d.uM)(J)||(0,d.am)(J)||(0,d.C$)(J))){if(N){if(z&&S&&"android"===H&&Y("mweb_auth_deep_link_app_installed_user").anyEnabled){X();const e=Y("mweb_auth_deep_link_app_installed_user").group;"enabled_triggering_change"===e?t=!1:K(e)}z||K("enabled_copy_change_4")}}else t=!1,n=!0;if(t)e.stopPropagation(),e.preventDefault(),O(!0);else if(!n){e.stopPropagation(),e.preventDefault(),q({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}});const t=Y("mweb_auth_deep_link_fix_function_helper").anyEnabled?y.SV:y.BH;i(null!=S?S:t(J),"deep-link-app-upsell-modal")}}else"branchfallback"!==(0,m.qn)("deeplinkBehavior")||(0,g.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,g.Nh)("fallbackAttempt",1),i(S,"deep-link-app-upsell-modal",`${window.location.origin}${o=A,"string"==typeof o?o:`${o.pathname||""}${o.search?`?${o.search}`:""}`}`),Q());var o;t&&a||!T||T(e)},children:k})})]})},L=D(C),F=D(A),M=D(x.Z,!0)},689363:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(388011),a=n(282802),o=n(868489),r=n(352865),l=n(40660),s=n(865173),d=n(739425);const c="http://play.google.com/store/apps/details?id=com.pinterest",u=["access_token","new_password","new_password_confirm","password","next"],p=(e,t)=>t?(0,d.ru)(e,{invite_code:t}):e,h=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){const t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return"string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e?p(e,n):"ios"===t||"ipad"===t?p(e.iOS,n):"android"===t?p(e.android,n):null},m=({deeplinkUri:e,fallbackUrl:t,invite_code:n,logContextEvent:i,platform:a,redirectToLite:o,unauthId:r,userAgent:p,within:m})=>{if(null==i||i({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),e){const g=(({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:i,unauthId:a})=>({deeplink_path:h(e,n,t),current_page_url:(0,d.Gw)("undefined"!=typeof window?window.location.href:"",u),install_id:a,utm_source:140,utm_medium:2152,...i?{af_r:i}:null}))({deeplinkUri:e,fallbackUrl:t,invite_code:n,platform:a,unauthId:r,userAgent:p});if(l.Z.increment("mweb.deeplink",1,{platform:a}),n&&l.Z.increment("mweb.deeplink.invite_code",1),l.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(r)}),o){l.Z.increment("mweb.deeplink.lite_link",1),null==i||i({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}});const e=(({unauthId:e})=>{const t=(0,d.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(t)}})({unauthId:r});window.location.href=(0,d.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===a){const t=(({deeplinkUri:e,invite_code:t,platform:n,unauthId:i})=>{const a=JSON.stringify({deeplink_path:h(e,n,t),current_page_url:(0,d.Gw)("undefined"!=typeof window?window.location.href:"",u),install_id:i});return{referrer:(0,d.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a})}})({deeplinkUri:e,invite_code:n,platform:a,unauthId:r});(0,s.v)()?(0,s.Z)().then((e=>{if(e.length>0){null==i||i({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}});const e=(0,d.ru)(window.location.href,g);window.open(e)}else null==i||i({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,d.ru)(c,t)})).catch((()=>{l.Z.increment("mweb_android.deeplink.playStore.error",1)})):(null==i||i({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,d.ru)(c,t))}else{if(l.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===a&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,d.ru)("https://pinterest.com/pinterest-predicts",g));null==i||i({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,d.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",g)}}};var g=n(785893);function _({children:e,invite_code:t}){const{unauthId:n,userAgent:{platform:o,raw:l}}=(0,a.B)(),{logContextEvent:s}=(0,i.v)();return e((async(e,i,a)=>{s({component:14347,element:13582,event_type:3830,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:i}}),m({deeplinkUri:e,fallbackUrl:a,invite_code:t,logContextEvent:s,platform:o,redirectToLite:(0,r.Rp)({platform:o,userAgent:l}),unauthId:n,userAgent:l,within:i})}))}const v=e=>(0,g.jsx)(o.ty,{children:t=>(0,g.jsx)(_,{...e,invite_code:t})});v.displayName="DeepLinkNavigator";const y=v},996902:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(883119),o=n(40660),r=n(563962),l=n(950695),s=n(785893);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=(e,t)=>{const n=e&&e.replace(".","_");return t?n&&n.substring(0,50):n};class u extends i.Component{constructor(...e){super(...e),d(this,"state",{href:void 0}),d(this,"onEvent",(()=>new Promise(((e,t)=>{"undefined"==typeof window&&t();const{filename:n,imgSrc:i,isAndroidTwa:a,isChromeOnIOS:r,isUnauth:l,logContextEvent:s,category:d,viewParameter:u,viewType:p,pinId:h,imageSignature:m}=this.props,{href:g}=this.state;window.AndroidTwa&&window.AndroidTwa.downloadImage?(window.AndroidTwa.downloadImage(i,c(n,a)),e()):r?(this.imageDownload&&this.imageDownload.click(),e()):null==g&&fetch(i,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{this.setState({href:window.URL.createObjectURL(t)},(()=>{this.imageDownload&&(this.imageDownload.click(),e())}))})).catch((()=>this.setState({href:this.DOWNLOAD_ERROR}))),o.Z.increment(`mweb.${l?"unauth":"auth"}.download.click.${d||"no_category"}`),s({event_type:82,object_id_str:h,view_type:p||3,view_parameter:u||139,aux_data:{image_signature:m}})})))),d(this,"DOWNLOAD_ERROR","error")}render(){const{children:e,filename:t,imgSrc:n,isAndroidTwa:o,isChromeOnIOS:r}=this.props,{href:l}=this.state,d=null!=l&&l!==this.DOWNLOAD_ERROR;return(0,s.jsxs)(i.Fragment,{children:[e(this.onEvent),r&&n?(0,s.jsx)(a.xu,{display:"none",children:(0,s.jsx)("a",{ref:e=>this.imageDownload=e,rel:"noopener noreferrer",tabIndex:-1,target:"_blank",href:n})}):d&&(0,s.jsx)(a.xu,{display:"none",children:(0,s.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:c(t,o),href:l})})]})}}function p(e){const t=(0,l.xC)(),n=(0,r.Z)();return(0,s.jsx)(u,{...e,isAndroidTwa:t,logContextEvent:n})}},443601:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(98736);async function a({filename:e,imgSrc:t,imageDownloadSuccessCallback:n,category:a,pinId:o,viewParameter:r,viewType:l,isUnauth:s=!1,platform:d="web"},c){return"undefined"==typeof window?Promise.resolve():((0,i.My)("web.download.click",{category:a||"no_category",authType:s?"unauth":"auth",platform:d,viewType:l}),c({event_type:82,object_id_str:o,view_type:l||3,view_parameter:r||139}),t&&document?fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{var i,a;const o=document.createElement("a");o.href=window.URL.createObjectURL(t),o.setAttribute("download",e&&e.replace(".","_")),o.style.display="none",null===(i=document.body)||void 0===i||i.appendChild(o),o.click(),null===(a=document.body)||void 0===a||a.removeChild(o),null==n||n()})).catch((()=>{throw new Error("Download image error")})):Promise.resolve())}},491452:(e,t,n)=>{n.d(t,{N:()=>l,SF:()=>i,XN:()=>d,XU:()=>o,b7:()=>a,fL:()=>s,z5:()=>r});const i=5,a=5,o=1,r="var(--color-border-container)",l="var(--color-border-error)",s="var(--color-gray-roboflow-400)",d="4px solid #0084ff80"},41669:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(883119),a=n(563962),o=n(536042),r=n(245410),l=n(599226),s=n(98736),d=n(618569),c=n(63262),u=n(549201),p=n(272109),h=n(802071),m=n(230910),g=n(198060),_=n(471819),v=n(525104),y=n(712968),f=n(820166),b=n(618671),x=n(785893);const k=({children:e,pulsar:t,testId:n})=>t.show?(0,x.jsx)(i.xu,{position:"relative","data-test-id":n,children:(0,x.jsxs)(i.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,x.jsx)(i.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,x.jsx)(i.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,x.jsx)(i.o3,{})})]})}):(0,x.jsx)(i.xu,{"data-test-id":n,children:e});function w({auxData:e,disabled:t,disableLog:n,followEventType:w,id:S,inline:P,invertColors:T,isFollowed:I,isIdeaPin:C,isLegoEnabled:A,isSecondaryButton:E,isUserFollowButton:j,isUserMe:R,onFollow:D,onUnfollow:L,pinId:F,shouldUseLegoColors:M,showPulsar:O,size:z,textType:Z="FollowFollowing",unfollowEventType:N,viewParameter:U,viewType:B}){const K=(0,o.ZP)(),V=(0,u.HG)(),{showToast:H}=(0,c.F9)(),G=(0,d.Z)(),W=(0,a.Z)(),$=(0,l.Z)(),{checkExperiment:q}=(0,r.F)(),Y=(0,_.Z)(),J=(0,h.Z)(),X=J&&J.isAuth,{unauthFollowUserId:Q,setUnauthFollowUserId:ee}=(0,b.f)(),te=(0,y.mN)()(S),ne=(0,v.S6)()(null!=F?F:""),{link_domain:ie,native_creator:ae,origin_pinner:oe,pinner:re}=ne||{},le=(0,m.wS)(ie,ae,oe,re),se=null!=te?te:le;(0,p.Z)((()=>{!V&&X&&Q&&S&&Q===S&&D(S)}));const de=Y({fn:()=>{X?I?(L(S),n||W({event_type:N,view_type:B,view_parameter:U,object_id_str:S,aux_data:e})):(D(S),j&&H((({hideToast:e})=>{if(!se)return null;const t=se.username?`/${se.username}/`:"";return(0,x.jsx)(f.Z,{handleHide:e,text:K.bt(" Pin ", "Following! Their created Pins will show up in your home feed!", "followButton.follow.informationalToastText", undefined, true),userId:S,href:t,imageUrl:se.image_medium_url})})),n||W({event_type:w,view_type:B,view_parameter:U,object_id_str:S,aux_data:e})):((0,s.My)(`mweb_unauth_follow_button.tap.${String(B)}`),5===B&&26===w&&(0,s.My)("mweb_unauth_board_page_follow_button.tap"),(0,s.NC)(I?"press_profile_unfollow":"press_profile_follow"),G({action:"click",item:"board-follow-button"}),$({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:C?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:V&&q("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!V&&q("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),V||ee(null!=S?S:""),(0,s.NC)("clickthrough"))},modalHeader:(0,g.N4)({i18n:K,toFollow:!I})}),ce=!I&&!!O,ue=()=>{if(R)return K.bt("", "That's you!", "Follow button is disabled because this is you", undefined, true);if("AddRemove"===Z)return I?K.bt("", "Remove", "unfollowButton.removeText", undefined, true):K.bt("", "Add", "followButton.addText", undefined, true);const e="FollowUnfollow"===Z?K.bt("", "Unfollow", "unfollowButton.unfollowText", undefined, true):K.bt("", "Following", "Follow button label - followed state", undefined, true);return I?e:K.bt("", "Follow", "Follow button label - unfollowed state", undefined, true)};return(0,x.jsx)(k,{pulsar:ce?{show:!0,onClick:de}:{show:!1},testId:R||I?"board-unfollow-button":"board-follow-button",children:(0,x.jsx)(i.zx,{color:M||"AddRemove"===Z||!A&&E||I?"gray":"red",disabled:R||t,fullWidth:P,onClick:ce?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),n||W({event_type:101,component:13672,element:11951,object_id_str:S,view_type:B,view_parameter:U,aux_data:e}),de()},selected:T?!I:M&&I||!!I&&E,size:z,text:ue(),accessibilityLabel:ue()})})}},589665:(e,t,n)=>{n.d(t,{L1:()=>o,Rz:()=>s,WZ:()=>r,cI:()=>a,fe:()=>l,hu:()=>i});const i=64,a=80,o=22,r="HeaderContent",l=671,s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},328939:(e,t,n)=>{n.d(t,{fv:()=>_,GR:()=>p,Hs:()=>y,Mv:()=>m,uc:()=>g,dL:()=>h,qS:()=>v,Y4:()=>x,HE:()=>b,Cy:()=>f});var i=n(667294),a=n(973935),o=n(388011),r=n(906215),l=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),s(this,"observe",(()=>{try{if(this.node=(0,a.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=this.props.eventData;r.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||t||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),s(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}})}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&r.Z.stop(this.node)}render(){return i.Children.only(this.props.children)}}function c(e){const{logImpression:t}=(0,o.v)();return(0,l.jsx)(d,{...e,logImpression:t})}function u({auxData:e,component:t,eventData:n,eventType:a,impressionType:l,isPaused:s,objectIdStr:d,viewData:c,viewType:u,viewParameter:p}){const h=(0,i.useRef)(null),{logImpression:m}=(0,o.v)(),g=(0,i.useCallback)((()=>{const i=i=>{var o,r,s,g;m({viewData:c||{},viewType:u,viewParameter:p,eventType:a,impressionType:l,auxData:e,component:t,objectIdStr:d,eventData:{endTime:i.endTime,time:i.startTime,pinCellWidth:(null===(o=h.current)||void 0===o?void 0:o.getBoundingClientRect().width)||0,pinCellHeight:(null===(r=h.current)||void 0===r?void 0:r.getBoundingClientRect().height)||0,windowWidth:null===(s=window)||void 0===s?void 0:s.innerWidth,windowHeight:null===(g=window)||void 0===g?void 0:g.innerHeight,...n}})};try{if(h.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=n;r.Z.start(h.current).onExitViewport(i).setDebugId(e||t||"unknown")}}catch(o){window.console.error('Can only track impressions for type "HTMLElement"')}}),[h.current]);return(0,i.useEffect)((()=>{s||g();const{current:e}=h;return()=>{e instanceof HTMLElement&&r.Z.stop(e)}}),[s,g]),h}const p=e=>(0,l.jsx)(c,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),h=e=>{const t=u({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},m=e=>{const t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},g=e=>{const t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},_=e=>(0,l.jsx)(c,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),v=e=>{const t=u({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},y=e=>(0,l.jsx)(c,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),f=e=>{const t=u({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},b=e=>{const t=u({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},x=e=>{const t=u({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},460914:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(785893);function o({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:o,rounding:r,fullWidth:l=!1,pressState:s="none",accessibilityLabel:d,role:c}){const u=(Array.isArray(s)?s:[s]).includes("compress");return(0,a.jsx)(i.iP,{fullWidth:l,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:o&&(({event:e})=>o(e)),rounding:r,tapStyle:u?"compress":"none",accessibilityLabel:d,role:c,children:e})}},852930:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(616550),a=n(883119),o=n(536042),r=n(874261),l=n(265259),s=n(988014),d=n(282802),c=n(549201),u=n(563962),p=n(618569),h=n(785893);function m({breadcrumb:e,isLastBreadcrumb:t,viewType:n}){var i;const o=t?"secondary":void 0,r=(0,u.Z)(),l=(0,p.Z)();return(0,h.jsx)(a.xu,{color:o,"data-test-id":"breadcrumb",display:"inlineBlock",paddingX:t?2:void 0,paddingY:t?1:void 0,rounding:"pill",children:(0,h.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,h.jsx)(a.rU,{href:null!==(i=e.url)&&void 0!==i?i:"",onClick:({dangerouslyDisableOnNavigation:e})=>{e(),l({action:"click",item:"breadcrumb"}),r({event_type:102,component:176,element:1155,view_parameter:3713,view_type:n})},children:(0,h.jsx)(a.xv,{color:"default",inline:!0,size:"100",overflow:"noWrap",children:e.name})}),!t&&(0,h.jsx)(a.xu,{paddingX:3,display:"inlineBlock",children:(0,h.jsx)(a.xv,{inline:!0,size:"100",color:"default",children:(0,h.jsx)(a.JO,{accessibilityLabel:"breadcrumb arrow",color:"default",icon:"arrow-forward",size:8})})})]})})}var g=n(458672);const _="\n  .article-row {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  ::-webkit-scrollbar {\n    display: none;\n  }\n",v=50.5;function y({direction:e}){return(0,h.jsx)(a.xu,{width:16,height:32,position:"absolute",left:"left"===e,right:"right"===e,dangerouslySetInlineStyle:{__style:{backgroundImage:`linear-gradient(to ${e}, rgba(255, 255, 255, 0), #fff)`}}})}function f({breadcrumbs:e,shouldHideLazyExploreButton:t}){const n=(0,o.ZP)(),u=(0,i.useLocation)(),{origin:p}=(0,d.B)(),f=(0,c.ml)(),b=(0,c.HG)(),[x,k]=f?[2,3]:[4,4],w=(0,s.Q0)(u);let S=!1,P=202;(0,s.uM)(u)?P=3:(0,s.dr)(u)?(P=442,S=!0):(0,s.$Y)(u)||(0,s.E0)(u)?P=1:w&&(S=!0,P=580);const T=w?{name:n.bt("", "Watch", "unauth.header.tabs.videos", undefined, true),url:"/videos/"}:{name:n.bt("", "Explore", "unauth.header.tabs.ideas", undefined, true),url:"/ideas/"},I=[...w||!t?[T]:[],...S?e.slice(0,e.length-1):[...e]];return(0,h.jsxs)(a.xu,{"data-test-id":"breadcrumbs",children:[(0,h.jsx)(r.Z,{unsafeCSS:_}),(0,h.jsx)(l.Z,{children:(0,h.jsx)(a.xu,{"data-test-id":"breadcrumbs-list",display:"flex",height:v,alignItems:"center",direction:"column",paddingY:k,overflow:"scrollX",justifyContent:b?"center":void 0,dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},children:(0,h.jsxs)(a.xu,{display:"flex",alignItems:"center",margin:b?void 0:"auto",paddingX:x,justifyContent:"end",children:[(0,h.jsx)(y,{direction:"left"}),(0,h.jsx)(y,{direction:"right"}),I.map(((e,t,n)=>(0,h.jsx)(m,{breadcrumb:e,isLastBreadcrumb:t===n.length-1,viewType:P},e.url)))]})})}),(0,h.jsx)(g.Z,{type:"application/ld+json",testId:"breadcrumbs-list-metadata",value:{"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:[{name:n.bt("Pinterest", "Pinterest", "unauth.header.tabs.pinterest", undefined, true),url:""},T,...e].map(((e,t)=>{var n;return{"@type":"ListItem",position:t+1,name:e.name,item:`${p}${null!==(n=e.url)&&void 0!==n?n:""}`}}))}})]})}},199727:(e,t,n)=>{n.d(t,{Z:()=>u});var i,a=n(167912),o=n(448709),r=n(819079),l=n(852930),s=n(785893);const d=void 0!==i?i:i=n(766131),c=(0,o.Z)({useGraphQLAdapter:e=>{var t,n,i,o,r;return{breadcrumbs:null!==(t=null===(n=(0,a.useLazyLoadQuery)(d,{pinId:e}).v3GetPinQuery)||void 0===n||null===(i=n.data)||void 0===i||null===(o=i.pinJoin)||void 0===o||null===(r=o.seoBreadcrumbs)||void 0===r?void 0:r.map((({name:e,url:t})=>({name:null!=e?e:"",url:null!=t?t:""}))))&&void 0!==t?t:[],shouldHideLazyExploreButton:!1}},useLegacyAdapter:e=>{var t;const{data:n,isLoaded:i}=(0,r.Z)({name:"PinResource",options:{id:e,field_set_key:"unauth_ssr_lazy_load"}});return{shouldHideLazyExploreButton:!i,breadcrumbs:(null==n||null===(t=n.pin_join)||void 0===t?void 0:t.seo_breadcrumbs)||[]}}});function u({pinId:e,shouldUseGraphQL:t}){return(0,s.jsx)(c,{input:t?{enabled:!0,data:e,suspense:{fallback:(0,s.jsx)(l.Z,{breadcrumbs:[],shouldHideLazyExploreButton:!0})}}:{enabled:!1,data:e},children:({data:{breadcrumbs:e,shouldHideLazyExploreButton:t}})=>(0,s.jsx)(l.Z,{breadcrumbs:e,shouldHideLazyExploreButton:t})})}},94339:(e,t,n)=>{n.d(t,{G:()=>p,Kl:()=>h,vo:()=>u});var i=n(667294),a=n(583592),o=n(170567),r=n(133244),l=n(785893);const s=()=>n.e(90616).then(n.bind(n,390616)),{Provider:d,useHook:c}=(0,a.Z)("NativeEngagements");function u({children:e}){const[t,n]=(0,r.Z)(s,[]),a=e=>{n({type:"FETCH_COMPLETE",payload:e})};(0,o.Z8)("NativeInteractionsResource",a),(0,o.my)("NativeInteractionsResource",a);const c=(0,i.useMemo)((()=>({dispatch:n,nativeEngagements:t})),[n,t]);return(0,l.jsx)(d,{value:c,children:e})}function p(){const{dispatch:e}=c();return(0,i.useMemo)((()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}})),[e])}function h(){const{nativeEngagements:e}=c();return e}},369050:(e,t,n)=>{n.d(t,{U:()=>l,m:()=>s});var i=n(667294),a=n(583592),o=n(785893);const{Provider:r,useHook:l}=(0,a.Z)("NavFooterContext");function s({children:e}){const[t,n]=(0,i.useState)(),[a,l]=(0,i.useState)(!1),[s,d]=(0,i.useState)(0),[c,u]=(0,i.useState)(!1),[p,h]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1);return(0,o.jsx)(r,{value:{forceShowNavFooter:m,homeFlyoutText:t,isNavFooterHiddenAfterScroll:a,numUnauthSavedPins:s,setForceShowNavFooter:g,setHomeFlyoutText:n,setIsNavFooterHiddenAfterScroll:l,setNumUnauthSavedPins:d,setShowHomeBadge:u,setShowHomeFlyoutWithButton:h,showHomeBadge:c,showHomeFlyoutWithButton:p},children:e})}},360675:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(558533);const o=new i.H3([a.Z])},199999:(e,t,n)=>{n.d(t,{D:()=>a,a:()=>o});var i=n(583592);const{Provider:a,useMaybeHook:o}=(0,i.Z)("unauthPageWrapperContext")},913137:(e,t,n)=>{n.d(t,{o:()=>r});var i=n(611756),a=n(539130),o=n(619277);const r=({canUpsellNativeApp:e})=>{let t;if("undefined"==typeof window)return t;const n=(0,i.qn)(o.CP),r=!!(n&&Date.now()-Number(n)<864e5),l=(0,i.qn)(o.X)||0,s=Number(l)>=3,d=(0,i.qn)(a.V5),c=(Date.now()-Number(d)<a.UH?(0,i.qn)(a.QJ):0)>=a.km;return!e||r||s?c||(t="saveSend"):t="appUpsell",t}},105848:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(883119),a=n(536042),o=n(734417),r=n(630089),l=n(31407),s=n(282802),d=n(846226),c=n(458870),u=n(785893);const p=({rating:e,textSize:t,type:n})=>{if("single"===n){const n=parseFloat(e);return Number.isNaN(n)?null:(0,u.jsxs)(i.kC,{alignItems:"center",children:[(0,u.jsx)(l.A,{fill:"full",width:12}),(0,u.jsx)(i.xv,{size:t,children:n.toFixed(1)})]})}return(0,u.jsx)(l.Z,{rating:e,width:12})},h=({bracket:e,count:t,countFormat:n,countType:l,marginStart:c,textSize:p,underline:h})=>{const{locale:m}=(0,s.B)(),g=(0,a.ZP)(),_=(0,o.Z)();if(null==t)return null;let v=_(m,t,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===n){const e="review"===l?g.nbt(["{{ count }} "], t, "webapp.app.www-unified.productStarRatings.RatingCountText", true):g.nbt(["{{ count }} "], t, "webapp.app.www-unified.productStarRatings.RatingCountText", true);v=(0,r.nk)(e,{count:t}).join("")}return e&&(v=`(${v})`),(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:h?"1px solid gray":"none"}},marginStart:c,children:(0,u.jsx)(i.xv,{color:h?"subtle":"default",size:p,underline:h,children:(0,u.jsx)(d.Z,{id:"ratings-count-text",display:"inlineBlock",children:v})})})};function m({bracket:e,count:t,countFormat:n,countType:a,rating:o,textSize:r,underline:l}){return(0,c.Z)({count:t,rating:o})?(0,u.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(p,{rating:o,textSize:r,type:"multiple"}),(0,u.jsx)(h,{bracket:e,count:t,countFormat:n,countType:a,textSize:r,underline:l})]}):null}},458870:(e,t,n)=>{function i({count:e,rating:t}){return Boolean(t&&"None"!==t&&Number.isFinite(e))}n.d(t,{Z:()=>i})},537244:(e,t,n)=>{n.d(t,{GY:()=>M,Jg:()=>F,bR:()=>O,fW:()=>z});var i=n(249568),a=n.n(i),o=n(930278),r=n.n(o),l=n(197099),s=n.n(l),d=n(793964),c=n.n(d),u=n(934915),p=n.n(u),h=n(72166),m=n.n(h),g=n(34319),_=n.n(g),v=n(761464),y=n.n(v),f=n(657916),b=n.n(f),x=n(450704),k=n.n(x),w=n(268052),S=n.n(w),P=n(752433),T=n.n(P),I=n(951151),C=n.n(I),A=n(547741),E=n.n(A),j=n(505302),R=n.n(j),D=n(451724),L=n.n(D);const F=["goodIdea","love","thanks","wow","haha"],M={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},O={goodIdea:7,love:1,thanks:13,wow:11,haha:5},z=({i18n:e,type:t})=>({default:{staticAsset:C()},goodIdea:{staticAsset:S(),animatedAsset:a(),gridAsset:m(),label:e.bt("", "Good idea", "Reaction label to tell a creator that their pin is a good idea", undefined, true),htmlStyle:"\n      @keyframes play90 {\n        0% {\n          background-position: 0px 0px;\n        }\n        100% {\n          background-position: -7380px 0px;\n        }\n      }\n    ",animationStyle:"play90 3000ms steps(90) infinite forwards",type:7},haha:{staticAsset:T(),animatedAsset:r(),gridAsset:_(),label:e.bt("", "Haha", "Reaction label to tell a creator that the pinner laughed because of their pin", undefined, true),htmlStyle:"\n      @keyframes play60 {\n        0% {\n          background-position: 0px 0px;\n        }\n        100% {\n          background-position: -4920px 0px;\n        }\n      }\n    ",animationStyle:"play60 2000ms steps(60) infinite forwards",type:5},love:{staticAsset:E(),animatedAsset:s(),gridAsset:y(),label:e.bt("", "Love", "Reaction label to tell a creator that the pinner loved their pin", undefined, true),htmlStyle:"\n      @keyframes play90 {\n        0% {\n          background-position: 0px 0px;\n        }\n        100% {\n          background-position: -7380px 0px;\n        }\n      }\n    ",animationStyle:"play90 3000ms steps(90) infinite forwards",type:1},thanks:{staticAsset:R(),animatedAsset:c(),gridAsset:b(),label:e.bt("", "Thanks", "Reaction label to tell a creator thank you", undefined, true),htmlStyle:"\n      @keyframes play60 {\n        0% {\n          background-position: 0px 0px;\n        }\n        100% {\n          background-position: -4920px 0px;\n        }\n      }\n    ",animationStyle:"play60 2000ms steps(60) infinite forwards",type:13},wow:{staticAsset:L(),animatedAsset:p(),gridAsset:k(),label:e.bt("", "Wow", "Reaction label to tell a creator that the pinner was wowed by their pin", undefined, true),htmlStyle:"\n      @keyframes play90 {\n        0% {\n          background-position: 0px 0px;\n        }\n        100% {\n          background-position: -7380px 0px;\n        }\n      }\n    ",animationStyle:"play90 3000ms steps(90) infinite forwards",type:11}}[t]||null)},154500:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var i=n(667294),a=n(702664),o=n(883119),r=n(563962),l=n(536042),s=n(819079),d=n(90046),c=n(460914),u=n(471819),p=n(537244),h=n(785893);const m="cubic-bezier(0, 0, 0.58, 1)",g={loaded:{opacity:1,transitionDuration:"0.20s",transitionTimingFunction:m,transitionProperty:"transform, opacity",transform:"translate(0, 5px)",transformOrigin:"center"},fade:{opacity:.1,transitionDuration:"0.30s",transitionTimingFunction:m,transitionProperty:"transform, opacity",transform:"translate(0, 5px)",transformOrigin:"center"}};function _({reactionLabel:e,handleHideConfirmation:t}){const[n,a]=(0,i.useState)("loaded"),r=(0,i.useRef)();return(0,i.useEffect)((()=>{r.current=requestAnimationFrame((()=>{setTimeout((()=>a("fade")),1e3),setTimeout((()=>t()),1300)}))}),[]),(0,h.jsx)(o.xu,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",children:(0,h.jsx)(o.xu,{rounding:"pill",position:"absolute",color:"selected",ref:r,height:"20px",display:"flex",alignItems:"center",justifyContent:"center",paddingY:1,paddingX:2,dangerouslySetInlineStyle:{__style:{...g[n],whiteSpace:"nowrap"}},children:(0,h.jsx)(o.xv,{color:"inverse",size:"100",weight:"bold",overflow:"normal",children:e})})})}var v=n(874261);const y=32,f=24,b="cubic-bezier(0.25, 0.1, 0.25, 1)",x={icon:{backgroundRepeat:"no-repeat",backgroundSize:"cover"},loading:{opacity:0,transitionDuration:"0.25s",transitionTimingFunction:b,transitionProperty:"transform, opacity",transform:"translateZ(0) translateY(25px) scale(1.28)"},loaded:{opacity:1,transitionDuration:"0.25s",transitionTimingFunction:b,transitionProperty:"transform, opacity",transform:"translateZ(0) translateY(0px) scale(1.28)"},clicked:{transitionDuration:"0.25s",transitionTimingFunction:b,transitionProperty:"transform",transform:"translateZ(0) translateY(-50px) scale(1.2)"},flying:{transitionDuration:"0.25s",transitionTimingFunction:b,transitionProperty:"transform"},label:{transitionDuration:"0.25s",transitionTimingFunction:b,transitionProperty:"transform",transform:"translateZ(0) translateY(0) scale(0.8)",whiteSpace:"nowrap"},fading:{opacity:0,transitionDuration:"0.25s",transitionTimingFunction:b}},k={boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)"};function w({handleReactionClick:e,isIdeaPinCloseUp:t,reactionButtonRect:n,shouldShowReactionTrayUp:a,viewType:s,viewParameter:d,reactionPickerRef:u}){const m=(0,l.ZP)(),g=(0,r.Z)(),[_,b]=(0,i.useState)("loading"),[w,S]=(0,i.useState)(""),[P,T]=(0,i.useState)(),[I,C]=(0,i.useState)(),[A,E]=(0,i.useState)(!1),[j,R]=(0,i.useState)({}),D=(0,i.useRef)(),L=(0,i.useRef)({}),F=()=>{E(!0);const e={...j};p.Jg.forEach((t=>{L.current[t]&&!e[t]&&(e[t]=L.current[t].getBoundingClientRect())})),R(e)};(0,i.useEffect)((()=>{"loading"===_&&(D.current=requestAnimationFrame((()=>b("loaded")))),!P&&A&&(()=>{const e={...P};p.Jg.forEach((t=>{const i=j[t],{left:a,top:o}=n,{left:r,top:l}=i,s=a-r-7+1.25*p.Jg.indexOf(t),d=o-l-8.5;e[t]={translateX:s,translateY:d}})),T(e)})()}),[A]);const M=()=>{document.body&&document.body.style&&(document.body.style.overflow="hidden")},O=()=>{document.body&&document.body.style&&(document.body.style.overflow="unset")},z=e=>{let t;return A&&p.Jg.forEach((n=>{const i=j[n];if(i&&i.left&&i.right){const{left:a,right:o}=i;e>=a&&e<=o&&(t=n)}})),t||null},Z=t=>{F(),M();const n=t,{clientX:i}=n,a=z(i);if(a!==w&&a){if(I&&w){const{type:e}=(0,p.fW)(a);g({event_type:105,element:11354,view_type:s,view_parameter:d,aux_data:{reaction_type:e,duration:(Date.now()-I)/1e3+" seconds"}})}else!I&&w&&C(Date.now());S(a),b("clicked"),setTimeout((()=>{b("flying"),setTimeout((()=>{e(a)}),800),O()}),750)}},N=p.Jg.map(((e,t)=>{const n={transitionDelay:t/p.Jg.length*.2+"s"};let i={};P&&(i={transform:`translateZ(0) translateX(${P[e].translateX}px) translateY(${P[e].translateY}px) scale(1)`});const{staticAsset:a,animatedAsset:r,label:l,htmlStyle:s,animationStyle:d}=(0,p.fW)({i18n:m,type:e});return(0,h.jsx)(o.xu,{display:"flex",alignSelf:"center",children:(0,h.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{zIndex:e===w&&"clicked"===_?"3":"2"}},children:(0,h.jsxs)(o.xu,{maxHeight:"flying"===_?f:y,maxWidth:"flying"===_?f:y,dangerouslySetInlineStyle:{__style:{..."loading"===_||"loaded"===_||w===e&&"clicked"===_||w===e&&"flying"===_?x[_]:{},...w===e||"clicked"!==_&&"flying"!==_?{}:x.loaded,..."loading"===_||"loaded"===_?n:{},...w===e&&"flying"===_?i:{},...w!==e&&"flying"===_?x.fading:{},transformOrigin:"left"}},display:"flex",alignItems:"center",justifyContent:"center",position:"relative",children:[w!==e&&(0,h.jsx)(o.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,h.jsx)(o.xu,{width:y,height:y,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${a})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})}),(0,h.jsxs)(o.xu,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column",position:"relative",children:[(0,h.jsx)(v.Z,{unsafeCSS:s}),w===e&&"clicked"===_&&(0,h.jsx)(o.xu,{rounding:"pill",color:"selected",height:20,dangerouslySetInlineStyle:{__style:x.label},display:"flex",alignItems:"center",justifyContent:"center",paddingY:1,paddingX:2,children:(0,h.jsx)(o.xv,{color:"inverse",size:"100",weight:"bold",overflow:"normal",children:l})}),(0,h.jsx)(c.Z,{onTouch:Z,pressState:"none",children:(0,h.jsx)(o.xu,{width:w===e&&"flying"!==_?82:"flying"===_?f:y,height:w===e&&"flying"!==_?82:"flying"===_?f:y,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{...x.icon,...w===e&&"clicked"===_?{animation:d}:{},backgroundImage:`url(${r})`}},ref:t=>{L.current[e]=t}})})]})]})})},t)}));return(0,h.jsx)(o.xu,{children:(0,h.jsx)(o.xu,{ref:u,"data-test-id":"reaction-tray",top:!0,left:!0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{marginLeft:t?-295:0,marginTop:a?-80:80,userSelect:"none"}},children:(0,h.jsx)(o.Le,{top:0,children:(0,h.jsx)(o.xu,{color:"flying"===_?"transparent":"default",width:300,height:80,display:"flex",alignItems:"center",rounding:"pill",justifyContent:"center",dangerouslySetInlineStyle:{__style:{..."flying"!==_?k:{},userSelect:"none"}},children:(0,h.jsx)(o.xu,{width:"100%",children:(0,h.jsx)(o.xu,{display:"flex",justifyContent:"evenly",onTouchStart:()=>{F()},onTouchMove:e=>{M();const{clientX:t}=e.touches[0],n=z(t);if(n!==w){if(I&&w&&n&&(0,p.fW)(n)){const{type:e}=(0,p.fW)(n);g({event_type:105,element:11354,view_type:s,view_parameter:d,aux_data:{reaction_type:e,duration:(Date.now()-I)/1e3+" seconds"}})}else!I&&w&&C(Date.now());S(n)}b("clicked")},onTouchEnd:()=>{w&&(b("flying"),setTimeout((()=>{e(w)}),325)),O()},children:N})})})})})})}var S=n(580691);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends i.PureComponent{static getDerivedStateFromProps(e,t){const{reactions:n,viewer:i}=e,{isReactionsLoaded:a}=t;if(n.length>0&&!a){let e=!1,t=0;return n.forEach((n=>{i&&i.id&&n&&n.user===i.id&&(e=!0,t=n.reaction_type)})),{didViewerReact:e,userReaction:t?p.GY[t]:"",isReactionsLoaded:!0}}return null}constructor(e){super(e),P(this,"state",{isReactionTrayShowing:!1,reactionButtonRect:null,showConfirmation:!1,didViewerReact:!1,userReaction:null,isReactionsLoaded:!1}),P(this,"trayCloseTimer",null),P(this,"observer",null),P(this,"reactionPickerRef",(0,i.createRef)()),P(this,"handleClickOutside",(e=>{var t;const{isReactionTrayShowing:n}=this.state;n&&this.reactionPickerRef&&e.target instanceof Element&&(null===(t=this.reactionPickerRef.current)||void 0===t||!t.contains(e.target))&&this.setState({isReactionTrayShowing:!1})})),P(this,"setReactionButtonRect",(()=>{if(this.reactionButton){var e;const t=this.reactionButton.getBoundingClientRect(),{height:n,width:i,top:a,right:o}=t,r=document.createElement("div");r.style.height=n+"px",r.style.width=i+"px",r.style.top=a+"px",r.style.right=o+"px",r.style.position="absolute",r.style.zIndex="-1",null===(e=document.body)||void 0===e||e.append(r),this.setState({reactionButtonRect:t})}})),P(this,"handleIconPositionChange",(e=>{e.forEach((e=>{e.intersectionRatio<1&&this.setReactionButtonRect()}))})),P(this,"handleScroll",(()=>{const{isReactionTrayShowing:e}=this.state;e&&this.hideReactionTray(),this.setReactionButtonRect()})),P(this,"onReactionClick",(e=>{const{addReaction:t,i18n:n,reactionPinId:i,userId:a,clientTrackingParams:o,incrementReactionCount:r,pinId:l}=this.props,{type:s}=(0,p.fW)({i18n:n,type:e});t(s,i,a,o),r(l,s),this.handleShowConfirmation()})),P(this,"handleShowConfirmation",(()=>{this.setState({showConfirmation:!0})})),P(this,"handleHideConfirmation",(()=>{this.setState({showConfirmation:!1})})),P(this,"handleReactionClick",(e=>{this.setState({userReaction:e,didViewerReact:!0},(()=>{this.onReactionClick(e),this.trayCloseTimer=setTimeout(this.hideReactionTray,250)}))})),P(this,"hideReactionTray",(()=>{this.setState({isReactionTrayShowing:!1})})),P(this,"handleClick",(e=>{const{didViewerReact:t,userReaction:n}=this.state,{removeReaction:i,reactionPinId:a,userId:o,requireAuthForLimitedLogin:r,decrementReactionCount:l,pinId:s,logContextEvent:d}=this.props;e.stopPropagation(),e.preventDefault(),t||d({event_type:103,element:11354,object_id_str:this.props.pinId,view_type:3,view_parameter:156}),r({fn:()=>{t?(i(a,o),n&&l(s,p.bR[n]),this.setState({isReactionTrayShowing:!1,userReaction:null,didViewerReact:!1})):this.setState({isReactionTrayShowing:!0})}})()})),P(this,"handleOneClickReact",(()=>{const{didViewerReact:e,userReaction:t}=this.state,{removeReaction:n,reactionPinId:i,userId:a,requireAuthForLimitedLogin:o,decrementReactionCount:r,pinId:l,logContextEvent:s}=this.props;e||s({event_type:103,element:11354,object_id_str:this.props.pinId,view_type:3,view_parameter:156}),o({fn:()=>{e?(n(i,a),t&&r(l,p.bR[t]),this.setState({userReaction:null,didViewerReact:!1})):this.onReactionClick("love")}})()})),this.reactionPickerRef=(0,i.createRef)(),this.handleClickOutside=this.handleClickOutside.bind(this)}componentDidMount(){this.observer=new window.IntersectionObserver(this.handleIconPositionChange),this.reactionButton&&this.observer.observe(this.reactionButton),this.setReactionButtonRect(),window.addEventListener("scroll",this.handleScroll),window.addEventListener("mouseover",this.setReactionButtonRect),window.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("mouseover",this.setReactionButtonRect),window.removeEventListener("mousedown",this.handleClickOutside),clearTimeout(this.trayCloseTimer)}render(){const{isReactionTrayShowing:e,reactionButtonRect:t,userReaction:n,showConfirmation:i,didViewerReact:a}=this.state,{experience:r,i18n:l,nativePinType:s,isIdeaPinCloseUp:u,iconColor:m,isTextButton:g=!1}=this.props,v=a&&n?n:"default",{animatedAsset:y,staticAsset:b,label:x}=(0,p.fW)({i18n:l,type:v}),k=a&&y?y:b;return(0,h.jsxs)(o.xu,{position:"relative",children:[e&&!!t&&!!t.left&&!!t.top&&(0,h.jsx)(w,{isIdeaPinCloseUp:u,handleReactionClick:this.handleReactionClick,reactionButtonRect:t,shouldShowReactionTrayUp:"storyPin"===s,viewParameter:156,viewType:3,reactionPickerRef:this.reactionPickerRef}),(0,h.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",children:(0,h.jsx)(c.Z,{onTouch:g?this.handleOneClickReact:this.handleClick,rounding:"circle",pressState:"none",children:g?(0,h.jsx)(o.xv,{weight:"bold",children:l.bt("", "React", "Closeup.ReactionPicker.Text", undefined, true)}):(0,h.jsx)(o.xu,{rounding:"circle",display:"flex",alignItems:"center",justifyContent:"center",padding:3,children:(0,h.jsxs)(o.xu,{width:f,height:f,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",children:[(0,h.jsx)(o.xu,{ref:e=>{this.reactionButton=e},display:"flex",alignItems:"center",justifyContent:"center",children:(0,h.jsx)(o.kC,{alignItems:"center",height:f,justifyContent:"center",width:f,children:a&&n?(0,h.jsx)(o.xu,{width:f,height:f,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:`url(${k})`}}}):(0,h.jsx)(o.hU,{accessibilityLabel:l.bt("", "React", "Accessibility label for reacting to a Pin", undefined, true),size:"lg",icon:"heart-outline",iconColor:m||"darkGray"})})}),(0,h.jsx)(o.xu,{position:"absolute",left:!0,top:!0,right:!0,children:!e&&!i&&!a&&(0,h.jsx)(d.Z,{experience:r,eligibleIds:[501979,501996],color:"blue",children:()=>null})})]})})})}),i&&!!n&&x&&(0,h.jsx)(_,{reactionLabel:x,handleHideConfirmation:this.handleHideConfirmation})]})}}function I(e){const t=(0,a.useDispatch)();(0,s.Z)({name:"ReactionsResource",options:{pin_id:e.pinId,user_id:e.userId}});const n=(0,a.useSelector)((({feeds:t})=>t[`reactions:${e.pinId}`]||[])),i=(0,a.useSelector)((({reactions:e})=>n.length>0?n.map((t=>e[t.id])):[])),o=n.length>0?n[0].id.split(":")[0]:"",d=(0,a.useSelector)((({session:e,users:t})=>t[e.userId])),c=(0,a.useSelector)((({session:e})=>e.userId));return(0,h.jsx)(T,{...e,addReaction:(n,i,a,o)=>t((0,S.Gy)(e.pinId,n,i,a,o)),decrementReactionCount:(e,n)=>t((0,S.Ps)(e,n)),i18n:(0,l.ZP)(),incrementReactionCount:(e,n)=>t((0,S.xQ)(e,n)),logContextEvent:(0,r.Z)(),reactionPinId:o,reactions:i,removeReaction:(n,i,a)=>t((0,S.G3)(e.pinId,n,i,a)),requireAuthForLimitedLogin:(0,u.Z)(),userId:c,viewer:d})}},190253:(e,t,n)=>{function i(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,n)=>e[n]-e[t])).slice(0,3)}return null}function a(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function o({boardIsCollaborative:e,isDownstreamPromotion:t,isPromoted:n,storyPinDataId:i,videosId:a,isEligibleForStaticImageIdeaPin:o}){return!(n||t||!a&&!i||null!=e&&e||o)}n.d(t,{At:()=>i,J6:()=>o,Ud:()=>a})},107877:(e,t,n)=>{n.d(t,{bn:()=>l,fJ:()=>d,gC:()=>s});var i=n(702664),a=n(583592),o=n(785893);const{Provider:r,useHook:l}=(0,a.Z)("Boards");function s(){const e=l();return t=>e[t]}function d({children:e}){const t=(0,i.useSelector)((({boards:e})=>e),i.shallowEqual);return(0,o.jsx)(r,{value:t,children:e})}},525104:(e,t,n)=>{n.d(t,{AF:()=>l,H0:()=>s,S6:()=>d,_S:()=>c});var i=n(702664),a=n(583592),o=n(785893);const{Provider:r,useHook:l,useMaybeHook:s}=(0,a.Z)("Pins");function d(){const e=l();return t=>e[t]}function c({children:e}){const t=(0,i.useSelector)((({pins:e})=>e),i.shallowEqual);return(0,o.jsx)(r,{value:t,children:e})}},712968:(e,t,n)=>{n.d(t,{Tt:()=>u,cm:()=>c,kW:()=>s,kY:()=>p,mN:()=>d});var i=n(702664),a=n(583592),o=n(802071),r=n(785893);const{Provider:l,useHook:s}=(0,a.Z)("Users");function d(){const e=s();return t=>e[t]}function c(){const e=s();return t=>{const n=Object.keys(e).find((n=>e[n].username===t));return e[null!=n?n:""]}}function u(){const{id:e}=(0,o.Z)();return s()[null!=e?e:""]}function p({children:e}){const t=(0,i.useSelector)((({users:e})=>e),i.shallowEqual);return(0,r.jsx)(l,{value:t,children:e})}},526007:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),a=n(782677),o=n(883119),r=n(690108),l=n(527386),s=n(536042),d=n(630089),c=n(756513),u=n(348597),p=n(28557),h=n(907310),m=n(785893);const g=e=>({duration:5e3,thumbnail:(0,m.jsx)(o.xu,{"data-test-id":"pin-save-toast",width:48,height:48,children:(0,m.jsx)(h.Z,{boardId:e})})});var _=n(550140),v=n(802071);function y({hideToast:e,newPin:t,originalPinId:n}){var i,a;const r=(0,s.ZP)(),l=(0,v.Z)();return(0,m.jsx)(_.ZP,{primaryAction:{accessibilityLabel:r.bt(" Pin ", "Change saved Pin button", "RepinRequest.a11yChangeButton", undefined, true),href:`/pin/${t.id}/repin/?isEditingPin=true&pinBoardId=${null!==(i=null===(a=t.board)||void 0===a?void 0:a.id)&&void 0!==i?i:""}&&isFromToast=true&&originalPinId=${null!=n?n:""}`,label:r.bt("", "Change", "RepinRequest.ChangeButton", undefined, true),size:"lg",onClick:e},duration:5e3,onHide:e,text:(0,m.jsxs)(o.xv,{children:[(0,m.jsx)(o.xv,{inline:!0,children:r.bt(" ", "Saved to ", "RepinRequest.ProfileSaveToastText", undefined, true)}),(0,m.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(o.rU,{display:"inlineBlock",href:l.isAuth?`/${l.username}/_saved`:"/",target:"self",underline:"hover",children:r.bt("", "Profile", "RepinRequest.ProfileSaveToastText.Profile", undefined, true)})})]}),thumbnail:{icon:(0,m.jsx)(o.JO,{accessibilityLabel:r.bt("", "Profile", "RepinRequest.ProfileIcon", undefined, true),icon:"history",size:22})}})}var f=n(894788),b=n(255655);const x="RepinResource",k=({board:e,section:t})=>{const n=(0,s.ZP)(),a="quick_saves"===(null==e?void 0:e.layout)?n.bt("", "Profile", "EditPin.Quicksaves.BoardName", undefined, true):e.name;return t?(0,d.nk)(n.bt(" {{sectionName}}  {{boardName}}", "Saved to {{sectionName}} in {{boardName}}", "Toast for successfully saving to a section within a board", undefined, true),{sectionName:t&&t.title,boardName:e.name}).join(""):(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(o.xv,{color:"default",children:n.bt("", "Saved to", "Saved to {{ boardName }}", undefined, true)}),(0,m.jsx)(o.xv,{color:"default",weight:"bold",children:a})]})};class w{constructor({boardId:e,dispatch:t,history:n,isOneTapSave:i=!1,isQuickSave:o=!1,onSuccess:r,onUndo:l,originalPinId:s,pinId:d,section:c,showNewUserSavetoProfileAnimation:p=!1,showRepinToasts:h,trackingParams:m,userId:g,viewType:_,historyPush:v,suggestedBoardIds:y,savePinId:f,pinData:{trackingParams:k,viewParameter:w,pinnedToBoardId:S}}){var P,T,I;I=e=>(0,a.Fv)(e.resource_response.data,b.Z[x]),(T="_getNormalizedResponse")in(P=this)?Object.defineProperty(P,T,{value:I,enumerable:!0,configurable:!0,writable:!0}):P[T]=I,this.boardId=e,this.trackingParams=m,this.clientTrackingParams=(0,u.Z)(m.clientTrackingParams||"",k),this.dispatch=t,this.history=n,this.onSuccess=r,this.onUndo=l,this.originalPinId=s,this.pinId=d,this.pinnedToBoardId=m.pinnedToBoardId||(null!=S?S:""),this.showNewUserSavetoProfileAnimation=p,this.showRepinToasts=h,this.section=c,this.isOneTapSave=i,this.isQuickSave=o,this.userId=g,this.viewType=null!=_?_:3,this.historyPush=v,this.suggestedBoardIds=y,this.savePinId=f,this.pinViewParameter=w}get resourceOptions(){var e;return{pin_id:this.pinId,board_id:this.boardId,section:null===(e=this.section)||void 0===e?void 0:e.id,clientTrackingParams:this.clientTrackingParams,user_id:this.userId}}get trackingData(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:this.pinViewParameter,object_id_str:this.pinId,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId,is_profile_save:!this.boardId,pin_id:this.pinId,suggested_boards:this.suggestedBoardIds}}}_createRepin(){return r.Z.create(x,{...this.resourceOptions,disable_event_log_info:!0}).callCreate()}processRepin(e){return this._createRepin().then((t=>{this.onSuccess&&this.onSuccess();const n=t.resource_response.data,{board:i}=n,{isQuickSave:a,originalPinId:r,showNewUserSavetoProfileAnimation:d}=this,u=({hideToast:e})=>{var t;if(a&&!d)return(0,m.jsx)(y,{hideToast:e,newPin:n,originalPinId:r});const{thumbnail:l}=g(i.id);return(0,m.jsx)(p.Z,{button:(0,m.jsx)(s.oz,{children:e=>(0,m.jsx)(o.zx,{fullWidth:!0,onClick:({event:t})=>{t.preventDefault(),t.stopPropagation();const{onUndo:a}=this;var o;a&&!d?a(this.pinId,n.id,i.id,null===(o=this.section)||void 0===o?void 0:o.id,e):d&&this.historyPush(`/pin/${n.id}/repin/?isEditingPin=true&pinBoardId=${i.id}&&isFromToast=true&&originalPinId=${null!=r?r:""}`)},text:d?e.bt("", "Organize", "RepinRequest.OrganizeButton", undefined, true):e.bt("", "Undo", "RepinRequest.UndoButton", undefined, true)})}),href:this.section?`${i.url}${null!==(t=this.section.slug)&&void 0!==t?t:""}`:i.url,isRepinToExistingBoard:!0,onHide:e,text:(0,m.jsx)(k,{board:i,section:this.section}),thumbnail:l})},h=this._getNormalizedResponse(t);if(this.dispatch((0,c.XM)(x,this.resourceOptions,t,h)),this.savePinId(this.resourceOptions.pin_id,n.id),this.originalPinId&&this.originalPinId!==this.resourceOptions.pin_id){const e={...this.resourceOptions,pin_id:this.originalPinId};this.dispatch((0,c.XM)(x,e,t,h)),this.savePinId(this.originalPinId||"",n.id)}this.dispatch((0,f.M)(n.id,i.id,this.section?this.section.id:void 0,this.userId));const{showRepinToasts:_}=this;return _&&_(u),this.dispatch((0,l.fO)({event_type:5})),e(this.trackingData),n}))}}},428876:(e,t,n)=>{n.d(t,{Z:()=>Z});var i=n(702664),a=n(883119),o=n(377234),r=n(765456),l=n(536042),s=n(282802),d=n(819079),c=n(549201),u=n(712968),p=n(667294),h=n(527386),m=n(245410),g=n(802071),_=n(843843),v=n(616550),y=n(563962),f=n(550140),b=n(525571),x=n(618569),k=n(63262),w=n(994405),S=n(624524),P=n(471819),T=n(369050),I=n(383755),C=n(260070);var A=n(648575),E=n(252315),j=n(785893);const R=()=>{};function D({clientTrackingParams:e,experience:t,hasSaveHandoffExperience:n,onError:a,onTouch:o,onUnsave:r,pinId:s,pinnedToBoardId:d,shouldShowSavedButton:c,showSingleToast:g}){const _=(0,l.ZP)(),D=(0,y.Z)(),L=(0,x.Z)(),F=(0,i.useDispatch)(),M=(0,v.useHistory)(),O=(0,v.useLocation)(),{showToast:z}=(0,k.F9)(),Z=function({showSingleToast:e}){const t=(0,i.useDispatch)(),n=(0,k.F9)()[e?"showOneToast":"showToast"],{forceShowNavFooter:a,setForceShowNavFooter:o}=(0,T.U)(),r=(0,i.useSelector)((({session:e})=>e.shouldHideNavBar));return(e,i)=>{i||(r&&t((0,C.Cp)()),t((0,C.WF)()),a||o(!0)),setTimeout((()=>{i||(r&&t((0,C.FK)()),t((0,C.a5)()),a||o(!1)),n(e)}),I.Tt)}}({showSingleToast:g}),N=(0,E.M)(),U=O.pathname.startsWith("/pin"),B=(0,i.useSelector)((({session:e})=>e.hasSavedUnauthPin)),K=(0,i.useSelector)((({session:e})=>e.unauthSavePinId)),V=(0,u.Tt)(),H=null==V?void 0:V.pin_count,G=(0,p.useRef)(null),W=n&&!B,$=(0,P.Z)(),{checkExperiment:q}=(0,m.F)(),Y=(0,b.Z)(null==V?void 0:V.created_at)||q("mweb_show_repin_toast_animation_to_res_user").anyEnabled,J=(0,w.J)(),X=e=>M.push(e),Q=s?()=>{var i;D({event_type:102,element:11933}),F((0,A.Z)({history:M,i18n:_,logContextEvent:D,onSuccess:()=>{t&&F((0,h.CK)(t.placement_id,t.experience_id))},originalPinId:s,pinId:s,trackingParams:{clientTrackingParams:e,pinnedToBoardId:d},showNewUserSavetoProfileAnimation:Y,showRepinConfirmation:n&&!U?()=>{}:Z,disableRepinAnimation:K===s,pinCount:H,historyPush:X,savePinId:null!==(i=null==N?void 0:N.save)&&void 0!==i?i:()=>{}})).catch((e=>{z((({hideToast:t})=>(0,j.jsx)(f.ZP,{type:"error",text:e.message||_.bt("", "Sorry! Something went wrong on our end.", "quickSave.toast.error.message", undefined, true),onHide:t}))),null==a||a()}))}:R;if((0,p.useEffect)((()=>{W&&!G.current&&s&&!q(J).anyEnabled&&(L({action:"trigger",item:"unauth-save-button-quicksave"}),D({event_type:14581}),Q(),F((0,C.e2)())),G.current=W})),!s)return null;return $({fn:e=>{e.stopPropagation(),e.preventDefault(),o&&o(e),c?c&&r&&r(e):Q()},modalHeader:(0,S.Bx)(_)})}var L=n(196039);const F=({onTap:e,shouldShowSavedButton:t,text:n})=>(0,j.jsx)(a.iP,{onTap:({event:t})=>{null==e||e(t)},rounding:"pill",fullWidth:!1,children:(0,j.jsx)(a.xu,{color:t&&(0,o.Yc)()?"lightWash":"primary",height:L.oe,rounding:L.dX,display:"flex",justifyContent:"center",alignItems:"center",paddingX:L.rM,paddingY:L.Ai,children:(0,j.jsx)(a.xv,{color:t?"dark":"light",weight:"bold",size:n.length>5?"100":"300",children:n})})}),M=({buttonText:e,clientTrackingParams:t,color:n="red",deviceType:o,experience:r,hasQuickSave:s,hasSaveHandoffExperience:d,inline:c=!0,isLegoSaveStyle:u,isOnIdeaPinCloseup:v,onTouch:y,onUnsave:f,pinId:b,pinnedToBoardId:x,shape:k,shouldShowSavedButton:w,to:S,viewParameter:P,viewType:T,mwebTapToZoomExpEnabled:I})=>{const C=(0,l.ZP)(),A=(0,i.useDispatch)(),E=(0,g.Z)(),{checkExperiment:R}=(0,m.F)();(0,p.useEffect)((()=>{r&&r.placement_id&&A((0,h.UT)(r.placement_id,r.experience_id))}),[r,A]);const L=D({clientTrackingParams:t,experience:r,hasSaveHandoffExperience:d,onTouch:y,onUnsave:f,pinId:b,pinnedToBoardId:x,shouldShowSavedButton:w});let M=0;E.boardCount&&(M+=E.boardCount),E.secretBoardCount&&(M+=E.secretBoardCount);const O="number"==typeof E.pinCount&&E.pinCount>2||M>1,z=s&&!(O&&R("board_picker_holdout").anyEnabled),Z={accessibilityLabel:C.bt("Pin ", "Pin", "Pin accessibility label", undefined, true),color:n,inline:u?void 0:c,minHeight:u?48:void 0,onTouch:z?L:y,onUnsave:z?L:f,pressState:"compress",shape:u?"pill":k,size:"lg",text:e||C.bt("", "Save", "Auth mobile web save button for pin closeup", undefined, true),to:S,unsaveAccessibilityLabel:C.bt("", "Saved", "SaveButton.ExperimentalSavedButtonAccessibilityLabel", undefined, true)};let N=w?(0,j.jsx)(a.zx,{text:Z.text,accessibilityLabel:Z.unsaveAccessibilityLabel,size:Z.size,fullWidth:Z.inline,onClick:({event:e})=>{var t;null===(t=Z.onUnsave)||void 0===t||t.call(Z,e)},color:I?"white":void 0,selected:!I}):(0,j.jsx)(_.Ai,{...Z,deeplinkUri:"deeplinkUri",upsellType:"save",viewType:T,viewParameter:P,clientTrackingParams:t,deviceType:o});return v&&"desktop"!==o&&(N=w?(0,j.jsx)(F,{onTap:Z.onUnsave,shouldShowSavedButton:!0,text:Z.text}):(0,j.jsx)(_.MZ,{...Z,clientTrackingParams:t,deeplinkUri:"deeplinkUri",deviceType:o,isActionButton:!0,upsellType:"save",viewParameter:P,viewType:T,children:(0,j.jsx)(F,{onTap:Z.onTouch,shouldShowSavedButton:!1,text:Z.text})})),(0,j.jsx)(a.xu,{"data-test-id":"save-button-mobile",children:N})},O={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1},z=({i18n:e,isSaved:t})=>{const n=(0,o.Yc)()?"darkGray":"white";return t?{buttonText:e.bt("", "Saved", "closeup.savedButton.text", undefined, true),color:n,inline:!1}:Object.freeze({})};function Z({buttonText:e,clientTrackingParams:t,pinId:n,pinnedToBoardId:o,shouldShowSavedButton:p,to:h,mwebTapToZoomExpEnabled:m,...g}){const _=(0,l.ZP)(),v=(0,c.ZP)(),{isAuthenticated:y}=(0,s.B)(),f=(0,u.Tt)(),b=y?f:null,x=z({i18n:_,isSaved:p});(0,d.Z)(b?{name:"UserResource",options:{user_id:b.id,field_set_key:"save_behavior"}}:null);const k=null==b?void 0:b.save_behavior,w=(0,i.useSelector)((({session:e})=>e.unauthSavePinId)),S=y&&!!w,P=(0,r._)({id:1000152}),T=k===O.SAVE_TO_PROFILE||S;return(0,j.jsx)(a.xu,{"data-test-id":"standard-save-button",children:(0,j.jsx)(M,{experience:P,pinnedToBoardId:o,pinId:n,to:h,hasQuickSave:T,shouldShowSavedButton:p,hasSaveHandoffExperience:S,clientTrackingParams:t,deviceType:v,...g,...x,isLegoSaveStyle:!0,mwebTapToZoomExpEnabled:m})})}},539130:(e,t,n)=>{n.d(t,{QJ:()=>a,UH:()=>o,V5:()=>i,km:()=>r});const i="saveSendEducationModalLastDismissed",a="saveSendEducationModalTimesDismissed",o=864e5,r=2},229527:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(883119),o=n(785893);class r extends i.Component{componentDidMount(){this.anchor&&(!this.props.hash||this.props.hash&&`#${this.props.hash}`===window.location.hash)&&(this.anchor.scrollIntoView(),this.props.offset&&window.scrollBy(0,this.props.offset))}render(){const e=this.props.children?i.Children.only(this.props.children):null;return(0,o.jsx)(a.xu,{ref:e=>this.anchor=e,children:e})}}},141418:(e,t,n)=>{n.d(t,{Z:()=>I});var i=n(667294),a=n(702664),o=n(167912),r=n(883119),l=n(943072),s=n(536042),d=n(282802),c=n(819079),u=n(98736),p=n(618569),h=n(348672),m=n(549201),g=n(377234),_=n(88622),v=n(894121),y=n(785893);function f({showFullScreenInfo:e,isOpen:t,interstitialUpsellDismissed:n,children:i}){const a=(0,s.ZP)(),o=(0,m.HG)(),l=(0,m.Wb)();return l||o?(0,y.jsx)(_.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!l,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,y.jsx)(r.xu,{color:(0,g.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,g.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:o?"100vw":"100%",zIndex:new r.Ry(1),children:(0,y.jsx)(r.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:n?0:12,children:i})})}):(0,y.jsx)(v.default,{accessibilityModalLabel:a.bt("", "Close", "Close modal window", undefined, true),isOpen:t,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:a.bt("", "Close", "Close modal window", undefined, true),children:i})}var b,x=n(50169);const k=void 0!==b?b:b=n(599271);function w({dedupeVisualAnnotations:e,iconColor:t,size:n,isMainPin:o,isAuth:c,pinCreditPrefix:g,onClickTitleOrDomain:_,pinId:v,graphqlRef:b}){const k=(0,s.ZP)(),w=(0,p.Z)(),{isBot:S}=(0,d.B)(),{unauthInterstitialDismissed:P}=(0,a.useSelector)((({session:e})=>e)),[T,I]=(0,i.useState)(!1),C=(0,m.HG)(),A=(0,m.Wb)(),E=(0,h.Z)(),j=!A&&!c,R=!C,D=(0,y.jsxs)(r.xu,{padding:5,dangerouslySetInlineStyle:j?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,y.jsx)(r.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,y.jsx)(r.hU,{accessibilityLabel:k.bt("", "Cancel", "close modal icon", undefined, true),icon:"cancel",size:"sm",onClick:()=>{(0,u.My)("mweb.unauth.see_more.dismissed"),w({action:"click",item:"close-seo-vase-see-more-button"}),I(!1),o&&(0,u.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,y.jsx)(r.xu,{marginBottom:j?0:8,children:(0,y.jsx)(r.xv,{align:j?"start":"center",weight:j?void 0:"bold",children:(0,y.jsx)("span",{className:"deprecatedTextSizeXL",children:j?null:k.bt("", "More information", "more information label", undefined, true)})})}),(0,y.jsx)(x.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:g,onClickTitleOrDomain:_,pinId:v,queryRef:b})]});return(0,y.jsxs)(r.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,y.jsx)(r.hU,{accessibilityLabel:k.bt("", "See more", "more information icon", undefined, true),icon:"ellipsis",iconColor:null!=t?t:"gray",size:n||"md",onClick:({event:t})=>{t.stopPropagation(),(0,u.My)("mweb.unauth.see_more.shown."+(o?"main_pin":"related_pins")),w({action:"click",item:"seo-vase-see-more-button"}),A||c?(I(!0),o&&(0,u.My)("mweb.unauth.see_more.main_pin.shown")):E({pinId:v||"",location:o?"main-pin-more-information":"non-main-pin-more-information",vaseSection:(0,y.jsx)(x.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:g,onClickTitleOrDomain:_,pinId:v,queryRef:b})})}}),S&&R?(0,y.jsx)(r.xu,{display:T?"flex":"none",children:D}):(0,y.jsx)(f,{showFullScreenInfo:T,isOpen:T&&!A,interstitialUpsellDismissed:!!P,children:D}),A&&T&&(0,y.jsx)(l.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:D})]})}function S(e){const t=(0,o.useFragment)(k,e.graphqlRef);return(0,y.jsx)(w,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,graphqlRef:t})}function P(e){return(0,y.jsx)(w,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId})}function T(e){return(0,c.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,y.jsx)(P,{...e})}function I(e){return e.graphqlRef?(0,y.jsx)(S,{...e}):e.lazyLoadAnnotations?(0,y.jsx)(T,{...e}):(0,y.jsx)(P,{...e})}},997768:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(563962),a=n(667294),o=n(883119),r=n(133636),l=n(88622),s=n(153091),d=n(646827),c=n(504506),u=n(785893);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=new o.Ry(1),m=({children:e})=>e((0,r.Z)());class g extends a.Component{constructor(...e){super(...e),p(this,"handleDismiss",(()=>{const{onFlyoutDismiss:e}=this.props;e()})),p(this,"onHide",(()=>{this.props.onClick(),this.handleDismiss()})),p(this,"flyoutProps",(()=>{var e;const{gridDescription:t,idealDirection:n,imageSrc:i,pinId:a,userId:o,board:r,sendType:l,fullName:p,profileUrl:h,element:m,viewParameter:g,component:_,viewType:v,onExternalSend:y,showCaret:f,todayArticle:b,ownerId:x}=this.props;let k={description:t,id:a,imageUrl:i,name:"",type:d.d.PIN,url:`/pin/${a}/`,ownerId:x},w=d.d.PIN;switch(l){case"user":k={description:t,id:o,imageUrl:i,name:p,type:d.d.PINNER,url:h},w=d.d.USER;break;case"board":k=r&&{description:r.description,id:r.id,imageUrl:r.imageUrl,name:r.name,type:d.d.BOARD,url:r.url,ownerId:null===(e=r.owner)||void 0===e?void 0:e.id},w=d.d.BOARD;break;case"today_article":k=b&&{description:b.subtitle||"",id:b.id,imageUrl:i,name:b.title,type:d.d.TODAY_ARTICLE,url:(0,s.Z)(b)},w=d.d.TODAY_ARTICLE}const S={element:m,component:_,onHide:this.onHide,onExternalSend:y,sendType:w,sharedObject:k,viewParameter:g,viewType:v};return{anchor:this.flyoutAnchor,idealDirection:n,onDismiss:this.handleDismiss,showCaret:f,children:(0,u.jsx)(c.default,{...S})}}))}toggle(){const{isOwnProfile:e,onToggleFlyout:t,sendType:n,userId:i,logContextEvent:a}=this.props;"user"===n&&a({event_type:101,component:13675,element:1079,object_id_str:i,view_type:4,view_parameter:e?3106:3107}),t()}render(){const{Subject:e,inModal:t,isFlyoutOpen:n,shownWithinMasonry:i,shownWithinProfileHeader:a}=this.props,{anchor:r,idealDirection:s,showCaret:d,children:c}=this.flyoutProps(),p=(0,u.jsx)(o.xu,{children:(0,u.jsx)(m,{children:t=>(0,u.jsx)(e,{handleSendShareFlyoutButtonClick:e=>{t?t():(null!=e&&e.stopPropagation&&e.stopPropagation(),this.toggle())},...this.props})})}),g=n&&(i||a?(0,u.jsx)(o.mh,{zIndex:a?h:void 0,children:(0,u.jsx)(o.xu,{zIndex:t?l.b7:void 0,position:t?"absolute":void 0,top:!!t||void 0,children:(0,u.jsx)(o.J2,{anchor:r,idealDirection:s,onDismiss:()=>{this.handleDismiss()},showCaret:d,size:"flexible",positionRelativeToAnchor:!1,children:c})})}):(0,u.jsx)(o.J2,{anchor:r,idealDirection:s,onDismiss:()=>{this.handleDismiss()},showCaret:d,size:"flexible",children:c}));return(0,u.jsxs)(o.xu,{ref:e=>{e&&(this.flyoutAnchor=e)},dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[p," ",g]})}}function _(e){return t=>{const n=(0,i.Z)();return(0,u.jsx)(g,{Subject:e,logContextEvent:n,...t})}}p(g,"defaultProps",{idealDirection:"down",onClick:()=>{}})},881610:(e,t,n)=>{n.d(t,{l:()=>c,E:()=>d});var i=n(667294),a=n(583592),o=n(170567);function r(e={},t){if("SUGGESTIONS_FETCH_COMPLETE"===t.type){const{payload:a}=t;if("ShareSuggestionsResource"===a.resource){var n;const i=t.payload.response.resource_response.data||[],{term:o=""}=null!==(n=a.options)&&void 0!==n?n:{};return{...e,[o]:i}}if("ShareSuggestionsTypeaheadResource"===a.resource){var i;const n=(t.payload.response.resource_response.data||{}).items||[],{term:o=""}=null!==(i=a.options)&&void 0!==i?i:{};return{...e,[o]:n}}}return e}var l=n(785893);const{Provider:s,useHook:d}=(0,a.Z)("ShareSuggestions");function c({children:e}){const[t,n]=(0,i.useReducer)(r,{}),a=e=>{n({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,o.Z8)("ShareSuggestionsResource",a),(0,o.Z8)("ShareSuggestionsTypeaheadResource",a);const d=(0,i.useMemo)((()=>({shareSuggestions:t})),[t]);return(0,l.jsx)(s,{value:d,children:e})}},554318:(e,t,n)=>{n.d(t,{Z:()=>_,s:()=>g});var i=n(667294),a=n(583592),o=n(608575),r=n(883119),l=n(88622),s=n(536042),d=n(630089),c=n(785893);const u=()=>{var e;const t=(0,s.ZP)(),{dismissWarning:n}=null!==(e=g())&&void 0!==e?e:{};return(0,c.jsx)(r.xu,{paddingX:3,children:(0,c.jsx)(r.zx,{fullWidth:!0,color:"red",onClick:n,text:t.bt("", "Okay", "Dismiss a modal stating that clicking through to a link has been blocked", undefined, true)})})},p=()=>{const e=(0,s.ZP)();return(0,c.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(r.rU,{target:"blank",href:"https://policy.pinterest.com/community-guidelines#section-spam",display:"inlineBlock",underline:"hover",children:e.bt("", "Learn more", "Link text leading to policy website", undefined, true)})})},h=({message:e,sanitized_url:t})=>{var n;const i=(0,s.ZP)(),{dismissWarning:a}=null!==(n=g())&&void 0!==n?n:{};return(0,c.jsx)(l.ZP,{accessibilityModalLabel:i.bt("", "We have blocked this link", "Modal label when clicking a spammy link", undefined, true),onDismiss:a,heading:i.bt("", "Heads up!", "Modal heading when clicking through to a link has been blocked", undefined, true),footer:(0,c.jsx)(u,{}),children:(0,c.jsxs)(r.xu,{padding:6,children:[(0,c.jsx)(r.xv,{children:(0,d.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,c.jsx)(p,{},"learnMoreLink")})}),(0,c.jsxs)(r.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,c.jsx)(r.xu,{marginEnd:3,children:(0,c.jsx)(r.JO,{accessibilityLabel:i.bt("", "Blocked link address", "Icon label preceding a block url", undefined, true),color:"error",icon:"report",inline:!0,size:24})}),(0,c.jsx)(r.xv,{inline:!0,lineClamp:1,weight:"bold",children:o.parse(t).hostname})]})]})})},{Provider:m,useMaybeHook:g}=(0,a.Z)("SpammyClickthrough");function _({children:e}){const[t,n]=(0,i.useState)(null),a=(0,i.useCallback)((()=>{n(null)}),[n]),o=(0,i.useCallback)((e=>{n(e)}),[n]),r=(0,i.useMemo)((()=>({dismissWarning:a,showWarning:o})),[a,o]);return(0,c.jsxs)(m,{value:r,children:[t&&(0,c.jsx)(h,{...t}),e]})}},618671:(e,t,n)=>{n.d(t,{f:()=>l,w:()=>s});var i=n(667294),a=n(583592),o=n(785893);const{Provider:r,useHook:l}=(0,a.Z)("Session");function s({children:e}){const[t,n]=(0,i.useState)(void 0),a=(0,i.useCallback)((()=>n(void 0)),[]),l=(0,i.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:a})),[t,a]);return(0,o.jsx)(r,{value:l,children:e})}},468776:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(883119),a=n(536042),o=n(98736),r=n(700453),l=n(799006),s=n(199999),d=n(785893);function c({pinId:e}){const t=(0,a.ZP)(),n=(0,s.a)(),c=(0,l.Z)();if(!n)return null;const{setShouldShowLearningUpsell:u}=n;return c?(0,d.jsx)(r.ZP,{within:"mweb-unauth-plp-learning-upsell",children:({handleOpenApp:n})=>(0,d.jsx)(i.xu,{alignItems:"center",direction:"row",display:"flex",left:!0,minHeight:70,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},position:"absolute",right:!0,top:!0,width:"100%",zIndex:new i.Ry(99999),children:(0,d.jsx)(i.iP,{onTap:()=>{(0,o.My)("learning.upsell.click.background"),n({deepLinkUri:`/pin/${e}`})},children:(0,d.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",direction:"row",width:"100%",children:[(0,d.jsx)(i.xu,{marginStart:4,marginEnd:2,onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:t=>{t.preventDefault(),t.stopPropagation(),(0,o.My)("learning.upsell.click.icon"),n({deepLinkUri:`/pin/${e}`})},children:(0,d.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 12C0 17.123 3.211 21.497 7.73 23.218C7.62 22.281 7.503 20.736 7.755 19.652C7.972 18.72 9.156 13.714 9.156 13.714C9.156 13.714 8.799 12.999 8.799 11.94C8.799 10.28 9.761 9.04 10.96 9.04C11.98 9.04 12.472 9.805 12.472 10.722C12.472 11.747 11.819 13.279 11.482 14.7C11.201 15.889 12.079 16.859 13.251 16.859C15.374 16.859 17.007 14.62 17.007 11.388C17.007 8.527 14.951 6.528 12.016 6.528C8.618 6.528 6.623 9.077 6.623 11.712C6.623 12.739 7.018 13.839 7.512 14.438C7.609 14.557 7.624 14.66 7.595 14.781C7.504 15.159 7.302 15.97 7.263 16.136C7.21 16.354 7.09 16.401 6.863 16.295C5.371 15.601 4.439 13.42 4.439 11.668C4.439 7.899 7.176 4.439 12.331 4.439C16.475 4.439 19.696 7.392 19.696 11.338C19.696 15.455 17.101 18.769 13.497 18.769C12.286 18.769 11.149 18.139 10.759 17.396C10.759 17.396 10.16 19.678 10.015 20.236C9.733 21.32 8.951 22.692 8.466 23.471C9.584 23.815 10.77 24 12 24C18.627 24 24 18.627 24 12C24 5.373 18.627 0 12 0C5.373 0 0 5.373 0 12Z",fill:"#111111"})})}),(0,d.jsxs)(i.xu,{marginStart:2,marginEnd:2,children:[(0,d.jsx)("span",{style:{fontFamily:"var(--font-family-default-latin)",color:"#111111",fontSize:"16px"},onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:t=>{t.preventDefault(),t.stopPropagation(),(0,o.My)("learning.upsell.click.description"),n({deepLinkUri:`/pin/${e}`})},children:t.bt(" ", "If you like this idea, see all the details in the app! ", "mweb.unauth.main.pin.learning.app.upsell.description.like", undefined, true)}),(0,d.jsx)("span",{style:{fontFamily:"var(--font-family-default-latin)",fontWeight:"600",color:"#111111",fontSize:"16px"},onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:t=>{t.preventDefault(),t.stopPropagation(),(0,o.My)("learning.upsell.click.cta"),n({deepLinkUri:`/pin/${e}`})},children:t.bt("", "Download", "mweb.unauth.main.pin.learning.app.upsell.cta", undefined, true)})]}),(0,d.jsx)(i.xu,{marginStart:2,marginEnd:4,onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:e=>{u(!1),e.preventDefault(),e.stopPropagation(),(0,o.My)("learning.upsell.click.cancel")},children:(0,d.jsx)(i.JO,{icon:"cancel",accessibilityLabel:"cancel",color:"dark"})})]})})})}):null}},197838:(e,t,n)=>{n.d(t,{Z:()=>w});var i,a=n(667294),o=n(167912),r=n(883119),l=n(536042),s=n(874261),d=n(465991),c=n(282802),u=n(846226),p=n(618569),h=n(525104),m=n(646081),g=n(785893);const _="\n::-webkit-scrollbar {\n  display: none;\n}\n",v=void 0!==i?i:i=n(717988);function y({direction:e,handleClick:t,testId:n,isRTL:i}){const a=(0,l.ZP)(),o=(0,p.Z)(),s=i?["arrow-back","arrow-forward"]:["arrow-forward","arrow-back"];return(0,g.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0,justifyContent:"flex-start",textAlign:"left"}},onClick:e=>{o({action:"click",item:"board-pills-arrow"}),t(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":n,children:(0,g.jsx)(r.xu,{position:"absolute",left:"left"===e,right:"right"===e,borderStyle:"none",children:(0,g.jsx)(u.Z,{id:"board-pills-arrow",children:(0,g.jsx)(r.JO,{accessibilityLabel:a.bt("", "Scroll", "annotations.scrollArrow", undefined, true),icon:"left"!==e?s[0]:s[1],size:8,color:"subtle"})})})})}function f({name:e,url:t}){const[n,i]=(0,a.useState)(!1),o=(0,p.Z)();return(0,g.jsx)(r.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:(0,g.jsx)(r.xv,{color:n?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:t?(0,g.jsx)(r.rU,{display:"inlineBlock",tapStyle:"compress",href:t,rounding:8,onClick:()=>{o({action:"click",item:"vase-tag"})},underline:"hover",children:e}):e})})}function b({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t,mode:n}){const i=(0,a.useRef)(null),[o,l]=(0,a.useState)(!1),[h,m]=(0,a.useState)(!1),v=(0,p.Z)(),{isRTL:b}=(0,c.B)();(0,a.useEffect)((()=>{const e=i.current,t=()=>{if("inlineWithScrollArrows"===n&&i.current){const e=i.current,t=Math.abs(e.scrollLeft||0),n=Math.abs(e.scrollWidth||0),a=t>4,o=t+e.clientWidth<n-4,r=b?o:a;l(b?a:o),m(r)}else l(!1),m(!1)};return t(),null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}}),[n,b]);const x=e=>t=>{t.preventDefault(),t.stopPropagation(),"right"===e&&v({action:"click",item:"board-pills-arrow-button-right"});const n=i.current;if(!n)return;const a=("left"===e?-1:1)*n.clientWidth*.5;n.scrollBy(a,0)},{annotationsWithLinks:k}=(0,d.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t});return(0,g.jsx)(r.kC,{alignItems:"center",justifyContent:"end",children:(0,g.jsxs)(r.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,g.jsx)(s.Z,{unsafeCSS:_}),h&&(0,g.jsx)(y,{direction:"left",handleClick:x("left"),testId:"left-scroll-arrow",isRTL:b}),(0,g.jsx)(r.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:i,children:k.map((({name:e,url:t})=>(0,g.jsx)(f,{name:e,url:t},t||e)))}),o&&(0,g.jsx)(u.Z,{id:"board-pills-arrow-button-right",children:(0,g.jsx)(y,{direction:"right",handleClick:x("right"),testId:"right-scroll-arrow",isRTL:b})})]})})}function x({dedupeVisualAnnotations:e,graphqlRef:t,mode:n,pinId:i}){var a;const r=(0,o.useFragment)(v,t),l=(0,m.Z)(r);let s=(null==r||null===(a=r.pinJoin)||void 0===a?void 0:a.visualAnnotation)||[];return e&&(s=e({pinId:i,visualAnnotations:s})),s.length<1?null:(0,g.jsx)(b,{mode:n,pinJoinVisualAnnotation:s,pinJoinAnnotationsWithLinks:l||void 0})}function k(e){var t,n,i;const a=(0,h.S6)()(e.pinId);return((null==a||null===(t=a.pin_join)||void 0===t?void 0:t.visual_annotation)||[]).length<1?null:(0,g.jsx)(b,{mode:e.mode,pinJoinVisualAnnotation:null==a||null===(n=a.pin_join)||void 0===n?void 0:n.visual_annotation,pinJoinAnnotationsWithLinks:null==a||null===(i=a.pin_join)||void 0===i?void 0:i.annotations_with_links})}function w(e){return e.graphqlRef?(0,g.jsx)(x,{...e}):(0,g.jsx)(k,{...e})}},50169:(e,t,n)=>{n.d(t,{Z:()=>S});var i=n(667294),a=(n(167912),n(883119)),o=n(802760),r=n(536042),l=n(630089),s=n(898252),d=n(465991),c=n(282802),u=n(51536),p=n(846226),h=n(98736),m=n(618569),g=n(549201),_=n(32762),v=n(785893);function y({boardUrl:e,boardName:t,boardPrivacy:n,pinnerFullName:i,pinnerImageSmallUrl:o,pinnerImageLargeUrl:r}){const l=(0,g.HG)(),s=(0,m.Z)();if(!e||!t)return null;const d=e.split("/")[1],c=i||d,u=o||r;return(0,v.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[u?(0,v.jsx)(a.iP,{role:"link",href:`/${d}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,h.My)(`pcons.${l?"desktop":"mobile"}.see-more-button-creator`),s({action:"click",item:"see-more-button-creator"})},children:(0,v.jsx)(a.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,v.jsx)(a.Ee,{naturalHeight:32,naturalWidth:32,alt:c,fit:"cover",color:"rgb(231, 186, 176)",src:u})})},"profile-link"):null,(0,v.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,v.jsx)(p.Z,{id:"see-more-button-creator-full-name",children:(0,v.jsx)(a.iP,{onTap:()=>{(0,h.My)(`pcons.${l?"desktop":"mobile"}.see-more-button-creator-full-name`),s({action:"click",item:"see-more-button-creator-full-name"})},children:(0,v.jsx)(a.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,v.jsx)(a.rU,{href:`/${d}/`,display:"inlineBlock",tapStyle:"compress",underline:"hover",children:c},"profile-link")},"profileLink")})}),"protected"===n?null:(0,v.jsx)(a.xv,{color:"default",inline:!0,size:"100",children:(0,v.jsx)(a.rU,{href:null!=e?e:"",display:"inlineBlock",tapStyle:"compress",underline:"hover",children:null!=t?t:""},"board-link")},"boardLink")]})]})}var f,b=n(197838);const x=void 0!==f?f:f=n(298262);function k({dedupeVisualAnnotations:e,pin:t,pinId:n,queryRef:o,onClickTitleOrDomain:f,pinCreditPrefix:x}){var k,w,S,P,T,I,C,A,E;const j=(0,r.ZP)(),R=(0,g.ml)(),D=(0,g.Wb)(),{isAuthenticated:L,isBot:F}=(0,c.B)(),M=(0,m.Z)(),O=!L&&!F&&R,z=f||null,[Z,N]=(0,i.useState)(!1),U=(0,_.si)(),B=(0,_.Re)(),K=(0,d.fs)({pinTitle:t.title,gridTitle:t.gridTitle,richSummaryDisplayName:null===(k=t.richSummary)||void 0===k?void 0:k.displayName,richMetadataTitle:null===(w=t.richMetadata)||void 0===w?void 0:w.title,storyPinDataId:t.storyPinDataId,storyPinDataMetadataPinTitle:null===(S=t.storyPinData)||void 0===S||null===(P=S.metadata)||void 0===P?void 0:P.pinTitle})||t.description,V=(K||"").length>B,{description:H}=(0,d.eK)({richMetadataDescription:null===(T=t.richMetadata)||void 0===T?void 0:T.description,richSummaryDisplayName:null===(I=t.richSummary)||void 0===I?void 0:I.displayName,closeupUnifiedDescription:t.closeupUnifiedDescription}),G=H.length>U,[W,$]=(0,i.useState)(!G&&!V),q=(0,s._S)(t.domain)?t.domain:"";return(0,v.jsxs)(a.xu,{children:[(0,v.jsxs)(a.xu,{children:[(0,v.jsxs)(a.xu,{as:"figcaption",paddingX:D?11:0,children:[(0,v.jsx)(a.X6,{id:"vase-pin-title",color:"default",size:"300",accessibilityLevel:3,children:Z||F?K:(0,u.Z)(K||"",B)}),!!K&&(0,v.jsx)(a.xu,{height:H?8:0}),H&&(G||V)?(0,v.jsx)(p.Z,{id:"vase-pin-description",children:(0,v.jsxs)(a.iP,{onTap:()=>{Z||L||((0,h.NC)("click_open_description_in_sheet"),M({action:"click",item:"more-description-in-sheet"})),$(!W),N(!Z)},fullWidth:!1,children:[(0,v.jsx)(a.xv,{color:"default",size:"200",inline:!0,children:Z||F?H:(0,u.Z)(H,U)}),(0,v.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,v.jsx)(a.xv,{weight:"bold",size:"200",inline:!0,children:Z||F?j.bt("", "Less", "Toggle less description button", undefined, true):j.bt("", "More", "Toggle more description button", undefined, true)})})]})}):(0,v.jsx)(p.Z,{id:"vase-pin-description",children:(0,v.jsx)(a.xv,{color:"default",size:"200",inline:!0,children:H})})]}),O&&(W||F)&&!!q&&(0,v.jsx)(a.xu,{marginTop:2,children:(0,v.jsx)(a.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,l.nk)(j.bt("{{ pinCreditPrefix }} {{ pinCredit }}", "{{ pinCreditPrefix }} {{ pinCredit }}", "tells the user where the pin is from in the form of Saved from website", undefined, true),{pinCreditPrefix:(0,v.jsx)(a.xu,{display:"inlineBlock",children:(0,v.jsx)(a.xv,{inline:!0,size:"200",children:x})},"pinCreditsPrefix"),pinCredit:(0,v.jsx)(a.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,v.jsx)(a.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),M({action:"click",item:"pin-domain-link"}),(0,h.My)("mweb_pin_page.pin_link.clickthrouh"),L||(0,h.NC)("click_pin_closeup_link_clickthrough"),z&&z()},tapStyle:"compress",children:(0,v.jsx)(a.xv,{size:"200",lineClamp:1,children:(0,v.jsx)("span",{style:{textDecoration:"underline"},children:q})},"pinLinkDomain")})},"pinCredits")})})})]}),!!t.board&&(W||F)&&(0,v.jsx)(a.xu,{marginTop:4,children:(0,v.jsx)(y,{boardUrl:t.board.url||void 0,boardName:t.board.name||void 0,boardPrivacy:t.board.privacy||void 0,pinnerFullName:(null===(C=t.pinner)||void 0===C?void 0:C.fullName)||void 0,pinnerImageSmallUrl:null===(A=t.pinner)||void 0===A?void 0:A.imageSmallUrl,pinnerImageLargeUrl:null===(E=t.pinner)||void 0===E?void 0:E.imageLargeUrl})}),(0,v.jsx)(a.xu,{marginTop:4,children:(0,v.jsx)(b.Z,{dedupeVisualAnnotations:e,pinId:n,mode:"expanded",graphqlRef:o})})]})}const w=(0,o.M2)({useGraphQLAdapter:e=>e,useLegacyAdapter:e=>e&&{board:e.board&&{name:e.board.name,privacy:e.board.privacy,url:e.board.url},closeupUnifiedDescription:e.closeup_unified_description,description:e.description,domain:e.domain,gridTitle:e.grid_title,pinner:e.pinner&&{fullName:e.pinner.full_name,imageLargeUrl:e.pinner.image_large_url,imageSmallUrl:e.pinner.image_small_url},richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},storyPinData:e.story_pin_data&&{metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},storyPinDataId:e.story_pin_data_id,title:e.title}});function S({queryRef:e,pinId:t,...n}){return(0,v.jsx)(w,{fragment:x,dataKey:null!=e?e:t,children:({data:e,fragmentRef:i})=>e&&(0,v.jsx)(k,{...n,pinId:t,pin:e,queryRef:i})})}},676794:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(618446),o=n.n(a),r=n(788241),l=n(266769),s=n(785893);class d extends i.Component{componentDidMount(){const{setCurrentPageData:e,viewData:t,viewParameter:n,viewType:i}=this.props;e({viewData:t,viewParameter:n,viewType:i})}componentDidUpdate(e){const{setCurrentPageData:t,viewData:n,viewParameter:i,viewType:a}=this.props;i===e.viewParameter&&a===e.viewType&&o()(n,e.viewData)||t({viewData:n,viewParameter:i,viewType:a})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){const{auxData:e,children:t,component:n,objectIdStr:i,viewData:a,viewParameter:o,viewType:r,clientTrackingParams:d}=this.props;return(0,s.jsx)(l.Z,{auxData:e,component:n,objectIdStr:i,clientTrackingParams:d,viewData:a,viewParameter:o,viewType:r,children:t})}}function c(e){const{setViewContextData:t,clearViewContextData:n}=(0,r.sV)();return(0,s.jsx)(d,{...e,clearCurrentPageData:n,setCurrentPageData:t})}},266769:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(563962),o=n(98736);const r=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:a,component:r,clientTrackingParams:l,element:s},d)=>{const c=(u={event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:a,component:r,clientTrackingParams:l,element:s},Object.keys(u).reduce(((e,t)=>(void 0===u[t]&&delete e[t],e)),{...u}));var u;-1===Object.keys(c).indexOf("view_type")&&(0,o.My)("mweb.logging.null_view_type"),d(c)};function l(e){const{auxData:t,clientTrackingParams:n,children:o,component:l,element:s,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,h=(0,a.Z)(),m=JSON.stringify(t),g=JSON.stringify(c);return(0,i.useEffect)((()=>{r(e,h)}),[h,m,n,l,s,d,g,u,p]),i.Children.only(o)}},700453:(e,t,n)=>{n.d(t,{BH:()=>m,SV:()=>g,ZP:()=>_});var i=n(667294),a=n(616550),o=n(40660),r=n(388011),l=n(788241),s=n(988014),d=n(98736),c=n(618569),u=n(799006),p=n(689363),h=n(785893);const m=e=>"/"===e.pathname?"/":(0,s.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1),g=e=>e&&e.pathname&&"/"!==e.pathname?(0,s.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1):"/";function _({children:e,componentType:t,within:n}){const s=(0,a.useLocation)(),{flushContextEvents:g,logContextEvent:_}=(0,r.v)(),{viewType:v,viewParameter:y}=(0,l.SU)(),f=(0,c.Z)();(0,i.useEffect)((()=>{f({action:"view",item:"download-button",within:n})}),[s,n,f]);const b=(0,i.useRef)(!1);(0,i.useEffect)((()=>{v&&202!==v?(_({component:t||13106,element:10308,event_type:9976,view_type:v,view_parameter:y,aux_data:{app_upsell_type:n,app_upsell_is_dupe:b.current}}),b.current=!0):o.Z.increment("webapp.track_app_upsell_viewed_invalid_parameters",1,{component:t,view_type:v,view_parameter:y,app_upsell_type:n,app_upsell_is_dupe:b.current})}),[t,_,y,v,n]);const x=(0,u.Z)();return(0,i.useEffect)((()=>{x||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${n}`)}),[x,n]),(0,h.jsx)(p.Z,{children:i=>e({handleOpenApp:e=>{var a;(f({action:"click",item:"download-button",within:n}),(0,d.NC)("press_open_app",!0),_({component:t||13106,element:10308,event_type:102,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:n}}),_({component:t||13106,element:10308,event_type:9977,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:n}}),g(!0),i)&&(_({component:t||13106,element:10308,event_type:1701,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:n}}),i(null!==(a=null==e?void 0:e.deepLinkUri)&&void 0!==a?a:m(s),n))}})})}},277192:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(883119),a=n(894121),o=n(536042),r=n(599551),l=n(282802),s=n(549201),d=n(700453),c=n(115771),u=n(536540),p=n(352865),h=n(785893);const m=({copyChangeGroup:e,deepLinkUri:t,isOpen:n,onDismiss:c,onOpenInApp:m,to:g,within:_})=>{var v;const y=(0,o.ZP)(),f=(0,s.Wb)(),{userAgent:{platform:b,raw:x}}=(0,l.B)(),k=(0,p.Rp)({platform:b,userAgent:x}),w=(0,r.Z)({href:null!=g?g:""}),S=f?60:40,P={control:{valueProp:y.bt(" Pinterest ", "The best experience is on the app", "mweb.unauth.app_upsell.app_value_prop", undefined, true),description:y.bt("", "Free, unlimited access to ideas", "mweb.app_upsell.description", undefined, true)},enabled_copy_change_1:{valueProp:y.bt("", "Pick this up in the app", "mweb.unauth.app_upsell.app_value_prop1", undefined, true),description:y.bt(" Pinterest ", "Continue in the Pinterest app for the best experience", "mweb.app_upsell.description1", undefined, true)},enabled_copy_change_2:{valueProp:y.bt("", "Pick this up in the app", "mweb.unauth.app_upsell.app_value_prop1", undefined, true),description:y.bt(" Pinterest ", "Looks like youve already downloaded the Pinterest app", "mweb.app_upsell.description2", undefined, true)},enabled_copy_change_3:{valueProp:y.bt("", "Pick this up in the app", "mweb.unauth.app_upsell.app_value_prop1", undefined, true),description:y.bt(" Pinterest", "Looks like youve already downloaded Pinterest. Use the app for the best experience.", "mweb.app_upsell.description3", undefined, true)},enabled_copy_change_4:{valueProp:y.bt("Pinterest ", "Pinterest is better on the app", "mweb.unauth.app_upsell.app_value_prop2", undefined, true),description:y.bt("", "Continue in the app for the full experience", "mweb.app_upsell.description4", undefined, true)},enabled_copy_change_5:{valueProp:y.bt("Pinterest ", "Pinterest is better on the app", "mweb.unauth.app_upsell.app_value_prop2", undefined, true),description:y.bt("", "Continue in the app for more ways to discover ideas", "mweb.app_upsell.description5", undefined, true)}},{valueProp:T,description:I}=null!==(v=P[e||"control"])&&void 0!==v?v:{};return(0,h.jsx)(a.default,{accessibilityModalLabel:"",isOpen:n,mobileHideCloseIcon:!0,type:"app_upsell_v1",zIndex:new i.Ry(101),closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,h.jsx)(d.ZP,{componentType:14157,within:_,children:({handleOpenApp:e})=>(0,h.jsxs)(i.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,h.jsx)(i.xu,{display:"inlineBlock",position:"absolute",children:(0,h.jsx)(i.xu,{"data-test-id":"appUpsell-continue",children:(0,h.jsx)(i.hU,{accessibilityLabel:y.bt("", "close icon background", "accesibility label for close icon on a overlay", undefined, true),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{c({event:e}),w&&!e.defaultPrevented&&(t(),w({event:e}))},size:"lg",iconColor:"gray"})})}),(0,h.jsxs)(i.xu,{paddingX:2,paddingY:6,children:[(0,h.jsx)(i.xu,{paddingY:2,justifyContent:"center",display:"flex",children:k?(0,h.jsx)(u.Z,{size:S}):(0,h.jsx)(i.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:S})}),(0,h.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,h.jsx)(i.xu,{paddingY:2,children:(0,h.jsx)(i.X6,{align:"center",size:"400",children:k?y.bt(" Pinterest Lite", "Try Pinterest Lite", "mweb.app_upsell.lite_app_upsell_title", undefined, true):T})}),(0,h.jsx)(i.xv,{align:"center",size:"300",children:k?y.bt("", "A space-saving way to discover new ideas", "mweb.app_upsell.lite_app_value_prop", undefined, true):I}),(0,h.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,h.jsx)(i.zx,{fullWidth:!0,size:"lg",color:"red",onClick:()=>{e({deepLinkUri:t}),m()},text:y.bt("", "Open app", "mweb.app_upsell.app_upsell_button_text1", undefined, true)})})]})]})]})})})};function g({clientTrackingParams:e,copyChangeGroup:t,deepLinkUri:n,isOpen:i,onDismiss:a,onOpenInApp:o,shouldTrackDismiss:r,to:l,viewParameter:s,viewType:d,within:u}){return(0,h.jsx)(c.Z,{clientTrackingParams:e,viewType:d,viewParameter:s,children:(0,h.jsx)(m,{copyChangeGroup:t,deepLinkUri:n,isOpen:i,onDismiss:e=>{r&&(0,c.y)(),a(e)},onOpenInApp:()=>{(0,c.y)(),o()},to:l,within:u})})}},115771:(e,t,n)=>{n.d(t,{Z:()=>u,y:()=>c});var i=n(667294),a=n(500797),o=n(611756),r=n(173085),l=n(567648),s=n(266769),d=n(785893);const c=()=>{(0,o.Nh)("appUpsell",Date.now()),(0,o.qn)("firstUpsellTime")||(0,o.Nh)("firstUpsellTime",Date.now()),(0,r.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:t,viewParameter:n,viewType:o}){return(0,l.Z)()||(0,a.FP)(window)?null:(0,d.jsx)(s.Z,{viewType:o,viewParameter:n,component:13106,clientTrackingParams:t,children:(0,d.jsx)(i.Fragment,{children:e})})}},14303:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(883119),a=n(788241),o=n(536042),r=n(266769),l=n(700453),s=n(785893);function d(e){const{viewParameter:t,viewType:n}=(0,a.SU)(),d=(0,o.ZP)(),c=d.bt("", "Search this image with the app", "mweb.visual.search.app.upsell.heading.text.hard.ask", undefined, true),u=d.bt(" Pinterest ", "Download the free Pinterest app to find ideas inspired by parts of this image", "mweb.visual.search.app.upsell.description.text.soft.ask", undefined, true);return(0,s.jsx)(r.Z,{component:13106,viewType:null!=n?n:202,viewParameter:t,children:(0,s.jsxs)(i.xu,{direction:"column",justifyContent:"center",alignItems:"center",display:"flex",paddingX:7,"data-test-id":"mweb-visual-search-app-upsell",children:[(0,s.jsx)(i.kC,{direction:"row",height:48,width:"100%",justifyContent:"center",children:(0,s.jsx)(i.xu,{height:48,width:48,rounding:"circle",color:"secondary",justifyContent:"center",direction:"row",display:"flex",alignItems:"center",marginTop:-3,children:(0,s.jsx)(i.JO,{accessibilityLabel:d.bt("", "Visual search", "mweb.visual.search.app.upsell.flashlight.icon", undefined, true),icon:"flashlight",size:24,color:"default"})})}),(0,s.jsx)(i.xu,{marginTop:4,children:(0,s.jsx)(i.X6,{size:"400",align:"center",children:c})}),(0,s.jsx)(i.xu,{marginTop:2,maxWidth:300,children:(0,s.jsx)(i.xv,{align:"center",size:"300",children:u})}),(0,s.jsx)(i.xu,{marginTop:4,marginBottom:6,direction:"row",justifyContent:"center",display:"flex",children:(0,s.jsx)(l.ZP,{componentType:14157,within:e.within,children:({handleOpenApp:t})=>(0,s.jsx)(i.zx,{color:"red",text:d.bt("", "Open app", "mweb.app_upsell.app_upsell_button_text1", undefined, true),size:"lg",onClick:()=>t({deepLinkUri:`/pin/${e.pinId}`})})})})]})})}},799006:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(702664);const a=()=>(0,i.useSelector)((({session:{canUseNativeApp:e}})=>e))},757924:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(796994),a=n(989037);function o({action:e,collaboratedByMe:t,collaboratorPermissions:n,ownerId:o}){const r=(0,i.Z)(o),l=(0,a.Z)(t);return r||l&&!(null==n||!n.includes(e))}},796994:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(802071);function a(e){return e===(0,i.Z)().id}},989037:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(802071);function a(e){return(0,i.Z)().isAuth&&e}},36278:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(77494),a=n(335263),o=n(994405),r=n(785893);function l({children:e,type:t}){return(0,r.jsx)(i.Z,{annotateExperiments:[(0,o.J)()],surface:"pin_closeup",constraints:"authDesktop"===t?[...a.d0]:["PinPageMainImageRendered"],customEnabledNavigationTypes:["initial_app_load","client_route_push","client_route_replace"],children:e})}},335263:(e,t,n)=>{n.d(t,{GL:()=>o,_z:()=>i,d0:()=>l,hO:()=>r,pM:()=>a});const i="video",a="image",o=new Map([["DEFAULT",new Set(["button"])],["story_pin",new Set([i])],["product_detail_page",new Set(["description","shopButton","thumbnailsLoaded"])],["product_detail_page_plus",new Set(["description","shopButton","thumbnailsLoaded"])]]),r=(e=>{let t=new Set;return e.forEach((e=>{t=new Set([...t,...e])})),t})(o),l=new Set([...r,a,"resource"])},154522:(e,t,n)=>{n.d(t,{Cq:()=>u,Dk:()=>h,Fk:()=>o,fS:()=>c,km:()=>p,lI:()=>l,lJ:()=>r,mS:()=>d,qW:()=>s,t5:()=>m});var i=n(883119),a=n(589665);const o=new i.Ry(1),r=3,l=new i.Ry(r),s=2,d=new i.Ry(s),c=3,u=4,p=new i.Ry(5),h=new i.Ry(100),m=new i.Ry(a.fe+1)},515367:(e,t,n)=>{n.d(t,{Z:()=>l,e:()=>r});var i=n(883119),a=n(282802),o=n(785893);const r=new i.Ry(1);function l({children:e,isImagePinForUnauthOnTablet:t,showImageViewerUpsell:n}){const{isAuthenticated:l}=(0,a.B)();return(0,o.jsxs)(i.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:l?void 0:r,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[(0,o.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:n?"#FFFFFF":"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},898961:(e,t,n)=>{n.d(t,{Z:()=>Ke});var i=n(667294),a=n(702664),o=n(167912),r=n.n(o),l=n(616550),s=n(240684),d=n(883119),c=n(645048),u=n(563962),p=n(604094),h=n(527386),m=n(88622),g=n(536042),_=n(630089),v=n(17206),y=n(619795),f=n(110417),b=n(525571),x=n(5342),k=n(988014),w=n(624417),S=n(898252),P=n(245410),T=n(282802),I=n(643183),C=n(466946),A=n(599226),E=n(611756),j=n(846226),R=n(552369),D=n(98736),L=n(618569),F=n(882973),M=n(739425),O=n(549201),z=n(272109),Z=n(799006),N=n(14303),U=n(757924),B=n(586567),K=n(242892),V=n(646131),H=n(209798),G=n(84262),W=n(752491),$=n(660016),q=n(447398),Y=n(952809),J=n(759937),X=n(787234),Q=n(889685),ee=n(43746),te=n(348597),ne=n(230910),ie=n(684262),ae=n(772356),oe=n(963181),re=n(852930),le=n(199727),se=n(624524),de=n(471819),ce=n(369050),ue=n(903201),pe=n(383755),he=n(199999),me=n(190253),ge=n(260070),_e=n(446191),ve=n(525104),ye=n(410834),fe=n(467037),be=n(133835),xe=n(117918),ke=n(468776),we=n(785893),Se,Pe,Te;const Ie=300,Ce=(0,s.ZP)({resolved:{},chunkName:()=>"StoryPinStream",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(62955),n.e(1171),n.e(4187),n.e(28384)]).then(n.bind(n,297021)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 297021}}),Ae=(0,i.lazy)((()=>Promise.all([n.e(68138),n.e(91479)]).then(n.bind(n,692120)))),Ee=(0,i.lazy)((()=>Promise.all([n.e(24002),n.e(37229),n.e(86053),n.e(63315),n.e(77399)]).then(n.bind(n,577399)))),je=(0,i.lazy)((()=>Promise.all([n.e(24002),n.e(37229),n.e(86053),n.e(63315)]).then(n.bind(n,184699)))),Re=void 0!==Se?Se:Se=n(69039),De=void 0!==Pe?Pe:Pe=n(849947),Le=void 0!==Te?Te:Te=n(241643),Fe=({children:e,queryRef:t})=>{var n;return e((0,o.useFragment)(De,null===(n=(0,o.usePreloadedQuery)(Le,t).v3GetPinQuery)||void 0===n?void 0:n.data))},Me=({children:e,queryRef:t})=>t?(0,we.jsx)(i.Suspense,{children:(0,we.jsx)(Fe,{queryRef:t,children:t=>t&&e(t)})}):e(null),Oe=i.Fragment,ze=({children:e,uanuthDesktopSocialLandingPopover:t})=>e&&t?(0,we.jsxs)(d.kC,{gap:{row:4,column:0},justifyContent:"center",children:[t,e]}):e,Ze=({domain:e,isPromoted:t,hasLinkDomainOfficialUser:n,hasLinkUserWebsiteOfficialUser:i,hasNativeCreator:a,hasThirdPartyPinOwner:o,pinnerDomainVerified:r,pinnerDomainUrl:l})=>i||n||o||!!r&&l===e&&!t||a;function Ne({boardCollaboratedByMe:e,boardCollaboratorPermissions:t,boardIsCollaborative:n,boardOwnerId:o,boardId:r,boardUrl:s,clickthroughInterstitialExperience:H,closeupAttributionFullName:J,embedSrc:ve,embedSubtype:Se,embedType:Pe,experience:Te,hasLinkDomain:Re,hasLinkDomainOfficialUser:De,hasLinkUserWebsiteOfficialUser:Le,hasNativeCreator:Fe,hasRichMetadata:Ne,hasRichMetadataProducts:Ue,hasRichMetadataArticle:Be,hasRichMetadataRecipe:Ke,hasRichMetadataTutorial:Ve,hasThirdPartyPinOwner:He,imageSignature:Ge,isDeletedStoryPin:We,isDownstreamPromotion:$e,isEligibleForPdpPlus:qe,isProductPin:Ye,isPromoted:Je,isStoryPin:Xe,isV1IdeaPin:Qe,isVideoPin:et,link:tt,linkDomainName:nt,mobileLink:it,graphqlRefs:at,pinCreatedAt:ot,pinDomain:rt,pinTrackingParams:lt,pinId:st,pinImages:dt,pinSectionId:ct,pinnedToBoardId:ut,pinnedToBoardUrl:pt,pinnerDomainUrl:ht,pinnerDomainVerified:mt,pinnerId:gt,postDownloadModalEligibilityType:_t,promotedIsRemovable:vt,promoterId:yt,seoBreadcrumbs:ft,shouldOpenInStream:bt,storyPinDataId:xt,trackedLink:kt,uanuthDesktopSocialLandingPopover:wt,videosId:St,viewerId:Pt,viewingUser:Tt}){var It;const Ct=(0,g.ZP)(),At=(0,l.useHistory)(),Et=(0,l.useLocation)(),jt=(0,l.useRouteMatch)(),Rt=(0,O.ZP)(),Dt="desktop"===Rt,Lt=(0,a.useDispatch)(),Ft=(0,Z.Z)(),{checkExperiment:Mt}=(0,P.F)(),Ot=(0,u.Z)(),zt=(0,L.Z)(),Zt=(0,A.Z)(),Nt=(0,de.Z)(),{isBot:Ut,isAuthenticated:Bt,userAgent:Kt,locale:Vt}=(0,T.B)(),{setHomeFlyoutText:Ht,setShowHomeBadge:Gt,setShowHomeFlyoutWithButton:Wt}=(0,ce.U)(),$t=null==at?void 0:at.pageRef,[qt,Yt]=(0,i.useState)(!1);(0,i.useEffect)((()=>{Yt(!1)}),[st]);const Jt=Xe&&!1===bt,[Xt,Qt]=(0,i.useState)(!1),en=Xe&&!Jt&&!Dt&&!Ut,tn=!(Bt||Ut||Dt||en),nn=gt===Pt,an=(0,S._S)(rt)?(0,ne.Bk)({i18n:Ct,isLego:!0,hasLinkDomain:Re,hasRichMetadataArticle:Be,hasRichMetadataTutorial:Ve,hasRichMetadataRecipeCategorizedIngredients:Ke}):Ct.bt(" Pinterest", "Uploaded to Pinterest", "closeup.closeupDetails.pinCreditPrefix", undefined, true);(0,i.useEffect)((()=>{tn&&(0,k.Fr)(Et)&&Qt(!0)}),[]),(0,i.useEffect)((()=>{!(0,ie.Z)(Et)&&Bt&&(0,x.Z)(Tt,null,28)&&Ot({event_type:9956,view_type:3,userIdStr:null==Tt?void 0:Tt.id}),Bt&&(0,D.Nc)("view_pin_page")}),[]);const[on,rn]=(0,i.useState)(!1),[ln,sn]=(0,i.useState)(!1),[dn,cn]=(0,i.useState)(!1),[un,pn]=(0,i.useState)(null),{showUnauthSharingModals:hn}=null!==(It=(0,C.l)())&&void 0!==It?It:Object.freeze({}),mn=(0,c.Z)(qe)||!Dt&&!Ye,gn=!Ye&&Mt("auth_mweb_inline_action_bar").anyEnabled,[_n,vn]=(0,i.useState)(!mn&&(!Bt||Dt||gn)),yn=_n?"body":"header",fn=(0,U.Z)({action:4,collaboratedByMe:null!=e&&e,collaboratorPermissions:t,ownerId:o}),bn=(0,k.fY)(Et),xn=()=>{!Ut&&null!=Tt&&Tt.id&&"undefined"!=typeof window&&(0,y.U)(window.location,Tt.id,!0,Bt,(e=>At.replace(e,Et.state)))},kn=()=>(0,R.Z)((()=>{st&&Ot({event_type:110,view_type:3,view_parameter:156,component:et?179:85,aux_data:{unauth_page_pin_id:st}})}),Ie),wn=(0,i.useCallback)((()=>{const e={pin_image_signature:Ge};Lt((0,h.pz)([1000112],Ut,Bt?{...e,creator_username:J,is_creator_card_shown:!nn&&!!Ze({domain:rt,isPromoted:Je,hasLinkDomainOfficialUser:De,hasLinkUserWebsiteOfficialUser:Le,hasNativeCreator:Fe,hasThirdPartyPinOwner:He,pinnerDomainVerified:mt,pinnerDomainUrl:ht})}:e))}),[Lt,J,Ge,Bt,Je,Ut,De,Le,Fe,He,rt,mt,ht,nn]),Sn=e=>{en&&Ot({component:229,element:10942,event_type:102,view_type:3,view_parameter:157}),Nt({fn:()=>{pn("sendPinModal"),Bt||null==hn||hn()},modalHeader:(0,se.hg)(Ct)})(e)},Pn=(0,O.ml)(),[Tn,In]=(0,i.useState)(!1);(0,z.Z)((()=>{xn(),(0,v.Z)();(0,M.mB)(window.location.search).invite_code&&Ot({component:et?179:85,element:46,event_type:47,view_type:3,view_parameter:156});const e=!(0,ie.Z)(Et),t=Bt&&Pn&&e&&Mt("auth_remove_drawer").anyEnabled;if(In(Pn&&Bt&&e&&!t),Bt){if(!Dt){(0,E.qn)(pe.Hn)||(Lt((0,_e.Q_)("HAS_DONE_CLOSEUP",1)),(0,E.Nh)(pe.Hn,!0))}}else window.addEventListener("scroll",kn),(0,D.My)(`mweb.pin_page.${Kt.platform||"unknown"}`),ot&&(0,D.My)("mweb_unauth.pin_page.publish_date"),(0,D.NC)("view_pin_page");return xt&&Lt((0,ge.FK)()),Ut||wn(),"t"===(0,M.mB)(Et.search).open_share&&Sn(),()=>{xt&&Lt((0,ge.Cp)()),Bt||window.removeEventListener("scroll",kn)}}));const Cn=(0,i.useRef)({linkDomainName:nt,pinId:st});(0,i.useEffect)((()=>{const e=Cn.current,t=st!==e.pinId,n=!e.pinId&&st,i=e&&e.linkDomainName!==nt;t&&(xn(),Bt&&(0,D.Nc)("view_pin_page")),(n||t||i&&Bt)&&wn(),Cn.current={linkDomainName:nt,pinId:st}}));const An=void 0===At.location.state,En=Bt&&An&&qt&&!ln&&!dn;(0,i.useEffect)((()=>{En&&cn((0,ue.Z)())}),[En]),(0,i.useEffect)((()=>{Lt((0,ge.Cp)())}),[Lt]);const jn=(0,he.a)(),{setShouldShowLearningUpsell:Rn,shouldShowLearningUpsell:Dn}=null!=jn?jn:{},Ln=!Bt&&Pn&&["ios","android"].includes(Kt.platform);(0,i.useEffect)((()=>{if(Ln&&Rn){const e=(0,R.Z)((()=>{window.scrollY>400&&(Rn(!1),(0,D.My)("learning.upsell.dismiss.by.scroll.down"))}),10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}return()=>{}}),[Ln,Rn]);const Fn=(0,ye.Z)({embedSrc:ve,embedType:Pe,hasRichMetadata:Ne,hasRichMetadataProducts:Ue,hasRichMetadataArticle:Be,hasRichMetadataRecipe:Ke,images:dt,isStoryPin:Xe,pinId:st}),Mn=(0,be.Z)({boardId:null!=r?r:"",embedSrc:ve,embedType:Pe,images:dt,pinId:st,pinnerId:null!=gt?gt:"",pinnedToBoardId:null!=ut?ut:"",pinSectionId:null!=ct?ct:"",trackingParams:lt}),On=(0,fe.Z)({embedSrc:ve,embedType:Pe,images:dt,pinId:st,pinnerId:null!=gt?gt:""}),zn=!((0,S.rM)({link:tt,mobileLink:it,trackedLink:kt})||(0,b.Z)(null==Tt?void 0:Tt.created_at)&&!(0,ae.V0)(Tt)||(0,S.ZE)(tt)),Zn=(0,me.J6)({boardIsCollaborative:n,isDownstreamPromotion:$e,isEligibleForStaticImageIdeaPin:Jt,isPromoted:Je,storyPinDataId:xt,videosId:St}),Nn=Bt&&Zn,Un=(0,te.Z)(Et.state?Et.state.trackingParams:"",lt),Bn=et&&Bt&&!Dt,Kn={downloadImageUrl:!et&&(0,w.Z)({images:dt,embedSrc:ve,embedType:Pe})||null,isAuthenticated:Bt,saveButtonConfig:{shouldShowSavedButton:On,onSaveButtonClick:Fn,onUnsaveButtonClick:Mn,repinPageLocation:(0,S.NK)(st,Et)},clientTrackingParams:Un,isStoryPin:Xe,viewParameter:(0,ne.CK)({hasRichMetadata:Ne,hasRichMetadataProducts:Ue,hasRichMetadataArticle:Be,hasRichMetadataRecipe:Ke}),pinId:st,canUpsellNativeApp:Ft,shouldShowReactions:Nn,onSendButtonClick:Sn,isChromeOnIOS:"ios"===Kt.platform&&"Chrome"===Kt.browserName,handleDownloadPinImageClick:()=>{zt({action:"click",item:"download-image-button",within:"action-bar"}),"unauthPostDownloadUpsell"===_t?(pn(null),Dt||Zt({attributionLabel:"tap_closeup_download_button",reason:"UPSELL_LOGIN_OR_SIGNUP",mobileOptions:{headingType:"download"}})):_t&&pn("postDownloadModal")},shouldRenderAsStoryPin:!Jt,shouldShowVisitInMoreOptions:zn&&Bn},Vn=Nn&&(St?"video":Xe&&"storyPin")||null,Hn=nn||fn?Nt({fn:()=>At.push(jt.url+"edit/"),modalHeader:(0,se.oM)(Ct),nextLocation:(0,se.wI)(Et)}):void 0,Gn=()=>{pn("reportPinModal"),Ot({view_type:3,view_parameter:139,element:72,event_type:102,object_id_str:st||""})},Wn=(0,we.jsx)(Me,{queryRef:null==at?void 0:at.detailRef,children:e=>(0,we.jsx)($.ZP,{clickthroughInterstitialExperience:H,experience:Te,isActionBarInline:_n,isNewUser:(0,b.Z)(null==Tt?void 0:Tt.created_at),isMaturedNewUser:(0,ae.V0)(Tt),isProductPin:Ye,isRemovablePin:null!=vt&&vt,isUnavailableStoryPin:We,nativePinType:Vn,onMobileTap:()=>{en&&Ot({component:229,element:10946,event_type:102,view_type:3,view_parameter:157}),Gn()},onSendButtonClick:Sn,pinId:st,pinnedToBoardId:ut,pinnedToBoardUrl:(nn?s:pt)||"",scrolledToRelatedPins:qt,shouldShowReactions:Nn&&!mn,onEditButtonClick:Hn,shouldShowBackButton:"header"===yn,shouldShowShareOnVideoCloseup:Bn,isEligibleToVisitPin:zn,graphqlRef:e})}),$n=(Et.search||"").includes("force_seo")||!Bt;return(0,we.jsxs)(d.xu,{position:"relative",width:"100%",children:[Ln&&Dn&&!Xt&&(0,we.jsx)(d.Le,{top:F.SB,zIndex:new d.Ry(99999),children:(0,we.jsx)(ke.Z,{pinId:st})}),(0,we.jsxs)(K.Z,{closeupPageContext:Kn,graphqlRef:$t,hasFixedHeader:!0,imageViewer:(0,k.Fr)(Et)&&!en&&(Bt||Xt)&&(0,we.jsx)(Me,{queryRef:null==at?void 0:at.detailRef,children:e=>(0,we.jsx)(Ae,{postDownloadModalEligibilityType:_t,isRemovablePin:Boolean(vt),experience:Te,graphqlRef:e,mwebTapToZoomExpEnabled:Xt,pinnedToBoardId:ut,pinnedToBoardUrl:(nn?s:pt)||"",pinId:st,shouldShowSEOPinInfo:$n,setActionBarIsMinifiedToMainPinImage:rn})}),pinId:st,hasGutter:!en,showAuthDrawer:Tn,children:[(0,we.jsxs)(Oe,{children:[Bt&&(0,we.jsxs)(i.Fragment,{children:[Te&&(0,we.jsx)(X.Z,{experience:Te}),Te&&(0,we.jsx)(Q.Z,{experience:Te}),Te&&(0,we.jsx)(ee.Z,{experience:Te})]}),!Bt&&bn&&!Dt&&(0,we.jsx)(Y.Z,{isDesktop:!1,isStoryPin:Xe}),"header"===yn&&!on&&Wn,!Bt&&(Dt?(0,we.jsx)(re.Z,{breadcrumbs:null!=ft?ft:[]}):!en&&(Ut?(0,we.jsx)(re.Z,{breadcrumbs:null!=ft?ft:[]}):(0,we.jsx)(le.Z,{pinId:st,shouldUseGraphQL:!!$t})))]}),(0,we.jsxs)(ze,{uanuthDesktopSocialLandingPopover:wt,children:[(mn||_n)&&!en&&(0,we.jsx)(G.Z,{pinActionBarOptionsButton:mn&&!qt&&(0,we.jsx)(Me,{queryRef:null==at?void 0:at.detailRef,children:e=>(0,we.jsx)(j.Z,{id:"ellipsis-button",children:(0,we.jsx)(q.Z,{onMobileTap:Gn,pinCreditPrefix:an,pinId:st,graphqlRef:e,overlayingPinImage:!0,clickthroughInterstitialExperience:H})})})}),en?(0,we.jsx)(p.Z,{name:"SafeSuspense_Closeup_StoryPinStream",children:(0,we.jsx)(Me,{queryRef:null==at?void 0:at.detailRef,children:e=>(0,we.jsx)(Ce,{pinId:st,graphqlRef:e})})}):We?(0,we.jsx)(xe.Z,{}):(0,we.jsx)(B.Z,{actionBarIsMinifiedToMainPinImage:on,pinActionBar:"body"===yn?Wn:null,clickthroughInterstitialExperience:H,closeupIsFirstPageInHistoryStack:An,isImagePinForUnauthOnTablet:!Bt&&!et&&!(0,S.cL)({embedSrc:ve,embedSubtype:Se,embedType:Pe})&&("tablet"===Rt||(0,f.oy)()),isVideoPin:et,onLinklessPinTap:()=>{const e=!on;rn(e),Lt(e?(0,ge.Cp)():(0,ge.FK)())},onMoreButtonClick:Gn,onSendPin:Sn,pinCloseupExperience:Te,pinId:st,pinnedToBoardId:ut,shouldShowReactions:Zn,shouldShowSEOPinInfo:$n,viewerId:Pt,isSendPinModalOpen:"sendPinModal"===un,hideMetadata:Tn&&"details",graphqlRefs:at,setMwebTapToZoomExpEnabled:Qt,isEligibleForTapToZoom:tn,isActionBarInline:_n,setIsActionBarInline:vn})]}),(0,we.jsx)(Me,{queryRef:null==at?void 0:at.detailRef,children:e=>(0,we.jsxs)(i.Fragment,{children:[!en&&(Bt||!yt)&&(0,we.jsx)(V.Z,{graphqlRef:e,onRelatedPinsTitleEnter:()=>Yt(!1),onRelatedPinsTitleExit:()=>Yt(!0),pinId:st,marginTop:Tn?4:0}),!Bt&&"phone"===Rt&&Ft&&(null==jn?void 0:jn.shouldShowVisualSearchAppUpsell)&&(0,we.jsx)(m.ZP,{mobileAccessibilityCloseIconLabel:Ct.bt("", "Cancel", "mweb.visual.search.app.upsell.cancel.on.pin.page", undefined, true),accessibilityModalLabel:"",_dangerouslyDisableScrollBoundaryContainer:!0,isOpen:!0,onDismiss:()=>{jn.setShouldShowVisualSearchAppUpsell(!1),Ot({component:14157,element:10308,event_type:10220,view_type:156,view_parameter:3,aux_data:{app_upsell_type:"visual-search-app-upsell-on-pin-page"}})},children:(0,we.jsx)(N.Z,{pinId:st,within:"visual-search-app-upsell-on-pin-page"})}),Bt&&!(0,ae.xT)(Tt)&&An&&qt&&!ln&&!dn&&!Mt("mweb_turn_off_mini_renux_exp").anyEnabled&&(0,we.jsx)(p.Z,{name:"SafeSuspense_Closeup_RelatedInterestUpsellContainer",children:(0,we.jsx)(I.Z,{children:(0,we.jsx)(je,{onComplete:e=>{e&&(Ht((0,_.nk)(Ct.bt(" {{ interestName }} ", "We've added fresh ideas for {{ interestName }}", "navFooter.flyout.text", undefined, true),{interestName:(0,oe.T_)(e,Vt)}).join("")),Gt(!0),Wt(!0)),sn(!0)},pinId:st,showRelatedInterestModal:()=>{pn("relatedInterestsModal")}})})}),Qe&&(0,we.jsx)(W.Z,{pinId:st,viewParameter:Kn.viewParameter}),(0,we.jsx)(p.Z,{name:"SafeSuspense_Closeup_CloseupModals",children:(0,we.jsx)(I.Z,{children:(0,we.jsx)(j.Z,{id:"close-action-bar",children:(0,we.jsx)(Ee,{graphqlRef:e,modal:un,onDismiss:()=>{zt({action:"click",item:"close-action-bar",within:"action-bar"}),"relatedInterestsModal"===un&&sn(!0),pn(null)},onEditButtonClick:Hn,onSendButtonClick:Sn,pinId:st,postDownloadModalEligibilityType:_t,viewParameter:Kn.viewParameter,clientTrackingParams:Un,clickthroughInterstitialExperience:H,shouldShowShareOnVideoCloseup:Bn,nativePinType:Vn})})})})]})})]})]})}function Ue(e){var t,n,i,a,o,r,s,c,u,p,h,m,_,v,y,f,b,x,w,P,I;const{pinId:C}=e,A=(0,ve.S6)()(C),E=(0,g.ZP)(),j=(0,O.HG)(),R=(0,l.useLocation)(),{isAuthenticated:D}=(0,T.B)(),L=null==A?void 0:A.board,F=null!=A&&A.promoter&&!A.is_downstream_promotion?A.promoter:null,M=null==A?void 0:A.pinner;return A&&M&&L?(0,we.jsx)(Ne,{...e,boardCollaboratedByMe:null!==(t=L.collaborated_by_me)&&void 0!==t&&t,boardCollaboratorPermissions:L.collaborator_permissions,boardIsCollaborative:L.is_collaborative,boardOwnerId:null===(n=L.owner)||void 0===n?void 0:n.id,boardId:L.id,boardUrl:L.url,closeupAttributionFullName:null===(i=A.closeup_attribution)||void 0===i?void 0:i.full_name,embedSrc:null===(a=A.embed)||void 0===a?void 0:a.src,embedSubtype:null===(o=A.embed)||void 0===o?void 0:o.subtype,embedType:null===(r=A.embed)||void 0===r?void 0:r.type,graphqlRefs:null,hasLinkDomain:Boolean(A.link_domain),hasLinkDomainOfficialUser:Boolean(null===(s=A.link_domain)||void 0===s?void 0:s.official_user),hasLinkUserWebsiteOfficialUser:Boolean(null===(c=A.link_user_website)||void 0===c?void 0:c.official_user),hasNativeCreator:Boolean(A.native_creator),hasRichMetadata:Boolean(A.rich_metadata),hasRichMetadataProducts:Boolean(null===(u=A.rich_metadata)||void 0===u?void 0:u.products),hasRichMetadataArticle:Boolean(null===(p=A.rich_metadata)||void 0===p?void 0:p.article),hasRichMetadataRecipe:Boolean(null===(h=A.rich_metadata)||void 0===h?void 0:h.recipe),hasRichMetadataTutorial:Boolean(null===(m=A.rich_metadata)||void 0===m?void 0:m.tutorial),hasThirdPartyPinOwner:Boolean(A.third_party_pin_owner),imageSignature:A.image_signature,isDeletedStoryPin:null!==(_=null===(v=A.story_pin_data)||void 0===v?void 0:v.is_deleted)&&void 0!==_&&_,isDownstreamPromotion:A.is_downstream_promotion,isEligibleForPdpPlus:null!==(y=A.is_eligible_for_pdp_plus)&&void 0!==y&&y,isPromoted:A.is_promoted,isV1IdeaPin:A.is_v1_idea_pin,isVideoPin:(0,S.iR)(A.videos),link:A.link,linkDomainName:null===(f=A.link_domain)||void 0===f?void 0:f.name,mobileLink:A.mobile_link,pinCreatedAt:A.created_at,pinDomain:A.domain,pinId:C,pinImages:A.images,pinSectionId:null===(b=A.section)||void 0===b?void 0:b.id,pinTrackingParams:A.tracking_params,pinnedToBoardId:null===(x=A.pinned_to_board)||void 0===x?void 0:x.id,pinnedToBoardUrl:null===(w=A.pinned_to_board)||void 0===w?void 0:w.url,pinnerDomainVerified:M.domain_verified,pinnerDomainUrl:M.domain_url,pinnerId:M.id,promoterId:null==F?void 0:F.id,promotedIsRemovable:A.promoted_is_removable,seoBreadcrumbs:null===(P=A.pin_join)||void 0===P?void 0:P.seo_breadcrumbs,shouldOpenInStream:A.should_open_in_stream||!1,storyPinDataId:A.story_pin_data_id,trackedLink:A.tracked_link,videosId:null===(I=A.videos)||void 0===I?void 0:I.id}):(0,we.jsx)(d.xu,{margin:5,children:D||j&&(0,k.fY)(R)?(0,we.jsx)(d.$j,{accessibilityLabel:E.bt(" Pin ", "Loading pin", " - ", undefined, true),show:!0}):(0,we.jsx)(H.Z,{})})}function Be({graphqlRefs:e,...t}){var n,i,a,r,l,s,d,c,u,p,h,m,g,_,v,y,f,b,x,k,w,S,P,T,I,C;const{pinId:A}=t,E=(0,o.useFragment)(Re,e.pageRef),j=(0,J.Z)(E),{board:R,pinner:D}=E,L=null===(n=E.pinJoin)||void 0===n||null===(i=n.seoBreadcrumbs)||void 0===i?void 0:i.map((({name:e,url:t})=>({name:null!=e?e:"",url:null!=t?t:""})));return(0,we.jsx)(Ne,{...t,boardCollaboratedByMe:null!==(a=null==R?void 0:R.collaboratedByMe)&&void 0!==a&&a,boardCollaboratorPermissions:null==R?void 0:R.collaboratorPermissions,boardIsCollaborative:null==R?void 0:R.isCollaborative,boardOwnerId:null==R||null===(r=R.owner)||void 0===r?void 0:r.entityId,boardId:null==R?void 0:R.entityId,boardUrl:null==R?void 0:R.url,closeupAttributionFullName:null!==(l=null===(s=E.closeupAttribution)||void 0===s?void 0:s.fullName)&&void 0!==l?l:"",embedSrc:null===(d=E.embed)||void 0===d?void 0:d.src,embedSubtype:null===(c=E.embed)||void 0===c?void 0:c.subtype,embedType:null===(u=E.embed)||void 0===u?void 0:u.type,hasLinkDomain:Boolean(E.linkDomain),hasLinkDomainOfficialUser:Boolean(null===(p=E.linkDomain)||void 0===p?void 0:p.officialUser),hasLinkUserWebsiteOfficialUser:Boolean(null===(h=E.linkUserWebsite)||void 0===h?void 0:h.officialUser),hasNativeCreator:Boolean(E.nativeCreator),hasRichMetadata:Boolean(E.richMetadata),hasRichMetadataProducts:Boolean(null===(m=E.richMetadata)||void 0===m||null===(g=m.products)||void 0===g?void 0:g.length),hasRichMetadataArticle:Boolean(null===(_=E.richMetadata)||void 0===_?void 0:_.article),hasRichMetadataRecipe:Boolean(null===(v=E.richMetadata)||void 0===v?void 0:v.recipe),hasRichMetadataTutorial:Boolean(null===(y=E.richMetadata)||void 0===y?void 0:y.tutorial),hasThirdPartyPinOwner:Boolean(E.thirdPartyPinOwner),imageSignature:E.imageSignature,isDeletedStoryPin:null!==(f=null===(b=E.storyPinData)||void 0===b?void 0:b.isDeleted)&&void 0!==f&&f,isDownstreamPromotion:E.isDownstreamPromotion,isPromoted:E.isPromoted,isEligibleForPdpPlus:null!==(x=E.isEligibleForPdpPlus)&&void 0!==x&&x,isV1IdeaPin:E.isV1IdeaPin,isVideoPin:Boolean(null===(k=E.videos)||void 0===k?void 0:k.entityId),link:E.link,linkDomainName:null===(w=E.linkDomain)||void 0===w?void 0:w.name,mobileLink:E.mobileLink,pinCreatedAt:E.createdAt,pinDomain:E.domain,pinId:A,pinImages:j,pinSectionId:null===(S=E.section)||void 0===S?void 0:S.entityId,pinTrackingParams:E.trackingParams,pinnedToBoardId:null===(P=E.pinnedToBoard)||void 0===P?void 0:P.entityId,pinnedToBoardUrl:null===(T=E.pinnedToBoard)||void 0===T?void 0:T.url,pinnerDomainVerified:null==D?void 0:D.domainVerified,pinnerDomainUrl:null==D?void 0:D.domainUrl,pinnerId:null==D?void 0:D.entityId,promoterId:null===(I=E.promoter)||void 0===I?void 0:I.entityId,promotedIsRemovable:E.promotedIsRemovable,seoBreadcrumbs:null!=L?L:[],shouldOpenInStream:E.shouldOpenInStream||!1,storyPinDataId:E.storyPinDataId,trackedLink:E.trackedLink,videosId:null===(C=E.videos)||void 0===C?void 0:C.entityId,graphqlRefs:{pageRef:E,detailRef:e.detailRef}})}function Ke({graphqlRefs:e,...t}){return e?(0,we.jsx)(Be,{...t,graphqlRefs:e}):(0,we.jsx)(Ue,{...t})}},818746:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(883119),a=n(265259),o=n(549201),r=n(460914),l=n(963181),s=n(785893);const d=({detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:{mainImageEventHandlers:a}})=>{const d=(0,o.ZP)(),c="desktop"===d?8:"undefined"!=typeof window&&window.screen&&window.screen.width<750?0:54,u="desktop"===d?8:10;return(0,s.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,s.jsxs)(i.xu,{position:"relative",display:"flex",maxWidth:1016,overflow:"phone"!==d?void 0:"hidden",minHeight:"40vh",rounding:"desktop"===d?void 0:6,dangerouslySetInlineStyle:"phone"!==d?{__style:{justifyContent:"center"}}:{__style:{marginTop:t?0:54,marginRight:c,marginBottom:54,marginLeft:c,boxShadow:"desktop"===d?void 0:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},children:[(0,s.jsx)(r.Z,{onMouseEnter:null==a?void 0:a.onMouseEnter,onMouseLeave:null==a?void 0:a.onMouseLeave,onTouch:null==a?void 0:a.onTouch,pressState:"desktop"===d?"none":"compress",rounding:2,children:(0,s.jsx)(i.xu,{display:"phone"!==d?"block":"flex",height:"100%",justifyContent:"center",overflow:"phone"!==d?void 0:"hidden",rounding:"desktop"===d?8:void 0,width:"phone"!==d?l.Hg:"47vw",children:n})}),(0,s.jsx)(i.xu,{paddingX:"phone"!==d?0:u,width:"phone"!==d?l.Hg:"47vw",display:"flex",direction:"column",justifyContent:"between",children:e})]})})},c=({detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:r})=>{const c=(0,o.ZP)();return r?(0,s.jsx)(i.xu,{marginEnd:"auto",marginStart:"auto","data-test-id":"closeup-body-landscape",children:(0,s.jsx)(d,{detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:r})}):(0,s.jsxs)(i.xu,{marginEnd:"auto",marginStart:"auto",maxWidth:"desktop"===c?void 0:"phone"===c?l.g6:l.Hg,"data-test-id":"closeup-body-portrait",children:[t||"desktop"===c?(0,s.jsx)(a.Z,{roundedForLargeDevice:!0,children:n}):n,e]})}},317204:(e,t,n)=>{n.d(t,{Z:()=>z});var i,a=n(667294),o=n(167912),r=n(883119),l=n(318583),s=n(47034),d=n(377234),c=n(536042),u=n(630089),p=n(740494),h=n(245410),m=n(282802),g=n(846226),_=n(98736),v=n(618569),y=n(454709),f=n(549201),b=n(525104),x=n(785893);const k=void 0!==i?i:i=n(774049);function w({attributionEmbedSrc:e,authorUrl:t,authorName:n,providerUrl:i,providerName:a,ccUrl:o,embedType:l,embedSrc:s,embedSubtype:d}){const p=(0,c.ZP)(),h=s||e,m=!!a&&"Unknown"!==a,g={author:(0,x.jsx)(r.xu,{display:"inlineBlock",children:(0,x.jsx)(r.rU,{underline:"none",href:t||"",rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,x.jsx)(r.xv,{inline:!0,size:"200",weight:"bold",children:n})},"author")},"author"),provider:m?(0,x.jsx)(r.xu,{marginEnd:1,display:"inlineBlock",children:(0,x.jsx)(r.rU,{underline:"always",href:i||"",rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,x.jsx)(r.xv,{inline:!0,size:"200",weight:"bold",children:a})},"provider")},"provider"):null};let _=m?p.bt(" {{ provider }}", "from {{ provider }}", "closeup.description.imageSourceWithProvider", undefined, true):null;return n&&(_=h&&"gif"!==l&&"pinstory"!==d?m?p.bt(" {{ author }}  {{ provider }} ", "Video by {{ author }} on {{ provider }}", "closeup.description.videoSourceWithProvider", undefined, true):p.bt(" {{ author }} ", "Video by {{ author }}", "closeup.description.videoSource", undefined, true):m?p.bt(" {{ author }}  {{ provider }} ", "Photo by {{ author }} on {{ provider }}", "closeup.description.photoSourceWithProvider", undefined, true):p.bt(" {{ author }} ", "Photo by {{ author }}", "closeup.description.photoSource", undefined, true)),(0,x.jsx)(r.xu,{display:"inlineBlock","data-test-id":"photo-attribution",children:(0,x.jsxs)(r.xv,{size:"200",inline:!0,children:[!!_&&(0,u.nk)(_,g),o&&(0,x.jsx)(r.rU,{underline:"none",href:o,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,x.jsx)(r.xv,{size:"200",inline:!0,children:p.bt("", "(cc)", "creative commons link text", undefined, true)})},"link")]})})}function S({graphqlRef:e}){var t,n,i,a,r,l,s,d,c,u;const p=(0,o.useFragment)(k,e);return(0,x.jsx)(w,{attributionEmbedSrc:null==p||null===(t=p.attribution)||void 0===t||null===(n=t.embed)||void 0===n?void 0:n.src,authorUrl:null==p||null===(i=p.attribution)||void 0===i?void 0:i.authorUrl,authorName:null==p||null===(a=p.attribution)||void 0===a?void 0:a.authorName,providerUrl:null==p||null===(r=p.attribution)||void 0===r?void 0:r.url,providerName:null==p||null===(l=p.attribution)||void 0===l?void 0:l.providerName,ccUrl:null==p||null===(s=p.attribution)||void 0===s?void 0:s.ccUrl,embedType:null==p||null===(d=p.embed)||void 0===d?void 0:d.type,embedSrc:null==p||null===(c=p.embed)||void 0===c?void 0:c.src,embedSubtype:null==p||null===(u=p.embed)||void 0===u?void 0:u.subtype})}function P({pinId:e}){var t,n,i,a,o,r,l,s,d,c;const u=(0,b.S6)()(e);return(0,x.jsx)(w,{attributionEmbedSrc:null==u||null===(t=u.attribution)||void 0===t||null===(n=t.embed)||void 0===n?void 0:n.src,authorUrl:null==u||null===(i=u.attribution)||void 0===i?void 0:i.author_url,authorName:null==u||null===(a=u.attribution)||void 0===a?void 0:a.author_name,providerUrl:null==u||null===(o=u.attribution)||void 0===o?void 0:o.url,providerName:null==u||null===(r=u.attribution)||void 0===r?void 0:r.provider_name,ccUrl:null==u||null===(l=u.attribution)||void 0===l?void 0:l.cc_url,embedType:null==u||null===(s=u.embed)||void 0===s?void 0:s.type,embedSrc:null==u||null===(d=u.embed)||void 0===d?void 0:d.src,embedSubtype:null==u||null===(c=u.embed)||void 0===c?void 0:c.subtype})}function T({...e}){return e.graphqlRef?(0,x.jsx)(S,{...e}):(0,x.jsx)(P,{...e})}var I,C=n(32762),A=n(323883),E=n(293017);const j=void 0!==I?I:I=n(7202),R=(e,t)=>{if(e){const n=31536e6,i=e.getTime(),a=(new Date).getTime();return null==t||a-i<=t*n}return!1};function D(e,t){try{return new Intl.DateTimeFormat(t,{month:"long",day:"numeric",year:"numeric",calendar:"gregory"}).format(e)}catch(n){return e?e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate():""}}const L=({pinDescription:e,expandText:t})=>{const{isAuthenticated:n,isBot:i}=(0,m.B)(),[o,u]=(0,a.useState)(t),p=(0,C.si)(),{checkExperiment:g}=(0,h.F)(),b=(0,c.ZP)(),k=(0,f.ZP)(),w=(0,v.Z)(),{anyEnabled:S}=g("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),P=(0,d.vs)(),T=S?P:(0,d.Yc)(),{anyEnabled:I}=g("closeup_mweb_onepin_title_and_description",{dangerouslySkipActivation:!0}),{anyEnabled:A}=g("closeup_dweb_unauth_onepin_title_and_description"),E=(0,a.useCallback)((()=>{o||n||((0,_.NC)("click_open_description"),(0,_.My)("desktop"===k?"pcons.dweb-more-description":"pcons.mweb-more-description"),w({action:"click",item:"more-description"})),u(!o)}),[o,n,w,k]);return i||!I&&e.length<=p?(0,x.jsx)(r.xv,{inline:!0,children:e}):I&&"desktop"!==k?(0,x.jsx)(y.Z,{Wrapper:({children:e})=>(0,x.jsx)("h2",{style:{fontSize:"14px",wordWrap:"break-word",textAlign:"start"},children:e}),isExpanded:o,description:e,maxHeight:38,handleToggle:E}):A?(0,x.jsx)(l.Z,{isDarkMode:T,children:(0,s.Z)(e)}):(0,x.jsxs)("h2",{style:{fontSize:"14px",wordWrap:"break-word"},children:[(0,x.jsxs)(r.xv,{inline:!0,children:[o?e:`${e.substr(0,p-3)}...`,""]}),!o&&(0,x.jsx)(y.a,{isExpanded:o,onToggle:E,expandedText:b.bt("", "Less", "Toggle less description button", undefined, true),collapsedText:b.bt("", "More", "Toggle more description button", undefined, true)})]})};function F({collapse:e,storyPinDataId:t,richMetadataDescription:n,richMetadataArticleDatePublished:i,richSummaryDisplayName:o,closeupDescription:l,closeupUnifiedDescription:s,pinDescription:d,hasAttribution:h,isRecipe:y,pinId:b,graphqlRef:k,seoDescription:w,seoNoindexReason:S}){const P=(0,c.ZP)(),I=(0,f.ZP)(),C=(0,v.Z)(),{isAuthenticated:A,locale:E}=(0,m.B)(),[j,F]=(0,a.useState)(e||!1),M=i&&new Date(i),O=A?null==s?void 0:s.trim():(0,p.Z)({storyPinDataId:t,pinDescription:d,richMetadataDescription:n,richSummaryDisplayName:o,closeupDescription:l,closeupUnifiedDescription:s,seoDescription:w,seoNoindexReason:S}),z=M&&R(M,2)&&O?(0,u.nk)(P.bt("{{ pinDescription }}  {{ date }} ", "{{ pinDescription }} Published on {{ date }}", "closeup.details.descirptionWithPublishedDate", undefined, true),{date:D(M,E),pinDescription:O}).join(""):O;let Z;if(h){const e=O?"{{ credit }}   ":"{{ credit }}";Z=(0,u.nk)(e,{credit:(0,x.jsx)(T,{pinId:b,graphqlRef:k},"article-pin"),descriptionToDisplay:z})}return(0,x.jsxs)(r.xu,{"data-test-id":"CloseupDescriptionContainer",maxWidth:"100%",dangerouslySetInlineStyle:{__style:{textAlign:"phone"===I?"center":void 0}},children:[Z,O&&!y&&(j?(0,x.jsxs)(r.iP,{onTap:()=>F(!1),children:[(0,x.jsx)(r.xv,{weight:"bold",underline:!0,inline:!0,children:P.bt("", "See details", "closeup.descrition.see_details", undefined, true)}),"  ",(0,x.jsx)(r.JO,{accessibilityLabel:P.bt("", "expand details icon", "closeup.description.expand_icon", undefined, true),icon:"arrow-down",inline:!0})]}):(0,x.jsx)(g.Z,{id:"main-pin-description-text",children:(0,x.jsx)(r.iP,{onTap:()=>{(0,_.My)("desktop"===I?"pcons.dweb.main-pin-description-text":"pcons.mweb.main-pin-description-text"),C({action:"click",item:"main-pin-description-text"})},children:(0,x.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},children:(0,x.jsx)(L,{pinDescription:O,expandText:!!e&&!j})})})}))]})}function M({graphqlRef:e,pinId:t,...n}){var i,a,r,l,s,d,c,u;const p=(0,o.useFragment)(j,e),h=(0,A.Z)({pin:p});return p?(0,x.jsx)(F,{...n,pinId:t,storyPinDataId:p.storyPinDataId,richMetadataDescription:null!==(i=null===(a=p.richMetadata)||void 0===a?void 0:a.description)&&void 0!==i?i:"",richMetadataArticleDatePublished:null!==(r=null===(l=p.richMetadata)||void 0===l||null===(s=l.article)||void 0===s?void 0:s.datePublished)&&void 0!==r?r:"",richSummaryDisplayName:null!==(d=null===(c=p.richSummary)||void 0===c?void 0:c.displayName)&&void 0!==d?d:"",closeupDescription:p.closeupDescription,closeupUnifiedDescription:p.closeupUnifiedDescription,pinDescription:p.description,structuredDescriptionComponents:h.components||{},hasAttribution:!!p.attribution,isRecipe:!(null===(u=p.richMetadata)||void 0===u||!u.recipe),graphqlRef:p,seoDescription:p.seoDescription||"",seoNoindexReason:p.seoNoindexReason||""}):null}function O({graphqlRef:e,pinId:t,...n}){var i,a,o,r,l,s,d,c;const u=(0,b.S6)()(t),p=(0,E.fv)(u);return u?(0,x.jsx)(F,{...n,pinId:t,storyPinDataId:u.story_pin_data_id,richMetadataDescription:null!==(i=null===(a=u.rich_metadata)||void 0===a?void 0:a.description)&&void 0!==i?i:"",richMetadataArticleDatePublished:null!==(o=null===(r=u.rich_metadata)||void 0===r||null===(l=r.article)||void 0===l?void 0:l.date_published)&&void 0!==o?o:"",richSummaryDisplayName:null!==(s=null===(d=u.rich_summary)||void 0===d?void 0:d.display_name)&&void 0!==s?s:"",closeupDescription:u.closeup_description,closeupUnifiedDescription:u.closeup_unified_description,pinDescription:u.description,structuredDescriptionComponents:p,hasAttribution:!!u.attribution,isRecipe:!(null===(c=u.rich_metadata)||void 0===c||!c.recipe),seoDescription:u.seo_description||"",seoNoindexReason:u.seo_noindex_reason||""}):null}function z(e){return e.graphqlRef?(0,x.jsx)(M,{...e,graphqlRef:e.graphqlRef}):(0,x.jsx)(O,{...e})}},323215:(e,t,n)=>{n.d(t,{Z:()=>me,f:()=>re});var i=n(667294),a=n(167912),o=n.n(a),r=n(240684),l=n(883119),s=n(342693),d=n(341027),c=n(645048),u=n(651575),p=n(604094),h=n(802760),m=n(536042),g=n(630089),_=n(149596),v=n(525571),y=n(943795),f=n(898252),b=n(465991),x=n(245410),k=n(282802),w=n(643183),S=n(611756),P=n(98736),T=n(618569),I=n(549201),C=n(94080),A=n(317204),E=n(566897),j=n(956745),R=n(226590),D=n(422279),L=n(18028),F=n(768865),M=n(431570),O=n(455846),z=n(230910),Z=n(772356),N=n(712968),U=n(832400),B=n(229527),K=n(141418),V=n(432044),H=n(482424),G=n(932124),W=n(646081),$=n(582319),q=n(220271),Y=n(197838),J=n(785893),X,Q;const ee=(0,r.ZP)({resolved:{},chunkName:()=>"Reactions-ReactionAggregation",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(15206).then(n.bind(n,425054)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 425054}}),te=(0,i.lazy)((()=>n.e(38427).then(n.bind(n,238427)))),ne=68,ie=3,ae=1,oe=i.Fragment,re=({children:e})=>"lg"===(0,U.H)()?(0,J.jsx)(l.Le,{top:ne,children:(0,J.jsx)(l.xu,{marginStart:4,children:e})}):e,le=(0,i.lazy)((()=>n.e(23132).then(n.bind(n,823132)))),se=void 0!==X?X:X=n(179461),de=void 0!==Q?Q:Q=n(229985);function ce(e){const t=(0,m.ZP)(),n=(0,T.Z)(),{hideMetadata:a,isEligibleForPdp:o,isEligibleForPdpPlus:r,isImagePinForUnauthOnTablet:d,isStoryPin:h,onClickTitleOrDomain:U,shouldShowAggregatedComments:W,shouldShowReactions:q,shouldShowSEOPinInfo:X,viewParameter:Q,viewerId:ne,pinActionBar:se,sourceUserBlockedByMe:de,sourceUserExplicitlyFollowedByMe:ce,sourceUserFollowerCount:ue,sourceUserFullName:pe,sourceUserId:he,sourceUserImageLargeUrl:me,sourceUserimageMediumUrl:ge,sourceUserImageSmallUrl:_e,sourceUserIsVerifiedMerchant:ve,sourceUserUsername:ye,sourceUserVerifiedIdentityVerified:fe,pinId:be,pinLink:xe,pinDomain:ke,pinProductPrice:we,pinProductInStock:Se,pinReactionCounts:Pe,promoterFullName:Te,hasPinProduct:Ie,hasSourceUser:Ce,hasOfficialUser:Ae,hasLinkDomain:Ee,hasNativeCreator:je,hasOriginPinner:Re,hasPromoter:De,hasRichMetadataArticle:Le,hasRichMetadataTutorial:Fe,hasRichMetadataRecipe:Me,hasRichMetadataRecipeCategorizedIngredients:Oe,hasRichMetadataRecipeAggregateRating:ze,hasRichMetadataProductOfferSummary:Ze,hasRichSummaryProductOfferSummary:Ne,richMetadataRecipeFromAggregatedData:Ue,richMetadataProductName:Be,richSummaryProductName:Ke,pinJoinVisualAnnotation:Ve,pinJoinAnnotationsWithLinks:He,graphqlRef:Ge,isActionBarInline:We,setIsActionBarInline:$e}=e,{checkExperiment:qe}=(0,x.F)(),Ye=(0,I.ZP)(),Je="desktop"===Ye,Xe="phone"===Ye,{isAuthenticated:Qe,country:et,locale:tt,isBot:nt,regionFromIp:it}=(0,k.B)(),at=(0,N.Tt)(),ot=(0,c.Z)(r)||!Je&&!o,rt=!Je&&(!Qe||ot&&We||!o&&qe("auth_mweb_inline_action_bar").anyEnabled);if(Qe&&o)return(0,J.jsx)(re,{children:(0,J.jsx)(l.xu,{"data-test-id":"CloseupDetails",children:(0,J.jsx)(l.xu,{width:"100%",paddingY:3,paddingX:2,children:(0,J.jsx)(H.Z,{onClickTitleOrDomain:U,graphqlRef:Ge,pinId:be,inlinePinActionBar:rt?se:void 0,setIsActionBarInline:ot?$e:void 0})})})});const lt=(0,f._S)(ke),st=qe("closeup_dweb_unauth_onepin_title_and_description").anyEnabled,dt=lt?(0,z.Bk)({i18n:t,isLego:!0,hasLinkDomain:Ee,hasRichMetadataArticle:Le,hasRichMetadataTutorial:Fe,hasRichMetadataRecipeCategorizedIngredients:Oe,hasRichMetadataProductOfferSummary:Ze,hasRichSummaryProductOfferSummary:Ne,richMetadataRecipeFromAggregatedData:Ue,richMetadataProductName:Be,richSummaryProductName:Ke}):st?void 0:t.bt(" Pinterest", "Uploaded to Pinterest", "closeup.closeupDetails.pinCreditPrefix", undefined, true),ct=!Qe&&Ie&&(o||nt||!qe("unauth_gate_product_pins_by_country_and_trustworthiness").anyEnabled),ut=!Je&&qe("closeup_mweb_onepin_title_and_description").anyEnabled,{pinCreditLink:pt,pinCredit:ht}=(0,z.Xe)({hasLinkDomain:Ee,hasNativeCreator:je,hasOriginPinner:Re,pinDomain:ke,sourceUserUsername:ye,sourceUserFullName:pe}),{annotationsWithLinks:mt}=(0,b.eK)({pinJoinVisualAnnotation:Ve,pinJoinAnnotationsWithLinks:He}),gt=(0,z.AH)(xe),_t=Ce&&(!Qe||ht&&pt),vt=q&&!!Pe,yt=(0,v.Z)(null==at?void 0:at.created_at)&&!(0,Z.V0)(at),ft=!Je&&X&&(0,J.jsx)(l.xu,{children:(0,J.jsx)(K.Z,{dedupeVisualAnnotations:null,pinId:be,isMainPin:!0,isAuth:Qe,pinCreditPrefix:dt,onClickTitleOrDomain:U,graphqlRef:Ge,lazyLoadAnnotations:!Qe&&!nt})}),bt=!Qe&&h,xt=!bt&&Ae&&(0,J.jsx)(l.xu,{marginBottom:2,children:(0,J.jsx)(L.Z,{hideFollowButton:qe("lex_follow_button").group.includes("hide_follow")||Je,justifyContent:Je?"start":"center",viewerId:ne,pinId:be,graphqlRef:Ge,seeMoreButton:!ot&&ft})}),kt=!bt&&!!_t&&!Ae&&(0,J.jsxs)(l.xu,{flex:"grow",marginTop:ie,"data-test-id":"CloseupUserRep",display:"flex",justifyContent:"between",alignItems:"center",width:"100%",children:[(0,J.jsx)($.Z,{activateLexFollowExp:()=>qe("lex_follow_button"),blockedByMe:null!=de&&de,explicitlyFollowedByMe:null!=ce&&ce,followerCount:null!=ue?ue:0,fullName:null!=pe?pe:"",id:null!=he?he:"",imageLargeUrl:null!=me?me:"",imageMediumUrl:null!=ge?ge:"",imageSmallUrl:null!=_e?_e:"",isEligibleForPdp:!!o,isImagePinForUnauthOnTablet:null!=d&&d,isOnCloseup:!0,isVerifiedMerchant:null!=ve&&ve,pinId:be,textColor:"default",type:"row",username:null!=ye?ye:"",verifiedIdentityVerified:null!=fe&&fe,viewParameter:Q,viewType:3}),!(ot&&Xe)&&ft]}),wt=!Qe&&Je&&"enabled_hide_all"===qe("dweb_ff_plp_remove_more_info").group,St=Je&&(mt||[]).length>0&&(0,J.jsxs)(i.Fragment,{children:[(0,J.jsx)(Y.Z,{dedupeVisualAnnotations:null,pinId:be,mode:"inlineWithScrollArrows",graphqlRef:Ge}),!wt&&(0,J.jsx)(E.Z,{pinId:be,graphqlRef:Ge})]}),Pt=vt&&(0,J.jsx)(p.Z,{name:"SafeSuspense_CloseupDetails_ReactionAggregation",children:(0,J.jsx)(w.Z,{children:(0,J.jsx)(l.xu,{alignSelf:"center",display:"flex",justifyContent:Je?"start":"center",marginTop:Je?2:void 0,children:(0,J.jsx)(ee,{pinId:be,reactionCounts:Pe,viewParameter:156,viewType:3,disableModal:!Qe,textSize:st?s.n:void 0,textWeight:st?"bold":void 0})})})});return(0,J.jsx)(re,{children:(0,J.jsxs)(l.xu,{"data-test-id":"CloseupDetails",children:[(0,J.jsxs)(l.xu,{width:"100%",paddingY:4,paddingX:2,children:[!rt&&se,Xe&&xt,st&&Pt,(Je||ct||gt&&(!_t||d))&&(0,J.jsx)(l.xu,{"data-test-id":"callToActionButton",display:Qe||Je||d||ct?void 0:"none",marginTop:vt||Xe?ie:0,children:(0,J.jsx)(l.kC,{alignItems:"center",direction:"row",justifyContent:Je?"start":"center",width:"100%",children:(0,g.nk)(t.bt("{{ pinCreditPrefix }} {{ pinCredit }}", "{{ pinCreditPrefix }} {{ pinCredit }}", "tells the user where the pin is from in the form of Saved from website", undefined, true),{pinCreditPrefix:(0,J.jsx)(l.xu,{display:"inlineBlock",children:(0,J.jsx)(l.xv,{inline:!0,size:st?s.n:"200",children:dt})},"pinCreditsPrefix"),pinCredit:lt?(0,J.jsx)(l.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,J.jsx)(l.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),n({action:"click",item:"pin-domain-link"}),(0,P.My)("mweb_pin_page.pin_link.clickthrouh"),Qe||(0,P.NC)("click_pin_closeup_link_clickthrough"),U()},tapStyle:"compress",children:(0,J.jsx)(l.xv,{size:st?s.n:"200",weight:d?void 0:"bold",lineClamp:1,children:(0,J.jsx)("span",{style:d?{textDecoration:"underline"}:{},children:ke})},"pinLinkDomain")})},"pinCredits"):""})})}),!gt&&!_t&&(0,J.jsx)(l.xu,{display:"flex",justifyContent:Xe?"center":"start",alignItems:"center",marginTop:vt||Xe?ie:0,children:(0,J.jsx)(l.xv,{size:"200",children:t.bt(" Pinterest", "Uploaded to Pinterest", "closeup.details.uploadToPinterest", undefined, true)})}),Je&&ct&&we&&(0,J.jsxs)(l.xu,{alignItems:"baseline",display:"flex",direction:"row",marginTop:1,children:[(0,J.jsx)(l.xv,{size:"500",children:we}),(0,J.jsx)(l.xu,{marginStart:2,children:(0,J.jsx)(l.xv,{size:"400",children:Se?t.bt("", "In stock", "closeup.details.productPinInStock", undefined, true):t.bt("", "Out of stock", "Product pin out of stock", undefined, true)})})]}),(0,J.jsxs)(oe,{children:[Xe&&kt,(0,J.jsx)(l.xu,{marginTop:ie,children:(0,J.jsx)(R.Z,{onClick:U,hasLink:gt,lineClamp:ut?void 0:(0,D.Z)({isImagePinForUnauthOnTablet:d,truncate:!!a}),pinId:be,graphqlRef:Ge,forceSmallerHeading:ut&&!d,textAlign:ut||Je?"start":"center"})})]}),!Je&&we&&(0,J.jsx)(l.xu,{display:"flex",justifyContent:"center",marginTop:2,marginBottom:2,children:(0,J.jsxs)(l.xv,{children:[we,"  ",Se?t.bt("", "In stock", "closeup.details.productPinInStock", undefined, true):t.bt("", "Out of stock", "Product pin out of stock", undefined, true)]})}),Me&&ze&&!yt&&(0,J.jsx)(M.Z,{pinId:be,graphqlRef:Ge,boldText:!1,marginTop:ie,textSize:"300",isWideViewport:Je}),(0,J.jsx)(oe,{children:(0,J.jsx)(_.Z,{options:{threshold:[ae]},onVisibilityChange:ot?e=>{if(e&&e.length>0&&$e){const{intersectionRatio:t,boundingClientRect:n}=e[0],i=t===ae,a=n.y<0;$e(i||a)}}:()=>{},children:e=>(0,J.jsxs)(l.xu,{ref:e,children:[(0,J.jsx)(l.xu,{marginTop:2,children:ct?(0,J.jsx)(V.Z,{onClickTitleOrDomain:U,graphqlRef:Ge,pinId:be}):(0,J.jsx)(A.Z,{collapse:"details"===a,pinId:be,graphqlRef:Ge})}),!st&&Pt]})})}),rt&&se,!Xe&&kt,!Xe&&(0,J.jsx)(l.xu,{marginTop:4,children:xt}),Je&&!wt&&(0,J.jsx)(l.xu,{"data-test-id":"UnauthVaseFullBleedModalContainer",dangerouslySetInlineStyle:{__style:{visibility:"hidden"}},children:(0,J.jsx)(C.Z,{graphqlRef:Ge,onClose:()=>{},pinId:be})}),Je&&!st&&St,!Je&&De&&(0,J.jsxs)(i.Fragment,{children:[(0,J.jsx)(l.xu,{marginTop:ie,children:(0,J.jsx)(l.iz,{})}),(0,J.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"between",margin:2,paddingX:1,children:[(0,J.jsx)(l.xv,{inline:!0,size:"200",weight:"bold",children:t.bt(" Pin ", "Promoted Pin", "Denotes promoted pin in closeup", undefined, true)}),(0,J.jsx)(p.Z,{name:"SafeSuspense_CloseupDetails_PinFeedbackButton",children:(0,J.jsx)(w.Z,{children:(0,J.jsx)(le,{graphqlRef:Ge,pinId:be,promoter:null!=Te?Te:"",type:"promoted"})})})]}),(0,J.jsx)(l.iz,{})]}),!yt&&Me&&(0,J.jsx)(B.Z,{hash:"recipe",offset:-y.DEFAULT_HEIGHT,children:(0,J.jsx)(F.ZP,{pinId:be,graphqlRef:Ge})}),(0,J.jsx)(j.Z,{graphqlRef:Ge,pinId:be}),!Qe&&Xe&&"IN"===et&&(tt||"").startsWith("en")&&G.N3.includes(it)&&Number((0,S.qn)("indiaUnauthLocaleShowCount",0))<=3&&(0,J.jsx)(p.Z,{name:"SafeSuspense_CloseupDetails_UnauthSwitchLanguageModal",children:(0,J.jsx)(w.Z,{children:(0,J.jsx)(te,{})})}),(0,J.jsx)(u.Z,{graphqlRef:Ge,isDesktop:Je,pinId:be})]}),Je&&st&&St,Je&&W&&(0,J.jsx)(p.Z,{name:"CommentThread",children:(0,J.jsxs)(l.xu,{paddingX:2,marginTop:Qe?void 0:10,children:[(0,J.jsx)(l.X6,{size:"400",accessibilityLevel:2,children:t.bt("", "Comments", "desktopPinCloseup.sectionTitle", undefined, true)}),(0,J.jsx)(O.Z,{isReadOnly:!0,graphqlRef:Ge,pinId:be,viewParameter:Q})]})})]})})}const ue=e=>{var t,n,i,a,o,r,l,s,c,u,p,h,m,g,_,v,y,f,b,x,w,S,P,T,I,C,A,E,j;const{isAuthenticated:R}=(0,k.B)(),D=(0,N.mN)();if(!e)return null;const L=e.promoter&&!e.is_downstream_promotion?e.promoter:null,F=null===(t=e.rich_metadata)||void 0===t||null===(n=t.products)||void 0===n?void 0:n[0],M=null===(i=e.rich_summary)||void 0===i||null===(a=i.products)||void 0===a?void 0:a[0],{link_domain:O,native_creator:Z,origin_pinner:U,pinner:B}=e||{};let K,V=(0,z.wS)(O,Z,U,B);R||V||(V=B),V&&(K="string"==typeof V?D(V):V);const H=!!e.closeup_attribution;let G;return F&&F.name&&F.offer_summary&&(G=F.offer_summary),!G&&M&&M.name&&M.offer_summary&&(G=M.offer_summary),{hasLinkDomain:!!e.link_domain,hasNativeCreator:!!e.native_creator,hasOfficialUser:H,hasOriginPinner:!!e.origin_pinner,hasPinProduct:null!==(o=!!G)&&void 0!==o&&o,hasPromoter:!!L,hasRichMetadataArticle:!(null===(r=e.rich_metadata)||void 0===r||!r.article),hasRichMetadataProductOfferSummary:!(null==F||!F.offer_summary),hasRichMetadataRecipe:!(null===(l=e.rich_metadata)||void 0===l||!l.recipe),hasRichMetadataRecipeAggregateRating:!(null===(s=e.rich_metadata)||void 0===s||null===(c=s.recipe)||void 0===c||!c.aggregate_rating),hasRichMetadataRecipeCategorizedIngredients:!(null===(u=e.rich_metadata)||void 0===u||null===(p=u.recipe)||void 0===p||!p.categorized_ingredients),hasRichMetadataTutorial:!(null===(h=e.rich_metadata)||void 0===h||!h.tutorial),hasRichSummaryProductOfferSummary:!(null==F||!F.offer_summary),hasSourceUser:!!V,isEligibleForPdp:e.is_eligible_for_pdp,isEligibleForPdpPlus:e.is_eligible_for_pdp_plus,pinDomain:e.domain,pinJoinAnnotationsWithLinks:null===(m=e.pin_join)||void 0===m?void 0:m.annotations_with_links,pinJoinVisualAnnotation:null===(g=e.pin_join)||void 0===g?void 0:g.visual_annotation,pinLink:e.link,pinProductInStock:null===(_=G)||void 0===_?void 0:_.in_stock,pinProductPrice:G&&(0,d.Z)(G),pinReactionCounts:e.reaction_counts,promoterFullName:null==L?void 0:L.full_name,richMetadataProductName:null==F?void 0:F.name,richMetadataRecipeFromAggregatedData:null===(v=e.rich_metadata)||void 0===v||null===(y=v.recipe)||void 0===y?void 0:y.from_aggregated_data,richSummaryProductName:null==M?void 0:M.name,shouldShowAggregatedComments:e.is_eligible_for_aggregated_comments,sourceUserBlockedByMe:null===(f=K)||void 0===f?void 0:f.blocked_by_me,sourceUserExplicitlyFollowedByMe:null===(b=K)||void 0===b?void 0:b.explicitly_followed_by_me,sourceUserFollowerCount:null===(x=K)||void 0===x?void 0:x.follower_count,sourceUserFullName:null===(w=K)||void 0===w?void 0:w.full_name,sourceUserId:null===(S=K)||void 0===S?void 0:S.id,sourceUserImageLargeUrl:null===(P=K)||void 0===P?void 0:P.image_large_url,sourceUserimageMediumUrl:null===(T=K)||void 0===T?void 0:T.image_medium_url,sourceUserImageSmallUrl:null===(I=K)||void 0===I?void 0:I.image_small_url,sourceUserIsVerifiedMerchant:null===(C=K)||void 0===C?void 0:C.is_verified_merchant,sourceUserUsername:null===(A=K)||void 0===A?void 0:A.username,sourceUserVerifiedIdentityVerified:null===(E=K)||void 0===E||null===(j=E.verified_identity)||void 0===j?void 0:j.verified}},pe=e=>{var t,n,i,o,r,l,s,d,c,u,p,h,m,g,_,v,y,f,b,x,w,S,P,T,I,C,A,E,j,R;const D=(0,q.Z)(e),L=(0,W.Z)(e),F=(0,a.useFragment)(se,e.pinner),M=(0,a.useFragment)(se,e.nativeCreator),O=(0,a.useFragment)(se,null===(t=e.linkDomain)||void 0===t?void 0:t.officialUser),z=(0,a.useFragment)(se,e.originPinner),Z=(null===(n=e.pinJoin)||void 0===n?void 0:n.visualAnnotation)||[],N=e.promoter&&!e.isDownstreamPromotion?e.promoter:null,U=null===(i=e.richMetadata)||void 0===i||null===(o=i.products)||void 0===o?void 0:o[0],B=null===(r=e.richSummary)||void 0===r||null===(l=r.products)||void 0===l?void 0:l[0],{isAuthenticated:K}=(0,k.B)();let V;V=M||(e.linkDomain?O:z||F),K||V||(V=F);const H=!!e.closeupAttribution;let G;return U&&U.name&&U.offerSummary&&(G=U.offerSummary),!G&&B&&B.name&&B.offerSummary&&(G=B.offerSummary),{hasLinkDomain:!!e.linkDomain,hasNativeCreator:!!e.nativeCreator,hasOfficialUser:H,hasOriginPinner:!!e.originPinner,hasPinProduct:null!==(s=!!G)&&void 0!==s&&s,hasPromoter:!!N,hasRichMetadataArticle:!(null===(d=e.richMetadata)||void 0===d||!d.article),hasRichMetadataProductOfferSummary:!(null==U||!U.offerSummary),hasRichMetadataRecipe:!(null===(c=e.richMetadata)||void 0===c||!c.recipe),hasRichMetadataRecipeAggregateRating:!(null===(u=e.richMetadata)||void 0===u||null===(p=u.recipe)||void 0===p||!p.aggregateRating),hasRichMetadataRecipeCategorizedIngredients:!(null===(h=e.richMetadata)||void 0===h||null===(m=h.recipe)||void 0===m||!m.categorizedIngredients),hasRichMetadataTutorial:!(null===(g=e.richMetadata)||void 0===g||!g.tutorial),hasRichSummaryProductOfferSummary:!(null==U||!U.offerSummary),hasSourceUser:!!V,isEligibleForPdp:e.isEligibleForPdp,isEligibleForPdpPlus:e.isEligibleForPdpPlus,pinDomain:e.domain,pinJoinAnnotationsWithLinks:L,pinJoinVisualAnnotation:Z,pinLink:e.link,pinProductInStock:null===(_=G)||void 0===_?void 0:_.inStock,pinProductPrice:null===(v=G)||void 0===v?void 0:v.price,pinReactionCounts:D,promoterFullName:null==N?void 0:N.fullName,richMetadataProductName:null==U?void 0:U.name,richMetadataRecipeFromAggregatedData:null===(y=e.richMetadata)||void 0===y||null===(f=y.recipe)||void 0===f?void 0:f.fromAggregatedData,richSummaryProductName:null==B?void 0:B.name,shouldShowAggregatedComments:e.isEligibleForAggregatedComments,sourceUserBlockedByMe:null===(b=V)||void 0===b?void 0:b.blockedByMe,sourceUserExplicitlyFollowedByMe:null===(x=V)||void 0===x?void 0:x.explicitlyFollowedByMe,sourceUserFollowerCount:null===(w=V)||void 0===w?void 0:w.followerCount,sourceUserFullName:null===(S=V)||void 0===S?void 0:S.fullName,sourceUserId:null===(P=V)||void 0===P?void 0:P.entityId,sourceUserImageLargeUrl:null===(T=V)||void 0===T?void 0:T.imageLargeUrl,sourceUserimageMediumUrl:null===(I=V)||void 0===I?void 0:I.imageMediumUrl,sourceUserImageSmallUrl:null===(C=V)||void 0===C?void 0:C.imageSmallUrl,sourceUserIsVerifiedMerchant:null===(A=V)||void 0===A?void 0:A.isVerifiedMerchant,sourceUserUsername:null===(E=V)||void 0===E?void 0:E.username,sourceUserVerifiedIdentityVerified:null===(j=V)||void 0===j||null===(R=j.verifiedIdentity)||void 0===R?void 0:R.verified}},he=(0,h.M2)({useGraphQLAdapter:pe,useLegacyAdapter:ue});function me({graphqlRef:e,pinId:t,...n}){return(0,J.jsx)(he,{fragment:de,dataKey:null!=e?e:t,children:({data:e,fragmentRef:i})=>!!e&&(0,J.jsx)(ce,{...n,...e,pinId:t,graphqlRef:i})})}},566897:(e,t,n)=>{n.d(t,{Z:()=>g});var i,a=n(667294),o=n(167912),r=n(883119),l=n(536042),s=n(98736),d=n(618569),c=n(94080),u=n(785893);const p=void 0!==i?i:i=n(787210);function h({pinId:e,graphqlRef:t}){const n=(0,l.ZP)(),i=(0,d.Z)(),[o,p]=(0,a.useState)(!1),h=()=>{(0,s.My)("unauth.topic_page.best_pin.more_info_click");const e=!o;p(e),document.body&&(document.body.style.overflow=e?"hidden":"")};return(0,u.jsxs)(r.xu,{children:[(0,u.jsxs)("button",{"data-test-id":"more-information-button",onClick:()=>{i({action:"click",item:"more-information-button"}),h()},style:{backgroundColor:"transparent",border:0,fontSize:"12px",fontWeight:"bold",height:"13px",letterSpacing:"-0.3px",MozOsxFontSmoothing:"grayscale",outline:"none",padding:0,marginTop:"16px",WebkitFontSmoothing:"antialiased"},children:[n.bt("", "More information", "bestpincard.vasetags.moreinformation", undefined, true),"..."]}),(0,u.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{visibility:o?"":"hidden"}},children:(0,u.jsx)(c.Z,{graphqlRef:t,pinId:e,onClose:h,zIndex:3})})]})}const m=({pinId:e,graphqlRef:t})=>{const n=(0,o.useFragment)(p,t);return(0,u.jsx)(h,{graphqlRef:n,pinId:e})};function g({graphqlRef:e,pinId:t}){return e?(0,u.jsx)(m,{graphqlRef:e,pinId:t}):(0,u.jsx)(h,{pinId:t,graphqlRef:null})}},741099:(e,t,n)=>{n.d(t,{Z:()=>k});var i=n(667294),a=n(883119),o=n(536042),r=n(245410),l=n(397352),s=n(282802),d=n(552369),c=n(549201),u=n(464649),p=n(515367),h=n(599226),m=n(98736),g=n(618569),_=n(785893);function v({setShowClickthroughOverlay:e,showImageViewerUpsell:t,pinImageInfo:n,isEligibleForPdp:l,isEligibleForDesktopSocialInviteOverlay:s,inviterFirstName:d}){const u=(0,o.ZP)(),p=(0,g.Z)(),v=(0,h.Z)(),y=(0,i.useRef)(),f=(0,c.ZP)(),b="desktop"===f,x=d&&s,{checkExperiment:k}=(0,r.F)(),w=x&&(u.bt(" Pinterest  {{ name }}", "Sign up to join {{ name }} on Pinterest", "pin.closeup.wash.desktop.shareNotification", undefined, true)).replace("{{ name }}",d),S=u.bt("", "Click to make the most out of this idea with a free account", "web.unauth.plp.clickable_wash.header", undefined, true),P=u.bt("", "Tap to make the most out of this idea with a free account", "mweb.unauth.plp.clickable_wash.header", undefined, true),T=u.bt("", "Login to save this idea and explore more", "dweb.unauth.plp.clickable_wash.header", undefined, true);let I=P;return b&&(I=w||(k("dweb_signup_to_login_modal").group.startsWith("enabled_pin_wash")?T:S)),(0,_.jsx)(a.iP,{onMouseEnter:()=>{x&&(0,m.My)("dweb.main_pin.social.wash.view"),(0,m.My)("dweb.pin.wash.view")},onMouseLeave:()=>{x&&(0,m.My)("dweb.main_pin.social.wash.dismiss"),(0,m.My)("dweb.pin.wash.dismiss")},onTap:({event:e})=>{b&&(e.preventDefault(),p({action:"click",item:"pin-image"}),s&&d&&(0,m.My)("dweb.main_pin.social.wash.click"),(0,m.My)(`dweb.pin.wash.click.${k("dweb_signup_to_login_modal").group}`),t?((0,m.My)("main_pin_image_viewer_upsell_exp.image_viewer_upsell.show"),v({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_main_pin_image_viewer_upsell_wash",desktopOptions:{modalType:"signup",modalOptions:{source:"mainPinImageViewerUpsellExp",container:"imageViewerUpsellWash",pinImageInfo:n}}})):((0,m.My)("dweb_unauth_main_pin_image_click.signup_modal.show"),v({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:k("dweb_signup_to_login_modal").group.startsWith("enabled_pin_wash")?"login":"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})),l&&(0,m.My)("unauth.pdp.pin.img.click",{device:f}))},children:(0,_.jsxs)(a.xu,{zIndex:new a.Ry(2),children:[(0,_.jsx)(a.xu,{top:!0,bottom:!0,left:!0,right:!0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:s?"center":void 0,direction:"column",position:"absolute",ref:y,"data-test-id":"main-pin-hover-overlay",children:(0,_.jsx)(a.xu,{paddingY:10,display:"flex",alignItems:"center",maxWidth:240,direction:"column",children:(0,_.jsx)(a.xu,{marginTop:8,children:!t&&(0,_.jsx)(a.X6,{size:x?"500":"400",align:"center",color:"light",children:I})})})}),!b&&(0,_.jsx)(a.xu,{position:"absolute",top:!0,right:!0,marginTop:4,marginEnd:4,children:(0,_.jsx)(a.hU,{icon:"cancel",iconColor:"white",onClick:({event:t})=>{t.stopPropagation(),e&&(e(!1),(0,m.My)("main.pin.wash.cancel"))},accessibilityLabel:u.bt(" Pin ", "Close pin clickable wash", "mweb.unauth.plp.clickable_wash.close_button", undefined, true),size:"md"})})]})})}var y=n(963181),f=n(199999),b=n(935340),x=n(738162);const k=e=>{var t;const n=(0,o.ZP)(),{alt:h,clickthroughOverlayOptions:m,color:g,isFlashlightPage:k,naturalHeight:w,naturalWidth:S,placeholder:P,pwtElementTimingId:T,pwtSurfaceContext:I,setShowClickthroughOverlay:C,showImageViewerUpsell:A,showSpinner:E,src:j,stickyFooter:R,isEligibleForPdp:D}=e,L=(0,u.Z)(),F=(0,x.I)(),{checkExperiment:M}=(0,r.F)(),O=!L,{isAuthenticated:z}=(0,s.B)(),Z=(0,c.ZP)(),N="desktop"===Z,U=z&&!N&&M("auth_mweb_inline_action_bar").anyEnabled,B=(0,i.useRef)(),[K,V]=(0,i.useState)(!O||!!j&&!!P&&P===j),H=(0,i.useRef)(""),G=()=>{I&&I.markConstraintComplete("PinPageMainImageRendered")};(0,i.useEffect)((()=>{if(F){var e,t;const i=null!==(e=null===(t=document.getElementById("pin-image-preload"))||void 0===t?void 0:t.getAttribute("href"))&&void 0!==e?e:"";let a="";try{a=document.URL.split("/pin/")[1].slice(0,-1)}catch(n){a="unknown"}(0,b.nP)("www.closeup.preloadImageCheck",{sampleRate:1,tags:{isAuthenticated:z,deviceType:Z,isEqual:i===j,shouldRenderPlaceholder:O}}),i!==j&&((0,b.nP)("www.closeup.preloadImageCheckWithId",{sampleRate:.5,tags:{isAuthenticated:z,deviceType:Z,pinId:a}}),(0,b.nP)("www.closeup.preloadImageCheckWithResolutions",{sampleRate:1,tags:{isAuthenticated:z,deviceType:Z,resolution:j.split("/")[3]}}));const o=document.querySelector('[data-test-id="pin-closeup-image"]');((null==o?void 0:o.querySelectorAll("img").length)||0)>1&&((0,b.nP)("www.closeup.mainImageCount",{sampleRate:1,tags:{isAuthenticated:z,deviceType:Z}}),(0,b.nP)("www.closeup.mainImageCountWithId",{sampleRate:.1,tags:{isAuthenticated:z,deviceType:Z,pinId:a}}))}}),[]),(0,i.useEffect)((()=>{const e=new Image;e.onload=()=>V(!0),e.src=j}),[]);const W=(0,i.useRef)(null===(t=(0,f.a)())||void 0===t?void 0:t.setHasScrolledPastMainContent);(0,i.useEffect)((()=>{const e=(0,d.Z)((()=>{if(B.current){var t;const n=window.scrollY>B.current.offsetTop+B.current.offsetHeight;null===(t=W.current)||void 0===t||t.call(W,n),n&&window.removeEventListener("scroll",e)}}),10);window.addEventListener("scroll",e)}),[]);const[$,q]=(0,i.useState)();(0,i.useEffect)((()=>{B.current&&q(B.current.scrollHeight)}),[]);const Y=!k&&"tablet"===Z,J=O?(0,_.jsx)(l.Z,{alt:h,color:g,elementTiming:T,naturalHeight:w,naturalWidth:S,src:P,onLoad:G}):null;return(0,_.jsxs)(a.xu,{"data-test-id":"pin-closeup-image",maxHeight:"100%",minHeight:$,maxWidth:"tablet"===Z?y.g6:void 0,overflow:R?void 0:"hidden",position:"relative",width:k||"phone"===Z?"100%":N?508:y.Hg,rounding:k||"phone"===Z?0:6,ref:B,marginTop:"tablet"===Z&&U?12:0,children:[!z&&(m||A)&&(0,_.jsx)(p.Z,{isImagePinForUnauthOnTablet:!1,showImageViewerUpsell:A,children:(0,_.jsx)(v,{setShowClickthroughOverlay:C,showImageViewerUpsell:A,pinImageInfo:{pin_image_url:j,natural_height:w,natural_width:S},inviterFirstName:H.current,isEligibleForPdp:D})}),J&&(Y?(0,_.jsx)(a.xu,{rounding:6,overflow:"hidden",children:J}):J),(0,_.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:K?1:0,transition:K&&!N?"opacity .5s ease-in-out":void 0,backgroundColor:g}},left:!0,position:O?"absolute":"relative",right:!0,rounding:Y?6:5,overflow:Y?"hidden":void 0,top:!0,children:O?(0,_.jsx)(a.Ee,{alt:h,naturalHeight:w,naturalWidth:S,src:j}):(0,_.jsx)(l.Z,{alt:h,color:g,elementTiming:T,naturalHeight:w,naturalWidth:S,src:j,onLoad:G})}),E&&(0,_.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:K?0:1,transition:K?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!K&&(0,_.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,_.jsx)(a.$j,{accessibilityLabel:n.bt("", "Loading image", "Loading higher resolution image", undefined, true),show:!0})})}),R]})}},109530:(e,t,n)=>{n.d(t,{Z:()=>g});var i,a=n(167912),o=n(883119),r=n(536042),l=n(245410),s=n(759937),d=n(525104),c=n(785893);const u=void 0!==i?i:i=n(284014),p=({embedsrc:e,pinImgSrc:t})=>{const n=(0,r.ZP)(),{checkExperiment:i}=(0,l.F)(),a={},s="/embed/";if(e&&e.includes("youtube")&&e.includes(s)&&i("web_load_youtube_image_preview").anyEnabled){const n=e.indexOf(s)+7,o=e.indexOf("?"),r=e.slice(n,o),l=i("web_load_youtube_image_preview").group;"enabled_sd"===l?a.background=`url("https://i.ytimg.com/vi/${r}/sddefault.jpg")`:"enabled_internal"===l&&(a.background=`url("${t||""}")`),a.backgroundSize="cover",a.backgroundPosition="center"}return(0,c.jsx)(o.xu,{column:12,dangerouslySetInlineStyle:{__style:{paddingBottom:"50%",background:a.background,backgroundSize:a.backgroundSize,backgroundPosition:a.backgroundPosition}},overflow:"hidden",position:"relative",rounding:2,children:(0,c.jsx)("iframe",{allowFullScreen:!0,frameBorder:0,src:null==e?void 0:e.replace("http://","https://"),style:{width:"100%",height:"100%",position:"absolute",border:0},title:n.bt("", "Embedded content", "Embedded iframe accessibility title", undefined, true)})})},h=({graphqlRef:e})=>{var t;const n=(0,a.useFragment)(u,e),i=(0,s.Z)(n),{embed:o}=n,r=i?null===(t=i["736x"])||void 0===t?void 0:t.url:"";return(0,c.jsx)(p,{embedsrc:null==o?void 0:o.src,pinImgSrc:r})},m=({pinId:e})=>{var t;const n=(0,d.S6)()(e),{embed:i,images:a}=null!=n?n:Object.freeze({});return(0,c.jsx)(p,{embedsrc:null==i?void 0:i.src,pinImgSrc:a?null===(t=a["736x"])||void 0===t?void 0:t.url:void 0})};function g({graphqlRef:e,pinId:t}){return e?(0,c.jsx)(h,{graphqlRef:e}):(0,c.jsx)(m,{pinId:t})}},586567:(e,t,n)=>{n.d(t,{Z:()=>ie});var i=n(667294),a=n(702664),o=n(167912),r=n.n(o),l=n(616550),s=n(240684),d=n(883119),c=n(241643),u=n.n(c),p=n(388011),h=n(788241),m=n(402833),g=n(898252),_=n(245410),v=n(41162),y=n(282802),f=n(99220),b=n(98736),x=n(618569),k=n(549201),w=n(818746),S=n(323215),P=n(109530),T=n(140498),I=n(932765),C=n(251951),A=n(930359),E=n(142900),j=n(657006),R=n(936840),D=n(99562),L=n(781925),F=n(624658),M=n(411224),O=n(535483),z=n(525104),Z=n(832400),N=n(389190),U=n(785893),B,K;const V=(0,s.ZP)({resolved:{},chunkName:()=>"CloseupVideo",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(91564).then(n.bind(n,598615)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 598615}}),H=(0,s.ZP)({resolved:{},chunkName:()=>"StoryPinCloseupBodyOnDesktop",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(62955),n.e(1171),n.e(24856),n.e(29164)]).then(n.bind(n,406700)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 406700}}),G=(0,s.ZP)({resolved:{},chunkName:()=>"StoryPinCloseupDetailsOnDesktop",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(24856),n.e(7620)]).then(n.bind(n,324856)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 324856}}),W=(0,s.ZP)({resolved:{},chunkName:()=>"StoryPinCloseupBodyOnMobile",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(62955),n.e(1171),n.e(4187),n.e(34258)]).then(n.bind(n,409633)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 409633}}),$=(0,s.ZP)({resolved:{},chunkName:()=>"SEODebugModule",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(91576).then(n.bind(n,440482)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 440482}}),q=(0,s.ZP)({resolved:{},chunkName:()=>"packages-rich-snippet-LeafSnippet",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(62955),n.e(36e3)]).then(n.bind(n,682959)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 682959}}),Y=void 0!==B?B:B=n(403309),J=void 0!==K?K:K=n(360142),X=({children:e,queryRef:t})=>{var n;return e((0,o.useFragment)(J,null===(n=(0,o.usePreloadedQuery)(u(),t).v3GetPinQuery)||void 0===n?void 0:n.data))},Q=({children:e,queryRef:t,showSpinner:n})=>t?(0,U.jsx)(i.Suspense,{fallback:n?(0,U.jsx)(A.Z,{}):null,children:(0,U.jsx)(X,{queryRef:t,children:t=>t&&e(t)})}):e(null);function ee({actionBarIsMinifiedToMainPinImage:e,clickthrough:t,closeupIsFirstPageInHistoryStack:n,embedSrc:o,embedSubtype:r,embedType:s,graphqlRefs:c,hasBoard:u,hasImages:A,hasProductAdditionalImages:R,hideMetadata:z,isActionBarInline:B,isEligibleForPdp:K,isEligibleForTapToZoom:Y,isImagePinForUnauthOnTablet:J,isSendPinModalOpen:X,isVideoPin:ee,onMoreButtonClick:te,onSendPin:ne,pinActionBar:ie,pinCloseupExperience:ae,pinId:oe,pinImageLargeUrl:re,pinLink:le,pinMobileLink:se,pinnedToBoardId:de,pinTrackedLink:ce,setIsActionBarInline:ue,setMwebTapToZoomExpEnabled:pe,shouldShowReactions:he,shouldShowSEOPinInfo:me,viewerId:ge}){var _e;const ve=null==c?void 0:c.pageRef,{isAuthenticated:ye,isBot:fe}=(0,y.B)(),{seoDebug:be}=(0,a.useSelector)((({session:e})=>e)),{clientTrackingParams:xe,isStoryPin:ke,viewParameter:we,shouldRenderAsStoryPin:Se}=(0,C.R)(),Pe=(0,l.useLocation)(),Te=(0,l.useHistory)(),Ie=(0,Z.H)(),Ce=(0,v.E)(),Ae=(0,k.HG)(),Ee=(0,x.Z)(),{logContextEvent:je}=(0,p.v)(),{viewType:Re}=(0,h.SU)(),{checkExperiment:De}=(0,_.F)(),{anyEnabled:Le}=!ye&&De((0,L.Z)({isDesktop:Ae}))||{},[Fe,Me]=(0,i.useState)(!1),[Oe,ze]=(0,i.useState)(!1),[Ze,Ne]=(0,i.useState)(!0),Ue=(0,m.g)(),Be=null==Ue?void 0:Ue.pinLinkClickHandler,[Ke,Ve]=(0,i.useState)(null),He=!!Ke,Ge=()=>{t(),Be&&Be()},We=(0,l.useRouteMatch)(),$e=null===(_e=Pe.state)||void 0===_e?void 0:_e.trackingParams,qe=()=>{(0,b.NC)("click_pin_closeup_image"),ye||Ee({action:"click",item:"pin-image"}),(0,F.Z)((se?"mobile":ce&&"tracked")||le&&"external"||"original"),ye?We.params.id&&Te.push(`/pin/${We.params.id}#${j.v}`,{trackingParams:$e}):Fe?(je({event_type:10439,element:13319,component:14215,view_type:Re,view_data:we,aux_data:{upsell_reason:"click_pin_closeup_image"}}),Te.push("/signup"),(0,b.My)("main.pin.wash.click")):((0,b.My)("main.pin.wash.show"),Me(!Fe))},Ye=(0,a.useDispatch)(),Je=(0,a.useSelector)((({pinNavContext:e})=>(null==e?void 0:e.pinId)!==oe?{}:e),((e,t)=>(null==e?void 0:e.pinId)===(null==t?void 0:t.pinId)));return(0,i.useEffect)((()=>{null!=Je&&Je.pinId&&Je.pinId!==oe&&Ye((0,O.H)())}),[]),(0,U.jsxs)(I.Z,{imageLargeUrl:re,isVideoPin:ee,pinId:oe,children:[be&&Ze&&(0,U.jsx)($,{entityId:oe,entityType:"pin",setShowSeoDebugModule:Ne}),e&&(0,U.jsx)(D.Z,{onMoreButtonTap:te,onSendButtonTap:ne}),u&&ke&&Se?(0,U.jsx)(Q,{queryRef:null==c?void 0:c.detailRef,showSpinner:!0,children:e=>Ae?(0,U.jsx)(H,{pinId:oe,graphqlRef:e}):(0,U.jsxs)(i.Fragment,{children:[(0,U.jsx)(W,{clientTrackingParams:xe,pinId:oe,pinCloseupExperience:ae,pinnedToBoardId:de,viewParameter:we,viewType:3,graphqlRef:e}),!J&&(0,U.jsx)(S.Z,{pinId:oe,isStoryPin:!0,hideMetadata:z,onClickTitleOrDomain:ye?qe:Ge,shouldShowReactions:he,shouldShowSEOPinInfo:me,viewParameter:we,graphqlRef:e,isActionBarInline:B,setIsActionBarInline:ue})]})}):(0,U.jsx)(w.Z,{isShowingBreadcrumbs:!(ye||ke&&!Ae),sideBySideOptions:"lg"===Ie||Ae?{mainImageEventHandlers:ee?void 0:Ae?{onMouseEnter:()=>{!ye&&De("dweb_unauth_main_pin_image_viewer_upsell").anyEnabled?ze(!0):Me(!0)},onMouseLeave:()=>{!ye&&De("dweb_unauth_main_pin_image_viewer_upsell").anyEnabled?ze(!1):Me(!1)},onTouch:()=>{Le&&(0,b.My)("dweb.unauth_visual_search_exp.main_image.click"),ye||(0,b.My)("main_pin_image_viewer_upsell_exp.main_pin_image.click")}}:{onTouch:e=>{e.stopPropagation(),e.preventDefault(),qe()}}}:null,media:(0,U.jsx)(f.Z,{clientTrackingParams:xe,component:ee?179:85,viewParameter:we,children:ee?(0,U.jsx)(Q,{queryRef:null==c?void 0:c.detailRef,children:e=>{var t;return(0,U.jsx)(V,{isAuthenticated:ye,isFirstPageInHistoryStack:n,isSendPinModalOpen:X,onSendPin:ne,pinId:oe,graphqlRef:e,handleVideoTimeChange:e=>{Ye((0,O.k)({pinId:oe,video:{elapsedTime:e}}))},startTimeAt:null==Je||null===(t=Je.video)||void 0===t?void 0:t.elapsedTime})}}):(0,g.cL)({embedSrc:o,embedSubtype:r,embedType:s})?(0,U.jsx)(Q,{queryRef:null==c?void 0:c.detailRef,children:e=>(0,U.jsx)(P.Z,{graphqlRef:e,pinId:oe})}):!Ae&&R&&(ye?K:!fe)?(0,U.jsx)(Q,{queryRef:null==c?void 0:c.detailRef,children:e=>(0,U.jsx)(N.Z,{graphqlRef:e,pinId:oe,viewParameter:we,pwtSurfaceContext:Ce,unauthLazyLoad:!ye,setMwebTapToZoomExpEnabled:pe,isEligibleForTapToZoom:Y})}):A?(0,U.jsx)(M.x,{children:(0,U.jsx)(T.Z,{actionBarIsMinifiedToMainPinImage:e,clickthrough:Fe?Ge:void 0,onImageClick:e=>{e&&(e.preventDefault(),e.stopPropagation()),He||qe()},shouldShowSEOPinInfo:me,viewParameter:we,setShowClickthroughOverlay:Me,showImageViewerUpsell:Oe,mwebContextMenuState:Ke,setMwebContextMenuState:Ve,pinId:oe,graphqlRef:ve,shouldRenderInteractions:ke&&!Se,isUnauthVisualSearchExp:Le,isEligibleForTapToZoom:Y,setMwebTapToZoomExpEnabled:pe,renderStoryPinBlock:({placeholder:e})=>(0,U.jsx)(Q,{queryRef:null==c?void 0:c.detailRef,children:t=>(0,U.jsx)(E.Z,{graphqlRef:t,pinId:oe,placeholder:e})})})}):(0,U.jsx)(i.Fragment,{children:null})}),detail:(0,U.jsx)(Q,{queryRef:null==c?void 0:c.detailRef,showSpinner:!0,children:t=>ke&&!Se&&Ae?(0,U.jsx)(S.f,{children:(0,U.jsxs)(d.xu,{padding:3,children:[ie,(0,U.jsx)(G,{pinId:oe,graphqlRef:t,shouldHideReactions:!0,disableScroll:!0})]})}):(0,U.jsx)(S.Z,{hideMetadata:z,pinId:oe,isImagePinForUnauthOnTablet:J,onClickTitleOrDomain:Ge,pinActionBar:e?null:ie,shouldShowReactions:he,shouldShowSEOPinInfo:me,viewParameter:we,viewerId:ge,graphqlRef:t,isActionBarInline:B,setIsActionBarInline:ue})})}),!ye&&(0,U.jsx)(Q,{queryRef:null==c?void 0:c.detailRef,children:e=>(0,U.jsx)(q,{pinId:oe,graphqlRef:e})})]})}function te({actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:t,graphqlRefs:n,onLinklessPinTap:i,pinId:a,...r}){var l,s,d,c,u,p,h,m,_;const v=(0,o.useFragment)(Y,n.pageRef),y=(0,R.I)({clickthroughInterstitialExperience:t,linklessOptions:(0,g.rM)({mobileLink:v.mobileLink,trackedLink:v.trackedLink,link:v.link})?{actionBarIsMinifiedToMainPinImage:e,onTap:i}:void 0,graphqlRef:v}),f=null===(l=v.richMetadata)||void 0===l||null===(s=l.products)||void 0===s?void 0:s[0],b=Number(null==f||null===(d=f.additionalImageSpec_236x)||void 0===d?void 0:d.length)>0||Number(null==f||null===(c=f.additionalImageSpec_474x)||void 0===c?void 0:c.length)>0||Number(null==f||null===(u=f.additionalImageSpec_564x)||void 0===u?void 0:u.length)>0||Number(null==f||null===(p=f.additionalImageSpec_736x)||void 0===p?void 0:p.length)>0;return(0,U.jsx)(ee,{...r,actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:t,onLinklessPinTap:i,clickthrough:y,pinId:a,hasBoard:!!v.board,hasImages:!!v.imageSpec_orig,isEligibleForPdp:v.isEligibleForPdp,pinMobileLink:v.mobileLink,pinTrackedLink:v.trackedLink,pinLink:v.link,pinImageLargeUrl:v.imageLargeUrl,embedSrc:null===(h=v.embed)||void 0===h?void 0:h.src,embedSubtype:null===(m=v.embed)||void 0===m?void 0:m.subtype,embedType:null===(_=v.embed)||void 0===_?void 0:_.type,hasProductAdditionalImages:b,graphqlRefs:{...n,pageRef:v}})}function ne({actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:t,onLinklessPinTap:n,pinId:i,...a}){var o,r,l,s,d,c;const u=(0,z.S6)()(i),p=(0,R.Z)({clickthroughInterstitialExperience:t,linklessOptions:(0,g.rM)({mobileLink:null==u?void 0:u.mobile_link,trackedLink:null==u?void 0:u.tracked_link,link:null==u?void 0:u.link})?{actionBarIsMinifiedToMainPinImage:e,onTap:n}:void 0,pinId:i});return u?(0,U.jsx)(ee,{...a,actionBarIsMinifiedToMainPinImage:e,clickthrough:p,clickthroughInterstitialExperience:t,pinId:i,hasBoard:!!u.board,hasImages:!!u.images,isEligibleForPdp:u.is_eligible_for_pdp,onLinklessPinTap:n,pinMobileLink:u.mobile_link,pinTrackedLink:u.tracked_link,pinLink:u.link,pinImageLargeUrl:u.image_large_url,embedSrc:null===(o=u.embed)||void 0===o?void 0:o.src,embedSubtype:null===(r=u.embed)||void 0===r?void 0:r.subtype,embedType:null===(l=u.embed)||void 0===l?void 0:l.type,hasProductAdditionalImages:Number(null===(s=u.rich_metadata)||void 0===s||null===(d=s.products)||void 0===d||null===(c=d[0].additional_images)||void 0===c?void 0:c.length)>0}):null}function ie({graphqlRefs:e,...t}){return e?(0,U.jsx)(te,{...t,graphqlRefs:e}):(0,U.jsx)(ne,{...t})}},140498:(e,t,n)=>{n.d(t,{Z:()=>he});var i=n(667294),a=n(702664),o=n(167912),r=n(616550),l=n(883119),s=n(388011),d=n(536042),c=n(525571),u=n(265259),p=n(624417),h=n(898252),m=n(465991),g=n(245410),_=n(41162),v=n(360588),y=n(282802),f=n(98736),b=n(618569),x=n(348672),k=n(549201),w=n(741099),S=n(272109),P=n(785893);function T(){const e=(0,d.ZP)(),{logContextEvent:t}=(0,s.v)();return(0,S.Z)((()=>{t({element:1031,event_type:120,view_type:3})})),(0,P.jsx)(l.xu,{"data-test-id":"visual-search-icon",alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)"}},display:"flex",height:44,justifyContent:"center",padding:1,rounding:"pill",width:44,children:(0,P.jsx)(l.JO,{accessibilityLabel:e.bt("", "Visual search", "flashlight.button", undefined, true),color:"dark",icon:"flashlight",size:24})})}var I,C=n(657006),A=n(507905),E=n(759937),j=n(781925),R=n(460914),D=n(772356),L=n(411224),F=n(968358),M=n(199999),O=n(525104),z=n(712968),Z=n(204722),N=n(630089),U=n(649715),B=n(599226),K=n(846226),V=n(700453),H=n(799006),G=n(251951),W=n(230910);const $=250,q=void 0!==I?I:I=n(739386);function Y({contextMenuState:e,hideContextMenu:t,pinId:n,images:i,embedSrc:a,embedType:o,sourceUserUsername:s,sourceUserFullname:c,pinJoinVisualAnnotation:u,pinJoinSeoBreadcrumbName:h,pinJoinSeoBreadcrumbUrl:m}){var _;const v=(0,d.ZP)(),y=(0,r.useHistory)(),b=(0,p.Z)({images:i,embedSrc:a,embedType:o}),x=h,k=m,w=null!==(_=null==u?void 0:u[0])&&void 0!==_?_:void 0,S=(0,U.Z)(w),T=`/search/pins/?q=${encodeURIComponent(S)}&rs=image_only_attribution`,I=(0,B.Z)(),C=(0,G.R)(),{checkExperiment:A}=(0,g.F)(),E=(0,H.Z)();return b?(0,P.jsxs)(l.xu,{"data-test-id":"mobile-context-menu",position:"absolute",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new l.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:$,children:[(0,P.jsxs)(l.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",direction:"row",display:"flex",alignItems:"center",justifyContent:"between",children:[(0,P.jsx)(l.JO,{icon:"pinterest",accessibilityLabel:v.bt("Pinterest ", "Pinterest logo", "unauth.mweb.context_menu.pinterest_logo", undefined, true),color:"brandPrimary"}),(0,P.jsx)(l.xu,{alignSelf:"end","data-test-id":"mobile-context-menu-cancel-button",children:(0,P.jsx)(l.iP,{onTap:({event:e})=>{e.stopPropagation(),t()},children:(0,P.jsx)(l.JO,{icon:"cancel",accessibilityLabel:v.bt(" mweb ", "Dismiss mweb context menu", "unauth.mweb.context_menu.dismiss", undefined, true)})})})]}),E&&A("mweb_main_pin_ltcm_open_in_app").anyEnabled&&(0,P.jsx)(V.ZP,{componentType:18,within:"mweb-context-menu",children:({handleOpenApp:e})=>(0,P.jsx)(l.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,P.jsx)(K.Z,{id:"more-options-open-app",children:(0,P.jsx)(l.iP,{onTap:({event:i})=>{i.stopPropagation(),t(),e({deepLinkUri:`/pin/${n}/`}),(0,f.My)("unauth.mweb.context_menu.open_in_app")},children:(0,P.jsx)(l.xv,{size:"200",weight:"bold",children:v.bt("", "Open in App", "unauth.mweb.context_menu.link.open_in_app", undefined, true)})})})})}),(0,P.jsx)(l.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,P.jsx)(K.Z,{id:"more-options-save",children:(0,P.jsx)(l.iP,{onTap:({event:e})=>{e.stopPropagation(),t(),(0,f.My)("unauth.mweb.context_menu.save_image"),e&&C.saveButtonConfig.onSaveButtonClick(e)},children:(0,P.jsx)(l.xv,{size:"200",weight:"bold",children:v.bt("", "Save image", "unauth.mweb.context_menu.link.save_image", undefined, true)})})})}),(0,P.jsx)(l.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,P.jsx)(K.Z,{id:"more-options-open-link",children:(0,P.jsx)(l.iP,{onTap:({event:e})=>{e.stopPropagation(),t(),(0,f.My)("unauth.mweb.context_menu.open_plp_new_tab"),window.open(`/pin/${n}/`)},children:(0,P.jsx)(l.xv,{size:"200",weight:"bold",children:v.bt("", "Open link in new tab", "unauth.mweb.context_menu.link.plp_new_tab", undefined, true)})})})}),(w||!(!x||!k))&&(0,P.jsx)(l.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,P.jsx)(l.iP,{onTap:()=>{(0,f.My)("unauth.mweb.context_menu.see_more_pins"),y.push(k?`${k}`:T)},children:x?(0,P.jsx)(l.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,N.nk)(v.bt(" {{levelOneInterestName}} ", "See more ideas about {{levelOneInterestName}}", "unauth.mweb.context_menu.link.see_more_ideas.l1", undefined, true),{levelOneInterestName:x})}):(0,P.jsx)(l.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,N.nk)(v.bt(" {{interestTag}} ", "See more ideas about {{interestTag}}", "unauth.mweb.context_menu.link.see_more_ideas.interest_tag", undefined, true),{interestTag:w})})})}),!(!c||!s)&&(0,P.jsx)(l.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,P.jsx)(l.iP,{onTap:()=>{(0,f.My)("unauth.mweb.context_menu.more_from_creator"),y.push(`/${s}/`)},children:(0,P.jsx)(l.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,N.nk)(v.bt(" {{full_name}} ", "See more from {{full_name}}", "unauth.context_menu.link.more_from_creator", undefined, true),{full_name:c})})})}),(0,P.jsx)(l.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,P.jsx)(l.iP,{onTap:({event:e})=>{e.stopPropagation(),t(),(0,f.My)("unauth.mweb.context_menu.login_signup"),I({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup"})},children:(0,P.jsx)(l.xv,{size:"200",weight:"bold",children:v.bt("", "Log in or sign up for more", "unauth.mweb.context_menu.link.login_signup", undefined, true)})})})]}):null}function J({graphqlRef:e,pinId:t,...n}){var i,a,r,l,s;const d=(0,o.useFragment)(q,e),c=(0,E.Z)(d);let u;var p,h;(u=null!=d&&d.nativeCreator?d.nativeCreator:null!=d&&d.linkDomain?d.linkDomain.officialUser:(null==d?void 0:d.originPinner)||(null==d?void 0:d.pinner),u&&"string"!=typeof u)||(u=null!==(p=null==d||null===(h=d.linkDomain)||void 0===h?void 0:h.officialUser)&&void 0!==p?p:null==d?void 0:d.pinner);return(0,P.jsx)(Y,{...n,embedSrc:(null==d?void 0:d.embed)&&d.embed.src,embedType:(null==d?void 0:d.embed)&&d.embed.type,images:c,sourceUserUsername:null===(i=u)||void 0===i?void 0:i.username,sourceUserFullname:null===(a=u)||void 0===a?void 0:a.fullName,pinJoinVisualAnnotation:null==d||null===(r=d.pinJoin)||void 0===r?void 0:r.visualAnnotation,pinJoinSeoBreadcrumbName:(null==d||null===(l=d.pinJoin)||void 0===l?void 0:l.seoBreadcrumbs)&&(d.pinJoin.seoBreadcrumbs.length>0?d.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==d||null===(s=d.pinJoin)||void 0===s?void 0:s.seoBreadcrumbs)&&(d.pinJoin.seoBreadcrumbs.length>0?d.pinJoin.seoBreadcrumbs[0].url:null),pinId:t})}function X({graphqlRef:e,pinId:t,...n}){var i,a,o,r,l,s;const d=(0,O.S6)()(t),{link_domain:c,native_creator:u,origin_pinner:p,pinner:h}=d||{};let m=(0,W.wS)(c,u,p,h);var g,_;m&&"string"!=typeof m||(m=null!==(g=null==d||null===(_=d.link_domain)||void 0===_?void 0:_.official_user)&&void 0!==g?g:h);const{full_name:v,username:y}=null!==(i=m)&&void 0!==i?i:{};return(0,P.jsx)(Y,{...n,embedSrc:null==d||null===(a=d.embed)||void 0===a?void 0:a.src,embedType:null==d||null===(o=d.embed)||void 0===o?void 0:o.type,images:null==d?void 0:d.images,sourceUserUsername:v,sourceUserFullname:y,pinJoinVisualAnnotation:null==d||null===(r=d.pin_join)||void 0===r?void 0:r.visual_annotation,pinJoinSeoBreadcrumbName:(null==d||null===(l=d.pin_join)||void 0===l?void 0:l.seo_breadcrumbs)&&(d.pin_join.seo_breadcrumbs.length>0?d.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==d||null===(s=d.pin_join)||void 0===s?void 0:s.seo_breadcrumbs)&&(d.pin_join.seo_breadcrumbs.length>0?d.pin_join.seo_breadcrumbs[0].url:null),pinId:t})}function Q(e){return e.graphqlRef?(0,P.jsx)(J,{...e}):(0,P.jsx)(X,{...e})}var ee;const te="236x",ne=500,ie=100,ae=new l.Ry(3),oe=void 0!==ee?ee:ee=n(526859),re=({children:e,onTouch:t})=>{const n=(0,k.HG)();return(0,P.jsx)(u.Z,{roundedForLargeDevice:!0,children:n?e:(0,P.jsx)(R.Z,{onTouch:e=>{e.preventDefault(),e.stopPropagation(),t()},pressState:"none",fullWidth:!0,children:e})})},le=({pinId:e})=>(0,a.useSelector)((({feeds:t})=>{const n=t[`related-pins:${e||""}`];return!!n&&0===n.length})),se=({type:e,viewParameter:t,isUnauthVisualSearchExp:n})=>{const i=(0,d.ZP)(),a=(0,r.useHistory)(),o=(0,r.useRouteMatch)(),c=(0,A.Z)(),u=(0,b.Z)(),p=(0,M.a)(),{isAuthenticated:h}=(0,y.B)(),{logContextEvent:m}=(0,s.v)(),g=(0,k.ml)(),_=(0,k.HG)();return(0,P.jsx)(l.Le,{bottom:0,zIndex:ae,children:(0,P.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-76}},display:"flex",flex:"none",justifyContent:"end",padding:3,position:"absolute",right:!0,children:"moreLikeThisButton"===e?(0,P.jsx)(l.xu,{"data-test-id":"more-like-this-button",children:(0,P.jsx)(l.iP,{onTap:({event:e})=>{e.stopPropagation(),e.preventDefault(),(0,f.My)("remove_drawer_exp.more_like_this.scroll_to_pins"),c.scrollToPins(!0)},children:(0,P.jsx)(l.kC,{alignItems:"stretch",justifyContent:"end",children:(0,P.jsxs)(l.xu,{alignContent:"between",alignItems:"center",color:"default",display:"flex",padding:3,rounding:"pill",children:[(0,P.jsx)(l.xu,{marginEnd:3,rounding:"pill",color:"default",children:(0,P.jsx)(l.xv,{inline:!0,weight:"bold",children:i.bt(" Pin ", "More like this", "mobilePinPage.relatedPins.title", undefined, true)})}),(0,P.jsx)(l.JO,{accessibilityLabel:i.bt(" Pin ", "Scroll to related pins button", "mobilePinPage.relatedPins.scroll", undefined, true),color:"dark",icon:"arrow-down",inline:!0})]})})})}):(0,P.jsx)(l.xu,{children:(0,P.jsx)(l.iP,{onTap:({event:e})=>{h||((0,f.My)((_?"dweb":"mweb")+"_pin_page.flashlight_icon_click"),u({action:"click",item:"visual-search-icon",within:"pin-image"})),e.stopPropagation(),e.preventDefault(),m({component:128,element:1031,event_type:102,view_parameter:t,view_type:3}),!h&&g&&p&&!n?p.setShouldShowVisualSearchAppUpsell(!0):a&&o&&o.params&&o.params.id&&a.push(`/pin/${o.params.id}/visual-search/`)},tapStyle:"compress",children:(0,P.jsx)(T,{})})})})})},de=(e,t,n,i,a)=>a?"236x":e?void 0:(0,F.Z)(t||"",n,e)&&["Dialup","Cellular"].includes(i)?"236x":"736x";function ce({actionBarIsMinifiedToMainPinImage:e,clickthrough:t,onImageClick:n,setShowClickthroughOverlay:a,showImageViewerUpsell:o,shouldShowSEOPinInfo:s,viewParameter:u,mwebContextMenuState:S,setMwebContextMenuState:T,images:I,embedSrc:A,embedType:E,description:R,descriptionHtml:F,altText:O,dominantColor:N,pinId:U,domain:B,pinJoinVisualAnnotation:K,pinnerConnectionType:V,hasPromoter:H,graphqlRef:G,isEligibleForPdp:W,isUnsafe:$,isUnauthVisualSearchExp:q,shouldRenderInteractions:Y,setMwebTapToZoomExpEnabled:J,isEligibleForTapToZoom:X,renderStoryPinBlock:ee}){var ae,oe,ce,ue;const pe=(0,d.ZP)(),he=(0,_.E)(),me=(0,k.HG)(),ge=(0,k.ml)(),_e=(0,L.Z)(),ve=(0,x.Z)(),ye=(null==I?void 0:I[te])||(null==I?void 0:I["136x136"]),fe=Boolean(ye&&!(null!=I&&I[te])),{isAuthenticated:be,isBot:xe,countryFromIp:ke,userAgent:{platform:we}}=(0,y.B)(),Se=(0,i.useRef)(null),Pe=(0,k.ZP)(),Te=`${we}.${Pe}`,Ie=(0,i.useRef)(Date.now()),Ce=(0,i.useRef)(null),Ae=!be&&!me&&["ios","ipad","android"].includes(we),Ee=!be&&ge&&["ios","android"].includes(we),je=!be&&ge&&["ios","android"].includes(we),Re=(0,M.a)(),{shouldShowLearningUpsell:De,setShouldShowLearningUpsell:Le,hasScrolledPastMainContent:Fe}=null!=Re?Re:Object.freeze({}),Me=(0,z.Tt)(),Oe=le({pinId:U});let ze=null;const{checkExperiment:Ze}=(0,g.F)(),Ne=q&&!me&&Ze((0,j.Z)({isDesktop:me})).group.includes("replace");me&&!q||(be||Oe||Fe||me||Ne?$||t&&!q||be&&((0,c.Z)(null==Me?void 0:Me.created_at)&&!(0,D.V0)(Me)||H||(0,h.sY)(E)||e)||(ze="visualSearch"):ze="moreLikeThisButton");const Ue=!!Y&&!!ye,Be=(0,r.useRouteMatch)(),Ke=(0,r.useLocation)(),Ve=(0,r.useHistory)(),He=null===(ae=Ke.state)||void 0===ae?void 0:ae.trackingParams,Ge=(0,b.Z)();return(0,P.jsx)(l.xu,{position:"relative",width:"100%",ref:Se,children:(0,P.jsx)(re,{onTouch:()=>{Ae&&T(null);let e=!1;if(X&&J&&(e=Ze("unauth_mweb_tap_to_zoom_v2").anyEnabled,e&&(J(e),Be.params.id)))return Ve.push(`/pin/${Be.params.id}#${C.v}`,{trackingParams:He}),(0,f.NC)("click_pin_closeup_image"),void Ge({action:"click",item:"pin-image"});!e&&je&&Le?(De?(0,f.My)("learning.upsell.tap.hide"):(0,f.My)("learning.upsell.tap.show"),Le(!De)):n(),Ae&&(0,f.My)(`unauth.mweb.${Te}.pin.image.touch`),!be&&W&&(0,f.My)("unauth.pdp.pin.img.click",{device:Pe})},children:(0,P.jsxs)(l.xu,{display:"flex",justifyContent:"center",onContextMenu:e=>{!be&&W&&(0,f.My)("unauth.pdp.pin.context_menu.open",{device:Pe}),e.preventDefault(),e.stopPropagation(),me?(_e((0,P.jsx)(Z.Z,{desktopContextMenuState:{x:e.clientX,y:e.clientY},pinId:U,graphqlRef:G,isMainPinImage:!0})),(0,f.My)("pcons.dweb.main_pin.context_menu.open")):(0,f.My)((be?"auth":"unauth")+".mweb_pin_closeup_page.pin_image.long_press")},onTouchStart:e=>{if((Ae||Ee)&&(e.stopPropagation(),Ie.current=Date.now(),(0,f.My)(`unauth.mweb.${Te}.pin.image.touch.start`),e.changedTouches&&e.changedTouches.length>0)){const t=e.changedTouches.item(0);t&&(Ce.current={x:t.clientX,y:t.clientY})}},onTouchMove:e=>{Ee&&e.stopPropagation()},onTouchEnd:e=>{if(!Ae&&!Ee)return;e.stopPropagation(),(0,f.My)(`unauth.mweb.${Te}.pin.image.touch.end`);const t=Date.now()-Ie.current>ne;let n=!1;const i=Ce.current;if(e.changedTouches&&e.changedTouches.length>0&&i){const t=e.changedTouches.item(0),a=t.clientX-i.x,o=t.clientY-i.y;n=t&&Math.pow(a,2)+Math.pow(o,2)>ie}if(Ae&&t&&!n)if(T(null),(0,f.My)(`unauth.mweb.${Te}.pin.image.long.touch`),e.preventDefault(),be||me){if((0,f.My)("unauth.mweb.context_menu.open_menu"),e.changedTouches&&e.changedTouches.length>0){const t=e.changedTouches.item(0);if(t&&Se.current){const e=Se.current.getBoundingClientRect(),n=Math.min(t.clientX-e.left,e.width-250),i=t.clientY-e.top;T({xPosition:n,yPosition:i})}}}else ve({pinId:U,location:"main-pin-long-press"})},dangerouslySetInlineStyle:{__style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}},children:[!me&&S&&(0,P.jsx)(Q,{contextMenuState:S,hideContextMenu:()=>T(null),pinId:U,graphqlRef:G}),(0,P.jsx)(w.Z,{alt:s?(0,m.hP)(null!=R?R:"",F||"",K,O||""):pe.bt("Pin ", "Pin image", "Pin closeup image", undefined, true),color:N||"#efefef",naturalHeight:null!==(oe=null==ye?void 0:ye.height)&&void 0!==oe?oe:1,naturalWidth:null!==(ce=null==ye?void 0:ye.width)&&void 0!==ce?ce:1,clickthroughOverlayOptions:t?{onConfirm:t,visitButtonText:"Uploaded by user"===B?pe.bt("", "Uploaded by user", "pin.default_domain", undefined, true):B||""}:void 0,setShowClickthroughOverlay:a,showImageViewerUpsell:o,placeholder:null!==(ue=null==ye?void 0:ye.url)&&void 0!==ue?ue:"",pwtElementTimingId:v.f,pwtSurfaceContext:he,showSpinner:fe,src:(0,p.Z)({images:I,embedSrc:A,embedType:E,preferredResolution:de(me,ke,xe,V,Ue)}),isEligibleForPdp:W,stickyFooter:ze&&(0,P.jsx)(se,{type:ze,viewParameter:u,isUnauthVisualSearchExp:!!q})},U),Ue&&ye&&(0,P.jsx)(l.xu,{position:"absolute",left:!0,right:!0,top:!0,bottom:!0,overflow:"hidden",rounding:6,marginStart:-2,marginEnd:-2,children:ee({placeholder:ye})})]})})})}function ue({graphqlRef:e,pinId:t,...n}){var i,a;const r=(0,o.useFragment)(oe,e),l=(0,E.Z)(r);return(0,P.jsx)(ce,{...n,embedSrc:r.embed&&r.embed.src,embedType:r.embed&&r.embed.type,images:l,description:r.description,descriptionHtml:r.descriptionHtml,altText:r.altText,dominantColor:r.dominantColor,pinId:t,domain:r.domain,pinJoinVisualAnnotation:null===(i=r.pinJoin)||void 0===i?void 0:i.visualAnnotation,pinnerConnectionType:null===(a=r.pinner)||void 0===a?void 0:a.connectionType,hasPromoter:!!r.promoter&&!r.isDownstreamPromotion,isEligibleForPdp:Boolean(r.isEligibleForPdp),isUnsafe:r.isUnsafe,graphqlRef:r})}function pe({pinId:e,...t}){var n,i,a,o;const r=(0,O.S6)()(e);return(0,P.jsx)(ce,{...t,embedSrc:null==r||null===(n=r.embed)||void 0===n?void 0:n.src,embedType:null==r||null===(i=r.embed)||void 0===i?void 0:i.type,images:null==r?void 0:r.images,description:null==r?void 0:r.description,descriptionHtml:null==r?void 0:r.description_html,altText:null==r?void 0:r.alt_text,dominantColor:null==r?void 0:r.dominant_color,pinId:e,domain:null==r?void 0:r.domain,pinJoinVisualAnnotation:null==r||null===(a=r.pin_join)||void 0===a?void 0:a.visual_annotation,pinnerConnectionType:null==r||null===(o=r.pinner)||void 0===o?void 0:o.connection_type,hasPromoter:!(!r||!r.promoter||r.is_downstream_promotion),isEligibleForPdp:Boolean(null==r?void 0:r.is_eligible_for_pdp)})}function he({graphqlRef:e,...t}){return e?(0,P.jsx)(ue,{...t,graphqlRef:e}):(0,P.jsx)(pe,{...t})}},932765:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(616550),a=n(883119),o=n(251951),r=n(870428),l=n(328939),s=n(785893);const d=({children:e,imageLargeUrl:t,isVideoPin:n,pinId:d})=>{const c=(0,i.useHistory)(),{clientTrackingParams:u,viewParameter:p}=(0,o.R)();return(0,s.jsx)(a.xu,{"data-layout-shift-boundary-id":"CloseupPageBody",children:(0,s.jsx)(l.dL,{auxData:{closeup_navigation_type:(0,r.Z)(c)},component:n?179:85,loggingId:d,impressionData:{imageURL:t,type:13},trackingParams:u,slotIndex:-1,viewData:{pin_id:d},viewParameter:p,viewType:3,children:({impressionTrackerRef:t})=>(0,s.jsx)(a.xu,{"data-test-id":"CloseupMainPin",maxWidth:"100%",position:"relative",ref:t,children:e})},d)})}},242892:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(667294),a=n(167912),o=n(616550),r=n(993869),l=n(99220),s=n(676794),d=n(251951),c=n(870428),u=n(507905),p=n(883119),h=n(604094),m=n(643183),g=n(785893);function _({children:e,imageViewer:t}){return(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(p.xu,{display:t?"visuallyHidden":"block",opacity:t?0:1,"data-layout-shift-boundary-id":"CloseupPageContainerInner",dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-out"}},children:!t&&e}),(0,g.jsx)(h.Z,{name:"SafeSuspense_Closeup_ImageViewer",children:(0,g.jsx)(m.Z,{children:(0,g.jsx)(p.xu,{display:t?"block":"visuallyHidden",opacity:t?1:0,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-in"}},children:t})})})]})}var v,y=n(480462),f=n(525104),b=n(648525);const x=void 0!==v?v:v=n(325168),k=({children:e,closeupPageContext:t,hasFixedHeader:n,imageSignature:a,imageViewer:p,isEligibleForPdp:h,isOosProduct:m,isStaleProduct:v,pinId:f,shoppingFlags:x,hasGutter:k,showAuthDrawer:w,graphqlRef:S})=>{const P=(0,y.Z)({isEligibleForPdp:h,isOosProduct:m,isStaleProduct:v,pinShoppingFlags:x}),T=(0,o.useHistory)(),I=(0,i.useMemo)((()=>{const{isStoryPin:e}=t;return!!w&&!e}),[t,w]);return(0,g.jsx)(s.Z,{auxData:{closeup_navigation_type:(0,c.Z)(T),commerce_data:P},clientTrackingParams:t.clientTrackingParams,objectIdStr:f,viewData:{pin_id:f,closeup_rich_types:x||[],image_signature:a||null},viewParameter:t.viewParameter,viewType:3,component:13283,children:(0,g.jsx)(l.Z,{view:3,objectId:f,clientTrackingParams:t.clientTrackingParams,children:(0,g.jsx)(d.q,{value:t,children:(0,g.jsx)(b.Z,{graphqlRef:S,children:(0,g.jsx)(r.default,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:n,hasGutter:k,children:(0,g.jsx)(u.t,{isEligible:I,children:(0,g.jsx)(_,{imageViewer:p,children:e})})})})})})})};function w(e){const t=(0,f.S6)()(e.pinId);return(0,g.jsx)(k,{...e,imageSignature:null==t?void 0:t.image_signature,isEligibleForPdp:null==t?void 0:t.is_eligible_for_pdp,isOosProduct:null==t?void 0:t.is_oos_product,isStaleProduct:null==t?void 0:t.is_stale_product,shoppingFlags:null==t?void 0:t.shopping_flags,graphqlRef:null})}function S({graphqlRef:e,...t}){var n;const i=(0,a.useFragment)(x,e);return(0,g.jsx)(k,{...t,imageSignature:i.imageSignature,isEligibleForPdp:i.isEligibleForPdp,isOosProduct:i.isOosProduct,isStaleProduct:i.isStaleProduct,shoppingFlags:null!==(n=i.shoppingFlags)&&void 0!==n?n:[],graphqlRef:i})}function P({graphqlRef:e,...t}){return e?(0,g.jsx)(S,{graphqlRef:e,...t}):(0,g.jsx)(w,{...t})}},251951:(e,t,n)=>{n.d(t,{R:()=>o,q:()=>a});var i=n(583592);const{Provider:a,useHook:o}=(0,i.Z)("CloseupPageContext")},930359:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(536042),o=n(785893);function r(){const e=(0,a.ZP)();return(0,o.jsx)(i.xu,{padding:5,children:(0,o.jsx)(i.$j,{accessibilityLabel:e.bt(" Pin ", "Loading pin data", "closeupPage.loadingPinData", undefined, true),show:!0})})}},723608:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(536042),a=n(265259),o=n(993869),r=n(41162),l=n(360588),s=n(549201),d=n(818746),c=n(741099),u=n(930359),p=n(873610),h=n(84262),m=n(785893);function g({pinId:e}){var t,n,s,g;const _=(0,i.ZP)(),v=(0,r.E)(),y=null===(t=(0,p.z)())||void 0===t?void 0:t.getData(e);if(!y)return(0,m.jsx)(u.Z,{});const{dominantColor:f,imageUrl:b,placeholder:x}=y;return(0,m.jsxs)(o.default,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:!0,hasGutter:!0,children:[(0,m.jsx)(h.Z,{}),(0,m.jsx)(d.Z,{isShowingBreadcrumbs:!1,sideBySideOptions:null,media:(0,m.jsx)(a.Z,{roundedForLargeDevice:!0,children:(0,m.jsx)(c.Z,{alt:_.bt("Pin ", "Pin image", "Pin closeup image", undefined, true),color:f||"#efefef",naturalHeight:null!==(n=null==x?void 0:x.height)&&void 0!==n?n:1,naturalWidth:null!==(s=null==x?void 0:x.width)&&void 0!==s?s:1,placeholder:null!==(g=null==x?void 0:x.url)&&void 0!==g?g:"",pwtElementTimingId:l.f,pwtSurfaceContext:v,showSpinner:!1,src:b})}),detail:(0,m.jsx)(u.Z,{})})]})}function _({pinId:e}){return(0,s.HG)()?(0,m.jsx)(u.Z,{}):(0,m.jsx)(g,{pinId:e})}},646131:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(167912),a=n.n(i),o=n(240684),r=n(883119),l=n(251951),s=n(785893),d;const c=(0,o.ZP)({resolved:{},chunkName:()=>"CloseupRelatedModules-CloseupRelatedModulesFeed",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(30395),n.e(4567),n.e(54906)]).then(n.bind(n,321450)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 321450}}),u=(0,o.ZP)({resolved:{},chunkName:()=>"UnauthCloseupRelatedPins",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(4567),n.e(75676)]).then(n.bind(n,559124)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 559124}}),p=void 0!==d?d:d=n(583164);function h({graphqlRef:e,onRelatedPinsTitleEnter:t,onRelatedPinsTitleExit:n,pinId:a,marginTop:o}){const{isAuthenticated:r}=(0,l.R)(),d=(0,i.useFragment)(p,e);return r?(0,s.jsx)(c,{pinGraphqlRef:d,onRelatedPinsTitleEnter:t,onRelatedPinsTitleExit:n,pinId:a,marginTop:o}):(0,s.jsx)(u,{graphqlRef:d||null,onRelatedPinsTitleEnter:t,onRelatedPinsTitleExit:n,pinId:a})}},956745:(e,t,n)=>{n.d(t,{Z:()=>_});var i,a=n(167912),o=n(883119),r=n(621699),l=n(536042),s=n(630089),d=n(802071),c=n(525104),u=n(785893);const p=void 0!==i?i:i=n(737304);function h({boardLayout:e,boardName:t,boardUrl:n,pinnerId:i,sectionTitle:a,sectionSlug:c}){const p=(0,l.ZP)(),h=(0,d.Z)(),m=!("quick_creates"!==e);if(!(h.id===i)||m||!h.isAuth)return null;const{imageMediumUrl:g,username:_}=h||{};let v;if(a&&c){const e=`${null!=n?n:""}${c}/`;v=(0,s.nk)(p.bt("{{ you }}{{ savedTo }}{{ sectionName }}", "{{ you }} {{ savedTo }} {{ sectionName }}", "closeup.savedAttribution.section", undefined, true),{you:(0,u.jsx)(o.xu,{display:"inlineBlock",marginEnd:1,children:(0,u.jsx)(o.rU,{href:`/${_}`,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,u.jsx)(o.xv,{size:"300",weight:"bold",children:p.bt("", "You", "closeup.savedAttribution.user", undefined, true)})},"author")},_),savedTo:(0,u.jsx)(o.xu,{children:(0,u.jsx)(o.xv,{size:"300",children:p.bt("", "saved to", "closeup.savedAttribution.savedTo", undefined, true)})},"saved-to"),sectionName:(0,u.jsx)(o.xu,{display:"inlineBlock",marginStart:1,children:(0,u.jsx)(o.rU,{href:e,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,u.jsx)(o.xv,{size:"300",weight:"bold",lineClamp:1,children:a})},"section")},e)})}else v=(0,s.nk)(p.bt("{{ you }}{{ savedTo }}{{ boardName }}", "{{ you }} {{ savedTo }} {{ boardName }}", "closeup.savedAttribution.board", undefined, true),{you:(0,u.jsx)(o.xu,{display:"inlineBlock",marginEnd:1,children:(0,u.jsx)(o.rU,{href:`/${_}`,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,u.jsx)(o.xv,{inline:!0,size:"300",weight:"bold",children:p.bt("", "You", "closeup.savedAttribution.user", undefined, true)})},"author")},_),savedTo:(0,u.jsx)(o.xu,{children:(0,u.jsx)(o.xv,{size:"300",children:p.bt("", "saved to", "closeup.savedAttribution.savedTo", undefined, true)})},"saved-to"),boardName:(0,u.jsx)(o.xu,{display:"inlineBlock",marginStart:1,children:(0,u.jsx)(o.rU,{href:null!=n?n:"",rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,u.jsx)(o.xv,{inline:!0,size:"300",weight:"bold",children:null!=t?t:""})},"author")},null!=n?n:"")});return(0,u.jsxs)(o.xu,{display:"flex",direction:"row",maxWidth:"100%",marginTop:12,"data-test-id":"saved-attribution",children:[(0,u.jsx)(o.xu,{display:"flex",flex:"shrink","data-test-id":"saved-attribution-avatar",children:(0,u.jsx)(o.iP,{rounding:"circle",children:(0,u.jsx)(o.rU,{href:`/${_}`,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,u.jsx)(r.Z,{size:"md",name:_,src:null!=g?g:""})},"profile")})}),(0,u.jsx)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:(0,u.jsx)(o.xu,{"data-test-id":"saved-attribution-board-or-section",alignItems:"baseline",display:"flex",marginStart:2,children:v})})]})}const m=({graphqlRef:e})=>{const t=(0,a.useFragment)(p,e),{board:n,pinner:i,section:o}=t;return(0,u.jsx)(h,{boardLayout:null==n?void 0:n.layout,boardName:null==n?void 0:n.name,boardUrl:null==n?void 0:n.url,pinnerId:null==i?void 0:i.entityId,sectionTitle:null==o?void 0:o.title,sectionSlug:null==o?void 0:o.slug})},g=({pinId:e})=>{const t=(0,c.S6)()(e),{board:n,pinner:i,section:a}=null!=t?t:Object.freeze({});return(0,u.jsx)(h,{boardLayout:null==n?void 0:n.layout,boardName:null==n?void 0:n.name,boardUrl:null==n?void 0:n.url,pinnerId:null==i?void 0:i.id,sectionTitle:null==a?void 0:a.title,sectionSlug:null==a?void 0:a.slug})};function _({graphqlRef:e,pinId:t}){return e?(0,u.jsx)(m,{graphqlRef:e}):(0,u.jsx)(g,{pinId:t})}},209798:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),a=n(883119),o=n(536042),r=n(874261),l=n(282802),s=n(756876);const d="undefined"!=typeof window&&window.innerWidth-32||400,c=40,u=40,p=e=>[{name:`${e}closeup`,width:d,height:d},{name:`${e}title`,width:d,height:24},{name:`${e}attribution`,width:u,height:c},{name:`${e}credit`,width:d-u-8,height:40},{name:`${e}visit_button`,width:d,height:40},{name:`${e}pin_grid_pin`,width:(d-32)/2,height:100}].map((({name:e,width:t,height:n})=>(0,s.Z)({name:e,width:t,height:n}))).join("");var h=n(785893);const m="CloseupPageSkeletonLoader__",g=()=>{const e=(0,o.ZP)(),{isAuthenticated:t}=(0,l.B)();return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(r.Z,{unsafeCSS:p(m)}),(0,h.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(a.xu,{marginTop:4,marginEnd:3,children:(0,h.jsx)("div",{className:m+"closeup"})}),(0,h.jsx)(a.xu,{marginTop:3,children:(0,h.jsx)("div",{className:m+"title"})}),(0,h.jsxs)(a.xu,{display:"flex",direction:"row",marginTop:3,children:[(0,h.jsx)(a.xu,{children:(0,h.jsx)("div",{className:m+"attribution"})}),(0,h.jsx)(a.xu,{marginStart:2,children:(0,h.jsx)("div",{className:m+"credit"})})]}),(0,h.jsx)(a.xu,{marginTop:3,children:(0,h.jsx)(a.iz,{})})]}),(0,h.jsx)(a.xu,{marginBottom:3,marginTop:2,children:(0,h.jsx)(a.xv,{weight:"bold",align:t?void 0:"center",children:e.bt(" Pin ", "More like this", "On mobile web pin page, title for related pins beneath pin closeup", undefined, true)})}),(0,h.jsxs)(a.xu,{display:"flex",direction:"row",marginTop:3,children:[(0,h.jsx)(a.xu,{marginStart:t?2:1,marginEnd:t?2:1,children:(0,h.jsx)("div",{className:m+"pin_grid_pin"})}),(0,h.jsx)(a.xu,{marginStart:t?2:1,marginEnd:t?2:1,children:(0,h.jsx)("div",{className:m+"pin_grid_pin"})})]})]})]})}},84262:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(883119),a=n(633917),o=n(282802),r=n(882973),l=n(549201),s=n(519218),d=n(785893);function c({pinActionBarOptionsButton:e}){const{isAuthenticated:t}=(0,o.B)(),n=(0,l.ZP)();return(0,d.jsx)(i.Le,{top:t?0:(0,r.x9)(n),children:(0,d.jsx)(i.xu,{position:"absolute",marginTop:2,width:"100%",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:(0,d.jsxs)(i.kC,{justifyContent:"between",children:[(0,d.jsx)(a.Z,{children:(0,d.jsx)(s.Z,{bgColor:"white",color:"darkGray",fallbackUrl:t?"/":"/ideas",padding:3,viewParameter:156,viewType:3})}),!!e&&(0,d.jsx)(a.Z,{children:e})]})})})}},142900:(e,t,n)=>{n.d(t,{Z:()=>m});n(167912);var i,a=n(883119),o=n(635408),r=n(802760),l=n(463031),s=n(896507),d=n(785893);const c=void 0!==i?i:i=n(947715),u=({height:e,width:t,left:n,top:i,children:o})=>(0,d.jsx)(a.xu,{height:`${null!=e?e:100}%`,width:`${null!=t?t:100}%`,position:"absolute",display:"flex",dangerouslySetInlineStyle:{__style:{top:`${null!=i?i:0}%`,left:`${null!=n?n:0}%`}},children:o});function p({pinId:e,graphqlRef:t,placeholder:n,storyPinData:i}){var a,r;const c=null==i||null===(a=i.pages)||void 0===a?void 0:a[0].pageId,p=null==i||null===(r=i.pages)||void 0===r?void 0:r[0].blocks,{blocks:h}=(0,o.Z)({storyPinBlocks:null!=p?p:[],blocksToRender:[l.h8.COMMENT_REPLY_STICKER,l.h8.GENERIC_STICKER,l.h8.HEADING,l.h8.MENTION_STICKER,l.h8.PARAGRAPH,l.h8.PRODUCT_STICKER,l.h8.VTO_MAKEUP_STICKER,l.h8.IMAGE]});return(0,d.jsx)(s.Z,{blocks:h,isActive:!0,isCoverImageWithTitle:!0,isSinglePage:!0,isStaticImageIdeaPin:!0,muteVideos:!0,pinAspectRatio:(n.width||0)/(n.height||1),pinId:e,pageId:c,maybeGraphqlRef:t,BoxWrapper:u})}const h=(0,r.M2)({useGraphQLAdapter:e=>e.storyPinData,useLegacyAdapter:e=>e?e.story_pin_data:null});function m(e){const{graphqlRef:t,pinId:n}=e;return(0,d.jsx)(h,{fragment:c,dataKey:null!=t?t:n,children:({data:t,fragmentRef:n})=>t&&(0,d.jsx)(p,{...e,graphqlRef:n,storyPinData:t})})}},226590:(e,t,n)=>{n.d(t,{Z:()=>w});var i,a=n(167912),o=n(883119),r=n(525571),l=n(943795),s=n(465991),d=n(282802),c=n(98736),u=n(549201),p=n(460914),h=n(525104),m=n(712968),g=n(229527),_=n(646081),v=n(785893);const y=({children:e,handleTap:t})=>t?(0,v.jsx)(p.Z,{onTouch:t,pressState:"compress",children:e}):e,f=void 0!==i?i:i=n(357285);function b({onClick:e,hasLink:t,forceSmallerHeading:n,textAlign:i,pinTitle:a,gridTitle:p,richSummaryDisplayName:h,richMetadataTitle:_,storyPinDataId:f,storyPinDataMetadataPinTitle:b,pinJoinVisualAnnotation:x,pinJoinAnnotationsWithLinks:k,lineClamp:w,seoNoindexReason:S,seoTitle:P}){const T=(0,u.ZP)(),{isAuthenticated:I,isBot:C}=(0,d.B)(),A=(0,m.Tt)(),E=(0,r.Z)(null==A?void 0:A.created_at)&&!(null!=A&&A.is_matured_new_user),j=n||E,R=(0,s.Ly)({pinTitle:a,gridTitle:p,richSummaryDisplayName:h,richMetadataTitle:_,storyPinDataId:f,storyPinDataMetadataPinTitle:b,pinJoinVisualAnnotation:x,pinJoinAnnotationsWithLinks:k,seoNoindexReason:S,seoTitle:P});return(0,v.jsx)(g.Z,{hash:"details",offset:-l.DEFAULT_HEIGHT,children:(0,v.jsx)(o.kC,{alignItems:"desktop"===T?"start":"center",direction:"column",justifyContent:"center",children:(0,v.jsx)(o.xu,{"data-test-id":"pinTitle",maxWidth:"100%",alignSelf:"stretch",children:(0,v.jsx)(y,{handleTap:"desktop"!==T&&t?t=>{t.preventDefault(),t.stopPropagation(),(0,c.My)("mweb_pin_page.pin_title.click"),I||(0,c.NC)("unauth_click_pin_closeup_title"),e()}:null,children:(0,v.jsx)(o.X6,{align:i||("desktop"===T?"start":"center"),accessibilityLevel:1,overflow:"breakWord",size:j?"400":"500",lineClamp:C?void 0:w,children:R})})})})})}function x(e){var t,n,i,o,r,l,s;const d=(0,a.useFragment)(f,e.graphqlRef),c=(0,_.Z)(d);return(0,v.jsx)(b,{onClick:e.onClick,hasLink:e.hasLink,forceSmallerHeading:e.forceSmallerHeading,lineClamp:e.lineClamp,textAlign:e.textAlign,pinId:e.pinId,pinTitle:null==d?void 0:d.title,gridTitle:null==d?void 0:d.gridTitle,richSummaryDisplayName:null!==(t=null==d||null===(n=d.richSummary)||void 0===n?void 0:n.displayName)&&void 0!==t?t:"",richMetadataTitle:null!==(i=null==d||null===(o=d.richMetadata)||void 0===o?void 0:o.title)&&void 0!==i?i:"",storyPinDataId:null==d?void 0:d.storyPinDataId,storyPinDataMetadataPinTitle:null==d||null===(r=d.storyPinData)||void 0===r||null===(l=r.metadata)||void 0===l?void 0:l.pinTitle,pinJoinVisualAnnotation:(null==d||null===(s=d.pinJoin)||void 0===s?void 0:s.visualAnnotation)||void 0,pinJoinAnnotationsWithLinks:c||void 0,seoNoindexReason:null==d?void 0:d.seoNoindexReason,seoTitle:null==d?void 0:d.seoTitle})}function k(e){var t,n,i,a,o,r,l,s;const d=(0,h.S6)()(e.pinId||"");return d?(0,v.jsx)(b,{onClick:e.onClick,hasLink:e.hasLink,forceSmallerHeading:e.forceSmallerHeading,lineClamp:e.lineClamp,textAlign:e.textAlign,pinId:e.pinId,pinTitle:d.title,gridTitle:d.grid_title,richSummaryDisplayName:null!==(t=null===(n=d.rich_summary)||void 0===n?void 0:n.display_name)&&void 0!==t?t:"",richMetadataTitle:null!==(i=null===(a=d.rich_metadata)||void 0===a?void 0:a.title)&&void 0!==i?i:"",storyPinDataId:d.story_pin_data_id,storyPinDataMetadataPinTitle:null===(o=d.story_pin_data)||void 0===o||null===(r=o.metadata)||void 0===r?void 0:r.pin_title,pinJoinVisualAnnotation:null===(l=d.pin_join)||void 0===l?void 0:l.visual_annotation,pinJoinAnnotationsWithLinks:null===(s=d.pin_join)||void 0===s?void 0:s.annotations_with_links,seoNoindexReason:d.seo_noindex_reason,seoTitle:d.seo_title}):null}function w(e){return e.graphqlRef?(0,v.jsx)(x,{...e}):(0,v.jsx)(k,{...e})}},558533:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(515367);const o=new i.H3([a.e])},752491:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),a=n(883119),o=n(388011),r=n(88622),l=n(536042),s=n(785893);function d({pinId:e,viewParameter:t}){const{logContextEvent:n}=(0,o.v)(),d=(0,l.ZP)(),[c,u]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{u(!1)}),[e]),c?null:(0,s.jsx)(r.ZP,{accessibilityModalLabel:"",mobileIsSlideUp:!0,isOpen:!0,onDismiss:()=>{n({event_type:102,view_type:3,view_parameter:t,element:12511}),u(!0)},mobileHideCloseIcon:!0,children:(0,s.jsx)(a.xu,{rounding:6,padding:9,marginBottom:3,color:"default",children:(0,s.jsxs)(a.kC,{gap:{row:0,column:4},direction:"column",alignItems:"center",justifyContent:"center",children:[(0,s.jsx)(a.xv,{align:"center",children:d.bt(" Pin ", "This Pin was created with early test tools that no longer exist, so parts of the content may be permanently missing.", "storyPinCloseup.MobileModal.V1DeprecationMessage", undefined, true)}),(0,s.jsx)(a.zx,{color:"red",text:d.bt("", "Got it", "storyPinCloseup.MobileModal.V1DeprecationAcknowledgementButton", undefined, true),onClick:()=>{n({event_type:102,view_type:3,view_parameter:t,element:12511}),u(!0)}})]})})})}},99562:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(282802),o=n(785893);const r=new i.H3([new i.Ry(0)]);function l({onMoreButtonTap:e,onSendButtonTap:t}){const{userAgent:{platform:n}}=(0,a.B)();return(0,o.jsxs)(i.xu,{position:"absolute",top:!0,zIndex:r,width:"100%",padding:6,display:"flex",justifyContent:"end",children:[(0,o.jsx)(i.hU,{accessibilityLabel:"share",icon:"android"===n?"android-share":"share",bgColor:"transparentDarkGray",onClick:t,size:"md"}),(0,o.jsx)(i.xu,{marginStart:2,children:(0,o.jsx)(i.hU,{accessibilityLabel:"overflow menu",icon:"ellipsis",bgColor:"transparentDarkGray",onClick:e,size:"md"})})]})}},18028:(e,t,n)=>{n.d(t,{Z:()=>P});var i,a=n(667294),o=n(702664),r=n(167912),l=n(883119),s=n(563962),d=n(621699),c=n(536042),u=n(734417),p=n(630089),h=n(245410),m=n(282802),g=n(436422),_=n(41669),v=n(427778),y=n(525104),f=n(712968),b=n(785893);const x=void 0!==i?i:i=n(268511);function k({hideFollowButton:e,hideFollowerCount:t,viewerId:n,justifyContent:i,avatarSize:r,seeMoreButton:y,graphqlRef:x,pinId:k,pinImageSignature:w,userData:S}){const P=(0,c.ZP)(),T=(0,u.Z)(),{id:I="",image_medium_url:C,follower_count:A,followed_by_me:E,username:j="",is_ads_only_profile:R=!1,ads_only_profile_site:D=""}=S,L=(0,f.mN)()(I),F=(0,o.useDispatch)(),M=(0,a.useRef)(),{checkExperiment:O}=(0,h.F)(),z=(0,s.Z)(),{locale:Z}=(0,m.B)(),[N,U]=(0,a.useState)(L?L.explicitly_followed_by_me:E),B=R&&D&&O("mweb_ads_only_profiles_link_redirect").anyEnabled,K=B&&D?D:`/${j}/`;return(0,b.jsxs)(l.xu,{display:"flex",direction:"row","data-test-id":"official-user-attribution",alignItems:"center",justifyContent:i||"center",children:[(0,b.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",flex:"shrink",children:(0,b.jsx)(l.iP,{role:"link",href:K,rel:B?"nofollow":"none",target:B?"blank":null,onTap:()=>{B&&z({event_type:9371,element:13382,component:123})},children:(0,b.jsx)(d.Z,{name:j,size:r||"md",src:null!=C?C:""})})}),(0,b.jsxs)(l.xu,{display:"flex",direction:"column",marginStart:2,justifyContent:"center",minWidth:0,children:[(0,b.jsx)(g.Z,{fontWeight:"bold",graphqlRef:x,pinId:k}),!t&&(0,b.jsx)(l.xv,{size:"300",children:(0,p.nk)(P.bt("{{ followerCount }} ", "{{ followerCount }} followers", "closeup.officialUser.followerCount", undefined, true),{followerCount:T(Z,A||0,{shortform:!0,shortform_maximum_fraction_digits:0})})})]}),y,!e&&(0,b.jsx)(a.Fragment,{children:(0,b.jsx)(l.xu,{marginStart:"auto",ref:M,children:(0,b.jsx)(_.Z,{followEventType:45,id:I,isFollowed:N,isUserFollowButton:!0,isUserMe:n===I,onFollow:e=>{U(!0),F((0,v.ZN)(e))},onUnfollow:e=>{U(!1),F((0,v.fv)(e))},pinId:k,size:"lg",shouldUseLegoColors:!0,unfollowEventType:46,viewType:3,auxData:k&&w?{pin_id:k,image_signature:w}:void 0})})})]})}function w({graphqlRef:e,pinId:t,...n}){var i,o,l,s,d,c;const u=(0,r.useFragment)(x,e),p=u.closeupAttribution;return p&&u?(0,b.jsx)(k,{...n,pinId:t,pinImageSignature:null!==(i=u.imageSignature)&&void 0!==i?i:void 0,userData:{id:null!==(o=p.entityId)&&void 0!==o?o:void 0,image_medium_url:null!==(l=p.imageMediumUrl)&&void 0!==l?l:void 0,follower_count:null!==(s=p.followerCount)&&void 0!==s?s:void 0,followed_by_me:null!==(d=p.followedByMe)&&void 0!==d?d:void 0,username:null!==(c=p.username)&&void 0!==c?c:void 0,is_ads_only_profile:!!p.isAdsOnlyProfile,ads_only_profile_site:p.adsOnlyProfileSite},graphqlRef:u}):(0,b.jsx)(a.Fragment,{})}function S({pinId:e,...t}){var n;const i=(0,y.S6)()(e),o=null==i?void 0:i.closeup_attribution;return o&&i?(0,b.jsx)(k,{...t,pinId:e,pinImageSignature:null!==(n=i.image_signature)&&void 0!==n?n:void 0,userData:o}):(0,b.jsx)(a.Fragment,{})}function P({graphqlRef:e,...t}){return e?(0,b.jsx)(w,{...t,graphqlRef:e}):(0,b.jsx)(S,{...t})}},436422:(e,t,n)=>{n.d(t,{Z:()=>_});var i,a=n(667294),o=n(167912),r=n(883119),l=n(563962),s=n(245410),d=n(793085),c=n(525104),u=n(785893);const p=void 0!==i?i:i=n(584473);function h({displayName:e,fontWeight:t="normal",isVerifiedMerchant:n,fullName:i="",verifiedIdentityVerified:a,username:o="",isAdsOnlyProfile:c=!1,adsOnlyProfileSite:p=""}){const{checkExperiment:h}=(0,s.F)(),m=(0,l.Z)(),g=n||a,_=c&&p&&h("mweb_ads_only_profiles_link_redirect").anyEnabled,v=_&&p?p:`/${o}/`;return(0,u.jsx)(r.iP,{role:"link",href:v,rel:_?"nofollow":"none",target:_?"blank":null,onTap:()=>{_&&m({event_type:9371,element:13382,component:123})},children:(0,u.jsxs)(r.kC,{alignItems:"center",direction:"row",justifyContent:"start",minWidth:0,children:[(0,u.jsx)(r.xv,{size:"300",lineClamp:1,weight:t,children:e?e(i):i}),g&&(0,u.jsx)(r.xu,{marginStart:1,marginEnd:2,children:(0,u.jsx)(d.Z,{showVerifiedIdentity:!n,isVerifiedMerchant:n,size:"sm"})})]})})}function m(e){var t,n,i,r,l,s;const d=(0,o.useFragment)(p,e.graphqlRef),c=null==d?void 0:d.closeupAttribution;return c?(0,u.jsx)(h,{displayName:e.displayName,fontWeight:e.fontWeight,isVerifiedMerchant:null!==(t=c.isVerifiedMerchant)&&void 0!==t?t:void 0,fullName:null!==(n=c.fullName)&&void 0!==n?n:void 0,verifiedIdentityVerified:null!==(i=null===(r=c.verifiedIdentity)||void 0===r?void 0:r.verified)&&void 0!==i?i:void 0,username:null!==(l=c.username)&&void 0!==l?l:void 0,isAdsOnlyProfile:null!==(s=c.isAdsOnlyProfile)&&void 0!==s&&s,adsOnlyProfileSite:c.adsOnlyProfileSite}):(0,u.jsx)(a.Fragment,{})}function g(e){var t;const n=(0,c.S6)()(e.pinId),i=null==n?void 0:n.closeup_attribution;return i?(0,u.jsx)(h,{displayName:e.displayName,fontWeight:e.fontWeight,isVerifiedMerchant:i.is_verified_merchant,fullName:i.full_name,verifiedIdentityVerified:null===(t=i.verified_identity)||void 0===t?void 0:t.verified,username:i.username,isAdsOnlyProfile:i.is_ads_only_profile,adsOnlyProfileSite:i.ads_only_profile_site}):(0,u.jsx)(a.Fragment,{})}function _(e){return e.graphqlRef?(0,u.jsx)(m,{...e}):(0,u.jsx)(g,{...e})}},660016:(e,t,n)=>{n.d(t,{V3:()=>Y,od:()=>X,ZP:()=>ae});var i=n(667294),a=n(167912),o=n(883119),r=n(645048),l=n(604094),s=n(536042),d=n(943795),c=n(7997),u=n(450667),p=n(245410),h=n(282802),m=n(643183),g=n(846226),_=n(549201),v=n(802071),y=n(736409),f=n(611756);const b=()=>{const e=(0,f.qn)("relatedPinsAppUpsell"),t=e&&Date.now()-e>y.F4;return!e||t};var x,k=n(799006),w=n(251951),S=n(944625),P=n(393786),T=n(447398),I=n(618569),C=n(936840),A=n(785893);const E=void 0!==x?x:x=n(157035),j=({clickthrough:e,isCTA:t,onLoad:n,actionButtonText:a})=>{const r=(0,s.ZP)(),l=(0,_.ZP)(),{locale:d,isAuthenticated:c}=(0,h.B)(),u=(0,I.Z)(),{checkExperiment:m}=(0,p.F)();(0,i.useEffect)((()=>{n&&n()}),[n]);const v=r.bt("", "Visit", "pinPage.pinACtionBar.visitButton", undefined, true),y=!d.startsWith("en")&&a!==v,f=!c&&y&&("desktop"!==l?m("lop_mweb_visit_cta_locales").anyEnabled:m("lop_dweb_visit_cta_locales").anyEnabled),b=c&&y&&"desktop"!==l&&m("auth_mweb_visit_cta_locales").anyEnabled;return!y||f||b||(a=v),(0,A.jsx)(g.Z,{id:"main-pin-section-visit-button",children:(0,A.jsx)(o.zx,{accessibilityLabel:a,fullWidth:!0,size:"lg",onClick:()=>{u({action:"click",item:"main-pin-section-visit-button"}),e()},color:t?"blue":void 0,text:a||""})})},R=({clickthroughInterstitialExperience:e,isCTA:t,graphqlRef:n,actionButtonText:i})=>{const o=(0,a.useFragment)(E,n),r=(0,C.I)({clickthroughInterstitialExperience:e,graphqlRef:o});return(0,A.jsx)(j,{clickthrough:r,isCTA:t,actionButtonText:i})},D=({clickthroughInterstitialExperience:e,isCTA:t,pinId:n,actionButtonText:i})=>{const a=(0,C.Z)({clickthroughInterstitialExperience:e,pinId:n});return(0,A.jsx)(j,{clickthrough:a,isCTA:t,actionButtonText:i})};function L({clickthroughInterstitialExperience:e,isCTA:t,pinId:n,graphqlRef:i,actionButtonText:a}){return i?(0,A.jsx)(R,{graphqlRef:i,clickthroughInterstitialExperience:e,isCTA:t,actionButtonText:a}):(0,A.jsx)(D,{clickthroughInterstitialExperience:e,isCTA:t,pinId:n,actionButtonText:a})}var F,M=n(213352),O=n(525104),z=n(712968),Z=n(428876),N=n(832400),U=n(259501),B=n(753081);const K=(0,i.lazy)((()=>n.e(68657).then(n.bind(n,468657)))),V=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,154500)))),H=void 0!==F?F:F=n(272245),G="save",W="visit",$=new o.Ry(2),q=new o.Ry(1),Y=new o.Ry(4),J=({children:e,headerLimitedOverflow:t,isDesktop:n,isActionBarInline:i,isRelatedPinsAppUpsellShown:a,isTransparentBackground:r,showHorizontalActionBar:l,zIndex:s})=>!n&&l?(0,A.jsxs)(o.xu,{children:[(0,A.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{opacity:i?0:1,transition:"opacity .4s ease-in-out"}},children:(0,A.jsx)(d.FixedFooter,{paddingY:5,hasTopShadow:!0,zIndex:s,children:e},String(r))}),i&&(0,A.jsx)(o.xu,{paddingY:4,marginTop:3,dangerouslySetInlineStyle:{__style:{opacity:i?1:0,transition:"opacity .4s ease-in-out"}},children:e})]}):(0,A.jsx)(d.FixedHeader,{headerLimitedOverflow:t,isTranslucent:!r,isTransparentBackground:r,ignoreObstructions:r,paddingY:a?0:void 0,zIndex:s,children:e},String(r)),X=({children:e,experience:t,onCompleteRef:n})=>{const a=(0,i.useRef)();return(0,A.jsxs)(i.Fragment,{children:[(0,A.jsx)(o.xu,{ref:a,children:(0,A.jsx)(o.xu,{children:e})}),(0,A.jsx)(l.Z,{name:"SafeSuspense_PinActionBarSaveButton_ExperienceTooltipDelayedPulsar",children:(0,A.jsx)(m.Z,{children:(0,A.jsx)(K,{experience:t,eligibleIds:[503459,503761],anchor:a.current,showTooltip:!0,onCompleteRef:n})})})]})},Q=({backButton:e,commentButton:t,copyButton:n,editOrMoreButton:a,headerLimitedOverflow:r,isActionBarInline:l=!1,isDesktop:s,isRelatedPinsAppUpsellShown:d,isTransparentBackground:c,saveButton:u,showHorizontalActionBar:p,shareButtonGroup:m,visitButton:_})=>{const v=(0,N.H)(),{isAuthenticated:y}=(0,h.B)();let f;return y?"lg"===v?f=$:p&&(f=Y):f=p?Y:q,(0,A.jsx)(g.Z,{id:"header",children:(0,A.jsx)(J,{headerLimitedOverflow:r,isDesktop:s,isActionBarInline:l,isRelatedPinsAppUpsellShown:d,isTransparentBackground:c,showHorizontalActionBar:p,zIndex:f,children:(0,A.jsx)(o.xu,{marginTop:-1,marginBottom:-1,children:(0,A.jsx)(o.kC,{alignItems:"center",justifyContent:"between",children:p?(0,A.jsxs)(i.Fragment,{children:[(0,A.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:t||null}),(0,A.jsxs)(o.xu,{display:"flex",alignItems:"center",justifyContent:"start",marginStart:!t&&m?12:0,children:[_||null,u||null]}),(0,A.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:m||null})]}):(0,A.jsxs)(i.Fragment,{children:[(0,A.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[!!e&&(0,A.jsx)(o.xu,{marginStart:-1,color:c?"default":void 0,rounding:"circle",dangerouslySetInlineStyle:{__style:c?{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}:{}},children:e}),(0,A.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[t||null,m||null,a||null,n||null]})]}),(0,A.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[_||null,u||null]})]})})})})})};function ee({pinId:e,viewParameter:t}){const n=(0,s.ZP)(),[a,r]=(0,i.useState)(!1),l=(0,i.useRef)(null);return(0,A.jsxs)(o.xu,{ref:l,children:[(0,A.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,A.jsx)(U.Z,{onDefaultSendButtonClick:()=>{r(!0)},viewParameter:t})}),a&&(0,A.jsx)(B.Z,{anchor:l.current,objectId:e,objectType:1,onDismiss:()=>r(!1),viewType:3,viewParameter:t,component:194,title:n.bt(" Pin ", "Send this pin", "PinCloseup.ShareMenu.Title", undefined, true)})]})}function te({clickthroughInterstitialExperience:e,experience:t,isEligibleForAggregatedComments:n,isNewUser:a,isMaturedNewUser:d,isProductPin:c,isRemovablePin:y,isUnavailableStoryPin:f,onEditButtonClick:x,onMobileTap:I,onSendButtonClick:C,pinId:E,actionButtonText:j,pinnedToBoardId:R,pinnedToBoardUrl:D,nativePinType:F,scrolledToRelatedPins:O,shouldShowReactions:N,shouldShowBackButton:B,shouldShowShareOnVideoCloseup:K,isEligibleToVisitPin:H,hasPin:$,isEligibleForPdp:q,isEligibleForPdpPlus:Y,pinnerBlockedByMe:J,maybeGraphqlRef:te,isActionBarInline:ne}){const ie=(0,s.ZP)(),{checkExperiment:ae}=(0,p.F)(),oe=(0,_.HG)(),{isAuthenticated:re}=(0,h.B)(),le=(0,w.R)(),{clientTrackingParams:se,isStoryPin:de,shouldRenderAsStoryPin:ce,saveButtonConfig:ue,viewParameter:pe}=le,he=(0,k.Z)(),me=(0,i.useRef)(null),{id:ge}=(0,v.Z)(),_e=(0,z.mN)()(null!=ge?ge:""),ve=(0,r.Z)(Y)||!oe&&!c,ye=re&&!oe&&ae("auth_mweb_inline_action_bar").anyEnabled,fe=re&&q&&!Y?W:G,be=q&&!oe&&a&&!d;(()=>{const{locale:e}=(0,h.B)();(0,i.useEffect)((()=>{(0,u.we)(e)}),[e])})();const xe=!!t&&8===t.type;if(de&&ce){const e=!O;let t=e?"white":void 0,n=e?"transparentDarkGray":void 0;return f&&(t="darkGray",n="white"),!oe&&de&&ce?null:(0,A.jsx)(o.xu,{paddingX:2,children:(0,A.jsx)(Q,{backButton:B?(0,A.jsx)(S.Z,{color:t,bgColor:n}):null,headerLimitedOverflow:xe,isTransparentBackground:e,showHorizontalActionBar:ve,isActionBarInline:ne,isDesktop:oe})})}if(O&&re&&!ye&&!ve){const e=he&&a&&!(null!=_e&&_e.is_partner)&&b();return(0,A.jsx)(Q,{backButton:B?(0,A.jsx)(S.Z,{bgColor:"white"}):null,headerLimitedOverflow:xe,isRelatedPinsAppUpsellShown:e,isTransparentBackground:!0,isActionBarInline:ne,showHorizontalActionBar:ve,isDesktop:oe})}const ke=!oe&&!c&&n&&(!re||["enabled","running_experiments"].includes(ae("community_engagement_holdout_2023_h1").group));return(0,A.jsx)(Q,{isActionBarInline:ne,showHorizontalActionBar:ve,backButton:B?(0,A.jsx)(S.Z,{}):null,commentButton:ke&&(0,A.jsx)(M.default,{graphqlRef:te,isReadOnly:!re,pinId:E,viewParameter:pe}),editOrMoreButton:!ve&&(x?(0,A.jsx)(o.xu,{"data-test-id":"editBoardButton",children:(0,A.jsx)(o.hU,{accessibilityLabel:ie.bt("", "edit", "Pin edit button", undefined, true),iconColor:"darkGray",icon:"edit",onClick:({event:e})=>x(e),size:"lg"})}):(0,P.E)(le)&&!!$&&(0,A.jsx)(g.Z,{id:"ellipsis-button",children:(0,A.jsx)(T.Z,{onMobileTap:I,pinId:E,graphqlRef:te})})),headerLimitedOverflow:xe,saveButton:re&&(y||J)?null:(0,A.jsx)(X,{experience:t,onCompleteRef:me,children:(0,A.jsx)(Z.Z,{clientTrackingParams:se,deeplinkUri:ue.shouldShowSavedButton&&D||ue.repinPageLocation.deeplinkUri,onTouch:e=>{var t;null===(t=me.current)||void 0===t||t.call(me),ue.onSaveButtonClick(e)},onUnsave:ue.onUnsaveButtonClick,pinId:E,pinnedToBoardId:R,shouldShowSavedButton:ue.shouldShowSavedButton,to:ue.repinPageLocation.mwebUri,viewType:3,viewParameter:pe,color:fe===G||be?"primary":"secondary"})}),shareButtonGroup:N&&F?(0,A.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,A.jsx)(l.Z,{name:"SafeSuspense_PinActionBarSaveButton_ReactionPickerContainer",children:(0,A.jsx)(m.Z,{children:(0,A.jsx)(V,{clientTrackingParams:se,pinId:E,nativePinType:F,experience:t})})}),K&&(0,A.jsx)(U.Z,{onDefaultSendButtonClick:C,viewParameter:le.viewParameter})]}):(0,A.jsx)(g.Z,{id:"share-button",children:!re&&oe?(0,A.jsx)(ee,{pinId:E,viewParameter:le.viewParameter}):(0,A.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,A.jsx)(U.Z,{onDefaultSendButtonClick:C,viewParameter:le.viewParameter})})}),visitButton:!K&&H?(0,A.jsx)(o.xu,{paddingX:2,"data-test-id":"visit-button-mobile",children:(0,A.jsx)(L,{clickthroughInterstitialExperience:e,pinId:E,isCTA:fe===W,graphqlRef:te,actionButtonText:j})}):null,isDesktop:oe})}const ne=({graphqlRef:e,...t})=>{var n,i,o,r,l;const d=(0,s.ZP)(),u=(0,a.useFragment)(H,e),p=null===(n=u.richMetadata)||void 0===n?void 0:n.recipe,h=(0,c.Z)({hasRecipe:!(null==p||!p.name||null===(i=p.categorizedIngredients)||void 0===i||!i.length||p.fromAggregatedData),hasArticle:!(null===(o=u.richMetadata)||void 0===o||!o.article),i18n:d});return(0,A.jsx)(te,{hasPin:!!u,isEligibleForAggregatedComments:u.isEligibleForAggregatedComments,isEligibleForPdp:u.isEligibleForPdp,isEligibleForPdpPlus:null!==(r=u.isEligibleForPdpPlus)&&void 0!==r&&r,pinnerBlockedByMe:null===(l=u.pinner)||void 0===l?void 0:l.blockedByMe,maybeGraphqlRef:u,actionButtonText:h,...t})},ie=({pinId:e,...t})=>{var n,i,a;const o=(0,O.S6)()(e),r=(0,s.ZP)(),l=null==o?void 0:o.pinner,d=null==o||null===(n=o.rich_metadata)||void 0===n?void 0:n.recipe,u=(0,c.Z)({hasRecipe:!(null==d||!d.name||!d.categorized_ingredients||d.from_aggregated_data),hasArticle:!(null==o||null===(i=o.rich_metadata)||void 0===i||!i.article),i18n:r});return(0,A.jsx)(te,{pinId:e,actionButtonText:u,hasPin:!!o,isEligibleForAggregatedComments:null==o?void 0:o.is_eligible_for_aggregated_comments,isEligibleForPdp:null==o?void 0:o.is_eligible_for_pdp,isEligibleForPdpPlus:null!==(a=null==o?void 0:o.is_eligible_for_pdp_plus)&&void 0!==a&&a,pinnerBlockedByMe:null==l?void 0:l.blocked_by_me,...t})};function ae({graphqlRef:e,...t}){return e?(0,A.jsx)(ne,{graphqlRef:e,...t}):(0,A.jsx)(ie,{...t})}},944625:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(282802),a=n(846226),o=n(251951),r=n(519218),l=n(785893);const s=({bgColor:e,color:t})=>{const{viewParameter:n}=(0,o.R)(),{isAuthenticated:s}=(0,i.B)();return(0,l.jsx)(a.Z,{id:"back-button",children:(0,l.jsx)(r.Z,{bgColor:e,color:t||"darkGray",fallbackUrl:s?"/":"/ideas",padding:"auto",viewParameter:n,viewType:3,size:"xl"})})}},393786:(e,t,n)=>{n.d(t,{E:()=>T,Z:()=>j});var i,a=n(167912),o=n(883119),r=n(388011),l=n(737311),s=n(765456),d=n(536042),c=n(630089),u=n(497088),p=n(599226),h=n(846226),m=n(549201),g=n(700453),_=n(251951),v=n(936840),y=n(996902),f=n(460914),b=n(395253),x=n(154500),k=n(525104),w=n(785893);const S=void 0!==i?i:i=n(463146),P=({canUpsellNativeApp:e,downloadImageUrl:t,pinId:n,shouldShowReactions:i,isAuthenticated:a,shouldShowVisitInMoreOptions:o})=>n?{react:i,editPin:a,downloadImageUrl:t,openInApp:e,reportPin:a,sendPin:i,visitPin:o}:Object.freeze({}),T=e=>{const t=P(e);return!!(t.react||t.openInApp||t.sendPin||t.downloadImageUrl||t.reportPin||t.visitPin)},I=({imageUrl:e,closeupUnifiedDescription:t,gridTitle:n,title:i,pinId:a,imageSignature:r,textSize:l})=>{const s=(0,d.ZP)(),{isChromeOnIOS:c,viewParameter:u,handleDownloadPinImageClick:g,isAuthenticated:v}=(0,_.R)(),b=(0,p.Z)(),x=(0,m.HG)(),k=t&&t.trim(),S=n||i;return(0,w.jsx)(y.Z,{imgSrc:e,isChromeOnIOS:c,filename:S||k,pinId:a,viewParameter:u,viewType:3,imageSignature:r||void 0,children:e=>(0,w.jsx)(h.Z,{id:"more-options-download-pin",children:(0,w.jsx)(f.Z,{pressState:"none",onTouch:()=>{e().then((()=>{x&&!v&&b({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_closeup_download_button",desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnDweb",container:"download"}}}),g()}))},children:(0,w.jsx)(o.xv,{weight:"bold",size:l,children:s.bt("", "Download image", "Button to download Pin image", undefined, true)})})})})},C=({pinId:e,domain:t,closeupUnifiedDescription:n,gridTitle:i,title:a,imageSignature:p,textSize:y,onDismiss:k,onEditButtonClick:S,isIdeaPin:T,isIdeaPinDeleted:C,shouldShowShareOnVideoCloseup:A,clickthroughInterstitialExperience:E,nativePinType:j})=>{const R=(0,d.ZP)(),D=(0,_.R)(),{clientTrackingParams:L,onSendButtonClick:F,isAuthenticated:M}=D,O=(0,v.Z)({clickthroughInterstitialExperience:E,pinId:e}),{logContextEvent:z}=(0,r.v)(),Z=(0,s._)({id:1000112}),N=(0,m.HG)(),U=P(D);return(0,w.jsxs)(o.kC,{direction:"column",gap:{row:0,column:4},children:[U.react&&!!j&&!N&&(0,w.jsx)(l.Z,{name:"SafeSuspense_PinActionBarMoreOptionsMenu_ReactionPickerContainer",children:(0,w.jsx)(u.Z,{children:(0,w.jsx)(f.Z,{pressState:"none",onTouch:k,children:(0,w.jsx)(x.default,{clientTrackingParams:L,pinId:e,nativePinType:j,experience:Z,isTextButton:!0})})})}),!N&&U.editPin&&S&&(0,w.jsx)(h.Z,{id:"editBoardButton",children:(0,w.jsx)(f.Z,{pressState:"none",onTouch:()=>S(),children:(0,w.jsx)(o.xv,{weight:"bold",size:y,children:R.bt(" Pin ", "Edit Pin", "closeup.PinActionBarMoreOptions.editButton", undefined, true)})})}),U.openInApp&&(0,w.jsx)(g.ZP,{componentType:14162,within:M?"auth-pin-page-action-bar":"unauth-pin-page-action-bar",children:({handleOpenApp:t})=>(0,w.jsx)(h.Z,{id:"more-options-open-app",children:(0,w.jsx)(f.Z,{pressState:"none",onTouch:()=>t({deepLinkUri:`pin/${e}`}),children:(0,w.jsx)(o.xv,{weight:"bold",size:y,children:R.bt("", "Open in app", "Option in overflow menu on Pin closeup to open the Pin in the Pinterest app", undefined, true)})})})}),!A&&!T&&U.sendPin&&(0,w.jsx)(h.Z,{id:"more-options-send-app",children:(0,w.jsx)(f.Z,{pressState:"none",onTouch:F,children:(0,w.jsx)(o.xv,{weight:"bold",size:y,children:R.bt(" Pin ", "Send Pin", "Option in overflow menu on Pin closeup to send this pin", undefined, true)})})}),!T&&U.visitPin&&(0,w.jsx)(f.Z,{pressState:"none",onTouch:O,children:(0,w.jsx)(o.xv,{weight:"bold",size:y,children:(0,c.Wc)(R.bt(" {{domain}}", "Visit {{domain}}", "videoPinCloseup.overflowMenu.visit", undefined, true),{domain:t||""})})}),!T&&!C&&U.downloadImageUrl&&(0,w.jsx)(I,{imageUrl:U.downloadImageUrl,closeupUnifiedDescription:n,gridTitle:i,title:a,pinId:e,imageSignature:p,textSize:y}),U.reportPin&&(0,w.jsx)(b.Z,{callbackFunction:k,nextLocation:`/pin/${e}/report/`,children:(0,w.jsx)(o.xv,{weight:"bold",size:y,children:(0,w.jsx)(h.Z,{id:"more-options-report-pin",children:(0,w.jsx)(o.rU,{href:`/pin/${e}/report/`,tapStyle:"none",onClick:()=>{z({view_type:48,element:176,event_type:102,component:13,object_id_str:e})},children:R.bt(" Pin ", "Report Pin", "Takes you to a separate page where you can give reasons why you are reporting this Pin (e.g spam, pornography)", undefined, true)})})})})]})},A=({graphqlRef:e,...t})=>{var n,i,o;const r=(0,a.useFragment)(S,e);return(0,w.jsx)(C,{pinId:null!==(n=r.entityId)&&void 0!==n?n:"",domain:r.domain,closeupUnifiedDescription:r.closeupUnifiedDescription,gridTitle:r.gridTitle,title:r.title,imageSignature:r.imageSignature,isIdeaPinDeleted:null!==(i=null===(o=r.storyPinData)||void 0===o?void 0:o.isDeleted)&&void 0!==i&&i,...t})},E=e=>{var t,n,i;const{pinId:a}=(0,_.R)(),o=e.pinId||a,r=(0,k.S6)()(o);return(0,w.jsx)(C,{pinId:null!==(t=null==r?void 0:r.id)&&void 0!==t?t:"",domain:null==r?void 0:r.domain,closeupUnifiedDescription:null==r?void 0:r.closeup_unified_description,gridTitle:null==r?void 0:r.grid_title,title:null==r?void 0:r.title,imageSignature:null==r?void 0:r.image_signature,isIdeaPinDeleted:null!==(n=null==r||null===(i=r.story_pin_data)||void 0===i?void 0:i.is_deleted)&&void 0!==n&&n,...e})};function j({graphqlRef:e,...t}){return e?(0,w.jsx)(A,{graphqlRef:e,...t}):(0,w.jsx)(E,{...t})}},447398:(e,t,n)=>{n.d(t,{Z:()=>k});var i,a=n(667294),o=n(167912),r=n(883119),l=n(536042),s=n(282802),d=n(98736),c=n(618569),u=n(348672),p=n(549201),h=n(936840),m=n(525104),g=n(204722),_=n(50169),v=n(785893);const y=void 0!==i?i:i=n(179419),f=({pinId:e,pinCreditPrefix:t,onClickTitleOrDomain:n,onMobileTap:i,hasPinner:o,graphqlRef:h,overlayingPinImage:m=!1})=>{const y=(0,l.ZP)(),f=(0,c.Z)(),b=(0,u.Z)(),x=(0,a.useRef)(),k=(0,p.HG)(),w=(0,p.Wb)(),{isAuthenticated:S}=(0,s.B)(),[P,T]=(0,a.useState)(null),I=!!P;(0,a.useEffect)((()=>{const e=()=>{T(null),(0,d.My)("dweb.unauth.context_menu.click_away")};return I&&document.addEventListener("click",e),()=>{I&&document.removeEventListener("click",e)}}),[I]);let C,A=m?"white":"darkGray";return k||w||(A=m?"darkGray":"white",C=m?"white":"darkGray"),(0,v.jsxs)(a.Fragment,{children:[(0,v.jsx)(r.xu,{ref:x,children:(0,v.jsx)(r.hU,{accessibilityLabel:y.bt("", "more", "Pin more button", undefined, true),iconColor:A,bgColor:C,icon:"ellipsis",onClick:({event:a})=>{if(S||k)if(f({action:"click",item:"ellipsis-button"}),k){if(a.stopPropagation(),a.preventDefault(),(0,d.My)("dweb.ellipsis_button.context_menu.open"),x.current){const e=x.current.getBoundingClientRect(),t=e.left,n=e.top;T({x:t,y:n})}}else i(a);else e&&o?b({pinId:e,location:"main-pin-overflow",vaseSection:!w&&(0,v.jsx)(_.Z,{dedupeVisualAnnotations:null,pinId:e,queryRef:h,pinCreditPrefix:t,onClickTitleOrDomain:n})}):i(a)},size:"lg"})}),P&&k&&e&&o&&(0,v.jsx)(g.Z,{desktopContextMenuState:P,pinId:e,source:"dweb.plp.ellipsis.button",graphqlRef:h})]})},b=({graphqlRef:e,pinId:t,pinCreditPrefix:n,onMobileTap:i,overlayingPinImage:a,clickthroughInterstitialExperience:r})=>{const l=(0,o.useFragment)(y,e),s=(0,h.I)({clickthroughInterstitialExperience:r,graphqlRef:l});return(0,v.jsx)(f,{hasPinner:!!l.pinner,pinId:t,pinCreditPrefix:n,onClickTitleOrDomain:s,onMobileTap:i,graphqlRef:l,overlayingPinImage:a})},x=({pinId:e,pinCreditPrefix:t,onMobileTap:n,overlayingPinImage:i,clickthroughInterstitialExperience:a})=>{const o=(0,m.S6)()(e),r=(0,h.Z)({clickthroughInterstitialExperience:a,pinId:e});return(0,v.jsx)(f,{hasPinner:!(null==o||!o.pinner),pinId:e,pinCreditPrefix:t,onClickTitleOrDomain:r,onMobileTap:n,overlayingPinImage:i})};function k({graphqlRef:e,pinId:t,pinCreditPrefix:n,onMobileTap:i,overlayingPinImage:a,clickthroughInterstitialExperience:o}){const r={pinId:t,pinCreditPrefix:n,onMobileTap:i,overlayingPinImage:a,clickthroughInterstitialExperience:o};return e?(0,v.jsx)(b,{...r,graphqlRef:e}):(0,v.jsx)(x,{...r})}},768865:(e,t,n)=>{n.d(t,{IS:()=>b,Ys:()=>f,ZP:()=>C,j$:()=>w});var i,a=n(667294),o=n(167912),r=n(883119),l=n(101789),s=n(44081),d=n(536042),c=n(630089),u=n(245410),p=n(895200),h=n(789907),m=n(196858),g=n(549201),_=n(525104),v=n(785893);const y=void 0!==i?i:i=n(24789),f=({m:e,h:t,rm:n,rh:i},a,o=!1)=>e&&(!t||i<=0)?o?(0,c.nk)(a.bt("{{mins}} ", "{{mins}}min", "closeup.makeRecipeTimeText.minutes", undefined, true),{mins:n.toString()}):(0,c.nk)(a.nbt(["{{mins}} "], n, "number showing the minutes to complete a recipe", true),{mins:n.toString()}):t?o?(0,c.nk)(a.bt("{{hrs}}  {{mins}} ", "{{hrs}}hr {{mins}}min", "closeup.makeRecipeTimeText.hours", undefined, true),{hrs:t.toString(),mins:e.toString()}):(0,c.nk)(a.nbt(["{{hrs}} "], i, "number showing the hours to complete a recipe", true),{hrs:i.toString()}):null,b=({m:e,h:t,rm:n,rh:i,i18n:a})=>e&&(!t||i<=0)?(0,c.nk)(a.bt("{{mins}}m", "{{mins}}m", "number showing minutes to complete a recipe", undefined, true),{mins:n.toString()}):t?(0,c.nk)(a.bt("{{hrs}}h {{mins}}m", "{{hrs}}h {{mins}}m", "number showing hours to complete a recipe", undefined, true),{hrs:t.toString(),mins:e.toString()}):null,x=(e,t)=>{const n=e&&e.length>0&&e.join(", "),i=t&&t.summary;return n&&i?`${n}  ${i}`:n||i},k=e=>e?e.reduce(((e,t)=>{var n,i;return e+(null!==(n=null===(i=t.ingredients)||void 0===i?void 0:i.length)&&void 0!==n?n:0)}),0):0,w=({displayCookTime:e,i18n:t,isShortened:n})=>f((0,p.u)(e),t,n);function S({category:e,ingredients:t,textSize:n="300",isOnePinEnabled:i}){return(0,v.jsxs)(r.xu,{marginBottom:4,children:[e&&(0,v.jsx)(r.xu,{children:(0,v.jsx)(r.xv,{weight:"bold",size:n,children:e})}),(null!=t?t:[]).map((e=>{var t,a;return(0,v.jsx)(r.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,v.jsxs)(r.xv,{size:n,children:[i?"":""," ",e.amt||null," ",e.name]})},`${null!==(t=e.name)&&void 0!==t?t:""}-${null!==(a=e.name)&&void 0!==a?a:""}`)}))]})}const P=({categorizedIngredients:e,displayCookTime:t,image:n,ingredientCount:i,ingredientsDescription:o,name:c})=>{const p=(0,d.ZP)(),{checkExperiment:_}=(0,u.F)(),y=(0,g.ZP)(),f=_("closeup_dweb_unauth_onepin_title_and_description").anyEnabled;if(!(t?w({displayCookTime:t,i18n:p,isShortened:f}):null)&&!i&&!o)return null;const b="desktop"===y,x=p.bt("", "Ingredients", "Closeup.PinRecipe.ingredientsLabel", undefined, true);return(0,v.jsxs)(r.xu,{"data-test-id":"pin-recipe-container",direction:"column",display:"flex",marginTop:12,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(!f||!b)&&(0,v.jsx)(r.xu,{marginBottom:4,children:(0,v.jsx)(r.xv,{weight:"bold",align:"desktop"===y?"start":"center",children:x})}),(0,v.jsxs)(h.Z,{itemScope:!0,itemType:m.G,children:[(0,v.jsx)("meta",{content:c,itemProp:"name"}),n&&(0,v.jsx)("meta",{content:n,itemProp:"image"}),f&&b&&(0,v.jsx)(r.xu,{"data-test-id":"one-pin-layout",children:Array.isArray(e)&&e.length>0&&(0,v.jsx)(l.Z,{heading:x,children:(0,v.jsx)(s.Z,{children:e.map((({category:e,ingredients:t},n)=>{const i=`ingredient-${n}`;return(0,v.jsx)(a.Fragment,{children:(0,v.jsx)(r.xu,{marginBottom:4,children:(0,v.jsx)(S,{category:e,ingredients:t,textSize:"300",isOnePinEnabled:f})})},i)}))})})}),(!f||!b)&&Array.isArray(e)&&e.length>0&&(0,v.jsx)(r.xu,{column:12,"data-test-id":"single-column-ingredients",children:e.map((({category:e,ingredients:t},n)=>(0,v.jsx)(r.xu,{marginBottom:2,children:(0,v.jsx)(S,{category:e,ingredients:t,textSize:"300",isOnePinEnabled:f})},n)))})]})]})},T=({graphqlRef:e,checkExperiment:t})=>{const n=(0,o.useFragment)(y,e),{imageSpec_474x:i,richMetadata:a}=n,r=null==a?void 0:a.recipe,l=null==r?void 0:r.categorizedIngredients,s=k(l),d=(null==r?void 0:r.categorizedIngredients)&&x(r.diets,r.servingsSummary);return(0,v.jsx)(P,{categorizedIngredients:l,displayCookTime:null==r?void 0:r.displayCookTime,image:null==i?void 0:i.url,ingredientCount:s,ingredientsDescription:d,name:null==r?void 0:r.name,checkExperiment:t})},I=({pinId:e,checkExperiment:t})=>{var n,i;const a=(0,_.S6)()(e),o=(null==a||null===(n=a.rich_metadata)||void 0===n?void 0:n.recipe)||{},{display_cook_time:r,name:l,categorized_ingredients:s,diets:d,servings_summary:c}=o,u=k(s),p=s&&x(d,c);return(0,v.jsx)(P,{categorizedIngredients:s,displayCookTime:r,image:(null===(i=((null==a?void 0:a.images)||{})["474x"])||void 0===i?void 0:i.url)||"",ingredientCount:u,ingredientsDescription:p,name:l,checkExperiment:t})};function C({graphqlRef:e,pinId:t}){const{checkExperiment:n}=(0,u.F)();return e?(0,v.jsx)(T,{graphqlRef:e,checkExperiment:n}):(0,v.jsx)(I,{pinId:t,checkExperiment:n})}},431570:(e,t,n)=>{n.d(t,{Z:()=>y});var i,a=n(167912),o=n(883119),r=n(536042),l=n(630089),s=n(245410),d=n(31407),c=n(549201),u=n(768865),p=n(525104),h=n(785893);const m=void 0!==i?i:i=n(761952);function g({boldText:e=!0,marginTop:t=3,onlyShowNumber:n=!1,textSize:i="md",width:a=12,isWideViewport:p,ratingBestRating:m,ratingRatingValue:g,ratingReviewCount:_,hasPinRecipe:v,displayCookTime:y,dietList:f,servingSummarySummary:b,servingSummaryServes:x}){const k=(0,r.ZP)(),{checkExperiment:w}=(0,s.F)(),S=w("closeup_dweb_unauth_onepin_title_and_description").anyEnabled,P=(0,c.ZP)(),T=(0,l.nk)(k.nbt(["{{review_count}} "], null != _ ? _ : 0, "closeup.recipe.ratings", true),{review_count:_}),I=y?(0,u.j$)({displayCookTime:y,i18n:k,isShortened:S}):null,C=Number(x),A=[f,S?(0,l.nk)(k.nbt(["{{serves}} "], Number.isNaN(C) ? 0 : C, "closeup.recipe.serves", true),{serves:x}).join(""):b].filter(Boolean);let E=(0,l.nk)(k.bt("{{ ratingStars }} {{ count }}", "{{ ratingStars }} {{ count }}", "closeup.recipe.rating", undefined, true),{ratingStars:(0,h.jsx)(d.Z,{rating:g,max_rating:m,width:a},"ratingStars"),count:(0,h.jsx)(o.xv,{inline:!0,size:i,weight:e?"bold":"normal",children:n?_:T},"ratingCount")});return v&&(E=(0,h.jsx)(o.xu,{"data-test-id":"CookTime",children:(0,l.nk)(k.bt("{{ recipeText }} {{cookTime}} {{ pinRecipe }}", "{{ recipeText }} {{cookTime}} {{ pinRecipe }}", "closeup recipe cooktime", undefined, true),{recipeText:(0,h.jsx)(o.xv,{inline:!0,children:E},"recipeText"),cookTime:(0,h.jsxs)(o.xv,{inline:!0,children:[I&&" ",I]},"cookTimeText"),pinRecipe:(0,h.jsx)(o.xv,{inline:!0,children:A.length>0&&(0,h.jsx)(o.xv,{inline:!0,children:`  ${A.join("  ")}`})},"pinRecipe")})})),(0,h.jsx)(o.xu,{alignItems:"baseline","data-test-id":"PinRecipeContainer",display:v&&"phone"===P?"block":"flex",justifyContent:"start",marginTop:t,children:(0,h.jsx)(o.xv,{align:p||"phone"!==P?"start":"center",inline:!0,children:E})})}const _=({graphqlRef:e,...t})=>{var n,i,o,r,l;const s=(0,a.useFragment)(m,e),{richMetadata:d}=s,c=null==d?void 0:d.recipe;return(0,h.jsx)(g,{...t,displayCookTime:null==c?void 0:c.displayCookTime,dietList:((null==c?void 0:c.diets)||[]).join(", "),servingSummarySummary:null==c||null===(n=c.servingsSummary)||void 0===n?void 0:n.summary,servingSummaryServes:null==c||null===(i=c.servingsSummary)||void 0===i?void 0:i.serves,hasPinRecipe:!(null==d||!d.recipe),ratingBestRating:null==c||null===(o=c.aggregateRating)||void 0===o?void 0:o.bestRating,ratingRatingValue:null==c||null===(r=c.aggregateRating)||void 0===r?void 0:r.ratingValue,ratingReviewCount:null==c||null===(l=c.aggregateRating)||void 0===l?void 0:l.reviewCount})},v=({pinId:e,...t})=>{var n,i,a,o,r;const l=(0,p.S6)()(e),s=(null==l||null===(n=l.rich_metadata)||void 0===n?void 0:n.recipe)||{},{diets:d,display_cook_time:c,servings_summary:u}=s;return(0,h.jsx)(g,{...t,displayCookTime:c,dietList:(d||[]).join(", "),servingSummarySummary:null==u?void 0:u.summary,servingSummaryServes:null==u?void 0:u.serves,hasPinRecipe:!(null==l||null===(i=l.rich_metadata)||void 0===i||!i.recipe),ratingBestRating:null===(a=s.aggregate_rating)||void 0===a?void 0:a.best_rating,ratingRatingValue:null===(o=s.aggregate_rating)||void 0===o?void 0:o.rating_value,ratingReviewCount:null===(r=s.aggregate_rating)||void 0===r?void 0:r.review_count})};function y({graphqlRef:e,pinId:t,...n}){return e?(0,h.jsx)(_,{...n,graphqlRef:e}):(0,h.jsx)(v,{...n,pinId:t})}},979275:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(536042),o=n(282802),r=n(785893);const l=({onSendButtonClick:e,trackShareTap:t,color:n,size:l,bgColor:s})=>{const d=(0,a.ZP)(),{userAgent:{platform:c}}=(0,o.B)(),u="android"===c;return(0,r.jsx)(i.hU,{accessibilityLabel:d.bt("", "Send", "Board.Pin.SendButton", undefined, true),onClick:({event:n})=>{e(n),t()},size:l||"lg",bgColor:s||"transparent",iconColor:n||"darkGray",icon:u?"android-share":"share"})}},873610:(e,t,n)=>{n.d(t,{w:()=>s,z:()=>l});var i=n(667294),a=n(583592),o=n(785893);const{Provider:r,useMaybeHook:l}=(0,a.Z)("CloseupPreviewContext");function s({children:e}){const[t,n]=(0,i.useState)(Object.freeze({})),a=(0,i.useMemo)((()=>({setData:(e,t)=>n((n=>({...n,[e]:t}))),getData:e=>t[e]})),[t]);return(0,o.jsx)(r,{value:a,children:e})}},657006:(e,t,n)=>{n.d(t,{v:()=>i});const i="imgViewer"},870428:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(286354);const a=e=>{const t=(0,i.Z)({url:e.location.search});switch(e.action){case"PUSH":return"news_hub"===t.entrySource?"deeplink":"click";case"REPLACE":return"click";case"POP":return e.location.key?"click":"deeplink";default:return null}}},422279:(e,t,n)=>{n.d(t,{Z:()=>i});n(883119);function i({isImagePinForUnauthOnTablet:e,truncate:t}){return e?3:t?1:2}},32762:(e,t,n)=>{n.d(t,{Ph:()=>a,Re:()=>r,si:()=>o});var i=n(549201);const a=e=>e&&e.promoter&&!e.is_downstream_promotion?e.promoter:null,o=()=>"phone"!==(0,i.ZP)()?180:130,r=()=>"phone"!==(0,i.ZP)()?180:80},936840:(e,t,n)=>{n.d(t,{Z:()=>R,I:()=>j});var i=n(702664),a=n(167912),o=n(616550),r=n(563962),l=n(527386),s=n(525571),d=n(354428),c=n(624417),u=n(898252),p=n(98736),h=n(618569),m=n(739425),g=n(251951),_=n(870428),v=n(32762),y=n(970588);const f=e=>{(async({pinId:e,link:t,mobileLink:n,origImageUrl:i,trackedLink:a,clientTrackingParams:o})=>{var r;const l=await(0,y.Z)({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:o,pin_id:null!=e?e:null,url:null!==(r=(0,u.Zt)({link:t,mobileLink:n,origImageUrl:i,trackedLink:a}))&&void 0!==r?r:""}});if(l&&l.resource_response&&!l.resource_response.error){const{redirect_status:e}=l.resource_response.data;return e}return"error"})(e).then((e=>(0,p.My)(`mweb.unauth.clickthrough_quality.${e}`)))};var b,x=n(759937),k=n(480462),w=n(348597),S=n(230910),P=n(836),T=n(495590),I=n(525104);const C=void 0!==b?b:b=n(567045),A=()=>navigator.onLine,E=({history:e,location:t,dispatch:n,shouldUpsellHomePage:i,userIsNew:a,hasPromoter:o,isAuthenticated:r,viewParameter:s,clickthroughInterstitialExperience:h,linklessOptions:g,hasPin:v,pinId:y,isEligibleForPdp:b,isOosProduct:x,isStaleProduct:T,shoppingFlags:I,imageSignature:C,mobileLink:E,trackingParams:j,link:R,trackedLink:D,hasRichMetadata:L,hasRichMetadataProducts:F,hasRichMetadataArticle:M,hasRichMetadataRecipe:O,images:z,embedSrc:Z,embedType:N,category:U,domain:B,linkDomainOfficialUserImageMediumUrl:K,logContextEvent:V,trackInteraction:H})=>()=>{var G,W;if(!v)return;const $=(({commerceData:e,hasRichMetadata:t,hasRichMetadataProducts:n,hasRichMetadataArticle:i,hasRichMetadataRecipe:a,imageSignature:o,location:r,pinId:l,trackingParams:s})=>{const d=(0,w.Z)((r.state||{}).trackingParams,s);return{object_id_str:l,component:4,element:35,view_type:3,view_parameter:(0,S.CK)({hasRichMetadata:t,hasRichMetadataProducts:n,hasRichMetadataArticle:i,hasRichMetadataRecipe:a}),clientTrackingParams:d,aux_data:{commerce_data:e,image_signature:o}}})({commerceData:(0,k.Z)({isEligibleForPdp:b,isOosProduct:x,isStaleProduct:T,pinShoppingFlags:I}),hasRichMetadata:L,hasRichMetadataProducts:F,hasRichMetadataArticle:M,hasRichMetadataRecipe:O,imageSignature:C,location:t,pinId:y,trackingParams:j});var q;((0,p.My)("mweb_pin_page.pin_image.clickthrough_occurred"),H({action:"click",item:"clickthrough"}),r)||f({pinId:y,link:R,mobileLink:E,origImageUrl:null==z||null===(q=z.orig)||void 0===q?void 0:q.url,trackedLink:D,clientTrackingParams:$.clientTrackingParams});12===(0,P.jC)($)&&V({event_type:8948,view_type:3,view_parameter:s,object_id_str:y,clientTrackingParams:$.clientTrackingParams,aux_data:{image_signature:C,closeup_navigation_type:(0,_.Z)(e),click_type:"clickthrough",cosmic_ray_count:"1"}});const Y=null!==(G=(0,u.Zt)({link:R,mobileLink:E,origImageUrl:null==z||null===(W=z.orig)||void 0===W?void 0:W.url,trackedLink:D}))&&void 0!==G?G:"",J={pin:y,client_tracking_params:$.clientTrackingParams};if(g){if(!g.actionBarIsMinifiedToMainPinImage){const e=new XMLHttpRequest;e.open("GET",(0,d.nS)({url:Y,queryParams:J})),e.send()}return void g.onTap()}const X=!o&&(a||i);if(X&&n((0,l.kd)(1000162)),X&&h){n((0,l.UT)(h.placement_id,h.experience_id)),n((0,l.CK)(h.placement_id,h.experience_id));const e=(0,d.nS)({url:Y,queryParams:J}),i=(0,c.Z)({images:z,embedSrc:Z,embedType:N}),a=t.pathname+t.search;if(!A())return;const o={domain:null!=B?B:"",domainImageUrl:null!=K?K:"",origin:a,pinCategory:U,pinImageUrl:i,redirectUrl:e};window.open((0,m.ru)("/pin_redirect",o),"_blank")}else{if(!A())return;(0,d.Gj)({url:Y,queryParams:J})}},j=({clickthroughInterstitialExperience:e,linklessOptions:t,graphqlRef:n})=>{var l,d,c,u,p,m,_,v,y,f;const b=(0,o.useHistory)(),k=(0,o.useLocation)(),w=(0,i.useDispatch)(),S=(0,T.S)(),P=(0,i.useSelector)((({users:e,session:t})=>(0,s.Z)(e[t.userId].created_at))),{isAuthenticated:I,viewParameter:A}=(0,g.R)(),j=(0,a.useFragment)(C,n),R=(0,x.Z)(j),D=!(!j.promoter||j.isDownstreamPromotion),L=null!==(l=j.category)&&void 0!==l?l:"",F=(0,r.Z)(),M=(0,h.Z)();return E({history:b,location:k,dispatch:w,shouldUpsellHomePage:S,userIsNew:P,hasPromoter:D,isAuthenticated:I,viewParameter:A,clickthroughInterstitialExperience:e,linklessOptions:t,logContextEvent:F,trackInteraction:M,hasPin:Boolean(j.entityId),pinId:null!==(d=j.entityId)&&void 0!==d?d:"",isEligibleForPdp:Boolean(j.isEligibleForPdp),isOosProduct:Boolean(j.isOosProduct),isStaleProduct:Boolean(j.isStaleProduct),shoppingFlags:null!==(c=j.shoppingFlags)&&void 0!==c?c:void 0,imageSignature:j.imageSignature,mobileLink:j.mobileLink,trackingParams:j.trackingParams,link:j.link,trackedLink:j.trackedLink,hasRichMetadata:Boolean(j.richMetadata),hasRichMetadataProducts:Boolean(null===(u=j.richMetadata)||void 0===u?void 0:u.products),hasRichMetadataArticle:Boolean(null===(p=j.richMetadata)||void 0===p?void 0:p.article),hasRichMetadataRecipe:Boolean(null===(m=j.richMetadata)||void 0===m?void 0:m.recipe),images:R,embedSrc:null===(_=j.embed)||void 0===_?void 0:_.src,embedType:null===(v=j.embed)||void 0===v?void 0:v.type,category:L,domain:j.domain,linkDomainOfficialUserImageMediumUrl:null===(y=j.linkDomain)||void 0===y||null===(f=y.officialUser)||void 0===f?void 0:f.imageMediumUrl})},R=({clickthroughInterstitialExperience:e,linklessOptions:t,pinId:n})=>{var a,l,d,c,u,p,m,_;const y=(0,o.useHistory)(),f=(0,o.useLocation)(),b=(0,i.useDispatch)(),x=(0,T.S)(),k=(0,i.useSelector)((({users:e,session:t})=>(0,s.Z)(e[t.userId].created_at))),w=(0,I.S6)()(n),S=(0,v.Ph)(null!=w?w:void 0),{isAuthenticated:P,viewParameter:C}=(0,g.R)(),A=(0,r.Z)(),j=(0,h.Z)();return E({history:y,location:f,dispatch:b,shouldUpsellHomePage:x,userIsNew:k,hasPromoter:!!S,isAuthenticated:P,viewParameter:C,clickthroughInterstitialExperience:e,linklessOptions:t,logContextEvent:A,trackInteraction:j,hasPin:Boolean(w),pinId:null!==(a=null==w?void 0:w.id)&&void 0!==a?a:"",isEligibleForPdp:Boolean(null==w?void 0:w.is_eligible_for_pdp),isOosProduct:Boolean(null==w?void 0:w.is_oos_product),isStaleProduct:Boolean(null==w?void 0:w.is_stale_product),shoppingFlags:null==w?void 0:w.shopping_flags,imageSignature:null==w?void 0:w.image_signature,mobileLink:null==w?void 0:w.mobile_link,trackingParams:null==w?void 0:w.tracking_params,link:null==w?void 0:w.link,trackedLink:null==w?void 0:w.tracked_link,hasRichMetadata:Boolean(null==w?void 0:w.rich_metadata),hasRichMetadataProducts:Boolean(null==w||null===(l=w.rich_metadata)||void 0===l?void 0:l.products),hasRichMetadataArticle:Boolean(null==w||null===(d=w.rich_metadata)||void 0===d?void 0:d.article),hasRichMetadataRecipe:Boolean(null==w||null===(c=w.rich_metadata)||void 0===c?void 0:c.recipe),images:null==w?void 0:w.images,embedSrc:null==w||null===(u=w.embed)||void 0===u?void 0:u.src,embedType:null==w||null===(p=w.embed)||void 0===p?void 0:p.type,category:null==w?void 0:w.category,domain:null==w?void 0:w.domain,linkDomainOfficialUserImageMediumUrl:null==w||null===(m=w.link_domain)||void 0===m||null===(_=m.official_user)||void 0===_?void 0:_.image_medium_url})}},952809:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(167912),a=n(883119),o=n(643183),r=n(868489),l=n(621699),s=n(536042),d=n(599226),c=n(98736),u=n(460914),p=n(40660),h=n(785893);function m({isStoryPin:e,inviteText:t,inviterFirstName:n,isThinnerStyle:i,username:o}){const r=t.split(n);return(0,h.jsx)(a.xu,{children:(0,h.jsx)(u.Z,{onTouch:()=>{p.Z.increment("mweb_social_unauth.closeup.social_text_click")},pressState:"none",children:(0,h.jsxs)(a.kC,{direction:"row",gap:{row:1,column:0},children:[(0,h.jsx)(a.xv,{inline:!0,size:"300",children:r[0]}),e?(0,h.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:(0,h.jsx)(a.rU,{href:"/"+o,target:"blank",onClick:()=>(0,c.My)("mweb_unauth_inviter_profile_click"),children:n})}):(0,h.jsx)(a.xv,{inline:!0,size:i?"200":"300",weight:i?"normal":"bold",children:(0,h.jsx)(a.rU,{href:"/"+o,target:"blank",onClick:()=>(0,c.My)("mweb_unauth_inviter_profile_click_not_story"),children:n})}),(0,h.jsx)(a.xv,{inline:!0,size:i?"200":"300",children:r[1]})]})})})}function g({inviter:e,socialContextBannerStyle:t,setShouldShowSocialUpsellBanner:n}){const{shouldShowSignupUpsellText:i,isDismissible:o}=t,r=(0,s.ZP)(),{username:p}=e,g=e.imageMediumUrl,_=e.firstName,v=(0,d.Z)();return(0,h.jsx)(a.kC,{justifyContent:o?"center":"start",alignItems:"center",children:(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.iP,{fullHeight:!0,onTap:()=>{(0,c.My)("dweb.unauth.social_banner.click"),v({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_desktop_unauth_social_context_banner",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})},children:(0,h.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",height:44,width:o?1012:void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},marginTop:2,marginBottom:6,marginStart:o?0:2,paddingX:o?4:2,paddingY:4,rounding:"pill",position:o?"static":"absolute",top:!0,zIndex:new a.Ry(1),children:[(0,h.jsx)(a.xu,{marginTop:8,marginBottom:8,marginEnd:1,width:32,children:(0,h.jsx)(u.Z,{onTouch:e=>{e.stopPropagation(),p&&window.open("/"+p),(0,c.My)("dweb.unauth.social_banner.avatar_click")},pressState:"none",children:null!=g&&g.includes("default")?(0,h.jsx)(a.JO,{accessibilityLabel:"pinterest logo",color:"default",icon:"pinterest",size:24}):(0,h.jsx)(l.Z,{size:"fit",src:null!=g?g:void 0,name:_})})}),(0,h.jsxs)(a.kC,{flex:"grow",direction:"row",children:[(0,h.jsx)(m,{isStoryPin:!1,inviteText:i?(r.bt("{{ name }} ", "{{ name }} shared this idea.", "pin.closeup.long_banner.desktop.shareNotification", undefined, true)).replace("{{ name }}",_):(r.bt("{{ name }}  ", "{{ name }} shared this idea ", "pin.closeup.banner.desktop.shareNotification", undefined, true)).replace("{{ name }}",_),inviterFirstName:_,username:p,isThinnerStyle:i}),i&&(0,h.jsx)(a.xu,{marginStart:1,marginEnd:2,children:(0,h.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",children:r.bt("", "Sign up to join them", "pin.header.social_context_dweb", undefined, true)})})]}),o&&(0,h.jsx)(a.hU,{icon:"cancel",accessibilityLabel:"cancel",size:"sm",onClick:({event:e})=>{e.stopPropagation(),(0,c.My)("unauth.dweb.social_banner.dismiss"),null==n||n(!1)}})]})})})})}var _=n(245410),v=n(549201),y=n(700453),f=n(799006);const b=360;function x({inviter:{imageMediumUrl:e,username:t,firstName:n},isStoryPin:i}){const o=(0,s.ZP)(),{checkExperiment:r}=(0,_.F)(),g=(0,v.ml)(),x=()=>p.Z.increment("mweb_social_unauth.closeup.avatar_click"),k=(0,f.Z)(),w=(0,d.Z)(),S=(o.bt("{{ name }} ", "{{ name }} shared this idea", "pin.closeup.header.shareNotification", undefined, true)).replace("{{ name }}",t),P="undefined"!=typeof window&&window.innerWidth<b,T=t.length>25,I=g&&!i&&r("mweb_social_context_header_upsell").anyEnabled,C=r("mweb_social_context_header_upsell").group;return k&&i?(0,h.jsxs)(a.kC,{gap:{row:2,column:0},alignItems:"center",justifyContent:"center",minHeight:T?100:80,children:[(0,h.jsx)(a.xu,{marginTop:4,marginBottom:4,width:40,children:(0,h.jsx)(u.Z,{onTouch:x,pressState:"none",children:(0,h.jsx)(l.Z,{size:"fit",src:null!=e?e:void 0,name:n})})}),(0,h.jsx)(a.kC.Item,{flex:"grow",children:(0,h.jsxs)(a.xu,{display:"flex",direction:T?"column":"row",alignItems:"center",justifyContent:T?"start":"between",padding:T?3:0,children:[(0,h.jsxs)(a.kC,{direction:"column",alignItems:"start",gap:{row:0,column:1},wrap:!P,children:[(0,h.jsx)(a.kC,{children:(0,h.jsxs)(a.xv,{align:T?"center":"start",children:[(0,h.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(a.rU,{display:"inlineBlock",href:`/${null!=t?t:""}/`,target:"blank",onClick:()=>(0,c.My)("mweb_unauth_inviter_profile_click"),underline:"hover",children:t})}),S.split(t)[1]]})}),!T&&(0,h.jsx)(a.xv,{size:"100",children:o.bt(" Pinterest ", "Open Pinterest to see more", "unauth.mweb.shared.banner.edu", undefined, true)})]}),(0,h.jsx)(a.xu,{display:"flex",justifyContent:"center",alignItems:"center",minWidth:T?0:100,marginTop:T?3:0,children:(0,h.jsx)(y.ZP,{componentType:14161,within:"social-context-header",children:({handleOpenApp:e})=>(0,h.jsx)(a.zx,{onClick:()=>e(),size:"md",text:o.bt("", "Open app", "unauth.mweb.shared.banner.cta", undefined, true)})})})]})})]}):(0,h.jsx)(u.Z,{onTouch:()=>{I&&w({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_mobile_unauth_social_context_header"})},pressState:"none",children:(0,h.jsxs)(a.kC,{alignItems:"center",gap:4,justifyContent:"start",minHeight:80,children:[(0,h.jsx)(a.xu,{marginTop:4,marginStart:I?2:0,marginBottom:4,width:48,children:(0,h.jsx)(u.Z,{onTouch:x,pressState:"none",children:(0,h.jsx)(l.Z,{src:null!=e?e:void 0,name:n})})}),(0,h.jsxs)(a.kC,{alignItems:I?"start":"center",justifyContent:"start",direction:"column",children:[(0,h.jsx)(a.xu,{marginStart:I?-1:0,children:(0,h.jsx)(m,{isStoryPin:i,inviteText:I&&C.includes("join")?(o.bt("{{ name }} ", "{{ name }} shared this idea", "pin.closeup.header.shareNotification", undefined, true)).replace("{{ name }}",n):I&&C.includes("converse")?(o.bt("{{ name }} ", "{{ name }} sent an idea", "pin.closeup.header.shareNotification", undefined, true)).replace("{{ name }}",n):I&&C.includes("explore")?(o.bt("{{ name }} ", "{{ name }} sent this idea", "pin.closeup.header.shareNotification", undefined, true)).replace("{{ name }}",n):(o.bt("{{ name }} ", "{{ name }} shared this idea with you", "pin.closeup.header.shareNotification", undefined, true)).replace("{{ name }}",n),inviterFirstName:n,username:t,isThinnerStyle:I})}),I&&(0,h.jsx)(a.xu,{marginTop:1,children:(0,h.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:C.includes("join")?o.bt(" Pinterest ", "Tap to join them on Pinterest", "pin.closeup.header.shareNotification.text", undefined, true):C.includes("converse")?o.bt("", "Tap to share feedback", "pin.closeup.header.shareNotification.text", undefined, true):C.includes("explore")&&o.bt("", "Tap to see more like it", "pin.closeup.header.shareNotification.text", undefined, true)})})]})]})})}var k;const w=void 0!==k?k:k=n(80259),S=({children:e,variables:t})=>e((0,i.useLazyLoadQuery)(w,t));function P({inviterFirstNameRef:e,isDesktop:t,isStoryPin:n,setShouldShowSocialUpsellBanner:i,socialContextBannerStyle:l}){return(0,h.jsx)(o.Z,{children:(0,h.jsx)(r.ty,{children:o=>o?(0,h.jsx)(S,{variables:{inviteCode:o},children:o=>{var r,s;const d=null===(r=o.v3GetInviteCodeQuery)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.sender,{firstName:c,imageMediumUrl:u,username:p}=null!=d?d:Object.freeze({});return c&&p?(e&&(e.current=c),t?(0,h.jsx)(g,{inviter:{firstName:c,imageMediumUrl:u,username:p},socialContextBannerStyle:null!=l?l:{isDismissible:!0,shouldShowSignupUpsellText:!0},setShouldShowSocialUpsellBanner:i}):(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)"}},marginStart:-2,paddingX:2,marginEnd:-2,children:(0,h.jsx)(x,{inviter:{firstName:c,imageMediumUrl:u,username:p},isStoryPin:!!n})})):null}}):null})})}},493876:(e,t,n)=>{n.d(t,{E:()=>f,Z:()=>k});var i=n(702664),a=n(883119),o=n(550140),r=n(536042),l=n(624417),s=n(245410),d=n(599226),c=n(860438),u=n(98736),p=n(63262),h=n(549201),m=n(369050),g=n(199999),_=n(260070),v=n(619277),y=n(785893);const f=({action:e,isAuthenticated:t})=>(0,u.My)(`mweb_${e}.closeup.is_auth_${String(t)}`),b=(e,t,n,i)=>{n&&e((0,_.Cp)()),t||i(!0),setTimeout((()=>{n||e((0,_.FK)()),t&&i(!1)}),3e3)},x=(e,t,n,i,r)=>{i((({hideToast:i})=>(0,y.jsx)(a.xu,{width:"tablet"!==e?"90%":void 0,dangerouslySetInlineStyle:{__style:{marginRight:"tablet"!==e?"16.67%":void 0,marginTop:"enabled_toast_bottom"===r?.77*window.innerHeight:void 0}},children:(0,y.jsx)(o.ZP,{primaryAction:{accessibilityLabel:"View your profile",label:n.bt("", "View", "ContactItem.ConfirmationToast.buttonText", undefined, true)},duration:3e3,thumbnail:{image:(0,y.jsx)(a.Ee,{alt:"Pin image",naturalHeight:1,naturalWidth:1,src:t})},text:n.bt("", "Saved to profile", "unauthSaveToast.copy", undefined, true),onClick:()=>(0,u.My)("unauth.mweb.save_flow.v2.toast.click"),onHide:i,href:"/unauth-profile/"})})))};function k({embedSrc:e,embedType:t,images:n,pinId:a,isFromUnauthContextMenu:o,attributionLabel:y}){var k;const w=(0,g.a)(),{numUnauthSavedPins:S,setNumUnauthSavedPins:P}=(0,m.U)(),T=(0,i.useDispatch)(),I=(0,h.ZP)(),C=(0,d.Z)(),A=!!(a&&w&&w.unauthSavedPinsStore.isSaved(a)),{checkExperiment:E}=(0,s.F)(),{showToast:j}=(0,p.F9)(),{forceShowNavFooter:R,setForceShowNavFooter:D}=(0,m.U)(),L=null!==(k=(0,i.useSelector)((({session:e})=>e.shouldHideNavBar)))&&void 0!==k&&k,F=(0,r.ZP)();if(w&&a)return{isSaved:A,onSave:()=>{f({action:"save_click",isAuthenticated:!1});let i="save",r=!0;if("desktop"!==I){const{unauthSavedPinsStore:s}=w,d=!!s.pins.length;if(!o&&s.canSaveMore()){s.save({id:a,imageUrl:(0,l.Z)({images:n,embedSrc:e,embedType:t})}),r=!1,P(S+1);const i=E("mweb_unauth_save_flow_v2").group;E("unauth_mweb_tap_to_zoom_v2").anyEnabled||i.startsWith("enabled_toast")?x(I,(0,l.Z)({images:n,embedSrc:e,embedType:t}),F,j,i):"enabled_nav"===i&&b(T,R,L,D)}else T((0,_.QZ)(a)),i=d&&!o?"extended_save_out_of_quota":"save"}else c.Z.setItem(v.M8,a);r&&(C({attributionLabel:"extended_save_out_of_quota"===i?"click_save_button_with_max_unauth_saves":y||"click_save_button_on_closeup",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",mobileOptions:{headingType:i},desktopOptions:{modalType:"desktop"===I&&E("dweb_signup_to_login_modal").group.endsWith("save")?"login":"signup",modalOptions:{source:"saveButtonExp",container:"save"}}}),"desktop"===I&&(0,u.My)(`dweb.pin.save.click.${E("dweb_signup_to_login_modal").group}`))},onUnsave:()=>{S>=1&&P(S-1);const{unauthSavedPinsStore:e}=w;e.unsave(a),f({action:"unsave_click",isAuthenticated:!1}),"desktop"===I&&c.Z.removeItem(v.M8)}}}},507905:(e,t,n)=>{n.d(t,{Z:()=>d,t:()=>s});var i=n(667294),a=n(616550),o=n(98736),r=n(785893);const l=(0,i.createContext)({hide:()=>{},isHidden:!0,isScrolledToPins:!1,scrollToPins:()=>{}});function s({children:e,isEligible:t}){const[n,s]=(0,i.useState)(!t),[d,c]=(0,i.useState)(!1),{pathname:u}=(0,a.useLocation)();(0,i.useEffect)((()=>{s(!t)}),[u,t]);const p=(0,i.useCallback)((()=>{(0,o.My)("web_unification.expand_click.hide_drawer"),s(!0)}),[]),h=(0,i.useCallback)((e=>{c(!!e)}),[]),m=(0,i.useMemo)((()=>({isHidden:n,hide:p,isScrolledToPins:d,scrollToPins:h})),[n,p,d,h]);return(0,r.jsx)(l.Provider,{value:m,children:e})}const d=()=>(0,i.useContext)(l)},759937:(e,t,n)=>{n.d(t,{Z:()=>r});var i,a=n(167912);const o=void 0!==i?i:i=n(277334);const r=e=>function(e){var t,n,i,a,o,r,l,s,d,c,u,p,h,m,g,_,v,y,f,b,x,k,w,S,P,T,I;return{"60x60":{height:(null==e||null===(t=e.imageSpec_60x60)||void 0===t?void 0:t.height)||void 0,url:(null==e||null===(n=e.imageSpec_60x60)||void 0===n?void 0:n.url)||void 0,width:(null==e||null===(i=e.imageSpec_60x60)||void 0===i?void 0:i.width)||void 0},"136x136":{height:(null==e||null===(a=e.imageSpec_136x136)||void 0===a?void 0:a.height)||void 0,url:(null==e||null===(o=e.imageSpec_136x136)||void 0===o?void 0:o.url)||void 0,width:(null==e||null===(r=e.imageSpec_136x136)||void 0===r?void 0:r.width)||void 0},"170x":{height:(null==e||null===(l=e.imageSpec_170x)||void 0===l?void 0:l.height)||void 0,url:(null==e||null===(s=e.imageSpec_170x)||void 0===s?void 0:s.url)||void 0,width:(null==e||null===(d=e.imageSpec_170x)||void 0===d?void 0:d.width)||void 0},"236x":{height:(null==e||null===(c=e.imageSpec_236x)||void 0===c?void 0:c.height)||void 0,url:(null==e||null===(u=e.imageSpec_236x)||void 0===u?void 0:u.url)||void 0,width:(null==e||null===(p=e.imageSpec_236x)||void 0===p?void 0:p.width)||void 0},"474x":{height:(null==e||null===(h=e.imageSpec_474x)||void 0===h?void 0:h.height)||void 0,url:(null==e||null===(m=e.imageSpec_474x)||void 0===m?void 0:m.url)||void 0,width:(null==e||null===(g=e.imageSpec_474x)||void 0===g?void 0:g.width)||void 0},"564x":{height:(null==e||null===(_=e.imageSpec_564x)||void 0===_?void 0:_.height)||void 0,url:(null==e||null===(v=e.imageSpec_564x)||void 0===v?void 0:v.url)||void 0,width:(null==e||null===(y=e.imageSpec_564x)||void 0===y?void 0:y.width)||void 0},"736x":{height:(null==e||null===(f=e.imageSpec_736x)||void 0===f?void 0:f.height)||void 0,url:(null==e||null===(b=e.imageSpec_736x)||void 0===b?void 0:b.url)||void 0,width:(null==e||null===(x=e.imageSpec_736x)||void 0===x?void 0:x.width)||void 0},"600x315":{height:(null==e||null===(k=e.imageSpec_600x315)||void 0===k?void 0:k.height)||void 0,url:(null==e||null===(w=e.imageSpec_600x315)||void 0===w?void 0:w.url)||void 0,width:(null==e||null===(S=e.imageSpec_600x315)||void 0===S?void 0:S.width)||void 0},orig:{height:(null==e||null===(P=e.imageSpec_orig)||void 0===P?void 0:P.height)||void 0,url:(null==e||null===(T=e.imageSpec_orig)||void 0===T?void 0:T.url)||void 0,width:(null==e||null===(I=e.imageSpec_orig)||void 0===I?void 0:I.width)||void 0}}}((0,a.useFragment)(o,e))},455846:(e,t,n)=>{n.d(t,{Z:()=>ee});var i=n(667294),a=n(702664),o=n(167912),r=n(616550),l=n(442279),s=n(883119),d=n(496484),c=n(123228),u=n(536042),p=n(630089),h=n(898252),m=n(315219),g=n(819079),_=n(549201),v=n(272109),y=n(802071),f=n(76008),b=n(738318),x=n(219236),k=n(411132),w=n(88622),S=n(785893);const P=({action:e,text:t})=>(0,S.jsx)(s.iP,{onTap:e,children:(0,S.jsx)(s.xv,{weight:"bold",children:t})});var T=n(150875),I=n(550140),C=n(63262);const A="spam",E="nudity",j="self-harm",R="hate-speech",D="attacks",L="graphic-violence",F="medical-misinformation",M=({onReasonSelect:e})=>{const t=(0,u.ZP)();return(e=>[{key:A,title:e.bt("", "Spam", "Report comment option", undefined, true),subtitle:e.bt("", "Misleading or repetitive posts", "Report comment option description", undefined, true)},{key:E,title:e.bt("", "Sexual commentary", "Report comment option", undefined, true),subtitle:e.bt("", "Sexually explicit content", "Report comment option description", undefined, true)},{key:j,title:e.bt("", "Self-harm", "Report comment option", undefined, true),subtitle:e.bt("", "Eating disorders, cutting, suicide, drugs", "Report comment option description", undefined, true)},{key:F,title:e.bt("", "Medical misinformation", "Report comment option", undefined, true),subtitle:e.bt("", "Harmful or misleading content about health and safety", "Report comment option description", undefined, true)},{key:R,title:e.bt("", "Hate speech", "Report comment option", undefined, true),subtitle:e.bt("", "Prejudice or attacks directed at protected groups", "Report comment option description", undefined, true)},{key:D,title:e.bt("", "Harassment or privacy violations", "Report comment option", undefined, true),subtitle:e.bt("", "Blackmail, personal attacks or bullying", "Report comment option description", undefined, true)},{key:L,title:e.bt("", "Graphic violence", "Report comment option", undefined, true),subtitle:e.bt("", "Threats or promotion of violence", "Report comment option description", undefined, true)}])(t).map((({key:n,title:i,subtitle:a})=>(0,S.jsx)(s.iP,{onTap:e(n),children:(0,S.jsxs)(s.xu,{paddingY:3,display:"flex",justifyContent:"between",children:[(0,S.jsxs)(s.xu,{children:[(0,S.jsx)(s.X6,{size:"400",children:i}),(0,S.jsx)(s.xv,{size:"300",color:"subtle",children:a})]}),(0,S.jsx)(s.JO,{icon:"arrow-forward",accessibilityLabel:t.bt("", "Arrow Forward", "reportPinReasonSelection.openUrl.accessibilityLabel", undefined, true),color:"default"})]})},n)))},O=e=>{const t="policies";switch(e){case A:return[A,"spamPin"];case E:return[t,E];case j:return[t,"hurtfulContent","selfHarm"];case R:return[t,"hurtfulContent","hateSpeech"];case D:return[t,"hurtfulContent","harassingMeOrMyChild"];case L:return[t,"gore"];default:return[]}},z=({commentId:e,onDismiss:t,reason:n})=>{const a=(0,u.ZP)(),{flagAggregatedComment:o,aggregatedCommentHidden:r}=(0,f.nf)(),{showToast:l}=(0,C.F9)(),[d,c]=(0,i.useState)(!1),{title:p,nonRemovals:h,removals:m}=(e=>({[A]:{title:e.bt("", "Report spam?", "Confirm report comment reason title", undefined, true),removals:[e.bt("", "Misleading content or behavior", "Example of spam", undefined, true),e.bt("", "Repetitive posts", "Example of spam", undefined, true),e.bt("", "Unsolicited commercial messages", "Example of spam", undefined, true)]},[E]:{title:e.bt("", "Report a sexual comment?", "Confirm report comment reason title", undefined, true),removals:[e.bt("", "Graphic sexual descriptions", "Example of sexual comment", undefined, true),e.bt("", "Unsolicited sexual remarks", "Example of sexual comment", undefined, true),e.bt("", "Links to sexual content", "Example of sexual comment", undefined, true)]},[j]:{title:e.bt("", "Report this comment?", "Confirm report comment reason title", undefined, true),removals:[e.bt("", "Encouragement of self-injury, suicide, eating disorders and substance abuse", "Example of self-injury", undefined, true),e.bt("", "Buying or selling drugs", "Example of self-injury", undefined, true),e.bt("", "Jokes about self-harm", "Example of self-injury", undefined, true)],notes:e.bt("", "We may send support resources to the person who left this comment.", "Note on further actions Pinterest may take in the case of self-harm content.", undefined, true)},[F]:{title:e.bt("", "Report medical misinformation?", "Confirm report comment reason title", undefined, true),removals:[e.bt("", "False cures for cancer or other chronic or terminal illnesses", "Example of medical misinformation", undefined, true),e.bt("", "Anti-vaccination advice", "Example of medical misinformation", undefined, true)],nonRemovals:[e.bt("", "Diet advice, including cleanses and supplements that can boost the immune system", "Example of a comment we will not remove", undefined, true),e.bt("", "Teas, oils and herbs proposed for aromatic and sleep quality", "Example of a comment we will not remove", undefined, true)]},[R]:{title:e.bt("", "Report hateful speech?", "Confirm report comment reason title", undefined, true),removals:[e.bt("", "Attacks or slurs directed at protected groups", "Example of hate speech", undefined, true),e.bt("", "Support for hate groups and their messages", "Example of hate speech", undefined, true),e.bt("", "Denial of someones gender or sexual identity", "Example of hate speech", undefined, true)]},[D]:{title:e.bt("", "Report harassment?", "Confirm report comment reason title", undefined, true),removals:[e.bt("", "Bullying", "Example of harassment", undefined, true),e.bt("", "Profanity directed at individuals", "Example of harassment", undefined, true),e.bt("", "Personally identifiable information (even if shared voluntarily)", "Example of harassment", undefined, true)]},[L]:{title:e.bt("", "Report graphic violence?", "Confirm report comment reason title", undefined, true),removals:[e.bt("", "Glorification or promotion of violence", "Example of violence", undefined, true),e.bt("", "Threats of harm", "Example of violence", undefined, true)]}}))(a)[n];return(0,S.jsxs)(i.Fragment,{children:[(0,S.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,S.jsx)(s.xu,{paddingY:4,children:(0,S.jsx)(s.X6,{align:"center",children:p})}),(0,S.jsxs)(s.xu,{paddingY:4,children:[(0,S.jsx)(s.xv,{children:"We remove things such as"}),(0,S.jsx)(s.xu,{paddingY:2,children:m.map((e=>(0,S.jsxs)(s.xv,{children:[" ",e]},e)))})]}),h&&(0,S.jsxs)(s.xu,{paddingY:4,children:[(0,S.jsx)(s.xv,{children:"We don't remove things like"}),(0,S.jsx)(s.xu,{paddingY:2,children:h.map((e=>(0,S.jsxs)(s.xv,{children:[" ",e]},e)))})]}),(0,S.jsx)(s.xu,{alignSelf:"center",marginTop:3,children:(0,S.jsx)(s.zx,{color:"red",onClick:()=>{r(e),o({commentId:e,reason:n,detailedReasons:O(n)}).then((()=>{l((({hideToast:e})=>(0,S.jsx)(I.ZP,{text:a.bt(" Pinterest", "Thanks! Your feedback helps us improve Pinterest.", "reportPinReasonDetail.submit.toast", undefined, true),onHide:e}))),setTimeout((()=>{t()}),3500)}))},size:"lg",text:a.bt("", "Report", "reportCommentConfirmation.button.report", undefined, true)})})]}),d&&(0,S.jsx)(I.ZP,{onHide:(g=!1,()=>{c(g)}),text:a.bt(" Pinterest", "Thanks! Your feedback helps us improve Pinterest", "comment.report.confirmationToast", undefined, true),duration:3500})]});var g},Z=({commentId:e,isModalOpen:t,onDismiss:n})=>{const a=(0,u.ZP)(),[o,r]=(0,i.useState)(void 0);(0,i.useEffect)((()=>{t&&r(void 0)}),[t]);if(!e)return null;const{windowHeight:l}=(0,T.Z)();return(0,S.jsx)(w.ZP,{mobileAccessibilityCloseIconLabel:a.bt("", "Close", "commentThreadModal.close", undefined, true),accessibilityModalLabel:"",heading:a.bt("", "Report Comment", "reportComment.heading", undefined, true),isOpen:t,mobileIsSlideUp:!0,onDismiss:n,children:(0,S.jsx)(s.xu,{height:l-90,paddingX:5,paddingY:3,children:o?(0,S.jsx)(z,{commentId:e,onDismiss:n,reason:o}):(0,S.jsx)(M,{onReasonSelect:e=>()=>{r(e)}})})})};var N=n(446191);const U=({author:e,commentId:t,isMenuOpen:n,isViewingOwnComment:o,onDelete:r,onDismiss:l,openEditComposer:d})=>{const c=(0,u.ZP)(),{isAuth:p}=(0,y.Z)(),h=(0,a.useDispatch)(),{aggregatedCommentsHiddenForUser:m}=(0,f.nf)(),[g,_]=(0,i.useState)(!1);return(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)(w.ZP,{mobileAccessibilityCloseIconLabel:c.bt("", "Close", "commentOverflowMenu.close", undefined, true),accessibilityModalLabel:"",isOpen:n,mobileIsSlideUp:!0,onDismiss:l,children:(0,S.jsx)(s.xu,{padding:3,children:(0,S.jsx)(s.kC,{direction:"column",gap:{row:0,column:4},children:p?(0,S.jsx)(i.Fragment,{children:o?(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)(P,{action:d,text:c.bt("", "Edit", "commentOverflowMenu.option.edit", undefined, true)}),(0,S.jsx)(P,{action:r(t),text:c.bt("", "Delete", "commentOverflowMenu.option.delete", undefined, true)})]}):(0,S.jsxs)(s.kC,{direction:"column",gap:4,children:[(0,S.jsx)(P,{action:()=>{_(!0)},text:c.bt("", "Report", "commentOverflowMenu.option.report", undefined, true)}),(0,S.jsx)(k.Z,{onBlock:()=>{const{id:t}=e;h((0,N.Ge)({id:t,blockSource:"comment",blockContext:t})),m(t)},onBlockCallback:l,size:"300",user:e})]})}):(0,S.jsx)(s.rU,{href:"https://policy.pinterest.com/de/netzdg/",target:"blank",underline:"none",children:(0,S.jsx)(s.xv,{weight:"bold",children:c.bt("(NetzDG) ", "Report comment for NetzDG", "commentOverflowMenu.option.reportForNetzDG", undefined, true)})})})})}),(0,S.jsx)(Z,{commentId:t,isModalOpen:g,onDismiss:()=>{_(!1),l()}})]})};var B=n(726304),K=n(638136),V=n(690108);var H,G=n(491452),W=n(525104),$=n(712968);const q=(0,l.P1)(((e,t,n)=>n),(({feeds:e},t)=>e[`unified-comments:${t||""}`]),(({triedits:e})=>e),((e,t,n,i)=>i),((e,t,n,i)=>(null==t?void 0:t.map((({id:t,type:a})=>{var o,r;const l="aggregatedcomment"===a.toLowerCase()?e[t]:n[t];if(!l)return;const s="string"==typeof l.user?null!==(o=i[l.user])&&void 0!==o?o:{}:null!==(r=l.user)&&void 0!==r?r:{};return{...l,tagged_users:(l.tagged_users||[]).map((e=>{var t;return null!==(t=i[e.id])&&void 0!==t?t:{}})),user:null!=s?s:{}}})).filter((e=>e)))||[])),Y=void 0!==H?H:H=n(371446),J=({aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:n,commentsDisabled:o,disabled:l=!1,hasComments:h,isComposingNewComment:k=!1,isReadOnly:w,pinId:P,isVideo:T,pinnerId:I,setIsComposingNewComment:C=(()=>{}),storyPinDataId:A,viewParameter:E})=>{const{comment_id:j}=(0,r.useParams)(),R=(0,u.ZP)(),D=(0,_.HG)(),L=(0,y.Z)(),{isLoaded:F}=(0,g.Z)(h?{name:"UnifiedCommentsResource",options:{aggregated_pin_id:e,comment_featured_ids:j,page_size:D?10:25,redux_normalize_feed:!0}}:null),{removeUnauthCommentPinId:M,unauthCommentPinId:O}=(0,B.C)(),z=(0,f.lV)(),{toggleAggregatedCommentHelpful:Z,toggleAggregatedCommentLike:N,updateAggregatedComment:H}=(0,f.nf)(),W=(0,K.Z)(),Y=function(){const{aggregatedCommentDeleted:e,updateCommentCount:t}=(0,f.nf)();return async({commentId:n,parentId:i,isReply:a})=>{V.Z.create("AggregatedCommentResource",{commentId:n,pinId:a?void 0:i}).callDelete().then((()=>{e(i,n),a&&t(i,-1)}))}}(),J=(0,$.kW)(),X=(0,a.useSelector)((t=>q(t,e,z,J))),[Q,ee]=(0,i.useState)(!1),[te,ne]=(0,i.useState)(void 0),[ie,ae]=(0,i.useState)(void 0),[oe,re]=(0,i.useState)(""),[le,se]=(0,i.useState)(void 0),[de,ce]=(0,i.useState)(void 0),[ue,pe]=(0,i.useState)(c.A9.NONE),[he,me]=(0,i.useState)(void 0),ge=L.isAuth?L.id:null;(0,v.Z)((()=>{!D&&L.isAuth&&O&&P&&O===P&&(re(R.bt("", "Add comment", "commentComposer.heading.addComment", undefined, true)),C(!0),M())}));let _e="",ve=[];"aggregatedcomment"===(null==le?void 0:le.parentType)?(_e=`@${le.user.username} `,ve=[{length:le.user.username.length+1,object_id:le.user.id,offset:0,tag_type:G.XU}]):de&&(_e=de.text,ve=de.tags);const ye=()=>{C&&C(!1),se(void 0),ce(void 0),re("")},fe=()=>{ee(!1)};return(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)(s.xu,{display:"flex",marginTop:D?6:0,width:"100%",children:(0,S.jsx)(d.Z,{comments:X,commentsDisabled:o,isDesktop:D,isReadOnly:w,isLoaded:F||!h,openOverflowMenu:e=>{ee(!0),ne(e.id),ae(e.user)},toggleReplyComposer:(e,t,n)=>{if(e){const{user:{first_name:i,full_name:a,username:o}}=e;re((0,p.nk)(R.bt(" {{ name }}", "Reply to {{ name }}", "commentComposer.heading.replyTo", undefined, true),{name:i||a||o}).join("")),e.parentId=t,e.parentType=n}se(e)},parentId:null!=e?e:"",parentType:b.o.pin,toggleHelpful:(e,t)=>()=>{Z({aggregatedCommentId:e,isMarkedHelpfulByMe:t})},toggleLike:(e,t)=>()=>{N({aggregatedCommentId:e,isLikedByMe:t})},userAvatarSize:"sm",aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:n,pinId:P,isVideo:T,storyPinDataId:A,pinnerId:I,showReactionListForComment:me,reactionListCommentId:he,viewParameter:E})}),!D&&(0,S.jsx)(x.Z,{commentWarningModalState:ue,defaultText:_e,dismissCommentWarningModal:()=>{pe(c.A9.NONE)},heading:oe,initialMentions:ve,isModalOpen:!(!k&&!le&&!de||l),onDismiss:ye,onPost:async(t,n,i)=>{let a;if(de)a=H({commentId:de.id,force:i,text:t,tags:"[]"});else if(P){const o="aggregatedcomment"===(null==le?void 0:le.parentType),r=o?null==le?void 0:le.parentId:(null==le?void 0:le.id)||e;r&&(a=W({force:i,parentId:r,pinId:P,text:t,tags:JSON.stringify(n),isReply:!!le,replyToCommentId:o?null==le?void 0:le.id:null}))}if(!a)return!0;try{await a,ye(),fe()}catch(o){return[m.ky,m.LJ].includes(o.api_error_code)&&pe(o.api_error_code===m.ky?c.A9.WARNING:c.A9.BLOCK),!1}return!0}}),te&&!!ie&&(0,S.jsx)(U,{author:ie,commentId:te,isMenuOpen:Q,isViewingOwnComment:ie.id===ge,onDelete:t=>()=>{const n=(null==le?void 0:le.id)||e;try{n&&Y({commentId:t,parentId:n,isReply:!!le}).then(fe)}catch(i){}},onDismiss:fe,openEditComposer:()=>{const e=z[null!=te?te:""];e&&(re(R.bt("", "Edit comment", "commentComposer.heading.editComment", undefined, true)),ce(e))}})]})};function X({graphqlRef:e,...t}){var n,i,a,r,l,s,d;const c=(0,o.useFragment)(Y,e);return(0,S.jsx)(J,{aggregatedPinDataId:null===(n=c.aggregatedPinData)||void 0===n?void 0:n.entityId,closeupAttributionId:null===(i=c.closeupAttribution)||void 0===i?void 0:i.entityId,closeupAttributionUsername:null===(a=c.closeupAttribution)||void 0===a?void 0:a.username,commentsDisabled:c.commentsDisabled,hasComments:((null===(r=c.aggregatedPinData)||void 0===r?void 0:r.commentCount)||0)>0&&!c.commentsDisabled,isVideo:Boolean(null===(l=c.videos)||void 0===l?void 0:l.videoList),pinId:c.entityId,pinnerId:null===(s=c.pinner)||void 0===s?void 0:s.entityId,storyPinDataId:null===(d=c.storyPinData)||void 0===d?void 0:d.entityId,graphqlRef:c,...t})}function Q(e){var t,n,i,a,o,r;const l=(0,W.S6)()(e.pinId),s=null==l||null===(t=l.aggregated_pin_data)||void 0===t?void 0:t.id;return(0,S.jsx)(J,{aggregatedPinDataId:s,closeupAttributionId:null==l||null===(n=l.closeup_attribution)||void 0===n?void 0:n.id,closeupAttributionUsername:null==l||null===(i=l.closeup_attribution)||void 0===i?void 0:i.username,commentsDisabled:null==l?void 0:l.comments_disabled,hasComments:((null==l||null===(a=l.aggregated_pin_data)||void 0===a?void 0:a.comment_count)||0)>0&&!(null!=l&&l.comments_disabled),isVideo:(0,h.iR)(null==l?void 0:l.videos),pinId:null==l?void 0:l.id,pinnerId:null==l||null===(o=l.pinner)||void 0===o?void 0:o.id,storyPinDataId:null==l||null===(r=l.story_pin_data)||void 0===r?void 0:r.id,...e})}function ee({graphqlRef:e,...t}){return e?(0,S.jsx)(X,{graphqlRef:e,...t}):(0,S.jsx)(Q,{...t})}},213352:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var i,a=n(667294),o=n(167912),r=n(616550),l=n(883119),s=n(563962),d=n(377234),c=n(536042),u=n(846226),p=n(98736),h=n(802071),m=n(251951),g=n(123228),_=n(394366),v=n(88622),y=n(898252),f=n(738318),b=n(455846),x=n(525104),k=n(785893);const w=void 0!==i?i:i=n(553703),S=({commentsDisabled:e,graphqlRef:t,isModalOpen:n,onDismiss:i,pinId:o,viewParameter:r})=>{const s=(0,c.ZP)(),{isAuth:d}=(0,h.Z)(),[u,p]=(0,a.useState)(!1);return(0,k.jsx)(v.ZP,{mobileAccessibilityCloseIconLabel:s.bt("", "Close", "commentThreadModal.close", undefined, true),accessibilityModalLabel:"",heading:s.bt("", "Comments", "commentThreadModal.heading", undefined, true),isOpen:n,mobileIsSlideUp:!0,onDismiss:i,children:(0,k.jsxs)(l.kC,{direction:"column",alignContent:"stretch",children:[(0,k.jsx)(l.xu,{display:"flex",height:"60vh",paddingX:4,maxHeight:640,minHeight:128,overflow:"scrollY",children:(0,k.jsx)(b.Z,{graphqlRef:t,isComposingNewComment:u,isReadOnly:!d,pinId:o,setIsComposingNewComment:p,viewParameter:r})}),!e&&d&&(0,k.jsx)(l.xu,{paddingX:4,paddingY:2,children:(0,k.jsx)(_.Z,{commentWarningModalState:g.A9.NONE,dismissCommentWarningModal:()=>{},objectType:f.o.pin,onEnter:()=>{p(!0)},statusType:"textStaticDisplay",viewParameter:r})})]})})};function P({graphqlRef:e,...t}){var n,i,a,r,l,s;const d=(0,o.useFragment)(w,e);return(0,k.jsx)(S,{...t,aggregatedPinDataId:null===(n=d.aggregatedPinData)||void 0===n?void 0:n.entityId,closeupAttributionId:null===(i=d.closeupAttribution)||void 0===i?void 0:i.entityId,closeupAttributionUsername:null===(a=d.closeupAttribution)||void 0===a?void 0:a.username,commentsDisabled:d.commentsDisabled,isVideo:Boolean(null===(r=d.videos)||void 0===r?void 0:r.videoList),pinnerId:null===(l=d.pinner)||void 0===l?void 0:l.entityId,storyPinDataId:null===(s=d.storyPinData)||void 0===s?void 0:s.entityId,graphqlRef:d})}function T(e){var t,n,i,a,o;const r=(0,x.S6)()(e.pinId);return(0,k.jsx)(S,{...e,aggregatedPinDataId:null==r||null===(t=r.aggregated_pin_data)||void 0===t?void 0:t.id,closeupAttributionId:null==r||null===(n=r.closeup_attribution)||void 0===n?void 0:n.id,closeupAttributionUsername:null==r||null===(i=r.closeup_attribution)||void 0===i?void 0:i.username,commentsDisabled:null==r?void 0:r.comments_disabled,isVideo:(0,y.iR)(null==r?void 0:r.videos),pinnerId:null==r||null===(a=r.pinner)||void 0===a?void 0:a.id,storyPinDataId:null==r||null===(o=r.story_pin_data)||void 0===o?void 0:o.id})}function I({graphqlRef:e,...t}){return e?(0,k.jsx)(P,{...t,graphqlRef:e}):(0,k.jsx)(T,{...t})}var C,A=n(726304),E=n(196039);const j=void 0!==C?C:C=n(249117),R=({graphqlRef:e,pinId:t,storyPinDataId:n,viewParameter:i})=>{const o=(0,d.vs)(),g=(0,c.ZP)(),_=(0,s.Z)(),{comment_id:v}=(0,r.useParams)(),{unauthCommentPinId:y}=(0,A.C)(),{shouldRenderAsStoryPin:f}=(0,m.R)(),{isAuth:b}=(0,h.Z)(),[x,w]=(0,a.useState)(!!v||b&&!!y&&!!t&&y===t);return(0,k.jsx)(a.Fragment,{children:(0,k.jsxs)(u.Z,{id:"comment-button",children:[(0,k.jsx)(l.iP,{accessibilityLabel:g.bt("", "comments", "closeup.storyPin.actionBar.commentThread", undefined, true),onTap:()=>{b||(0,p.My)("pcons.comment_button_clicked"),_({event_type:102,element:2,view_type:3}),w(!0)},children:(0,k.jsx)(l.xu,{minHeight:E.CR,minWidth:E.CR,"data-test-id":"comment-button-container",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:'url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyMiAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMS4wMDAyIDJDNS45Mzc2NiAyIDEuODMzNSA2LjEwNDE3IDEuODMzNSAxMS4xNjY3QzEuODMzNSAxMy4zNjMzIDIuNjA4NSAxNS4zNzgzIDMuODk2ODMgMTYuOTU3NUwyLjY4MDE2IDIxLjQ4MDhDMi41OTEgMjEuODM3NSAyLjk3MTgzIDIyLjEyNTggMy4yOTEgMjEuOTQ0Mkw3LjUyNTE2IDE5LjY0NzVDOC41OTc2NiAyMC4wODY3IDkuNzY5MzMgMjAuMzMzMyAxMS4wMDAyIDIwLjMzMzNDMTYuMDYyNyAyMC4zMzMzIDIwLjE2NjggMTYuMjI5MiAyMC4xNjY4IDExLjE2NjdDMjAuMTY2OCA2LjEwNDE3IDE2LjA2MjcgMiAxMS4wMDAyIDJaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjMiLz4KPC9zdmc+Cg==")',WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",background:n&&f||o?"white":"black"}}})}),x&&(0,k.jsx)(I,{isModalOpen:!0,onDismiss:()=>{w(!1)},graphqlRef:e,pinId:t,viewParameter:i})]})})},D=({graphqlRef:e,...t})=>{var n;const i=(0,o.useFragment)(j,e);return(0,k.jsx)(R,{graphqlRef:i,storyPinDataId:null===(n=i.storyPinData)||void 0===n?void 0:n.entityId,...t})},L=e=>{var t;const n=(0,x.S6)()(e.pinId);return(0,k.jsx)(R,{storyPinDataId:null==n||null===(t=n.story_pin_data)||void 0===t?void 0:t.id,...e})};function F({graphqlRef:e,...t}){return e?(0,k.jsx)(D,{graphqlRef:e,...t}):(0,k.jsx)(L,{...t})}},726304:(e,t,n)=>{n.d(t,{C:()=>l,p:()=>s});var i=n(667294),a=n(583592),o=n(785893);const{Provider:r,useHook:l}=(0,a.Z)("Session");function s({children:e}){const[t,n]=(0,i.useState)(void 0),a=(0,i.useCallback)((()=>n(void 0)),[]),l=(0,i.useMemo)((()=>({unauthCommentPinId:t,setUnauthCommentPinId:n,removeUnauthCommentPinId:a})),[t,a]);return(0,o.jsx)(r,{value:l,children:e})}},219236:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(883119),o=n(88622),r=n(536042),l=n(643183),s=n(785893);const d=(0,i.lazy)((()=>Promise.all([n.e(72586),n.e(46888),n.e(17932)]).then(n.bind(n,417932)))),c=({commentWarningModalState:e,defaultText:t,dismissCommentWarningModal:n,heading:c,initialMentions:u,isModalOpen:p,onDismiss:h,onPost:m,placeholder:g})=>{const _=(0,r.ZP)(),[v,y]=(0,i.useState)(!1),f=(0,s.jsx)(a.xv,{align:"center",size:"300",weight:"bold",children:c});return(0,s.jsx)(o.ZP,{mobileAccessibilityCloseIconLabel:_.bt("", "Close", "commentComposer.close", undefined, true),accessibilityModalLabel:"",heading:f,mobileIsFullscreen:v,isOpen:p,mobileIsSlideUp:!0,onDismiss:()=>{h(),y(!1)},children:(0,s.jsx)(a.xu,{padding:3,children:(0,s.jsx)(l.Z,{children:(0,s.jsx)(d,{defaultText:t,dismissCommentWarningModal:n,initialMentions:u,onPost:(e,t,n)=>()=>{m(e,t,n)},placeholder:g,toggleFullScreen:e=>{y(e)},warningModalState:e})})})})}},638136:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(702664),a=n(690108),o=n(76008),r=n(541268),l=n(274796);function s(){const e=(0,i.useDispatch)(),{aggregatedCommentCreated:t,updateCommentCount:n}=(0,o.nf)();return async({force:i,parentId:o,pinId:s,text:d,tags:c,isReply:u,replyToCommentId:p})=>{const h={force:i,objectId:o,pinId:s,tags:c,text:d,replyToCommentId:p},m=u?"AggregatedCommentReplyResource":"AggregatedCommentResource";return a.Z.create(m,h).callCreate().then((i=>{const a=i.resource_response.data;t(o,a),e((0,r.vX)({feedType:u?l.Z.AGGREGATED_COMMENT_REPLIES:l.Z.UNIFIED_COMMENTS,feedId:o,itemIds:[a.id],itemType:a.type})),u&&n(o,1)}))}}},425118:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),a=n(240684),o=n(883119),r=n(536042),l=n(28630),s=n(589665),d=n(785893);const c=new o.Ry(s.fe),u=new o.H3([c]),p=new o.H3([u]),h={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:6},m={width:540,height:318},g={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:4},_={width:320,height:215},v=(0,a.ZP)({resolved:{},chunkName:()=>"video-VideoWrapper",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(67631),n.e(3875)]).then(n.bind(n,473383)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 473383}});function y(e){const{displayData:t,handleComplete:n,handleDismiss:a,isMobile:r}=e,{video:s,image:c,title:u,body:p,completeButton:m,dismissButton:_}=t,v=r?g:h,y=r?"center":"start",b=(0,l.Z)({url:m.url})?"nofollow":"none";return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(f,{isMobile:r,image:c,video:s,handleDismiss:a,title:u}),(0,d.jsxs)(o.xu,{margin:v.gestaltModalMargin,justifyContent:"center",display:"flex",direction:"column",children:[(0,d.jsx)(o.X6,{align:y,children:u}),(0,d.jsx)(o.xu,{marginTop:2,marginBottom:4,children:(0,d.jsx)(o.xv,{align:y,children:p})}),(0,d.jsxs)(o.xu,{margin:-1,display:"flex",justifyContent:r?"center":"end",dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}},children:[_&&!_.hideDismissButton&&(0,d.jsx)(o.xu,{padding:1,fit:!0,minWidth:130,flex:r?"grow":"none",children:(0,d.jsx)(o.zx,{fullWidth:r,color:"gray",size:"lg",text:_.text,onClick:a})}),m&&(0,d.jsx)(o.xu,{padding:1,fit:!0,minWidth:130,flex:r?"grow":"none",children:m.url?(0,d.jsx)(o.zx,{fullWidth:r,color:"red",size:"lg",text:m.text,onClick:()=>n(),role:"link",href:m.url,rel:b}):(0,d.jsx)(o.zx,{fullWidth:r,color:"red",size:"lg",text:m.text,onClick:()=>n()})})]})]})]})}const f=e=>{var t;const{isMobile:n,image:i,video:a,handleDismiss:l,title:s}=e,c=(0,r.ZP)(),u=n?g:h,y=n?_:m,f=(0,d.jsx)(o.xu,{margin:u.closeButtonMargin,display:"flex",justifyContent:n?"start":"end",position:"absolute",zIndex:p,width:y.width-2*u.modalMargin,children:(0,d.jsx)(o.hU,{accessibilityLabel:c.bt("", "Dismiss", "experiences.ExperienceModalWindow.modalDismissIconButton", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:l,size:"sm"})}),b=i?i.imageAlt:s,x=i?i.url:null==a||null===(t=a.metadata)||void 0===t?void 0:t.thumbnail,k=x&&(0,d.jsx)(o.Ee,{alt:b||"",color:"rgb(111, 91, 77)",naturalHeight:y.height,naturalWidth:y.width,src:x,fit:"cover"});return(0,d.jsxs)(o.xu,{top:!0,left:!0,bottom:!0,right:!0,width:y.width,height:y.height,overflow:"hidden",children:[f,i&&k,a&&(0,d.jsx)(v,{fallback:k,aspectRatio:y.width/y.height,objectFit:"cover",captions:"",controls:!1,loop:!0,isAutoPlay:!0,onPlay:()=>{},onPlayError:()=>{},playing:!0,playsInline:!0,poster:(null==i?void 0:i.url)||a.metadata.thumbnail,src:a.url,volume:0})]})}},787234:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(33476),a=n(667294),o=n(883119),r=n(874261),l=n(279409),s=n(150875),d=n(716793),c=n(377234),u=n(599551),p=n(250307),h=n(28630),m=n(785893);const g={lightMode:{backgroundColor:"#E60023",color:"#FFFFFF"},darkMode:{backgroundColor:"#E60023",color:"#FFFFFF"}},_={lightMode:{backgroundColor:"#EFEFEF",color:"#111111"},darkMode:{backgroundColor:"#292929",color:"#EFEFEF"}},v=({color:e,isPrimary:t,shape:n,text:i,textColor:a})=>{const r=(t?g:_)[(0,c.Yc)()?"darkMode":"lightMode"];return(0,m.jsx)(o.xv,{align:"center",weight:"bold",children:(0,m.jsx)("div",{className:t?"banner-button-primary":"banner-button-secondary",style:{backgroundColor:e||r.backgroundColor,borderRadius:"pill"===n?"24px":"4px",color:a||r.color,padding:"10px 14px"},children:i})})},y=({external:e,onTouch:t,pressState:n,to:i,accessibilityLabel:a,color:r,isPrimary:l,textColor:s,minHeight:d=40,shape:c,text:g})=>{const _=(0,p.Z)(i),y=(0,u.Z)({externalData:{dangerouslyForceOffsiteUrl:e},href:_});return(0,m.jsx)(o.xu,{"aria-label":a,minHeight:d,children:_?(0,m.jsx)(o.iP,{role:"link",onTap:({event:e})=>{null==t||t(e),e.defaultPrevented||y({event:e})},href:_,target:"blank",rel:(0,h.Z)({url:_})?"nofollow":"none",tapStyle:n||"none",rounding:"pill"===c?"pill":2,children:(0,m.jsx)(v,{color:r,isPrimary:l,shape:c,text:g,textColor:s})}):(0,m.jsx)(o.iP,{onTap:({event:e})=>null==t?void 0:t(e),tapStyle:n||"none",rounding:"pill"===c?"pill":2,children:(0,m.jsx)(v,{color:r,isPrimary:l,shape:c,text:g,textColor:s})})})};function f(e){return e.startsWith("https://")||e.startsWith("http://")}const b=function({experience:e,onComplete:t,onDismiss:n}){const{display_data:i={},experience_id:c,placement_id:u}=e||{},p=(0,a.useMemo)((()=>(0,l.Z)(d.Z)(i)),[i]),{backgroundColorNarrowMweb:h,backgroundColorWideMweb:g,backgroundImageNarrow:_,backgroundImageWide:v,button1ColorNarrowMweb:b,button1ColorWideMweb:x,button1TextColorNarrowMweb:k,button1TextColorWideMweb:w,button1Text:S,button1Uri:P,button2ColorNarrowMweb:T,button2ColorWideMweb:I,button2TextColorNarrowMweb:C,button2TextColorWideMweb:A,button2Text:E,button2Uri:j,completeButtonAction:R,coverImage:D,detailedTextWithLinks:L,iconImage:F,layoutNarrow:M,layoutWide:O,links:z,linkTitles:Z,primaryColorNarrowMweb:N,primaryColorWideMweb:U,titleText:B}=p,{windowWidth:K}=(0,s.Z)(),V=K<=480,H=V?M:O,G=!V&&3!==H,W=V?h:g,$=V?b:x,q=V?k:w,Y=V?T:I,J=V?C:A,X=V?N:U,{altText:Q,uri:ee}=(V?_:v)||{},{altText:te,uri:ne}=D||{},{altText:ie,uri:ae}=F||{},oe=V&&2===H||!V&&2===H,re=V?"96px":"48px",le=V&&3===H,se=S&&(0,m.jsx)(o.xu,{marginEnd:2,children:(0,m.jsx)(y,{accessibilityLabel:S,color:$,external:P?f(P):void 0,onTouch:()=>{!P&&u&&c&&n&&n()},shape:"pill",text:S,textColor:q,to:P})}),de=E&&(0,m.jsx)(y,{accessibilityLabel:E,color:Y,external:j?f(j):void 0,isPrimary:!0,onTouch:()=>{return e=R,void(t&&t(e));var e},shape:"pill",text:E,textColor:J,to:j}),ce=z.reduce(((e,t,n)=>{const i=`<a href="${t}" ${f(t)?'rel="noreferrer noopener" target="_blank"':""}>${Z[n]}</a>`;return e.replace(`{${n}}`,i)}),L),ue={backgroundColor:W,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},pe={backgroundImage:!ee||oe||le?void 0:`url(${ee})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"};return(0,m.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:ue},marginBottom:1,rounding:4,children:(0,m.jsxs)(o.zd,{rounding:4,children:[le&&ne&&(0,m.jsx)(o.kC,{alignItems:"start",height:128,justifyContent:"center",width:"100%",children:(0,m.jsx)(o.Ee,{alt:te||"cover image",fit:"cover",naturalHeight:1,naturalWidth:3,src:ne})}),(0,m.jsxs)(o.xu,{"aria-label":Q,alignItems:"center",dangerouslySetInlineStyle:{__style:pe},direction:G?"row":"column",display:"flex",justifyContent:"between",marginTop:le?-2:0,padding:6,children:[(0,m.jsxs)(o.kC,{alignItems:"center",direction:G?"row":"column",justifyContent:"between",maxWidth:G?void 0:"560px",children:[oe&&ae&&(0,m.jsx)(o.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginEnd:G?4:0,marginBottom:G?0:6,children:(0,m.jsx)(o.xu,{height:re,width:re,children:(0,m.jsx)(o.zd,{rounding:G?4:6,children:(0,m.jsx)(o.Ee,{alt:ie||"icon",naturalHeight:1,naturalWidth:1,src:ae})})})}),!G&&B&&(0,m.jsx)(o.xv,{align:"center",weight:"bold",children:(0,m.jsx)(o.xu,{marginBottom:2,dangerouslySetInlineStyle:{__style:{color:X,fontSize:"20px"}},children:B})}),L&&(0,m.jsxs)(o.xv,{align:G?"start":"center",overflow:"normal",children:[(0,m.jsx)(r.Z,{unsafeCSS:`\n                      .nag-text a {\n                        color: ${X||""};\n                        font-weight: bold;\n                      }`}),(0,m.jsx)("div",{className:"nag-text",dangerouslySetInnerHTML:{__html:ce},style:{color:X}})]})]}),(se||de)&&(0,m.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:G?0:-1,marginStart:G?4:0,marginTop:G?0:4,wrap:!G,children:[se,de]})]})]})})},x=({experience:e={}})=>(0,m.jsx)(i.Z,{experience:e,predicate:e=>e&&e.display_data&&1===e.display_data.component_type,children:({complete:e,dismiss:t,experience:n})=>(0,m.jsx)(b,{experience:n,onComplete:e,onDismiss:t})})},889685:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(702664),o=n(527386),r=n(33476),l=n(785893);const s=[502321,502322];class d extends i.Component{componentDidMount(){const{experience:e,completeExperience:t}=this.props;e&&s.includes(e.experience_id)&&t(e.placement_id,e.experience_id,!0)}render(){return(0,l.jsx)(r.Z,{experience:this.props.experience,eligibleIds:s,children:(0,l.jsx)("span",{})})}}function c(e){const t=(0,a.useDispatch)();return(0,l.jsx)(d,{...e,completeExperience:(e,n,i)=>t((0,o.CK)(e,n,i))})}},43746:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(33476),a=n(279409),o=n(716793),r=n(667294),l=n(883119),s=n(387977),d=n(467105),c=n(536042),u=n(906215),p=n(455788),h=n(886365),m=n(785893);function g({accessibilityModalLabel:e,allowScroll:t=!1,children:n,closeOnOutsideClick:i=!0,footer:a,isOpen:o,modalWidth:g,onDismiss:_,zIndex:v}){const y=(0,c.ZP)(),f=(0,r.useRef)(!1),{setAppFocusState:b}=(0,h.I)();(0,r.useEffect)((()=>(f.current=(0,s.Z)((()=>{})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&f.current&&(window.cancelAnimationFrame(f.current),f.current=null)})),[]),(0,r.useEffect)((()=>(o?(u.Z.pause(),b(!1)):(u.Z.resume(),b(!0)),()=>{o&&(u.Z.resume(),b(!0))})),[b,o]),(0,r.useEffect)((()=>{const e=o&&!t;return e&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{e&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()}}),[o,t]);return o?(0,m.jsx)(p.Z,{children:(0,m.jsx)(l.mh,{children:(0,m.jsxs)(l.xu,{"aria-label":e,zIndex:v||d.ZM,position:"relative",role:"dialog",children:[(0,m.jsx)(l.iP,{accessibilityLabel:y.bt("", "Mobile Popup Modal Mask", "mweb.experience_popup_modal.mask", undefined, true),onTap:()=>{i&&_()},tapStyle:"none",children:(0,m.jsx)(l.xu,{height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new l.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}}})}),(0,m.jsxs)(l.xu,{position:"fixed",color:"default",top:!0,width:g,zIndex:new l.Ry(1),rounding:4,overflow:"hidden",dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out"}},children:[n,a]})]})})}):null}var _=n(425118);const v=({experience:e,placementId:t})=>(0,m.jsx)(i.Z,{experience:e,eligibleTypes:[26],placementId:t,children:({complete:e,dismiss:t,experience:{display_data:n}})=>{const i=(0,a.Z)(o.Z)(n);return(0,m.jsx)(g,{modalWidth:320,accessibilityModalLabel:"",onDismiss:t,isOpen:!0,children:(0,m.jsx)(_.Z,{isMobile:!0,displayData:i,handleComplete:e,handleDismiss:t})})}})},90046:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(702664),o=n(883119),r=n(527386),l=n(33476),s=n(460914),d=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.PureComponent{constructor(...e){super(...e),c(this,"state",{paused:!1,showPulsar:!1,hasMounted:!1}),c(this,"handleDismiss",(()=>{const{onClickDismiss:e,dismissExperience:t,experience:n}=this.props;if(!n)return;const{experience_id:i,placement_id:a}=n;t(a,i),e&&e()})),c(this,"wrapperRef",(0,i.createRef)())}componentDidMount(){this.props.experience&&(this.mountPulsar(),this.setState({hasMounted:!0}))}componentDidUpdate(e){this.props.experience&&e.experience!==this.props.experience&&(this.mountPulsar(),this.setState({hasMounted:!0}))}mountPulsar(){const{experience:e}=this.props;if(!e)return;const{display_data:t}=e;t.has_pulsar&&this.setState({showPulsar:!0})}renderPulsar(){const e=this.wrapperRef,{paused:t}=this.state;if(!e||!e.current)return null;const n=e.current.getBoundingClientRect(),{height:i,width:a}=n,r=-(68+i/2),l=-(68-a/2);return(0,d.jsx)(s.Z,{pressState:"none",children:(0,d.jsx)(o.xu,{position:"absolute",zIndex:new o.Ry(1),dangerouslySetInlineStyle:{__style:{marginTop:r,marginLeft:l,pointerEvents:"none"}},children:(0,d.jsx)(o.o3,{paused:t,size:136})})})}render(){const{children:e,color:t,eligibleIds:n,experience:i,idealDirection:a,onClickComplete:r,showCaret:s,size:c,textWeight:u="bold",textAlign:p,textOverflow:h,fontSize:m}=this.props,{showPulsar:g,hasMounted:_}=this.state;if(!i||!n.includes(i.experience_id)||!_)return e({experience:i});const{display_data:{scroll_to_dismiss:v,scroll_to_dismiss_delay_in_seconds:y=0,...f}}=i;return(0,d.jsx)(l.Z,{eligibleIds:n,experience:i,children:({complete:n})=>{const l=()=>(_(),setTimeout(this.handleDismiss,1e3*y)),_=()=>{v&&(window.removeEventListener("scroll",l),window.removeEventListener("touchmove",l))};v&&(window.addEventListener("scroll",l),window.addEventListener("touchmove",l));return(0,d.jsxs)(o.xu,{ref:this.wrapperRef,children:[e({experience:i}),g?this.renderPulsar():f.has_tooltip&&(0,d.jsx)(o.J2,{anchor:this.wrapperRef.current,color:t,idealDirection:a||"down",onDismiss:this.handleDismiss,showCaret:s,size:c,children:(0,d.jsx)(o.xu,{padding:3,children:(0,d.jsxs)(o.kC,{direction:"column",gap:{row:0,column:3},children:[(0,d.jsx)(o.xu,{column:12,children:(0,d.jsxs)(o.xv,{align:"right"===p?"end":p,color:"inverse",overflow:h,size:m,weight:u||"bold",children:[f.text,f.secondary_cta_link&&(0,d.jsx)(o.xu,{display:"inlineBlock",marginStart:1,children:(0,d.jsx)(o.xv,{size:m,weight:"bold",color:"inverse",children:(0,d.jsx)(o.rU,{display:"inlineBlock",target:"blank",href:f.secondary_cta_link.url,underline:"hover",children:f.secondary_cta_link.text})})})]})}),f.complete_button_text&&(0,d.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",children:f.complete_button_text&&(0,d.jsx)(o.kC,{alignContent:"center",children:(0,d.jsx)(o.zx,{color:"white",onClick:()=>{_(),n(1),r&&r()},size:"md",text:f.complete_button_text})})})]})})})]})}})}}function p(e){const t=(0,a.useDispatch)();return(0,d.jsx)(u,{...e,dismissExperience:(e,n)=>t((0,r.Qu)(e,n)),completeExperience:(e,n)=>t((0,r.CK)(e,n))})}},781925:(e,t,n)=>{n.d(t,{Z:()=>i});const i=({isDesktop:e})=>e?"dweb_unauth_visual_search":"mweb_unauth_visual_search"},536540:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e,noCircle:t}){return(0,i.jsxs)("svg",{height:e,style:{display:"block"},viewBox:t?"3 3 70 70":"-3 -3 82 82",width:e,children:[t?null:(0,i.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,i.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},971467:(e,t,n)=>{n.d(t,{_l:()=>f,cO:()=>y,t2:()=>b,w2:()=>x,xM:()=>v});var i=n(667294),a=n(616550),o=n(690108),r=n(988014),l=n(739425),s=n(549201),d=n(802071),c=n(785893);const u="UnauthDesktopSocialPinLandingPageContext",p="AthDesktopSocialPinLandingPageContext",h="AuthMobileSocialPinLandingPageContext",m=(0,i.createContext)(),g=({children:e})=>{const[t,n]=(0,i.useState)(!1),[a,o]=(0,i.useState)(!1),r=(0,i.useMemo)((()=>({hasSeenAuthMobileLandingToast:t,setHasSeenAuthMobileLandingToast:n,hasSeenAuthDesktopLandingToast:a,setHasSeenAuthDesktopLandingToast:o})),[t,n,a,o]);return(0,c.jsx)(m.Provider,{value:r,children:e})},_=(0,i.createContext)({key:"",data:null}),v=({children:e})=>{const t=(0,a.useLocation)(),n=(0,d.Z)(),m=n&&n.isAuth,v=(0,s.HG)(),y=(0,i.useRef)((0,r.fY)(t)&&(0,l.mB)(t.search).invite_code||null),f=(0,a.matchPath)(t.pathname,{path:"/pin/:id"}),b=f&&f.params.id||"",[x,k]=(0,i.useState)({key:"",data:null});return(0,i.useEffect)((()=>{!async function(){const e=y.current;if(e)try{var t;const a=o.Z.create("InviteCodeMetadataResource",{invite_code:e}),r=null===(t=(await a.callGet()).resource_response)||void 0===t?void 0:t.data;if(r){var i;const e=null!==(i=r.sender)&&void 0!==i?i:null,t=m&&e.id!==n.id&&(null==e?void 0:e.should_show_messaging)&&n.should_show_messaging;!m&&v?k({key:u,data:{inviter:e,popoverData:e&&![5,9,12,16].includes(r.invite_channel)?{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name}:null}}):t&&!v?k({key:h,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:n.id||""},pin:{pinId:b}}}}):t&&v&&k({key:p,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:n.id||""},pin:{pinId:b}}}})}else k({key:"",data:null})}catch(a){k({key:"",data:null})}}()}),[m,v,n.id,b,n.should_show_messaging]),(0,c.jsx)(g,{children:(0,c.jsx)(_.Provider,{value:x,children:e})})},y=()=>{const e=(0,i.useContext)(_);return e.key===u?e:null},f=()=>{const e=(0,i.useContext)(_);return e.key===h?e:null},b=()=>{const e=(0,i.useContext)(_);return e.key===p?e:null},x=()=>(0,i.useContext)(m)},480462:(e,t,n)=>{function i({isEligibleForPdp:e,isOosProduct:t,isStaleProduct:n,pinShoppingFlags:i}){if(i){const a=i,o={pin_is_shop_the_look:a.includes(2),pin_show_pdp:e||t||n,is_available:a.includes(1),is_product_pin_v2:a.includes(5),is_rich_product_pin:a.includes(6)};return JSON.stringify(o)}}n.d(t,{Z:()=>i})},348597:(e,t,n)=>{function i(e,t){return e||(t?`${t}~0`:"~0")}n.d(t,{Z:()=>i})},352865:(e,t,n)=>{n.d(t,{G3:()=>c,Rp:()=>d,kp:()=>s});var i=n(736409),a=n(611756),o=n(173085);const r=14*i.F4;function l(e,t,n){return e-t>n}const s=e=>{const t=function(){const e=Date.now(),t=Number((0,a.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,a.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:Boolean((0,o.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,t,n){const{currentTime:i,firstUpsellTime:o,lastUpsellTime:s,showedAppUpsellCurrentSession:d}=e;return n=n||r,!o||function(e,t,n){return e<t+n}(i,o,t)?!d:!!l(i,s,n)&&((0,a.L_)("firstUpsellTime"),!0)}(t,i.F4):function(e,t){const{currentTime:n,lastUpsellTime:i}=e;return t=t||r,!i||l(n,i,t)}(t)},d=({platform:e,userAgent:t})=>{try{return"android"===e&&parseFloat((e=>{const t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(t))<7}catch(n){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},509342:(e,t,n)=>{n.d(t,{AA:()=>o,E9:()=>g,EU:()=>y,IO:()=>v,Jd:()=>h,KH:()=>c,QR:()=>d,Uw:()=>a,ZR:()=>f,dy:()=>s,eA:()=>p,fo:()=>m,k7:()=>r,rT:()=>_,tz:()=>u,u9:()=>b,zR:()=>l,zu:()=>i});const i="OPEN_UNAUTH",a="openUnauthType",o="_isAfterLogin",r="_lastVisitedPages",l="_lastVisitedPagesBeforeLogin",s="_lastVisitedBoardPages",d="_lastVisitedPagesBeforeNavPage",c="_lastVisitedSessionPages",u="_unauthVisitedPages",p=20,h="_unauthInviteCode",m="_unauthReferrerString",g="unauthTopicsFollowed",_=["US","CA","NZ","AU"],v=new Set(["GB","IE"]),y=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),f=new Set(["BR","MX","AR","CL","CO","PE"]),b="ad_img"},624658:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(40660);const a=e=>{i.Z.increment(`closeup.image.clicked.${e}`,1,{platform:"mobile"})}},230910:(e,t,n)=>{n.d(t,{AH:()=>s,Bk:()=>o,CK:()=>l,Xe:()=>a,kb:()=>r,wS:()=>i});const i=(e,t,n,i)=>{let a;return a=t||(e?e.official_user:n||i),a};function a({hasLinkDomain:e,hasNativeCreator:t,hasOriginPinner:n,pinDomain:i,sourceUserUsername:a,sourceUserFullName:o}){return!t&&(e||n)&&a?{pinCreditLink:`/${a}/`,pinCredit:o}:{pinCreditLink:void 0,pinCredit:!t&&e?i:""}}const o=({i18n:e,isLego:t,hasLinkDomain:n,hasRichMetadataArticle:i,hasRichMetadataTutorial:a,hasRichMetadataRecipeCategorizedIngredients:o,hasRichMetadataProductOfferSummary:r,hasRichSummaryProductOfferSummary:l,richMetadataRecipeFromAggregatedData:s,richMetadataProductName:d,richSummaryProductName:c})=>{const u=o;let p;d&&r&&(p=!0);const h=i,m=a;let g=t?e.bt(" ", "From ", "Closeup pin annotation", undefined, true):e.bt(" ", "Saved from ", "Closeup pin annotation", undefined, true);return!n||s?g=e.bt(" ", "Saved by ", "Closeup pin annotation", undefined, true):p?g=e.bt(" ", "Product sold by ", "pin annotation", undefined, true):m?(t&&(g=e.bt(" ", "From ", "pin annotation", undefined, true)),g=e.bt(" ", "Saved from ", "pin annotation", undefined, true)):u?g=e.bt(" ", "Recipe from ", "pin annotation", undefined, true):h&&(g=e.bt(" ", "Article from ", "pin annotation", undefined, true)),!r&&c&&l&&(g=e.bt(" ", "Product sold by ", "pin annotation", undefined, true)),g},r=({hasLinkDomain:e,richMetadata:t,richSummary:n})=>{var i;return e&&(null==t||null===(i=t.recipe)||void 0===i||!i.fromAggregatedData)&&null!=t&&t.products&&t.products[0]&&t.products[0].name&&t.products[0].offerSummary?t.products[0].offerSummary:null!=n&&n.products&&n.products[0]&&n.products[0].name&&n.products[0].offerSummary?n.products[0].offerSummary:void 0},l=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:n,hasRichMetadataRecipe:i})=>e?t?144:n?141:i?145:139:140,s=e=>!!e&&!e.startsWith("https://i.pinimg.com")},684262:(e,t,n)=>{function i(e){return!!e.key}n.d(t,{Z:()=>i})},836:(e,t,n)=>{n.d(t,{XK:()=>l,jC:()=>r,yd:()=>s});var i=n(541842);let a=null,o=null;const r=((e,t)=>{let n=null;return r=>{var l;if(r&&!n)return n={...r,event_type:e,time:(0,i.Z)()},null===(l=o)||void 0===l||l.logContextEvent(n),a&&n&&a.storeClickthroughProperties(n),e;if(!r&&n){var s;const e={...n,event_type:t,duration_ns:(0,i.Z)()-n.time};return null===(s=o)||void 0===s||s.logContextEvent(e),n=null,t}return null}})(12,4100),l=e=>{a=e},s=e=>{o=e}},261453:(e,t,n)=>{n.d(t,{CC:()=>l,H$:()=>d,Mt:()=>r,dp:()=>s,p9:()=>c});var i=n(611756),a=n(173085),o=n(509342);const r=(e,t,n,a,r,l,s=o.k7)=>{const d=(0,i.qn)(s)?JSON.parse((0,i.qn)(s)):[];if(!d[0]||d[0].path!==e){const o=[{path:e,ts:Date.now(),pin_id:n||0,first_pin_image_signature:t||"",first_pin_id:n||"",image_info:a||"",pin_description:r||"",is_shared:!!l,pin_invite_code:l}];(0,i.Nh)(s,JSON.stringify(o.concat(d)))}},l=({path:e,image:t,dominant_color:n,pin_description:i,pin_id:r})=>{const l=(()=>{const e=(0,a.qn)(o.KH);if(!e)return[];let t;try{t=JSON.parse(e)}catch(n){t=[]}return t})();if(!l[0]||l[0].path!==e){const s=[{path:e,image:t,pin_description:i||"",dominant_color:n||"",pin_id:r||""}];(0,a.Nh)(o.KH,JSON.stringify(s.concat(l)))}};function s(e,t,n,i,a,l){r(e,t,n,i,a,l,o.zR)}const d=(e,t,n,i,a)=>{r(e,t,n,i,null!=a?a:"","",o.dy)};function c(e,t,n,i,a){r(e,t,n,i,a,"",o.QR)}},495590:(e,t,n)=>{n.d(t,{E:()=>r,S:()=>l});var i=n(667294),a=n(611756);const o="_loggingInNotHome",r=e=>{e?(0,a.Nh)(o,1):(0,a.L_)(o)},l=()=>{const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{t(!0)}),[]),e&&(0,a.qn)(o)}},411224:(e,t,n)=>{n.d(t,{Z:()=>d,x:()=>s});var i=n(667294),a=n(98736),o=n(785893);const r=(0,i.createContext)((()=>{})),l=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")},s=({children:e})=>{const[t,n]=(0,i.useState)(null);(0,i.useEffect)((()=>l),[]);const s=(0,i.useCallback)((e=>{(0,a.My)("dweb.unauth.context_menu.open_menu"),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden"),n(e)}),[]),d=!!t;return(0,i.useEffect)((()=>{const e=()=>{n(null),l(),(0,a.My)("dweb.unauth.context_menu.click_away")};return d&&document.addEventListener("click",e),()=>{d&&document.removeEventListener("click",e)}}),[d]),(0,o.jsx)(r.Provider,{value:s,children:(0,o.jsxs)(i.Fragment,{children:[e,t]})})},d=()=>(0,i.useContext)(r)},772356:(e,t,n)=>{function i(e){return Boolean(null==e?void 0:e.is_matured_new_user)}n.d(t,{IR:()=>r,V0:()=>i,Wn:()=>o,xT:()=>a});const a=e=>!!e&&2===e.login_state,o=e=>!(!e||!e.match(/\/static\/images\/user\/default_\d+\.png$/));function r(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},963181:(e,t,n)=>{n.d(t,{Hg:()=>a,T_:()=>r,g6:()=>o,w6:()=>i});const i=(e,t)=>Array.from({length:t-e},((t,n)=>n+e)),a=508,o=600;function r(e,t){if(!t.startsWith("en"))return e;return e.split(" ").map((e=>e===e.toUpperCase()?e:e.toLowerCase())).join(" ")}},756876:(e,t,n)=>{n.d(t,{Z:()=>i});const i=({name:e,width:t,height:n})=>{const i=`${n}${"number"==typeof n?"px":""}`,a="number"==typeof t?t:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${a} ${i};\n  width: ${`${t}${"number"==typeof t?"px":""}`};\n  height: ${i};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${a}px 0;\n  }\n  100% {\n      background-position: ${a}px 0;\n  }\n}\n`}},393599:(e,t,n)=>{n.d(t,{H:()=>o,o:()=>a});var i=n(583592);const{Provider:a,useHook:o}=(0,i.Z)("LimitedLogin")},198060:(e,t,n)=>{n.d(t,{N4:()=>o,Wh:()=>i,hr:()=>a});const i=e=>e.bt("", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),a=e=>e.bt(" Pinterest", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),o=({i18n:e,toFollow:t})=>t?e.bt("", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt("", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true)},624524:(e,t,n)=>{n.d(t,{Bb:()=>_,Bx:()=>s,F4:()=>l,OG:()=>o,Qj:()=>d,_6:()=>g,gv:()=>r,hg:()=>c,is:()=>h,jP:()=>m,lt:()=>a,oM:()=>u,wI:()=>p});var i=n(739425);const a=e=>e.bt("", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),o=e=>e.pathname,r=({firstName:e,i18n:t})=>e?(t.bt("{{ name }} ", "{{ name }} invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true)).replace("{{ name }}",e):t.bt("", "Your friends invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true),l=e=>{const t=(0,i.mB)(e.search).board_url;if(t){const e=(0,i.Jx)(t),n=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},s=e=>e.bt(" Pin ", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),d=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},c=e=>e.bt(" Pin ", "Log in to send this Pin", "limitedLogin.modalHeader.send", undefined, true),u=e=>e.bt(" Pin ", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),p=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},h=e=>e.bt(" Pin ", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true),m=e=>e.bt(" Pin ", "Log in to hide this Pin", "limitedLogin.modalHeader.hidePin", undefined, true),g=e=>e.bt("", "Log in to share the profile", "limitedLogin.modalHeader.shareProfile", undefined, true),_=e=>e.bt("", "Log in to create a board", "limitedLogin.modalHeader.createBoard", undefined, true)},395253:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(536042),a=n(624524),o=n(393599),r=n(785893);function l({children:e,callbackFunction:t,modalHeader:n,nextLocation:l}){const s=(0,i.ZP)(),{viewer:d,loginForMore:c,limitedLoginModalSubheader:u,limitedLoginModalNextLocation:p}=(0,o.H)(),h="LIMITED_LOGIN"===d.type;return(0,r.jsx)("div",{onClickCapture:e=>{h&&(t&&t(),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),null==c||c.setVisible(!0),null==u||u.setText(n||(0,a.lt)(s)),l&&(null==p||p.setRoute(l)))},children:e})}},471819:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(536042),a=n(549201),o=n(393599),r=n(198060);const l=()=>{const e=(0,i.ZP)(),t=(0,a.HG)(),{viewer:n,loginForMore:l,limitedLoginModalSubheader:s,limitedLoginModalNextLocation:d}=(0,o.H)();return"LIMITED_LOGIN"===n.type?({modalHeader:n,nextLocation:i})=>a=>{let o=null;a&&(a.nativeEvent&&a.nativeEvent instanceof Event?o=a:a.event&&(o=a.event)),o&&(o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()),null==l||l.setVisible(!0),null==s||s.setText(n||(t?(0,r.hr)(e):(0,r.Wh)(e))),i&&(null==d||d.setRoute(i))}:({fn:e})=>e}},383755:(e,t,n)=>{n.d(t,{Hn:()=>u,Jw:()=>g,L7:()=>i,Qc:()=>a,Tt:()=>v,UF:()=>d,UV:()=>r,W1:()=>o,Ws:()=>p,ZW:()=>s,cK:()=>_,cy:()=>m,o4:()=>h,tr:()=>c,vF:()=>l});const i=1,a=2,o="female",r="male",l="unspecified",s="en-US",d="US",c=3,u="has_done_closeup",p="Gender",h="InterestPicker",m="LoadingStep",g="AppInstall",_={NUX_GENDER_STEP_NAME:p,NUX_INTEREST_PICKER_STEP_NAME:h,NUX_LOADING_STEP_NAME:m,NUX_APP_INSTALL_STEP_NAME:g},v=2500},28557:(e,t,n)=>{n.d(t,{Z:()=>j});var i=n(667294),a=n(376030),o=n(883119),r=n(536042),l=n(455788),s=n(272109),d=n(874261),c=n(785893);function u({addedStyles:e,button:t,headerText:n,icon:a,iconOverride:r,minHeight:l,subHeaderText:s}){return(0,c.jsx)(o.xu,{display:"flex",justifyContent:"center",width:"100vw",paddingX:2,children:(0,c.jsxs)(o.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:l||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{const e=r||(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(d.Z,{unsafeCSS:"\n@keyframes baseEduToastIconScale {\n  0% {\n    transform: scale(0)\n  }\n  30% {\n    transform: scale(1.2);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n"}),(0,c.jsx)(o.xu,{alignItems:"center",color:"education","data-test-id":"pin-save-toast",direction:"column",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,c.jsx)(o.JO,{accessibilityLabel:a.accessibilityLabel,color:a.color,dangerouslySetSvgPath:a.dangerouslySetSvgPath,icon:a.icon,inline:a.inline,size:a.size})})]});return(0,c.jsx)(o.xu,{marginEnd:4,children:e})})(),(0,c.jsxs)(o.xu,{marginEnd:"auto",children:[(0,c.jsx)(o.xv,{color:"default",weight:"bold",children:n}),!!s&&(0,c.jsx)(o.xu,{paddingY:1,children:(0,c.jsx)(o.xv,{size:"300",color:"default",children:s})})]}),(0,c.jsx)(o.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}var p=n(217861);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=(e,t)=>(e-t)/2,g=200,_=68,v=m(_,68),y=m(_,66),f=m(_,60),b="cubicBezier(0.25, 0.1, 0.25, 1)",x="encourageToastIconContainer",k="encourageToastIconRadiateBg",w="encourageToastIconRadiateRing",S={targets:`#${x}`,duration:300,scale:1.4,easing:b},P={targets:`#${x}`,duration:300,scale:1,easing:b,endDelay:1e3},T={targets:`#${x}`,duration:300,scale:.42,easing:b},I={targets:`#${k}`,duration:400,opacity:0,scale:1.6,easing:b},C={targets:`#${w}`,duration:650,opacity:0,scale:2,easing:b};function A({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}class E extends i.PureComponent{constructor(...e){super(...e),h(this,"delayTimer",null),h(this,"requestAnimationFrameId",null),h(this,"playAnimation",(()=>{this.requestAnimationFrameId=window.requestAnimationFrame((()=>{(0,a.Z)(I),(0,a.Z)(C),(0,a.Z)(S).finished.then((()=>{(0,a.Z)(P).finished.then((()=>{a.Z.set(`#${x}`,{transformOrigin:"top right"}),(0,a.Z)(T)}))}))}))})),h(this,"getHeaderText",(()=>{const{text:e}=this.props;return Array.isArray(e)?e[0]:e})),h(this,"getIconProps",(()=>({accessibilityLabel:this.props.i18n.bt("", "Check icon", "Label for check icon on toast shown after board create", undefined, true),color:"inverse",icon:"check",size:30}))),h(this,"getSubHeaderText",(()=>{const{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""})),h(this,"renderAnimatedIcon",(()=>(0,c.jsxs)(o.xu,{height:_,position:"relative",width:_,children:[(0,c.jsx)(o.xu,{"data-test-id":"pin-save-toast",width:60,height:60,overflow:"hidden",position:"absolute",rounding:4,dangerouslySetInlineStyle:{__style:{left:`${f}px`,top:`${f}px`}},children:this.props.thumbnail}),(0,c.jsxs)(o.xu,{id:x,height:_,width:_,dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},position:"absolute",children:[(0,c.jsx)(o.xu,{color:"infoBase",id:k,width:68,height:68,position:"absolute",rounding:"circle",dangerouslySetInlineStyle:{__style:{left:`${v}px`,top:`${v}px`,transform:"scale(0)"}}}),(0,c.jsx)(o.xu,{id:w,width:66,height:66,position:"absolute",rounding:"circle",opacity:1,dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:`${y}px`,top:`${y}px`,transform:"scale(0)"}}}),(0,c.jsx)(o.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:_,justifyContent:"center",minHeight:_,minWidth:_,position:"absolute",rounding:"circle",width:_,children:(0,c.jsx)(o.JO,{accessibilityLabel:this.props.i18n.bt("", "Check icon", "Label for check icon on toast shown after board create", undefined, true),color:"inverse",icon:"check",size:30})})]})]})))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){const{isRepinToExistingBoard:e,button:t}=this.props,n=e;return(0,c.jsx)(u,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:n?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function j(e){const{duration:t,onHide:n}=e,a=(0,r.ZP)(),[d,u]=(0,i.useState)(!1),[h,m]=(0,i.useState)(!1),_=(0,i.useRef)(),v=()=>{u(!0),_.current=setTimeout(n,g)},y=()=>{_.current&&clearTimeout(_.current)};(0,s.Z)((()=>(setTimeout((()=>m(!0)),100),_.current=setTimeout(v,t||p.w),y)));let f=(0,c.jsx)(E,{...e,i18n:a});return e.href&&(f=(0,c.jsx)(o.rU,{href:e.href,onClick:v,rounding:"pill",tapStyle:"none",children:f})),(0,c.jsx)(l.Z,{children:(0,c.jsx)(o.mh,{children:(0,c.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...A({hiding:d,visible:h})}},justifyContent:"center",position:"fixed",width:"100%",display:"flex",zIndex:p.k,children:f})})})}},903201:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(611756);const a=2592e5;function o(){const e=(0,i.qn)("lastViewedMiniRenux");return!!e&&Date.now()-Number(e)<a}},451826:(e,t,n)=>{n.r(t),n.d(t,{default:()=>G,getPinResourceOptions:()=>N});var i=n(667294),a=n(702664),o=n(167912),r=n.n(o),l=n(616550),s=n(240684),d=n(243370),c=n(765456),u=n(898252),p=n(845092),h=n(282802),m=n(85044),g=n(482277),_=n(331211),v=n(739425),y=n(769623),f=n(549201),b=n(272109),x=n(802071),k=n(799006),w=n(36278),S=n(898961),P=n(723608),T=n(971467),I=n(261453),C=n(968358),A=n(199999),E=n(913137),j=n(260070),R=n(525104),D=n(712968),L=n(113309),F=n(785893),M,O;const z=(0,s.ZP)({resolved:{},chunkName:()=>"tv-EpisodeCloseupPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(97270),n.e(54131),n.e(10293)]).then(n.bind(n,640585)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 640585}}),Z=3e3,N=({id:e,isAuthenticated:t,addUserConnectionType:n,shouldLazyLoadPinJoin:i,getPageMetadata:a})=>t?{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0,add_connection_type:n}:{id:e,field_set_key:"unauth_react_main_pin",get_page_metadata:a?"seo":void 0,add_connection_type:n,fetch_pin_join_by_default:!i},U=void 0!==M?M:M=n(907673),B=void 0!==O?O:O=n(91394);function K({description:e,dominantColor:t,graphqlRefs:n,imageSignature:o,isGif:r,isLoaded:s,isProductPin:m,isRecipePin:g,isStoryPin:_,isVideoPin:y,pinId:w,pinImage:P,pinTitle:C,renderAuthMobilePinLandingToast:R,uanuthDesktopSocialLandingPopover:M}){const O=(0,L.U)(),z=(0,a.useDispatch)(),N=(0,l.useLocation)(),U=(0,c._)({id:1000112}),{id:B}=(0,x.Z)(),{isAuthenticated:K,isBot:V}=(0,h.B)(),H=(0,D.mN)()(null!=B?B:""),G=(0,a.useSelector)((({experiences:e})=>e)),W=(0,u.hb)({isGif:r,isProductPin:m,isRecipePin:g,isStoryPin:_,isVideoPin:y});(0,i.useEffect)((()=>{O&&setTimeout((()=>{var e;null===(e=O.preload)||void 0===e||e.call(O,new URL("pin/[id]/repin.js","file://"))}),500)}),[]),(0,d.Z)("closeup");const $=(0,f.HG)();(0,i.useEffect)((()=>{const n=()=>{z((0,j.Cp)()),window.removeEventListener("scroll",n)};if(!$&&!V&&!_?window.addEventListener("scroll",n):z(_?(0,j.FK)():(0,j.Cp)()),K)o&&z((0,j.xu)(o));else{var i;const n=N.pathname,a=null!=e?e:"",r=null!=t?t:null;(0,I.Mt)(n,o),(0,I.CC)({path:n,image:P,dominant_color:r,pin_description:a,pin_id:w});const l=(0,v.mB)(N.search).invite_code;(0,I.dp)(n,o,w,P,null!=a?a:"",l),null!==(i=N.state)&&void 0!==i&&i.isFromNavFooterPage||(0,I.p9)(n,o,w,P,"pin")}}),[N]);const q=(0,A.a)(),Y=null==q?void 0:q.onPinTypeLoad,J=!!s;(0,i.useEffect)((()=>{J&&Y&&Y(_)}),[J,_,Y]);const X="pin_closeup_lcp",Q=(0,p.PY)(X);(0,i.useEffect)((()=>{Q&&(0,p.ku)({stopwatchName:X,binaryAnnotationName:"pinType",value:W,annotationType:"STRING"})}),[Q,W]);const ee=(0,k.Z)(),te=K?(0,E.o)({canUpsellNativeApp:ee}):"unauthPostDownloadUpsell",ne=(0,T.w2)();return(0,b.Z)((()=>{if(!R||!ne||ne.hasSeenAuthMobileLandingToast)return()=>{};const{setHasSeenAuthMobileLandingToast:n}=ne,i=setTimeout((()=>{R({type:"pin",id:w,data:{title:C||e||"",imgUrl:(null==P?void 0:P.url)||"",dominantColor:t||""}})}),Z);return()=>{n(!0),clearTimeout(i)}})),(0,F.jsx)(S.Z,{clickthroughInterstitialExperience:G[1000162],experience:U,isProductPin:m,isStoryPin:_,graphqlRefs:n,pinId:w,postDownloadModalEligibilityType:te,uanuthDesktopSocialLandingPopover:M,viewerId:null!=B?B:"",viewingUser:H})}function V({pinId:e,queryRefs:t,...n}){var i,a,r,s,d,c,p,m,v,y,f,b,x;const k=(0,o.usePreloadedQuery)(B,t.pageRef),w=(0,o.useFragment)(U,null===(i=k.v3GetPinQuery)||void 0===i?void 0:i.data),{isAuthenticated:S,countryFromIp:P,country:T}=(0,h.B)();return w?w.creatorClass&&w.creatorClassInstance?(0,_.pf)(T,P,S)?(0,F.jsx)(l.Redirect,{to:"/tv/error"}):(0,F.jsx)(z,{pinId:e}):(0,F.jsx)(K,{...n,description:w.description,dominantColor:w.dominantColor,graphqlRefs:{...t,pageRef:w},imageSignature:null!==(a=w.imageSignature)&&void 0!==a?a:"",isGif:(0,u.sY)(null===(r=w.embed)||void 0===r?void 0:r.type),isLoaded:!0,isProductPin:!!w.richSummary&&(0,g.Z)({isEligibleForPdp:w.isEligibleForPdp,isStaleProduct:w.isStaleProduct,isOutOfStockProduct:w.isOosProduct}),isRecipePin:"recipe"===(null===(s=w.richSummary)||void 0===s?void 0:s.typeName),isStoryPin:!!w.storyPinDataId,isVideoPin:!(null===(d=w.videos)||void 0===d||null===(c=d.videoUrls)||void 0===c||!c.length),pinId:e,pinImage:w.imageSpec_236x?{dominant_color:null!==(p=w.imageSpec_236x.dominantColor)&&void 0!==p?p:"",height:null!==(m=w.imageSpec_236x.height)&&void 0!==m?m:0,type:null!==(v=w.imageSpec_236x.type)&&void 0!==v?v:"",url:null!==(y=w.imageSpec_236x.url)&&void 0!==y?y:"",width:null!==(f=w.imageSpec_236x.width)&&void 0!==f?f:0}:null,pinTitle:null!==(b=null!==(x=w.gridTitle)&&void 0!==x?x:w.gridDescription)&&void 0!==b?b:"",storyPinDataId:w.storyPinDataId}):(0,F.jsx)(l.Redirect,{to:{pathname:S?"/":"/ideas/",state:{showError:!0}}})}function H({pinId:e,...t}){var n,i,a,o,r,s,d,c;const{country:p,countryFromIp:v,isBot:y,isAuthenticated:b}=(0,h.B)(),x=(0,f.HG)(),k=(0,C.Z)(null!=v?v:"",y,x),w=(0,m.Z)({name:"PinResource",options:N({id:e,isAuthenticated:b,addUserConnectionType:k,shouldLazyLoadPinJoin:!x&&!b&&!y})}),S=(0,R.S6)()(e),P=w.data||S,T=(0,g.Z)({isEligibleForPdp:null==P?void 0:P.is_eligible_for_pdp,isStaleProduct:null==P?void 0:P.is_stale_product,isOutOfStockProduct:null==P?void 0:P.is_oos_product});return null!=P&&null!==(n=P.creator_class)&&void 0!==n&&n.id&&null!==(i=P.creator_class_instance)&&void 0!==i&&i.id?(0,_.pf)(p,v,b)?(0,F.jsx)(l.Redirect,{to:"/tv/error"}):(0,F.jsx)(z,{pinId:e}):(0,F.jsx)(K,{...t,description:null==P?void 0:P.description,dominantColor:null==P?void 0:P.dominant_color,graphqlRefs:null,imageSignature:null==P?void 0:P.image_signature,isGif:(0,u.sY)(null==P||null===(a=P.embed)||void 0===a?void 0:a.type),isLoaded:!!P,isProductPin:T,isRecipePin:"recipe"===(null==P||null===(o=P.rich_summary)||void 0===o?void 0:o.type_name),isStoryPin:!!P&&(0,u.hy)(P.story_pin_data_id),isVideoPin:(0,u.iR)(null==P?void 0:P.videos),pinId:e,pinImage:null!==(r=null==P||null===(s=P.images)||void 0===s?void 0:s["236x"])&&void 0!==r?r:null,pinTitle:null!==(d=null!==(c=null==P?void 0:P.grid_title)&&void 0!==c?c:null==P?void 0:P.grid_description)&&void 0!==d?d:"",storyPinDataId:null==P?void 0:P.story_pin_data_id})}function G({queryRefs:e,...t}){const n=(0,l.useRouteMatch)(),{pinId:a}=(0,y.Z)(n.params.id||"");return(0,F.jsx)(w.Z,{type:"duplo",children:"GRAPHQL_DISABLED"===e?(0,F.jsx)(H,{...t,pinId:a}):(0,F.jsx)(i.Suspense,{fallback:(0,F.jsx)(P.Z,{pinId:a}),children:"QUERY_MISS"!==e&&(0,F.jsx)(V,{...t,pinId:a,queryRefs:e})})})}},968358:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(509342);const a=(e,t,n)=>!t&&!n&&i.ZR.has(e)},952055:(e,t,n)=>{function i(e,t,n){return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}n.d(t,{Z:()=>i})},789144:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>`${e}:${t||""}`},248641:(e,t,n)=>{n.d(t,{O:()=>l,Q:()=>s});var i=n(756513),a=n(789144),o=n(541268);const r=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],l={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:i},a)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...a?{orbac_subject_id:a}:Object.freeze({})})},s=e=>r.reduce(((t,n)=>{const r=[(0,o.N8)("profileBoards",(0,a.Z)(e,n))];return[!0,!1].forEach((t=>{[!0,!1].forEach((a=>{r.push((0,i.jB)(l.name,l.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:a})))}))})),t.concat(r)}),[])},953595:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(883119),a=n(88622),o=n(536042),r=n(630089),l=n(837792),s=n(785893);const d=l.K_+"?source=block_dialogue";function c({firstName:e,onBlockUser:t,onClearModal:n}){const l=(0,o.ZP)(),c=(0,r.nk)(l.bt(" {{ firstName }}", "Block {{ firstName }}?", "blockUser.modal.header", undefined, true),{firstName:e}).join("");return(0,s.jsxs)(a.ZP,{accessibilityModalLabel:c,onDismiss:n,heading:c,footer:(0,s.jsxs)(i.xu,{marginStart:-1,marginEnd:-1,display:"flex",alignItems:"center",justifyContent:"end",children:[(0,s.jsx)(i.xu,{padding:1,children:(0,s.jsx)(i.zx,{fullWidth:!0,size:"md",text:l.bt("", "Cancel", "blockUser.modal.cancel", undefined, true),onClick:n})}),(0,s.jsx)(i.xu,{padding:1,children:(0,s.jsx)(i.zx,{fullWidth:!0,size:"md",color:"red",text:l.bt("", "Block", "Button to confirm blocking a user", undefined, true),onClick:t})})]}),role:"alertdialog",size:"md",children:[(0,s.jsx)(i.xu,{padding:4,"data-test-id":"block-text",children:(0,s.jsx)(i.xv,{children:(0,r.nk)(l.bt(" {{ firstName }} ", "Blocking {{ firstName }}, stops messages, follows, and comments. You can still view each others profiles.", "blockUser.modal.description", undefined, true),{firstName:e})})}),(0,s.jsx)(i.xu,{padding:4,children:(0,s.jsx)(i.xv,{color:"default",weight:"bold",children:(0,s.jsx)(i.rU,{target:"blank",href:d,children:l.bt("", "Learn more", "link to help center to learn more about blocking", undefined, true)})})})]})}},407264:(e,t,n)=>{n.d(t,{$n:()=>f,A4:()=>w,CE:()=>m,ET:()=>C,F$:()=>y,Kw:()=>T,Nv:()=>P,PA:()=>k,X_:()=>I,d9:()=>b,e1:()=>h,o4:()=>S,vB:()=>_});var i=n(782677),a=n(690108),o=n(970588),r=n(575794),l=n(756513),s=n(911767),d=n(541268),c=n(1731),u=n(255655),p=n(274796);function h(e){return t=>{const{boardId:n,sectionIdBefore:i,sectionIdAfter:a,sourceSectionId:r,targetSectionId:l}=e;t((0,d._f)({feedType:p.Z.BOARD_SECTIONS,feedId:n,itemType:"boardsection",sourceItemId:r,targetItemId:l}));let s=Object.freeze({});return i&&(s={...s,section_before:i}),a&&(s={...s,section_after:a}),(0,o.Z)({url:`/v3/board/sections/${r}/reorder/`,method:"POST",data:s})}}function m(e,t){return n=>n((0,r.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}function g(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function _({boardId:e,name:t,nameSource:n,pinImport:i,initialPinIds:o=[]},r,u){let h=0;"RECOMMENDATION"===n?h=1:"EDITED_RECOMMENDATION"===n&&(h=2);const m={board_id:e,initial_pins:i&&!i.all?i.pinIds:o,name:t,name_source:h,...u?{orbac_subject_id:u}:Object.freeze({})};return t=>a.Z.create("BoardSectionResource",m).callCreate({showError:!1}).then((({resource_response:{data:n}})=>{t(g(e,n)),t((0,d.vX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[n.id],itemType:"boardsection"})),t((0,s.Tq)(e,"pin_count")),t((0,l.jB)("BoardSectionsRepinResource",{board_id:e}));const{all:a,pinIds:o}=i||{all:!1,pinIds:[]};return a?new Promise(((i,a)=>t((0,c.Z)({inverseSelection:!0,selectedPinIds:o,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:n.id}},r)).then((()=>i(n))).catch(a))):(o.length>0&&t((0,d.N8)(p.Z.BOARDFEED,e)),n)}))}function v(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function y(e,t,n){return i=>a.Z.create("BoardSectionEditResource",{section_id:t,...n?{orbac_subject_id:n}:Object.freeze({})}).callDelete({showError:!1}).then((()=>Promise.all([i(v(e,t)),i((0,d.EX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[t],itemType:"boardsection"})),i((0,s.Tq)(e,"pin_count")),i((0,l.jB)("BoardSectionsRepinResource",{board_id:e}))])))}function f(e,t,n,i){return o=>a.Z.create("BoardSectionEditResource",{section_id:t,title:n,...i?{orbac_subject_id:i}:Object.freeze({})}).callCreate({showError:!1}).then((t=>{const n=t.resource_response.data;return o(function(e,t){return n=>{const i=t.board;var a,o,r,l,c;i&&i.id!==e?(n(v(e,null!==(a=t.id)&&void 0!==a?a:"")),n((0,d.EX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[null!==(o=t.id)&&void 0!==o?o:""],itemType:"boardsection"})),n((0,s.Tq)(e,"pin_count")),n(g(null!==(r=i.id)&&void 0!==r?r:"",t)),n((0,d.vX)({feedId:null!==(l=i.id)&&void 0!==l?l:"",feedType:p.Z.BOARD_SECTIONS,itemIds:[null!==(c=t.id)&&void 0!==c?c:""],itemType:"boardsection"})),n((0,s.Tq)(e,"pin_count"))):n({type:"SECTION_UPDATED",payload:{boardId:e,section:t}})}}(e,n)),o((0,l.jB)("BoardSectionsRepinResource",{board_id:e})),n}))}function b(e,t,n){return i=>(0,o.Z)({url:`/v3/board/sections/${t}/merge/${n}/`,method:"POST",data:{fields:["boardsection.id","boardsection.board()","board.id","board.blocking_actions"]}}).then((a=>Promise.all([i(v(e,t)),i((0,l.jB)("BoardSectionsRepinResource",{board_id:e})),i(m(n)),i((0,d.N8)(p.Z.BOARD_SECTION_PINS,n))]).then((()=>a))))}const x=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t}),k=(e,t)=>n=>a.Z.create("BoardSectionEditResource",{...t,section_id:e}).callCreate().then((e=>(n(x(0,t)),e.resource_response.data))),w=e=>t=>{const n={section_id:e};return a.Z.create("BoardSectionResource",n).callGet().then((e=>{var n;const i=(null===(n=e.resource_response)||void 0===n?void 0:n.data)||{id:"",title:""};return t(x(0,i)),e}))},S=(e,t,n,i)=>o=>{const r=a.Z.create("BoardSectionEditResource",{section_id:t}).callDelete();return o(((e,t,n,i)=>({type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:t,boardId:n,pinCount:i}}))(e,t,n,i)),r},P=(e,t,n)=>o=>{const r={board_id:e,initial_pins:t,name:n},s="BoardSectionResource";return a.Z.create(s,r).callCreate().then((n=>{const a=n.resource_response.data,c=(0,i.Fv)(a,u.Z[s]);return o((0,l.XM)(s,r,n,c)),o(g(e,a)),o((0,d.vX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[a.id],itemType:"boardsection"})),t.length&&o({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:a.id},pinIds:t}}),n}))},T=e=>t=>{const{source:n,target:o,pinIds:r}=e;if(t({type:"PINS_MOVE",payload:e}),n.boardlessPins||o.boardId!==n.boardId){const e={board_id:o.boardId,pin_ids:r,section_id:o.sectionId},t="BulkEditResource";return a.Z.create(t,e).callUpdate()}if(o.sectionId){const e={section_id:o.sectionId,pins:r},n="BoardSectionEditResource";return a.Z.create(n,e).callUpdate().then((a=>{const o=(0,i.Fv)(a.resource_response.data,u.Z[n]);return t((0,l.XM)(n,e,a,o)),a}))}const s={section_id:n.sectionId,pins:r};return a.Z.create("BoardSectionPinsResource",s).callDelete()},I=e=>t=>{t({type:"PINS_MOVE_ALL",payload:e});const{source:n,target:i,excludePinIds:o}=e,r={board_id:n.boardId,new_board_id:i.boardId,pin_ids:o,old_section_id:n.sectionId,new_section_id:i.sectionId};return a.Z.create("BulkEditSelectAllResource",r).callUpdate()},C=(e,t,n,i)=>a=>a(P(e,[],t)).then((t=>{const o=t.resource_response.data.id;return a(I({source:{boardId:e,sectionId:i},target:{boardId:e,sectionId:o},excludePinIds:n}))}))},911767:(e,t,n)=>{n.d(t,{$z:()=>V,Br:()=>x,Cr:()=>L,K8:()=>I,L1:()=>W,NH:()=>ne,OA:()=>G,RZ:()=>Y,Tq:()=>P,Xi:()=>B,YQ:()=>H,YV:()=>D,ZP:()=>F,aX:()=>M,eo:()=>w,fJ:()=>q,h6:()=>X,k8:()=>Q,md:()=>k,oG:()=>S,oL:()=>O,of:()=>C,rS:()=>ie,xH:()=>T,xQ:()=>A,xR:()=>K,xk:()=>j,yT:()=>b,yt:()=>ee,zC:()=>te,zS:()=>$});var i,a,o,r,l,s,d=n(702664),c=n(167912),u=n(690108),p=n(40045),h=n(970588),m=n(575794),g=n(756513),_=n(952055),v=n(248641),y=n(541268),f=n(274796);function b(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function x(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function k(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function w({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}}}const S=(e,t)=>n=>n((0,m.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function P(e,t,n){return(0,m.U)("BoardResource",{options:{board_id:e,field_set_key:t,...n?{orbac_subject_id:n}:{}}})}function T(e,t,n){return i=>(0,h.Z)({url:`/v3/boards/${e}/merge/${t}/`,method:"POST",data:n?{orbac_subject_id:n}:{}}).then((()=>Promise.all([i(w({boardId:e})),i(P(t,"pin_count")),i((0,y.N8)(f.Z.BOARD_SECTIONS,t))])))}function I(e){return t=>{e&&(0,v.Q)(e).forEach((e=>{t(e)}))}}const C=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),A=e=>S(e,"pin_count");function E(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function j(e,t){return n=>(n(E(e)),u.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function R(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function D(e,t){return n=>(n(R(e)),u.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}const L=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),F=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function M(e,t,n){const i={name:e,privacy:p.Z.BoardPrivacy.PUBLIC,username:t,...n?{orbac_subject_id:n}:Object.freeze({})};return e=>u.Z.create("BoardResource",i).callCreate().then((n=>{const i=n.resource_response.data;return e(t&&(0,g.jB)("BoardsResource",(0,_.Z)(t,!1))),i}))}function O(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}const z=(e,t,n)=>({type:"BOARD_INVITE_APPROVED_BY_VIEWER",payload:{boardId:e,isRequestToJoin:t,collaboratingUser:n}}),Z=(e,t)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),N=(e,t,n)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:n}}),U=(e,t,n,i)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:n,collaboratingUsers:i}}),B=(e,t=!1,n)=>i=>(i(z(e,t,n)),u.Z.create("BoardInviteResource",{board_id:e,invited_user_id:null==n?void 0:n.id}).callUpdate()),K=(e,t)=>n=>(n(Z(e,t)),u.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete()),V=(e,t,n)=>i=>(i(U(e,t,"new",n)),u.Z.create("BoardInviteResource",{board_id:e,invited_user_ids:n.map((({id:e})=>e))}).callCreate()),H=(e,t,n,i,a)=>o=>{var r,l;const s="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource";return o(N(e,null!==(r=null==i?void 0:i.id)&&void 0!==r?r:"",n)),u.Z.create(s,{board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(l=null==i?void 0:i.id)&&void 0!==l?l:"",...a?{orbac_subject_id:a}:{}}).callDelete().catch((()=>o(U(e,n,t,[i]))))},G=(e,t)=>()=>u.Z.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate(),W=(e,t,n,i)=>a=>{const o=u.Z.create("BoardResource",{board_id:n}).callDelete();return a(w({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i})),o},$=(e,t)=>n=>u.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then((i=>(n((0,y.Qv)("archived-boards",[{id:e,type:"board"}])),n(E(e,t)),i))),q=(e,t)=>n=>u.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then((i=>(n((0,y.Qv)(`profile-boards:${t}`,[{id:e,type:"board"}])),n(R(e)),i))),Y=()=>{const e=void 0!==i?i:i=n(495050),[t]=(0,c.useMutation)(e);return async e=>{const n={boardId:e};return await new Promise(((e,i)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&i(n[0]),e(t)},onError:e=>i(e)})}))}},J=()=>{const e=void 0!==a?a:a=n(489665),[t]=(0,c.useMutation)(e);return async(e,n,i)=>{const a={boardId:e,userId:n,ban:i||!1};return await new Promise(((e,n)=>{t({variables:{...a},onCompleted:(t,i)=>{i&&n(i[0]),e(t)},onError:e=>n(e)})}))}},X=()=>{const e=void 0!==r?r:r=n(45340),[t]=(0,c.useMutation)(e),i=(0,d.useDispatch)();return async(e,n,a)=>{const o={boardId:e,userId:(null==a?void 0:a.id)||""};return await new Promise(((r,l)=>{t({variables:{...o},onCompleted:(t,o)=>{o&&l(o[0]),i(z(e,n,a)),r(t)},onError:e=>l(e)})}))}},Q=()=>{const e=J();return(t,n)=>i=>(i(Z(t,n)),e(t,n))},ee=()=>{const e=void 0!==l?l:l=n(588206),[t]=(0,c.useMutation)(e);return async(e,n)=>{const i={boardId:e,collaboratorIds:n.map((({id:e})=>e)),message:""};return await new Promise(((e,n)=>{t({variables:{...i},onCompleted:(t,i)=>{i&&n(i[0]),e(t)},onError:e=>n(e)})}))}},te=()=>{const e=void 0!==s?s:s=n(224159),[t]=(0,c.useMutation)(e);return async(e,n)=>{const i={board:e,emails:n,message:""};return await new Promise(((e,n)=>{t({variables:{...i},onCompleted:(t,i)=>{i&&n(i[0]),e(t)},onError:e=>n(e)})}))}},ne=()=>{const e=ee();return(t,n,i)=>a=>(a(U(t,n,"new",i)),e(t,i))},ie=()=>{const e=J(),t=(()=>{const e=void 0!==o?o:o=n(706206),[t]=(0,c.useMutation)(e);return async(e,n)=>{const i={board:e,collaboratorIds:[n]};return await new Promise(((e,n)=>{t({variables:{...i},onCompleted:(t,i)=>{i&&n(i[0]),e(t)},onError:e=>n(e)})}))}})();return(n,i,a,o)=>r=>{var l,s;const d="accepted"===i?t:e;return r(N(n,null!==(l=null==o?void 0:o.id)&&void 0!==l?l:"",a)),d(n,null!==(s=null==o?void 0:o.id)&&void 0!==s?s:"").catch((()=>r(U(n,a,i,[o]))))}}},844689:(e,t,n)=>{n.d(t,{V:()=>r,u:()=>o});var i=n(690108),a=n(911767);const o=e=>t=>{const n={board_id:e};return i.Z.create("BoardResource",n).callGet().then((e=>{const n=e&&e.resource_response&&e.resource_response.data;return n&&t((0,a.yT)(n)),e}))};function r(e,t,n){return(o,r)=>{const{boards:l}=r(),s=l[e],d=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},c={allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description,name:t.name,privacy:t.privacy,sensitivity:t.sensitivity||null,...n?{orbac_subject_id:n}:Object.freeze({}),...d};return o((0,a.yT)({...c,id:e})),i.Z.create("BoardResource",{...c,board_id:e}).callUpdate().then((e=>{const n=e&&e.resource_response&&e.resource_response.data||t;return o((0,a.yT)(n)),e})).catch((e=>{throw s&&o((0,a.yT)(s)),e}))}}},952239:(e,t,n)=>{n.d(t,{DD:()=>u,lg:()=>p,Th:()=>m,YH:()=>s,wH:()=>l,IU:()=>h,L8:()=>c});var i=n(690108),a=n(970588),o=n(541268);var r=n(274796);function l({didItDataId:e,isLikedByMe:t}){return n=>((0,a.Z)({url:`/v3/did_it/${e}/like/`,method:t?"DELETE":"POST"}),n(function(e,t){return{type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:t}}}(e,!t)))}function s({didItDataId:e,isMarkedHelpfulByMe:t}){return n=>((0,a.Z)({url:`/v3/helpful/2/${e}/`,method:t?"DELETE":"POST"}),n(function(e,t){return{type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:t}}}(e,!t)))}function d(e){return{type:"USER_DID_IT_DATA_DELETE",payload:{id:e}}}function c(e,t){return{type:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}function u({aggregatedPinDataId:e,details:t,fromUnifiedComment:n,image_signatures:a,pin_id:l,username:s,updateParentDidItCount:d}){const u={aggregatedPinDataId:e,details:t,image_signatures:a,pin_id:l};return t=>i.Z.create("DidItActivityResource",u).callCreate().then((i=>{const a=i.resource_response.data;t({type:"PIN_DID_IT",payload:{id:l,value:!0}}),t({type:"USER_DID_IT_DATA_CREATE",payload:{user_did_it_data:a}}),t((0,o.vX)({feedId:e,feedType:n?r.Z.UNIFIED_COMMENTS:r.Z.TRIED_IT_FEED,itemIds:[a.id],itemType:a.type})),t((0,o.vX)({feedId:s,feedType:r.Z.TRIED_IT_FEED,itemIds:[a.id],itemType:a.type})),d&&t(c(e,1))}),(()=>{}))}function p({aggregatedPinDataId:e,feedType:t,id:n,isOwnedByMe:a,pinId:l,username:s,updateParentDidItCount:u}){return p=>{i.Z.create("DidItActivityResource",{user_did_it_data_id:n,pinId:l}).callDelete().then((()=>{a&&p(function(e){return{type:"PIN_DID_IT",payload:{id:e,value:!1}}}(l)),p(d(n)),p((0,o.EX)({feedId:null!=e?e:"",feedType:t||r.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),p((0,o.EX)({feedId:s,feedType:r.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),p((0,o.EX)({feedId:s,feedType:r.Z.UNIFIED_COMMENTS,itemIds:e?[e]:[],itemType:"userdiditdata"})),u&&p(c(n,-1))}),(()=>{}))}}function h({id:e,details:t,image_signatures:n,pinId:a}){const o={details:t,image_signatures:n,user_did_it_data_id:e,pin_id:a};return e=>{i.Z.create("DidItActivityResource",o).callUpdate().then((t=>{const n=t.resource_response.data;e(function(e){return{type:"USER_DID_IT_DATA_UPDATE",payload:{user_did_it_data:e}}}(n))}),(()=>{}))}}function m(e,t,n,i,l){return s=>{(0,a.Z)({url:`/v3/did_it/${n}/flag/`,method:"PUT",data:{reason:i,detailed_reasons:t,explanation:void 0}}).then((()=>{s(d(n)),e&&s((0,o.EX)({feedId:e,feedType:r.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),s((0,o.EX)({feedId:l,feedType:r.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"}))}),(()=>{}))}}},541268:(e,t,n)=>{function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function a(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:()=>r,N8:()=>a,Qv:()=>o,_f:()=>i,vX:()=>l});const o=(e,t,n=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}});function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function l(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},1731:(e,t,n)=>{n.d(t,{Z:()=>h,S:()=>p});var i=n(690108),a=n(911767),o=n(407264),r=n(541268),l=n(274796),s=n(820997);const d=e=>t=>{s.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t.bt("", "Please wait until the previous board action finishes.", " - ", undefined, true);default:return e.message}}(t,e))},c=e=>(0,r.N8)(e.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,e.sectionId||e.boardId);function u(e,t){const{source:n,target:i}=e;i.boardId!==n.boardId?(t((0,a.Tq)(n.boardId,"pin_count")),t((0,a.Tq)(i.boardId,"pin_count"))):n.sectionId&&i.sectionId||t((0,a.Tq)(i.boardId,"pin_count")),n.sectionId&&t((0,o.CE)(n.sectionId)),i.sectionId&&t((0,o.CE)(i.sectionId))}function p(e){return t=>{const{selectedPinIds:n,source:i,target:a}=e;t((0,r.EX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,r.vX)({feedId:a.sectionId||a.boardId,feedType:a.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:n,itemType:"pin"})),u(e,t)}}function h(e,t){return n=>function(e,t,n){const{inverseSelection:a,selectedPinIds:o,source:s,target:u,orbacSubjectId:p}=e;if(s.boardId===u.boardId&&(s.sectionId||null)===(u.sectionId||null))return Promise.reject();if(a){const e={board_id:s.boardId,new_board_id:u.boardId,old_section_id:s.sectionId||void 0,new_section_id:u.sectionId||void 0,pin_ids:o,orbac_subject_id:p};return i.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then((()=>Promise.all([t(c(s)),t(c(u))]))).catch(d(n))}{const e=(e,n)=>{t((0,r.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:o,itemType:"pin"})),t((0,r.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:o,itemType:"pin"}))};e(s,u);const a=()=>e(u,s);if(u.boardId===s.boardId){if(u.sectionId){const e={section_id:u.sectionId,pins:o,orbac_subject_id:p};return i.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch((e=>{a(),d(n)(e)}))}{const e={section_id:s.sectionId,pins:o,orbac_subject_id:p};return i.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch((e=>{a(),d(n)(e)}))}}{const e={board_id:u.boardId,section_id:u.sectionId||void 0,pin_ids:o,orbac_subject_id:p};return i.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch((e=>{a(),d(n)(e)}))}}}(e,n,t).then((()=>u(e,n)))}},535483:(e,t,n)=>{function i(e){return{type:"PIN_NAV_CONTEXT_CREATE",payload:e}}function a(){return{type:"PIN_NAV_CONTEXT_DELETE"}}n.d(t,{H:()=>a,k:()=>i})},894788:(e,t,n)=>{n.d(t,{M:()=>s,i:()=>d});var i=n(782677),a=n(690108),o=n(756513),r=n(446191),l=n(255655);const s=(e,t,n,i)=>({type:"PIN_ADD",payload:{pinId:e,boardId:t,boardSectionId:n,pinnerId:i}}),d=e=>t=>{const{method:n,guid:d,image_base64:c,image_url:u}=e;return((e,t)=>new Promise((n=>{e?(0,r.eR)(e).then((e=>{n(e)})):n(t)})))(c,u).then((r=>{const c={...e,method:"button"!==n||d?n:"button_external",image_url:r,image_base64:void 0},u="PinResource";return a.Z.create(u,c).callCreate().then((e=>{const n=(0,i.Fv)(e.resource_response.data,l.Z[u]);t((0,o.XM)(u,c,e,n));const a=e.resource_response.data,{board:{id:r},pinner:{id:d},section:p}=a,h=p&&p.id;return t(s(a.id,r,h,d)),e}))}))}},826260:(e,t,n)=>{function i(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}n.d(t,{R:()=>i})},540459:(e,t,n)=>{n.d(t,{L:()=>l,q:()=>s});var i=n(690108),a=n(911767),o=n(541268),r=n(274796);function l(e){return t=>{const{inSelectAll:n,selectedPinIds:l,orbacSubjectId:s,source:{boardId:d,sectionId:c}}=e,u=n?"BulkEditSelectAllResource":"BulkEditResource",p={board_id:d,section_id:c,pin_ids:l,orbac_subject_id:s};return t((0,a.xQ)(d)),t((0,o.EX)({feedId:c||d,feedType:c?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,inverseSelection:n,itemIds:l,itemType:"pin"})),i.Z.create(u,p).callDelete()}}const s=({pinId:e,boardId:t,boardSectionId:n,clientTrackingParams:a})=>(o,r)=>{const l=i.Z.create("PinResource",{id:e,client_tracking_params:a}).callDelete(),{session:{userId:s}}=r();return o(((e,t,n,i)=>({type:"PIN_DELETE",payload:{pinId:e,boardId:t,boardSectionId:n,userId:i}}))(e,t,n,s)),l}},16393:(e,t,n)=>{n.d(t,{Q:()=>o,a:()=>a});var i=n(970588);function a(e,t){return async n=>{const{resource_response:a}=await(0,i.Z)({url:`/v3/storypins/${e}/mentions/`,method:"DELETE"});return n(function(e,t){return{type:"DELETE_PIN_MENTION",payload:{pinId:e,userId:t}}}(e,t)),a}}function o(e){return async t=>{const{resource_response:n}=await(0,i.Z)({url:`/v3/aggregated_comments/${e}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),{data:a}=n;return t(function(e,t){return{type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:e,tagged_users:t}}}(a.id,a.tagged_users)),n}}},580691:(e,t,n)=>{n.d(t,{G3:()=>u,Gy:()=>c,Ps:()=>s,fA:()=>p,xQ:()=>d});var i=n(782677),a=n(690108),o=n(756513),r=n(255655);function l(e,t,n){return{type:"UPDATE_PIN_REACTION_COUNT",payload:{increment:t,reactionType:n,pinId:e}}}function s(e,t){return l(e,!1,t)}function d(e,t){return l(e,!0,t)}const c=(e,t,n,l,s)=>d=>{const c={pin_id:e,user_id:l,reaction_type:t,reaction_pin_id:n,action_type:"reaction",client_tracking_parameters:s},u="ReactionsResource";return a.Z.create(u,c).callUpdate().then((e=>{const t=(0,i.Fv)(e.resource_response.data,r.Z[u]);d((0,o.XM)(u,c,e,t))}))},u=(e,t,n,l)=>s=>{const d={pin_id:e,user_id:n,reaction_pin_id:t,action_type:"unreaction",client_tracking_parameters:l},c="ReactionsResource";return a.Z.create(c,d).callDelete().then((e=>{const t=(0,i.Fv)(e.resource_response.data,r.Z[c]);s((0,o.XM)(c,d,e,t))}))};function p(e,t,n){return{type:"PIN_UPDATE_REACTION_COUNT",payload:{id:e,increment:t,reactionType:n}}}},260070:(e,t,n)=>{n.d(t,{Cp:()=>s,FK:()=>l,H5:()=>f,MI:()=>m,O0:()=>h,QZ:()=>r,W:()=>v,WF:()=>c,Wz:()=>b,a5:()=>u,dz:()=>_,e0:()=>p,e2:()=>o,iW:()=>y,n1:()=>a,rm:()=>d,xu:()=>g});var i=n(988014);const a=()=>({type:"DISMISS_UNAUTH_SAVE"}),o=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),r=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),l=()=>({type:"HIDE_NAV_FOOTER"}),s=()=>({type:"SHOW_NAV_FOOTER"}),d=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),c=()=>({type:"SHOW_REPIN_ANIMATION"}),u=()=>({type:"HIDE_REPIN_ANIMATION"}),p=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),h=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),m=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),g=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),_=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),v=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),y=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},f=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),b=(e,t)=>{let n;return n=e?(0,i.bo)(e)?"today":(0,i.dr)(e)?"ideas":t&&(0,i.dZ)(e,t)?"own_section":t&&(0,i.J)(e,t)?"own_board":(0,i.OJ)(e)?"section":(0,i.am)(e)?"board":(0,i.L6)(e)?"closeup":(0,i.C$)(e)?"home":(0,i.cD)(e)?"profile":(0,i.En)(e)?"search":(0,i.$V)(e)?"topic":"":"",{type:"SET_LANDING_PAGE_TYPE",payload:n}}},427778:(e,t,n)=>{n.d(t,{KF:()=>c,ZN:()=>l,fv:()=>d,kE:()=>p,yA:()=>s});var i=n(690108),a=n(970588),o=n(446191);function r(e,t){return i.Z.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function l(e,t=null){return n=>{r(e,t).callCreate().catch((()=>n((0,o.P_)(e,!1)))),n((0,o.P_)(e,!0))}}function s(e,t=null){return async n=>{n((0,o.P_)(e,!0)),await r(e,t).callCreate().catch((t=>{throw n((0,o.P_)(e,!1)),t}))}}function d(e,t=null){return n=>{r(e,t).callDelete().catch((()=>n((0,o.P_)(e,!0)))),n((0,o.P_)(e,!1))}}function c(e,t=null){return async n=>{n((0,o.P_)(e,!1)),await r(e,t).callDelete().catch((t=>{throw n((0,o.P_)(e,!0)),t}))}}const u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),p=e=>t=>{e.length>0&&((0,a.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch((()=>t(u(e,!1)))),t(u(e,!0)))}},446191:(e,t,n)=>{n.d(t,{Ge:()=>d,JS:()=>r,OF:()=>v,P_:()=>l,Q_:()=>p,b8:()=>h,eR:()=>_,h2:()=>c,h6:()=>u});var i=n(690108),a=n(970588),o=n(336436);function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}const l=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),s=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),d=({id:e,orbacSubjectId:t,blockSource:n,blockContext:a})=>o=>(o(s(e,!0)),i.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:n,block_context:a}).callCreate().catch((()=>o(s(e,!1))))),c=e=>t=>(t(s(e,!1)),i.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch((()=>t(s(e,!0)))));function u(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}const p=(e,t)=>()=>i.Z.create("UserStateResource",{state:e,value:t}).callCreate(),h=(e,t,n)=>(i,r)=>{(0,a.Z)({url:"/v3/users/me/",method:"POST"}).then((()=>{n({event_type:48,object_id_str:r().session.userId}),e(),(0,o.Dm)()}),t)};const m=async(e,t,n)=>{var a;const o=await i.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(null!==(a=o.resource_response)&&void 0!==a&&a.data[e]){const i=o.resource_response.data[e],{status:a,signature:r}=i;if("processing"===a||"registered"===a)setTimeout((async()=>{m(e,t,n)}),5e3);else if("succeeded"===a){const e=((e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(r);t(e)}else n()}else n()},g=e=>new Promise(((t,n)=>{var a,o,r,l,s;a=e,o="pinimage",r=()=>{},l=e=>{t(e)},s=e=>{n(e)},(new FormData).append("img",a),i.Z.create("VIPResource",{type:o}).callCreate().then((e=>{var t;if(null!==(t=e.resource_response)&&void 0!==t&&t.data){const{upload_id:t,upload_url:n,upload_parameters:i}=e.resource_response.data,o=new XMLHttpRequest;o.open("POST",n,!0),o.onload=()=>{(e=>e>=200&&e<400)(o.status)?(r(100),m(t,l,s)):s()},o.upload.onprogress=e=>{const t=Math.round(100*e.loaded/e.total);r(t)};const d=new FormData;for(const e in i)d.append(e,i[e]);d.append("file",a),o.send(d)}}),(()=>{s()}))})),_=e=>new Promise(((t,n)=>{"string"==typeof e?e.startsWith("data")&&g(function(e,t=512){const n=e.split(";"),i=n[0].split(":")[1],a=n[1].split(",")[1],o=atob(a),r=[];for(let l=0;l<o.length;l+=t){const e=o.slice(l,l+t),n=new Array(e.length);for(let t=0;t<e.length;t+=1)n[t]=e.charCodeAt(t);const i=new Uint8Array(n);r.push(i)}return new Blob(r,{type:i})}(e)).then((e=>t(e))):n("Invalid Image")})),v=e=>()=>(0,a.Z)({url:"/v3/register/exists/",data:{email:e}})},255655:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(791621);const a={AggregatedCommentResource:i.rm,AggregatedCommentFeedResource:i.LR,AggregatedCommentReplyResource:i.rm,AggregatedCommentReplyFeedResource:i.LR,AggregatedActivityFeedResource:i.LR,BestPinsFeedAltResource:i.LR,BoardArchiveResource:i.LR,BoardCollaboratorsResource:i.LR,BoardContentRecommendationResource:i.LR,BoardFeedResource:i.LR,BoardFollowingResource:i.LR,BoardInviteResource:i.sf,BoardInvitesResource:i.Ht,BoardlessPinsResource:i.LR,BoardPickerBoardsResource:{all_boards:i.LR,boards_shortlist:i.LR},BoardSectionEditResource:i._F,BoardSectionsRepinResource:i.LR,BoardSectionsResource:i.LR,BoardsFeedResource:i.LR,BoardResource:i.IY,BoardSectionResource:i._F,BoardSectionPinsResource:i.LR,BoardToolsFeedResource:i.LR,ContactRequestsResource:i.LR,ConversationsResource:i.LR,ConversationMessagesResource:i.dq,DidItCommentsResource:i.LR,DidItLikedByResource:i.Gn,DidItUserFeedResource:i.LR,ExploreArticleBlockPinResource:i.LR,ExploreArticleBlockSearchResource:i.LR,ExploreArticleBlockUserResource:i.LR,ExploreArticleBlockUserDidItDataResource:i.LR,ExploreArticleResource:i.yg,FollowingFeedResource:i.LR,HolidaySpotlightRelatedFeedResource:i.LR,HolidaySpotlightResource:i.LR,InterestFollowingResource:i.LR,InterestResource:i.cC,MoreIdeasTabsBoardsResource:i.LR,NewsHubResource:i.LR,NewsHubDetailsResource:i.LR,NewsHubSummaryResource:i.t6,NuxInterestsResource:i.LR,NuxTopicToCreatorsResource:i.Gn,PinResource:i.Cj,PinCatalogResource:i.LR,PinsFromBrandResource:i.LR,ReactionsResource:i.fE,RelatedArticlesResource:i.LR,RelatedInterestsResource:i.LR,RelatedModulesResource:i.LR,RelatedPinFeedResource:i.LR,RelatedProductFeedResource:i.LR,RelatedStreamResource:i.LR,RepinResource:i.Cj,BaseSearchResource:{results:i.LR},SearchResource:i.LR,SectionToolsFeedResource:i.LR,ShareSuggestionsTypeaheadResource:{items:i.LR},ShoppingFeedModularizedResource:i.LR,StoryFeedResource:i.LR,StoryPinTaggedProductsResource:i.LR,SuggestedCreatorFollowsResource:i.Gn,TodayArticleFeedResource:i.LR,IdeasHubTodayArticlesResource:i.LR,TodayArticleResource:i.iF,TodayTabInterestFeedResource:i.LR,TodayTabResource:i.LR,TopicFeedResource:i.LR,UnifiedCommentsResource:i.LR,UserActivityPinsResource:i.LR,UserFollowingResource:i.LR,UserRecentActivityResource:i.LR,UserHomefeedResource:i.LR,UserPinsResource:i.LR,UserSettingsResource:i.EA,UserStoryPinsFeedResource:i.LR,UserResource:i.EA,VideosFeedResource:i.LR,VisualLiveSearchResource:{results:i.LR},VisualLiveSearchProductFeedResource:i.LR,VisualSearchFlashlightUnifiedResource:i.LR,SeoTier1CandidateResource:i.LR}},791621:(e,t,n)=>{n.d(t,{Cj:()=>d,EA:()=>o,Gn:()=>P,Ht:()=>S,IY:()=>s,LR:()=>I,_F:()=>p,cC:()=>f,dq:()=>m,fE:()=>u,iF:()=>y,rm:()=>r,sN:()=>T,sf:()=>b,t6:()=>w,yg:()=>_});var i=n(782677);const a=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),o=new i.fK.Entity(a.user),r=new i.fK.Entity(a.aggregatedComment,{user:o,tagged_users:[o]}),l=new i.fK.Entity(a.article),s=new i.fK.Entity(a.board),d=new i.fK.Entity(a.pin),c=new i.fK.Entity(a.reaction),u=new i.fK.Array(c),p=new i.fK.Entity(a.boardsection),h=new i.fK.Entity(a.conversationMessage,{sender:o,users:[o],board:s,pin:d,user:o}),m=new i.fK.Array(h),g=new i.fK.Entity(a.contactrequest),_=new i.fK.Entity(a.story),v=new i.fK.Entity(a.triedit),y=new i.fK.Entity(a.todayArticle,{article_creator_user:o,content_pin:d,content_pin_official_user:o,video_pin:d}),f=new i.fK.Entity(a.topic,{},{processStrategy:e=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),b=new i.fK.Entity(a.invite,{invited_by_user:o,invited_user:o,board:s},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),x=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"explorearticle":return"article";case"news":return"notification";case"interest":case"klp_featured_data":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"todayarticle":return"todayArticle";default:return e.type}},k=new i.fK.Union({user:o,board:s,invite:b,pin:d,topic:f,triedit:v},x),w=new i.fK.Entity(a.notification,{content_items:[{content_object:k}],header_icon_objects:[k]}),S=new i.fK.Array(b),P=new i.fK.Array(o),T=new i.fK.Array(s),I=new i.fK.Array({aggregatedComment:r,article:l,board:s,boardsection:p,contactrequest:g,conversationMessage:h,notification:w,pin:d,story:_,todayArticle:y,topic:f,triedit:v,user:o},x,(e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}}));_.define({objects:I})},274796:(e,t,n)=>{n.d(t,{Z:()=>i});const i={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed",INTEREST_TAB_FEED:"interestTabFeed"}},519218:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(702664),a=n(616550),o=n(883119),r=n(563962),l=n(788241),s=n(536042),d=n(860438),c=n(846226),u=n(98736),p=n(618569),h=n(785893);function m({alignIconLeft:e,bgColor:t,color:n,disableRedirect:m=!1,fallbackUrl:g,icon:_="arrow-back",onTouch:v,padding:y,placement:f,shouldUseFallbackUrl:b,size:x="lg",viewParameter:k,viewType:w}){const S=(0,s.ZP)(),P=(0,a.useHistory)(),T=(0,a.useLocation)(),I=(0,i.useSelector)((e=>e.session.isAuthenticated)),C=(0,r.Z)(),A=(0,p.Z)(),{viewType:E,viewParameter:j}=(0,l.SU)(),[R,D]=w?[w,k]:[E,j],L=()=>{const e=d.Z.getItem("_unauthVisitedPages");T.key||"/ideas"!==g?(0,u.My)(`pinner_conversion.back_button.${String(null==e?void 0:e[0].pageType)}`):(0,u.My)("pinner_conversion.back_button.no_history"),(0,u.My)(`mweb_back_button_click.${String(f)}.is_auth_${String(I)}`),A({action:"click",item:"back-button"}),R&&C({view_type:R,view_parameter:D,element:34,event_type:102}),v&&v(),m||((!T.key||T.state&&"redirect"===T.state.referrer||b)&&g?P.push(g):T.pathname.includes("/password/reset/")&&T.search&&T.search.includes("?nativeShouldDismiss=true")?P.push("/login/?dismissWebview=true"):P.goBack())};return(0,h.jsx)(c.Z,{id:"back-button",children:e?(0,h.jsx)(o.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===_?-1:-2,children:(0,h.jsx)(o.hU,{accessibilityLabel:S.bt("", "Back", "navigation button", undefined, true),bgColor:t,iconColor:n||t&&!["white","lightGray","transparent"].includes(t)?n:"gray",icon:_,onClick:L,padding:"auto"!==y?y:2,size:x})}):(0,h.jsx)(o.hU,{accessibilityLabel:S.bt("", "Back", "navigation button", undefined, true),bgColor:t,iconColor:n||t&&!["white","lightGray","transparent"].includes(t)?n:"gray",icon:_,onClick:L,padding:"auto"!==y?y:2,size:x})})}},648609:(e,t,n)=>{n.d(t,{A:()=>i});const i=e=>{const t=e.rich_metadata;return t?t.products?144:t.article?141:t.recipe?145:139:140}},648575:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(690108),a=n(526007),o=n(648609);function r({history:e,i18n:t,logContextEvent:n,onSuccess:r,onUndo:l,originalPinId:s,pinId:d,trackingParams:c,disableRepinAnimation:u,showNewUserSavetoProfileAnimation:p,showRepinConfirmation:h,historyPush:m,savePinId:g}){return(_,v)=>{const{pins:y,session:f}=v(),{userId:b}=f,x=y[d],k={name:t.bt("", "Quick Saves", "quickSave.boardName", undefined, true),layout:"quick_saves",protected:!1,return_existing:!0,user_id:b};return i.Z.create("BoardResource",k).callCreate().then((i=>{var v;const y=i.resource_response.data;return new a.Z({boardId:y.id,dispatch:_,isQuickSave:!0,history:e,i18n:t,onSuccess:r,onUndo:l,originalPinId:s,pinId:d,section:void 0,showNewUserSavetoProfileAnimation:p,showRepinToasts:e=>h?h(e,u):void 0,trackingParams:c,userId:f.userId,historyPush:m,savePinId:g,pinData:{trackingParams:x?x.tracking_params:void 0,viewParameter:x?(0,o.A)(x):void 0,pinnedToBoardId:x?null===(v=x.pinned_to_board)||void 0===v?void 0:v.id:void 0}}).processRepin(n)}))}}},682451:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(550140),a=n(844689),o=n(407264),r=n(540459),l=n(785893);const s=({boardId:e,boardSectionId:t,clientTrackingParams:n,dispatch:s,i18n:d,newPinId:c,onError:u,onSuccess:p,originalPinId:h,shouldRefresh:m=!1,showToast:g,sourcePinId:_,undoSavedPin:v})=>s((0,r.q)({pinId:c,boardId:e,boardSectionId:t,clientTrackingParams:n})).then((()=>{h&&v(h),v(_),m&&(t&&s((0,o.A4)(t)),e&&s((0,a.u)(e))),g((({hideToast:e})=>(0,l.jsx)(i.ZP,{text:d.bt("Pin ", "Pin removed!", "Utils.Unsave.Success", undefined, true),onHide:e}))),p&&p()})).catch((()=>{g((({hideToast:e})=>(0,l.jsx)(i.ZP,{type:"error",text:d.bt(" Pin ", "Sorry! There was an error removing your Pin.", "Utils.Unsave.Error", undefined, true),onHide:e}))),null==u||u()}))},410834:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(702664),a=n(616550),o=n(563962),r=n(536042),l=n(675689),s=n(618569),d=n(493876),c=n(230910),u=n(772356),p=n(624524),h=n(471819),m=n(712968);function g({embedSrc:e,embedType:t,hasRichMetadata:n,hasRichMetadataProducts:g,hasRichMetadataArticle:_,hasRichMetadataRecipe:v,images:y,isFromUnauthContextMenu:f,isStoryPin:b,pinId:x,attributionLabel:k}){var w;const S=(0,o.Z)(),P=(0,s.Z)(),{isAuthenticated:T,userId:I}=(0,i.useSelector)((({session:e})=>e)),C=(0,h.Z)(),A=(0,r.ZP)(),E=(0,m.mN)()(I),j=(0,a.useLocation)();f=null!==(w=f)&&void 0!==w&&w;const R=(0,d.Z)({embedSrc:e,embedType:t,images:y,pinId:x,isFromUnauthContextMenu:f,attributionLabel:k});return e=>{(0,d.E)({action:"save_button_click",isAuthenticated:T}),f||S({view_type:3,view_parameter:x?(0,c.CK)({hasRichMetadata:n,hasRichMetadataProducts:g,hasRichMetadataArticle:_,hasRichMetadataRecipe:v}):67,element:48,event_type:102,aux_data:{...T?{login_state:(0,u.xT)(E)?l.Z.LIMITED:l.Z.DEFAULT}:{}}}),b&&S({component:229,element:10943,event_type:102,view_type:3,view_parameter:157}),T||(e.preventDefault(),R&&R.onSave(),P({action:"click",item:"save-button"})),C({fn:()=>{},modalHeader:(0,p.Bx)(A),nextLocation:(0,p.Qj)(j)})(e)}}},467037:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(702664),a=n(493876),o=n(252315);function r({embedSrc:e,embedType:t,images:n,pinId:r,pinnerId:l}){var s;const{isAuthenticated:d,userId:c}=(0,i.useSelector)((({session:e})=>e)),u=(0,o.M)(),p=(0,a.Z)({embedSrc:e,embedType:t,images:n,pinId:r});return!!r&&(d?!!(l===c||null!=u&&u.isSaved(r)):null!==(s=null==p?void 0:p.isSaved)&&void 0!==s&&s)}},133835:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(702664),a=n(616550),o=n(536042),r=n(63262),l=n(493876),s=n(348597),d=n(471819),c=n(682451),u=n(252315);function p({boardId:e,embedSrc:t,embedType:n,images:p,pinId:h,pinnerId:m,pinnedToBoardId:g,pinSectionId:_,trackingParams:v,showSingleToast:y,onError:f,shouldRefresh:b=!0}){const x=(0,i.useDispatch)(),k=(0,d.Z)(),w=(0,r.F9)()[y?"showOneToast":"showToast"],S=(0,o.ZP)(),P=(0,l.Z)({embedSrc:t,embedType:n,images:p,pinId:h}),T=(0,a.useHistory)(),I=(0,a.useLocation)(),C=(0,u.M)(),{isAuthenticated:A,userId:E}=(0,i.useSelector)((({session:e})=>e)),j=(0,s.Z)(I.state?I.state.trackingParams:"",v),R=k({fn:()=>{var t;if(!h||!e||!m)return void(null==f||f());const n=m===E,i=!n&&(null==C?void 0:C.getSavedPinId(h))||h,a=!n&&g?g:e,o=n?T.goBack():void 0;(0,c.Z)({boardId:a,boardSectionId:null!=_?_:"",clientTrackingParams:j,dispatch:x,i18n:S,newPinId:i,onError:f,onSuccess:o,shouldRefresh:b,showToast:w,sourcePinId:h,undoSavedPin:null!==(t=null==C?void 0:C.unsave)&&void 0!==t?t:()=>{}})}});return A?R:(null==P?void 0:P.onUnsave)||(()=>{})}},252315:(e,t,n)=>{n.d(t,{M:()=>l,Q:()=>s});var i=n(667294),a=n(583592),o=n(785893);const{Provider:r,useMaybeHook:l}=(0,a.Z)("RepinContext");function s({children:e}){const[t,n]=(0,i.useState)(Object.freeze({})),a=(0,i.useMemo)((()=>({getSavedPinId:e=>t[e],isSaved:e=>!!t[e],save:(e,t)=>n((n=>({...n,[e]:t}))),unsave:e=>n((t=>({...t,[e]:null})))})),[t]);return(0,o.jsx)(r,{value:a,children:e})}},832400:(e,t,n)=>{n.d(t,{H:()=>o,I:()=>a});var i=n(583592);const{Provider:a,useHook:o}=(0,i.Z)("ScreenSize")},357565:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var i=n(667294),a=n(616550),o=n(883119),r=n(40660),l=n(222443),s=n(388011),d=n(550140),c=n(536042),u=n(988014),p=n(245410),h=n(670640),m=n(204125),g=n(785893);function _({size:e,iconColor:t,backgroundColor:n,disabled:i,onClick:a}){const r=(0,c.ZP)(),l=48===e?"lg":"xl";return(0,g.jsx)(o.hU,{accessibilityLabel:r.bt("", "Copy Link", "shareMenu.icon.accessibilityLabel.copy", undefined, true),bgColor:n,icon:"link",iconColor:t||n&&!["white","lightGray","transparent"].includes(n)?t:"gray",size:l,disabled:i,onClick:a})}var v=n(63262),y=n(651849),f=n(549739);const b=3e3;function x({backgroundColor:e,iconColor:t,iconSize:n,iconWrapperWidth:x,isCloseupActionBar:k,marginEnd:w,onClick:S,sharedObject:P,spaceBelowIcon:T,viewType:I,viewParameter:C,relayEnvironment:A}){const E=(0,c.ZP)(),{logContextEvent:j}=(0,s.v)(),{checkExperiment:R}=(0,p.F)(),D=R("web_share_menu_logging").anyEnabled,L=(0,v.F9)(),[F,M]=(0,i.useState)(""),[O,z]=(0,i.useState)(!1),[Z,N]=(0,i.useState)(!1),U=(0,a.useLocation)(),B=(0,l.Z)(),K=E.bt("", "Link copied!", "shareSheet.socialBar.copyLinkButton.LinkCopied", undefined, true),V=e=>{k?navigator.clipboard.writeText(e).then((()=>{var e;e=E.bt("", "Copied link to your clipboard to share", "web.unauth.pinbar.copylink", undefined, true),L.showToast((({hideToast:t})=>(0,g.jsx)(o.xu,{top:!0,children:(0,g.jsx)(d.ZP,{duration:b,onHide:t,text:e})})))})):navigator.clipboard.writeText(e).then((()=>{N(!0),setTimeout((()=>{N(!1)}),b)}))},H=async()=>{if(F)return void V(F);z(!0);const e=(e=>{let t;if("pin"===P.type&&P.id){const e={shouldTrackForPrevLocation:!0};t=B(P.id,e)}return{invite_category:3,invite_channel:e,object_type:P.type,object_id:P.id,name:P.name,description:P.description||"",path:P.url,picture:P.imageUrl,client_tracking_params:t}})(12);h.Z.createShareInviteData(e,A).then((t=>{const{invite_url:n}=t;z(!1),n&&(M(n),h.Z.logShareInvite(e,t,A),V(n))}))},G=()=>{if(H(),D){const e=m.yF[P.type];e||r.Z.increment("social.web.copyLinkButton.sharedObject.type",void 0,{type:P.type}),k&&j({event_type:101,component:14147,element:13103,object_id_str:P.id,view_type:I,view_parameter:C,aux_data:e?{invite_object:e}:void 0}),S&&S()}};return(0,u.am)(U)&&k&&R("web_copy_link_btn_replace").anyEnabled?(0,g.jsx)(o.xu,{marginStart:1,children:(0,g.jsx)(o.zx,{accessibilityLabel:E.bt("", "Copy link", "shareSheet.socialBar.copyLinkButton.CopyLink", undefined, true),text:E.bt("", "Copy link", "shareSheet.socialBar.copyLinkButton.CopyLink", undefined, true),onClick:()=>G(),size:"lg",color:"gray",fullWidth:!0})}):(0,g.jsxs)(f.Z,{isCloseupActionBar:!0,width:x||n,marginEnd:w||!1,children:[(0,g.jsx)(o.xu,{alignItems:k?"center":"stretch",display:k?"flex":"block",marginBottom:T,width:k?"100%":"auto",children:(0,g.jsx)(o.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:n,children:(0,g.jsx)(_,{backgroundColor:e,iconColor:t,size:n,onClick:G,disabled:O})})}),!k&&(0,g.jsx)(y.Z,{text:Z?K:E.bt("", "Copy link", "shareSheet.socialBar.copyLinkButton.CopyLink", undefined, true)})]})}},646827:(e,t,n)=>{n.d(t,{d:()=>i});const i={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article"}},504506:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Pe});var i=n(667294),a=n(883119),o=n(40660),r=n(388011),l=n(788241),s=n(245410),d=n(204125),c=n(589665),u=n(690108),p=n(550140),h=n(536042),m=n(63262),g=n(802071),_=n(329689),v=n(384722),y=n(336331),f=n(510525);const b="200",x=48,k=26,w=2,S=81,P=49,T=4,I=9,C=3,A=1,E=(T+1)*(x+k)+2*C*4,j="error";var R=n(819079),D=n(621699),L=n(630089),F=n(846226),M=n(785893);function O({idx:e,item:t,onSendMessage:n,onViewConversation:o,sentHistory:d,objectAttachment:u,component:p}){var m;const g=(0,h.ZP)(),{logContextEvent:_}=(0,r.v)(),[v,y]=(0,i.useState)(!1),{viewType:f,viewParameter:b}=(0,l.SU)(),S=t.id||"string"==typeof t.email&&t.email||"",P=d[S]===j,T=Object.prototype.hasOwnProperty.call(d,S)&&!P,I=null!==(m=d[S])&&void 0!==m?m:"";(0,i.useEffect)((()=>{P&&y(!1)}),[P]);let C="";const{full_name:A,email:E}=t;"string"!=typeof A||A.match(/^\s*$/)?"string"!=typeof E||E.match(/^\s*$/)||(C=E):C=A;let R,O,z="";T?z=g.bt("", "View chat", "shareSheet.ContactItem.viewChat", undefined, true):v&&(z=g.bt("", "Sent", "shareSheet.ContactItem.sent", undefined, true)),"pinner"===u.type||"user"===u.type?(R=13530,O=13532):"board"===u.type?(R=13527,O=13529):(R=13524,O=13526);const{checkExperiment:Z}=(0,s.F)(),N=Z("web_share_show_more_contacts").anyEnabled;return(0,M.jsx)(a.xu,{"data-test-id":"sharesheet-contact-item",width:x+k,marginBottom:5,children:(0,M.jsx)(a.iP,{onTap:T?()=>{_({view_type:f,view_parameter:b,event_type:10399,component:p,element:O}),o(I)}:()=>{_({event_type:101,component:13029,element:1039,aux_data:{result_index:e+1,rs:t.debug_reason.reason}}),_({view_type:f,view_parameter:b,event_type:10399,component:p,element:R,aux_data:{result_index:e+1,rs:t.debug_reason.reason}}),y(!0),n(t)},children:(0,M.jsxs)(a.kC,{direction:"column",alignItems:"center",children:[(0,M.jsxs)(a.xu,{alignItems:"center","data-test-id":v?"sharesheet-viewchat-link":"sharesheet-contact-item-button",display:"flex",height:x,justifyContent:"center",marginBottom:w,width:x,children:[v&&(0,M.jsx)(a.xu,{alignItems:"center",color:"transparentDarkGray","data-test-id":"sharesheet-contact-item-sent-icon",display:"flex",height:x,justifyContent:"center",position:"absolute",rounding:"circle",width:x,zIndex:new a.Ry(c.fe),children:(0,M.jsx)(a.JO,{accessibilityLabel:(0,L.Wc)(g.bt(" {{recipientName}}", "Sent to {{recipientName}}", "shareSheet.ContactItem.sentIcon.accessibilityLabel", undefined, true),{recipientName:C}),icon:"check",color:"light",size:24})}),(0,M.jsx)(D.Z,{size:"fit",src:t.image_large_url,name:C})]}),(0,M.jsxs)(a.xu,{"data-test-id":"sharesheet-contact-item-label",width:N?"100%":x,paddingX:N?1:void 0,children:[(0,M.jsx)(a.xv,{lineClamp:1,size:"100",align:"center",children:C}),(0,M.jsx)(a.xv,{color:"subtle",size:"100",align:"center",children:(0,M.jsx)(F.Z,{id:"contact-send-status",children:z})})]})]})})})}var z=n(881610);function Z(e){var t;const{logContextEvent:n}=(0,r.v)(),o=(0,h.ZP)(),{onHide:d,onSendMessage:c,onShowImportContacts:u,objectAttachment:p,sentHistory:m}=e,{isLoaded:g}=(0,R.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}),{checkExperiment:_}=(0,s.F)(),v=_("web_share_show_more_contacts").anyEnabled?I:T,{shareSuggestions:y}=(0,z.E)(),C=(null===(t=y[""])||void 0===t?void 0:t.slice(0,v))||[],A=C.length>0,{viewType:E,viewParameter:j}=(0,l.SU)();(0,i.useEffect)((()=>{if(g){n({event_type:A?7511:7512,component:56,view_type:70,view_parameter:256})}}),[A,n,g]);const{dropdownOpen:D,conversationOpen:L,newMessageOpen:F}=(0,f.Z5)(),Z=e=>{L(e),D(),d()},N=C.map(((t,n)=>{const i=`${t.id||t.email||n}`,a={item:t,idx:n,onSendMessage:c,onViewConversation:Z,sentHistory:m,objectAttachment:p},{component:o}=e;return(0,M.jsx)(O,{...a,component:o},i)})),U=!A&&!g;return(0,M.jsxs)(a.kC,{direction:"column",children:[(0,M.jsx)(a.kC,{alignItems:"center",height:P,justifyContent:"center",children:(0,M.jsx)(a.xv,{align:"center",size:b,weight:"bold",children:o.bt(" Pinerest ", "Send on Pinterest", "ContactsSuggestions.Header.text", undefined, true)})}),(0,M.jsx)(a.kC,{flex:"none",minHeight:S,justifyContent:U?"center":void 0,children:U?(0,M.jsx)(a.xu,{paddingY:2,children:(0,M.jsx)(a.$j,{accessibilityLabel:o.bt("", "Loading Conversation Messages", "SendObject.contactList.spinner", undefined, true),show:!0})}):(0,M.jsxs)(a.kC,{wrap:!0,children:[(0,M.jsxs)(a.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:x+k,children:[(0,M.jsx)(a.xu,{height:x,marginBottom:w,width:x,"data-test-id":"search-for-users-button",children:(0,M.jsx)(a.hU,{accessibilityLabel:o.bt("", "Search for users", "ContactsSuggestsions.SearchIcon.accessibilityLabel", undefined, true),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:()=>{e.onSearchClick&&e.onSearchClick();const{component:t}=e;let i;i="pinner"===p.type||"user"===p.type?13531:"board"===p.type?13528:13525,n({view_type:E,view_parameter:j,event_type:10399,component:t,element:i}),F(p),D(),d()},size:"lg"})}),(0,M.jsx)(a.xv,{lineClamp:1,size:"100",children:o.bt("", "Search", "ContactsSuggestions.SearchOption.text", undefined, true)})]}),A?N:(0,M.jsxs)(a.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:x+k,children:[(0,M.jsx)(a.xu,{height:x,marginBottom:w,width:x,children:(0,M.jsx)(a.hU,{accessibilityLabel:o.bt("", "Search for users", "ContactsSuggestsions.SearchIcon.accessibilityLabel", undefined, true),bgColor:"lightGray",icon:"people",iconColor:"darkGray",onClick:u,size:"lg"})}),(0,M.jsx)(a.xv,{lineClamp:1,size:"100",children:o.bt("", "Import", "ContactsSuggestions.ImportOption.text", undefined, true)})]})]})})]})}function N(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridProductDetailPage":case"ShoppingGridShippedMetadata":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;default:return e}}var U=n(614481),B=n(646827);function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class V extends i.Component{constructor(...e){super(...e),K(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),K(this,"handleSendEmail",((e,t)=>{if(e){const n={type:"email_share_suggestion",id:"",email:e,debug_reason:{reason:"",readable_reason:""}};this.props.onSendMessage(n,t)}})),K(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})})),K(this,"handleEmailValueChange",(({value:e})=>{this.setState({emailValue:e})}))}renderCloseButton(){const{i18n:e,onCancelDraft:t}=this.props;return(0,M.jsx)(a.hU,{accessibilityLabel:e.bt("", "Cancel share to user", "accessibility label for close button", undefined, true),icon:"arrow-back",onClick:t,size:"sm",iconColor:"gray"})}render(){const{width:e}=this.props;return(0,M.jsxs)(a.xu,{display:"flex",direction:"column",column:12,paddingX:4,paddingY:2,width:e,color:"default",children:[(0,M.jsxs)(a.xu,{display:"flex",alignItems:"center",paddingY:4,children:[this.renderCloseButton(),(0,M.jsx)(a.xu,{flex:"grow",marginEnd:8,children:(0,M.jsx)(a.xv,{align:"center",weight:"bold",children:this.props.i18n.bt("", "Send to", "shareSheet.SendToEmail.label", undefined, true)})})]}),(0,M.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,M.jsx)(a.xu,{paddingY:1,marginBottom:4,children:(0,M.jsx)(a.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n.bt("", "Enter email address", "Email address to send to", undefined, true),value:this.state.emailValue||"",rows:1})}),(0,M.jsx)(a.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n.bt("", "Add a message", "shareSheet.SendToEmail.textareaPlaceholder", undefined, true),value:this.state.textValue||""}),(0,M.jsx)(a.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,M.jsx)(a.zx,{size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:this.props.i18n.bt("", "Send", "shareSheet.SendToEmail.sendButton", undefined, true),disabled:!(0,U.Z)(this.state.emailValue)})})]})]})}}function H(e){const t=(0,h.ZP)();return(0,M.jsx)(V,{...e,i18n:t})}var G=n(167912),W=n(222443),$=n(49387),q=n(282802),Y=n(670640),J=n(512403),X=n(269758),Q=n(894637),ee=n(757551),te=n(343226),ne=n(320634),ie=n(17330),ae=n(357565);function oe({size:e=48}){return(0,M.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,M.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,M.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,M.jsx)("path",{d:"M39 19.5c0 1.381-1.119 2.5-2.5 2.5S34 20.881 34 19.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5ZM18.5 28c0-.69-.56-1.25-1.25-1.25S16 27.31 16 28s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25ZM26.75 38.75c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25S28.69 40 28 40s-1.25-.56-1.25-1.25Z",fill:"#E60023"}),(0,M.jsx)("path",{d:"M29.25 17.25c0 .69-.56 1.25-1.25 1.25s-1.25-.56-1.25-1.25S27.31 16 28 16s1.25.56 1.25 1.25ZM17 36.5c0-1.381 1.119-2.5 2.5-2.5s2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5-2.5-1.119-2.5-2.5ZM38.75 26.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25S40 28.69 40 28s-.56-1.25-1.25-1.25Z",fill:"#FFD63F"}),(0,M.jsx)("path",{d:"M19.5 22c1.381 0 2.5-1.119 2.5-2.5S20.881 17 19.5 17 17 18.119 17 19.5s1.119 2.5 2.5 2.5ZM36.5 34c-1.381 0-2.5 1.119-2.5 2.5s1.119 2.5 2.5 2.5 2.5-1.119 2.5-2.5-1.119-2.5-2.5-2.5Z",fill:"#46CC88"}),(0,M.jsx)("path",{d:"M28 21c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7Z",fill:"#3869FF"})]})}var re=n(651849),le=n(549739);function se({iconSize:e,iconWrapperWidth:t,marginBottom:n,marginEnd:i,onCreatePincodeClick:o,sharedObject:r}){const l=(0,h.ZP)(),s=(0,g.Z)();return o&&[B.d.BOARD,B.d.PINNER,B.d.USER].includes(r.type)&&s.isAuth&&(r.id===s.id||s.isEmployee)?(0,M.jsxs)(le.Z,{width:t,marginEnd:i,children:[(0,M.jsx)(a.xu,{marginBottom:n,children:(0,M.jsx)(a.iP,{fullWidth:!1,onTap:o,children:(0,M.jsx)(oe,{size:e})})}),(0,M.jsx)(re.Z,{text:l.bt("Pin ", "Pincode", "Share via pincode", undefined, true)})]},"pincode"):null}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ce={backgroundColor:"#ffffff",border:"none",padding:0},ue=new Set(["JP","TW","TH"]),pe=(e,t)=>{(0,$.default)((t=>{t&&(t.getUserID()?e():t.login((()=>{e()})))}),t)};class he extends i.Component{constructor(...e){super(...e),de(this,"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),de(this,"logShareInviteLink",(()=>{const{copyLinkLogged:e,inviteData:t}=this.state,n=this.getShareOptions(12);e||(Y.Z.logShareInvite(n,t,this.props.relayEnvironment),this.setState({copyLinkLogged:!0}))}))}componentDidMount(){this.getWhatsAppURL()}getShareOptions(e){let t;const{sharedObject:n,getClientTrackingParams:i}=this.props;if("pin"===n.type&&n.id){const e={shouldTrackForPrevLocation:!0};t=i(n.id,e)}return{invite_category:3,invite_channel:e,object_type:n.type,object_id:n.id,name:n.name,description:n.description||"",path:n.url,picture:n.imageUrl,client_tracking_params:t}}getWhatsAppURL(){const e=this.getShareOptions(10);Y.Z.createShareInviteData(e,this.props.relayEnvironment).then((e=>{const t=`${e.title}\n${e.invite_url}`;if(t){const n=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,ie.Z)(this.props.sharedObject.url)})}))}checkWritePermissions(){return!!this.props.viewer.isWriteBanned}handleSocialShareClick(e,t){if(this.checkWritePermissions())return;const{onCreatePincodeClick:n,onExternalSend:i,logContextEvent:a,viewType:r,viewParameter:l,inShareMenuLoggingExp:s,sharedObject:c,component:u}=this.props;let p=s?d.cc[t]:46;"facebook"===e||5===t?(this.openFacebookDialog(),s||(p=257)):"twitter"===e||9===t?(this.openTwitterDialog(),s||(p=256)):"messenger"===e||6===t?(this.openFbMessengerDialog(),s||(p=950)):"whatsapp"===e||10===t?(this.openWhatsAppDialog(),s||(p=951)):"pincode"===e||16===t?n&&n():"copylink"===e||12===t?(this.openShareUrlLink(),s||(p=100)):"email"===e||1===t?(this.openEmailDialog(),s||(p=258)):"line"!==e&&8!==t||(this.openLineDialog(),s||(p=952)),i&&i();const h=d.yF[c.type];h||o.Z.increment("social.web.legoShareSocialBar.sharedObject.type",void 0,{type:c.type}),a({event_type:101,component:s?14121:153,element:p,object_id_str:s?c.id:void 0,view_type:s?r:void 0,view_parameter:s?l:void 0,aux_data:s?{invite_object:h}:void 0});const m={board:d.LO,pinner:d.Pu,user:d.Pu,pin:d.dB,did_it:d.dB,today_article:d.dB};a({event_type:10399,component:u,object_id_str:c.id||void 0,view_type:r,view_parameter:l,aux_data:{invite_object:h},element:m[c.type][t]})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){const{unauthId:e,viewer:t}=this.props;pe((()=>{Y.Z.shareFacebookInvite({options:this.getShareOptions(5),unauthId:e,viewer:t},this.props.relayEnvironment)}),t)}openFbMessengerDialog(){const{unauthId:e,viewer:t}=this.props;pe((()=>{Y.Z.shareFbMessengerInvite({options:this.getShareOptions(6),unauthId:e,viewer:t},this.props.relayEnvironment)}),t)}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(Y.Z.logShareInvite(e,this.state.whatsappInviteData,this.props.relayEnvironment),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){Y.Z.shareTwitterInvite(this.getShareOptions(9),this.props.relayEnvironment)}openLineDialog(){Y.Z.shareLineInvite(this.getShareOptions(8),this.props.relayEnvironment)}renderEmail(){const e=x,t=x+k,n=w;return(0,M.jsxs)(le.Z,{width:t,marginEnd:!1,children:[(0,M.jsx)(a.xu,{display:"inlineBlock",marginBottom:n,"data-test-id":"email-share-button-auth",children:(0,M.jsx)("button",{"aria-label":this.props.i18n.bt("", "Share on Email", "sharesheet.shareSocialBar.ShareEmail", undefined, true),onClick:()=>this.handleSocialShareClick("email",1),style:ce,children:(0,M.jsx)(J.Z,{size:e})})}),(0,M.jsx)(re.Z,{text:this.props.i18n.bt("", "Email", "Share via email", undefined, true)})]},"email")}renderShareOptions(){const{i18n:e,onCreatePincodeClick:t,sharedObject:n,showLineShare:o,showMessengerShare:r,showEmailOption:l,viewType:s,viewParameter:d}=this.props,c=x,u=x+k,p=w;return(0,M.jsx)(i.Fragment,{children:(0,M.jsxs)(a.kC,{justifyContent:"start",wrap:!0,children:[o&&(0,M.jsxs)(le.Z,{width:u,marginEnd:!1,children:[(0,M.jsx)(a.xu,{marginBottom:p,children:(0,M.jsx)("button",{"aria-label":e.bt(" LINE ", "Share on LINE", "sharesheet.shareSocialBar.ShareLine", undefined, true),onClick:()=>this.handleSocialShareClick("line",8),style:ce,children:(0,M.jsx)(Q.Z,{size:c})})}),(0,M.jsx)(re.Z,{text:e.bt("LINE", "LINE", "sharesheet.shareSocialBar.ShareLineLabel", undefined, true)})]}),(0,M.jsxs)(le.Z,{width:u,marginEnd:!1,children:[(0,M.jsx)(a.xu,{marginBottom:p,"data-test-id":"whatsapp-share-icon-auth",children:(0,M.jsx)("button",{"aria-label":e.bt(" WhatsApp", "Share on WhatsApp", "sharesheet.shareSocialBar.ShareWhatsapp", undefined, true),onClick:()=>this.handleSocialShareClick("whatsapp",10),style:ce,tabIndex:"-1",children:(0,M.jsx)(a.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:(0,M.jsx)(ne.Z,{size:c})})})}),(0,M.jsx)(re.Z,{text:e.bt("WhatsApp", "WhatsApp", "sharesheet.shareSocialBar.ShareWhatsappLabel", undefined, true)})]}),r&&(0,M.jsxs)(le.Z,{width:u,marginEnd:!1,children:[(0,M.jsx)(a.xu,{marginBottom:p,"data-test-id":"messenger-share-icon-auth",children:(0,M.jsx)("button",{"aria-label":e.bt(" Messenger ", "Share on Messenger", "sharesheet.shareSocialBar.ShareMessenger", undefined, true),onClick:()=>this.handleSocialShareClick("messenger",6),style:ce,children:(0,M.jsx)(ee.Z,{size:c})})}),(0,M.jsx)(re.Z,{text:e.bt("Messenger", "Messenger", "sharesheet.shareSocialBar.ShareMessengerLabel", undefined, true)})]}),(0,M.jsxs)(le.Z,{width:u,marginEnd:!1,children:[(0,M.jsx)(a.xu,{marginBottom:p,"data-test-id":"facebook-share-icon-auth",children:(0,M.jsx)("button",{"aria-label":e.bt(" Facebook", "Share on Facebook", "sharesheet.shareSocialBar.ShareFacebook", undefined, true),onClick:()=>this.handleSocialShareClick("facebook",5),style:ce,children:(0,M.jsx)(X.Z,{size:c})})}),(0,M.jsx)(re.Z,{text:e.bt("Facebook", "Facebook", "sharesheet.shareSocialBar.ShareFacebookLabel", undefined, true)})]}),(0,M.jsxs)(le.Z,{width:u,marginEnd:!1,children:[(0,M.jsx)(a.xu,{marginBottom:p,"data-test-id":"twitter-share-icon-auth",children:(0,M.jsx)("button",{"aria-label":e.bt(" Twitter", "Share on Twitter", "sharesheet.shareSocialBar.ShareTwitter", undefined, true),onClick:()=>this.handleSocialShareClick("twitter",9),style:ce,"data-test-id":"twitter-share-icon",children:(0,M.jsx)(te.Z,{size:c})})}),(0,M.jsx)(re.Z,{text:e.bt("Twitter", "Twitter", "sharesheet.shareSocialBar.ShareTwitterLabel", undefined, true)})]}),(0,M.jsxs)(i.Fragment,{children:[(0,M.jsx)(se,{iconSize:c,iconWrapperWidth:u,marginBottom:p,marginEnd:!1,onCreatePincodeClick:t,sharedObject:n}),(0,M.jsx)(F.Z,{id:"copy-link-share-icon-auth",children:(0,M.jsx)(ae.default,{sharedObject:n,backgroundColor:"lightGray",iconColor:"darkGray",iconSize:c,iconWrapperWidth:u,onClick:()=>this.handleSocialShareClick("copylink",12),isCloseupActionBar:!1,spaceBelowIcon:p,viewType:s,viewParameter:d,relayEnvironment:this.props.relayEnvironment},"copylink")}),l&&this.renderEmail()]})]})})}render(){const{paddingX:e}=this.props;return(0,M.jsxs)(a.xu,{paddingX:e,"data-test-id":"lego-share-social-bar-auth",children:[(0,M.jsx)(a.kC,{alignContent:"center",alignItems:"center",height:P,justifyContent:"center",children:(0,M.jsx)(a.xv,{size:b,weight:"bold",children:this.props.i18n.bt("", "Share", "Sharesheet.ShareSocialBar", undefined, true)})}),(0,M.jsx)(a.kC,{alignContent:"start",alignItems:"stretch",justifyContent:"start",minHeight:S,children:this.renderShareOptions()})]})}}function me(e){const{logContextEvent:t}=(0,r.v)(),{checkExperiment:n}=(0,s.F)(),i=(0,h.ZP)(),a=(0,g.Z)(),o=a.isAuth&&ue.has(a.country),l=n("web_messenger_share_channel").anyEnabled,d=(0,q.B)(),c=n("web_share_menu_logging").anyEnabled,u=n("graphql_migration_sharesheet_sgrowth_web").anyEnabled,p=(0,G.useRelayEnvironment)();return(0,M.jsx)(he,{...e,toastManagerContext:(0,m.F9)(),viewer:(0,g.Z)(),showLineShare:o,showMessengerShare:l,i18n:i,logContextEvent:t,unauthId:d.unauthId,inShareMenuLoggingExp:c,shareSheetExpEnabled:u,relayEnvironment:u?p:void 0,getClientTrackingParams:(0,W.Z)()})}const ge=(e,t)=>e.reduce(((e,n)=>({...e,[n]:t})),{}),_e=(e,t)=>"today_article"===e?t.bt(" Pinterest ", "Check out this article on Pinterest!", "sendObject.initialTextValue.todayArticle", undefined, true):"";function ve(e){const{logContextEvent:t}=(0,r.v)(),n=(0,h.ZP)(),[l,d]=(0,i.useState)(!1),[c,b]=(0,i.useState)(null),[x,k]=(0,i.useState)({}),[w]=(0,i.useState)(_e(e.sendType,n)),{showOneToast:S}=(0,m.F9)(),{surface:P}=(0,y.$)(),T=(0,g.Z)(),I=(0,_.Z)(),{conversationCreate:R}=(0,f.Z5)(),D=(0,f.NG)(),L=(0,i.useRef)();(0,i.useEffect)((()=>{var e;return null===(e=L.current)||void 0===e?void 0:e.focus()}),[]);const F=(n,i)=>{d(!1),e.onMessageSent(),((n,i)=>{const{sharedObject:a}=e,r=a.id;o.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),t({event_type:180,element:276,object_id_str:r,aux_data:{conversation_id:n,pin_id:i}})})(n,i)},O=(e,t)=>{o.Z.increment("web.sharesheet.internal.send",1,{status:"fail"}),k({...x,...ge(e,j)});const i=l&&"email"===c,a=n.bt("", "Failed to send email.", "sendObject.emailError", undefined, true),r=i?a:t.message_detail||t.message;r&&S((({hideToast:e})=>(0,M.jsx)(p.ZP,{type:"error",duration:5e3,onHide:e,text:r})))},z=async(t,n,i)=>{const{sharedObject:a,sendType:o}=e,r=a.id,l={emails:n,user_ids:t,text:i,source:N(P)};l[o]=r;const s=u.Z.create("ConversationsResource",l),d=t.length>0?t:n;try{const e=await s.callCreate(),t=e&&e.resource_response.data;R(t),F(t.id,"pin"===o?r:null),k({...x,...ge(d,t.id)})}catch(c){O(d,c)}},U=(n,i)=>{"conversation_share_suggestion"===n.type?((t,n)=>{const{sharedObject:i,sendType:a}=e;let o;switch(a){case"pin":o="pinId";break;case"board":o="boardId";break;case"did_it":o="didItId";break;case"user":case"pinner":o="userId"}const r=o?D(t,{text:n,[o]:i.id,source:N(P)},void 0,T):void 0;r&&r.then((()=>{F(t,"pin"===a?i.id:null),k({...x,[t]:t})})).catch((e=>{O([t],e)}))})(n.id,i):"user_share_suggestion"===n.type&&n.username?z([n.id],[],i):z([],[n.email],i),t({event_type:101,component:56,element:276})},{onCreatePincodeClick:B,onShowImport:K,sendType:V,sharedObject:G,onHide:W,onExternalSend:$,viewType:q,viewParameter:Y,onSearchClick:J,component:X}=e,Q="user"===e.sendType&&(0,v.q6)(T,e.sharedObject.id,I),ee=("board"===e.sendType||"pin"===e.sendType)&&void 0!==e.sharedObject.ownerId&&(0,v.q6)(T,e.sharedObject.ownerId,I),te=Q||ee,ne=T.should_show_messaging&&!te,{checkExperiment:ie}=(0,s.F)(),ae=ne&&ie("web_share_show_more_contacts").anyEnabled,oe=(0,M.jsx)(a.xu,{paddingY:1,paddingX:3,children:(0,M.jsx)(a.iz,{})}),re=(0,M.jsxs)(i.Fragment,{children:[ae&&oe,(0,M.jsx)(me,{onCreatePincodeClick:B,onEmailIconClick:()=>{d(!0),b("email")},onExternalSend:$,onHide:W,sharedObject:G,showEmailOption:ne,viewType:q,viewParameter:Y,component:X}),!ae&&ne&&oe]});return l&&"email"===c?(0,M.jsx)(H,{initialTextValue:w,objectId:G.id,objectType:V,onCancelDraft:()=>{d(!1),b(null)},onHide:W,onSendMessage:U,width:E}):(0,M.jsxs)(a.xu,{color:"default",paddingX:C,paddingY:A,width:E,tabIndex:0,ref:L,children:[!ae&&re,ne&&(0,M.jsx)(Z,{objectAttachment:{type:V,id:G.id},onHide:W,onSendMessage:U,onSearchClick:J,onShowImportContacts:K,sentHistory:x,component:X}),ae&&re]})}var ye=n(937633);const fe=["facebook","google"];function be(e,t){return"facebook"===e?t.bt("Facebook", "Facebook", " - ", undefined, true):"google"===e?t.bt("Google", "Google", " - ", undefined, true):t.bt("", "Other", " - ", undefined, true)}function xe(e,t,n){return"facebook"===e?n.bt(" Pinterest ", "Friends who are on Pinterest", " - ", undefined, true):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}function ke({onBack:e}){const t=(0,h.ZP)(),n=(0,g.Z)(),i=n.isAuth?n.email:null,o=fe.filter((e=>!n.isAuth||!1===n.socialNetwork[e].connected)),r=(0,ye.k)();return(0,M.jsx)(a.xu,{paddingX:1,paddingY:2,children:(0,M.jsxs)(a.kC,{gap:{row:0,column:2},direction:"column",children:[(0,M.jsxs)(a.kC,{gap:{row:2,column:0},alignItems:"center",children:[(0,M.jsx)(a.hU,{accessibilityLabel:t.bt("", "Back", " - ", undefined, true),icon:"arrow-back",iconColor:"darkGray",onClick:e,size:"md"}),(0,M.jsx)(a.xv,{size:"300",weight:"bold",children:t.bt("...", "Upload contacts from...", " - ", undefined, true)})]}),(0,M.jsx)(a.kC,{direction:"column",gap:{row:0,column:4},children:o.map((e=>(0,M.jsx)(a.xu,{paddingX:2,children:(0,M.jsxs)(a.iP,{onTap:()=>(e=>{r.handleConnect(e,!0,Object.freeze({}),t)})(e),children:[(0,M.jsx)(a.xv,{size:"200",children:be(e,t)}),(0,M.jsx)(a.xv,{size:"200",children:xe(e,i,t)})]})},e)))})]})})}var we=n(387815);const Se=14121;function Pe({element:e,onCreatePincodeClick:t,onExternalSend:n,onHide:u,sendType:p,sharedObject:h,viewType:m,viewParameter:g,component:_}){const{logContextEvent:v}=(0,r.v)(),[y,f]=(0,i.useState)(!1),{checkExperiment:b}=(0,s.F)(),x=b("web_share_menu_logging").anyEnabled,k=(0,i.useRef)(!1),{viewParameter:w}=(0,l.SU)();(0,i.useEffect)((()=>{const t=d.yF[p];return t||o.Z.increment("social.web.sendObjectWrapper.sendType",void 0,{type:p}),v({event_type:7120,component:x?Se:void 0,object_id_str:h.id,element:x?e:void 0,view_type:m,view_parameter:g,aux_data:x?{invite_object:t}:void 0}),v({event_type:10400,component:_,object_id_str:h.id,element:(0,we.O)(t),view_type:m,view_parameter:g||w,aux_data:{invite_object:t}}),()=>{x||v({event_type:7121,object_id_str:h.id,view_type:m,view_parameter:g}),k.current||v({event_type:10403,component:_,object_id_str:h.id,element:13478,view_type:m,view_parameter:w,aux_data:{invite_object:t}});const e=k.current?7493:7492;v({event_type:e,component:x?Se:void 0,object_id_str:x?h.id:void 0,element:x?13097:void 0,view_type:m,view_parameter:g,aux_data:x?{invite_object:t}:void 0})}}),[]);const S=()=>{f(!0)},P=()=>{f(!1)},T=()=>{k.current=!0},I=()=>{k.current=!0},C=()=>{k.current=!0,n&&n()};return y?(0,M.jsx)(ke,{onBack:P}):(0,M.jsx)(a.xu,{overflow:"hidden",rounding:4,zIndex:new a.Ry(c.fe-1),color:"default",children:(0,M.jsx)(ve,{onCreatePincodeClick:t,onHide:u,onShowImport:S,onMessageSent:I,onExternalSend:C,onSearchClick:T,sendType:p,sharedObject:h,viewType:m,viewParameter:g,component:_})})}},651849:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(36310),o=n(785893);const r=({text:e})=>(0,o.jsx)(i.xv,{align:"center",size:"100",children:(0,o.jsx)(a.Z,{maxWidthPx:128,maxHeightPx:50,children:e})})},549739:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(785893);const o=({width:e,marginEnd:t,children:n,isCloseupActionBar:o})=>(0,a.jsx)(i.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e,marginBottom:o?0:5,children:n})},432044:(e,t,n)=>{n.d(t,{Z:()=>x});var i,a=n(667294),o=n(167912),r=n(883119),l=n(536042),s=n(630089),d=n(98736),c=n(549201),u=n(525104),p=n(356332),h=n(323883),m=n(293017),g=n(785893);const _=void 0!==i?i:i=n(633484),v=({onTap:e,isOpen:t})=>{const n=(0,l.ZP)();return(0,g.jsx)(r.iP,{tapStyle:"compress",onTap:e,children:(0,g.jsxs)(r.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:5,dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #efefef",borderBottom:"1px solid #efefef"}},children:[(0,g.jsx)(r.xv,{weight:"bold",size:"300",children:n.bt("", "Product details", "productDetails.descriptionTap.text", undefined, true)}),(0,g.jsx)(r.JO,{accessibilityLabel:n.bt("", "Arrow forward", "productDetails.openDropdown", undefined, true),color:"default",icon:t?"arrow-down":"arrow-forward"})]})})};function y({onClickTitleOrDomain:e,structuredDescriptionComponents:t,closeupUnifiedDescription:n,closeupAttributionDomainUrl:i}){const o=(0,l.ZP)(),u=(0,c.ZP)(),h=n&&n.trim(),_=i,y=(0,m.jo)({components:t||[],pinDescription:h}),[f,b]=(0,a.useState)(!1);return(0,g.jsx)(r.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:y.length>0&&(0,g.jsxs)(r.xu,{marginTop:6,width:"100%",children:[(0,g.jsx)(v,{isOpen:f,onTap:()=>{b(!f),(0,d.My)("unauth.pdp.details.click",{action:f?"close":"open",device:u})}}),(0,g.jsx)(r.xu,{overflow:"scrollY",maxHeight:f?"75vh":"0vh",paddingX:4,children:(0,g.jsxs)(r.xu,{marginBottom:6,marginTop:2,dangerouslySetInlineStyle:{__style:{lineHeight:"1.2"}},children:[(0,g.jsx)(p.Z,{descriptions:y}),_&&(0,g.jsx)(r.xu,{marginTop:6,children:(0,g.jsx)(r.xv,{children:(0,s.nk)(o.bt("{{ userDomain }} &", "Ships from and sold by {{ userDomain }}", "productDetails.productDescription.soldBy", undefined, true),{userDomain:(0,g.jsx)(r.iP,{onTap:e,tapStyle:"compress",children:(0,g.jsx)(r.xv,{inline:!0,weight:"bold",children:_})},_)})})})]})})]})})}function f({pinId:e,graphqlRef:t,...n}){var i,a;const r=(0,o.useFragment)(_,t),l=(0,h.Z)({pin:r});return(0,g.jsx)(y,{...n,graphqlRef:r,pinId:e,structuredDescriptionComponents:l.components||{},closeupUnifiedDescription:null!==(i=null==r?void 0:r.closeupUnifiedDescription)&&void 0!==i?i:"",closeupAttributionDomainUrl:null==r||null===(a=r.closeupAttribution)||void 0===a?void 0:a.domainUrl})}function b({pinId:e,...t}){var n,i;const a=(0,u.S6)()(e),o=(0,m.fv)(a);return(0,g.jsx)(y,{...t,pinId:e,structuredDescriptionComponents:o,closeupUnifiedDescription:null!==(n=null==a?void 0:a.closeup_unified_description)&&void 0!==n?n:"",closeupAttributionDomainUrl:null==a||null===(i=a.closeup_attribution)||void 0===i?void 0:i.domain_url})}function x({graphqlRef:e,...t}){return e?(0,g.jsx)(f,{...t,graphqlRef:e}):(0,g.jsx)(b,{...t})}},482424:(e,t,n)=>{n.d(t,{Z:()=>q});var i=n(667294),a=n(167912),o=n(883119),r=n(639356),l=n(355182),s=n(759034),d=n(645048),c=n(388011),u=n(536042),p=n(149596),h=n(465991),m=n(282802),g=n(226590),_=n(422279),v=n(936840),y=n(436422),f=n(230910),b=n(525104),x=n(563962),k=n(88622),w=n(630089),S=n(356332),P=n(785893);function T({descriptions:e,userDomainUrl:t,pinId:n,onClickDomain:a,onDismiss:r,isOpen:l}){const s=(0,u.ZP)(),d=(0,x.Z)();return(0,i.useEffect)((()=>{d({event_type:13,view_type:3,view_parameter:144,component:13597,element:10492,aux_data:{pin_id:n}})}),[]),(0,P.jsx)(k.ZP,{accessibilityModalLabel:"",type:"product_details",onDismiss:r,isOpen:l,mobileAccessibilityCloseIconLabel:s.bt("", "close product description modal", "productDetails.productDescription.closeModal", undefined, true),heading:s.bt("", "Product details", "productDetails.productDescription.heading", undefined, true),children:(0,P.jsx)(o.xu,{overflow:"scrollY",maxHeight:"75vh",paddingX:4,paddingY:2,children:(0,P.jsxs)(o.xu,{marginBottom:12,dangerouslySetInlineStyle:{__style:{lineHeight:"1.2"}},children:[(0,P.jsx)(S.Z,{descriptions:e}),t&&(0,P.jsx)(o.xu,{marginTop:6,children:(0,P.jsx)(o.xv,{children:(0,w.nk)(s.bt("{{ userDomain }} &", "Ships from and sold by {{ userDomain }}", "productDetails.productDescription.soldBy", undefined, true),{userDomain:(0,P.jsx)(o.iP,{onTap:a,tapStyle:"compress",children:(0,P.jsx)(o.xv,{inline:!0,weight:"bold",children:t})},t)})})})]})})})}var I,C=n(830074),A=n(105848);const E=void 0!==I?I:I=n(408103);function j({ratingValue:e,ratingCount:t,reviewCount:n,freeShippingPrice:i,freeShippingValue:a}){const r=e&&!(!t&&!n),l=Number.isFinite(a)&&i;return r||l?(0,P.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},"data-test-id":"product-metadata",display:"flex",marginTop:2,wrap:!0,children:[r&&(0,P.jsx)(A.Z,{count:t||n,countFormat:"text",countType:"rating",rating:e,textSize:"300"}),l&&(0,P.jsx)(C.Z,{customStyles:{color:"default",size:"300"},freeShippingPrice:i,freeShippingValue:a,showPrevDot:!!r})]}):null}function R(e){var t,n,i,o;const r=(0,a.useFragment)(E,e.graphqlRef),l=null==r?void 0:r.richMetadata,s=null==r?void 0:r.richSummary;let d;null!=l&&null!==(t=l.products)&&void 0!==t&&t[0]&&l.products[0].name&&(d=l.products[0].shippingInfo),null!=s&&null!==(n=s.products)&&void 0!==n&&n[0]&&s.products[0].name&&(d=s.products[0].shippingInfo);const c=null==l?void 0:l.aggregateRating;return(0,P.jsx)(j,{ratingValue:null==c?void 0:c.ratingValue,ratingCount:null==c?void 0:c.ratingCount,reviewCount:null==c?void 0:c.reviewCount,freeShippingPrice:null===(i=d)||void 0===i?void 0:i.freeShippingPrice,freeShippingValue:null===(o=d)||void 0===o?void 0:o.freeShippingValue})}function D(e){var t,n,i,a;const o=(0,b.S6)()(e.pinId),r=null==o?void 0:o.rich_metadata,l=null==o?void 0:o.rich_summary;let s;null!=r&&null!==(t=r.products)&&void 0!==t&&t[0]&&r.products[0].name&&r.products[0].offer_summary&&(s=r.products[0].shipping_info),null!=l&&null!==(n=l.products)&&void 0!==n&&n[0]&&l.products[0].name&&l.products[0].offer_summary&&(s=l.products[0].shipping_info);const d=null==r?void 0:r.aggregate_rating;return(0,P.jsx)(j,{ratingValue:null==d?void 0:d.rating_value,ratingCount:null==d?void 0:d.rating_count,reviewCount:null==d?void 0:d.review_count,freeShippingPrice:null===(i=s)||void 0===i?void 0:i.free_shipping_price,freeShippingValue:null===(a=s)||void 0===a?void 0:a.free_shipping_value})}function L(e){return e.graphqlRef?(0,P.jsx)(R,{...e}):(0,P.jsx)(D,{...e})}var F=n(884751);n(819079),n(31407);var M;void 0!==M||(M=n(825090));var O;void 0!==O||(O=n(802195));var z;void 0!==z||(z=n(670782));var Z;void 0!==Z||(Z=n(94109));var N,U=n(323883),B=n(293017),K=n(646081);const V=void 0!==N?N:N=n(382545),H=({onTap:e})=>{const t=(0,u.ZP)();return(0,P.jsx)(o.iP,{tapStyle:"compress",onTap:e,children:(0,P.jsxs)(o.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:5,dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #efefef",borderBottom:"1px solid #efefef"}},children:[(0,P.jsx)(o.xv,{weight:"bold",size:"300",children:t.bt("", "Product details", "productDetails.descriptionTap.text", undefined, true)}),(0,P.jsx)(o.JO,{accessibilityLabel:t.bt("", "Arrow forward", "productDetails.openModal", undefined, true),color:"default",icon:"arrow-forward"})]})})};function G({aggregateRating:e,clickthroughFn:t,isEligibleForPdpPlus:n,isImagePinForUnauthOnTablet:a,isOutOfStock:v,isStale:b,onClickTitleOrDomain:x,graphqlRef:k,inlinePinActionBar:w,pinId:S,pinLink:I,structuredDescriptionComponents:C,closeupUnifiedDescription:A,offerSummary:E,gridTitle:j,pinTitle:R,richSummaryDisplayName:D,richMetadataTitle:M,setIsActionBarInline:O,shippingInfo:z,storyPinDataId:Z,storyPinDataMetadataPinTitle:N,pinJoinVisualAnnotation:U,pinJoinAnnotationsWithLinks:K,closeupAttributionDomainUrl:V}){const G=(0,u.ZP)(),{isAuthenticated:W}=(0,m.B)(),{logContextEvent:$}=(0,c.v)(),q=(0,f.AH)(I),Y=A&&A.trim();let J=j||R;W||(J=(0,h.Ly)({pinTitle:R,gridTitle:j,richSummaryDisplayName:D,richMetadataTitle:M,storyPinDataId:Z,storyPinDataMetadataPinTitle:N,pinJoinVisualAnnotation:U,pinJoinAnnotationsWithLinks:K}));const X=(0,_.Z)({isImagePinForUnauthOnTablet:a}),Q=V,ee=(0,B.jo)({components:C,pinDescription:Y}),[te,ne]=(0,i.useState)(!1),[ie,ae]=(0,i.useState)(!1),oe=(0,d.Z)(n),re=J&&(0,P.jsx)(o.xu,{marginTop:2,marginBottom:2,children:(0,P.jsx)(g.Z,{onClick:x,hasLink:q,forceSmallerHeading:!a,textAlign:"start",pinId:S,graphqlRef:k,lineClamp:X})}),{rating_count:le,review_count:se,rating_value:de}=e||{},ce=oe?(0,P.jsx)(s.Z,{bracket:!0,count:le||se,countType:Number(le||0)?"rating":"review",countFormat:"number",hideSeparationDot:!0,ratingValue:de,shippingInfo:z,clickthroughFn:t}):(0,P.jsx)(L,{pinId:S,graphqlRef:k}),ue=oe?(0,P.jsx)(r.Z,{structuredDescription:ee,type:"expandable"}):(0,P.jsxs)(o.xu,{children:[(0,P.jsx)(H,{onTap:()=>{ne(!0),$({view_type:3,view_parameter:144,component:13597,element:10492,event_type:102,aux_data:{pin_id:S,commerce_data:JSON.stringify({pin_show_pdp:"1",has_description:"1"})}})}}),(0,P.jsx)(T,{onClickDomain:x,isOpen:te,onDismiss:()=>{ne(!1)},descriptions:ee,userDomainUrl:Q,pinId:S})]}),pe=(0,P.jsx)(y.Z,{graphqlRef:k,pinId:S});let he=v?(0,P.jsx)(o.X6,{color:"error",size:"400",align:"start",children:G.bt("", "Sold out", "product.price.soldOut", undefined, true)}):(0,P.jsx)(F.ZP,{pinId:S,graphqlRef:k});return oe&&E&&(he=(0,P.jsx)(l.Z,{productDetails:E,type:"pdpPlusMobileHeading",colorOverride:"default",isSoldOut:v,isStale:b})),(0,P.jsxs)(o.xu,{children:[(0,P.jsx)(o.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:(0,P.jsx)(p.Z,{options:{threshold:[1]},onVisibilityChange:e=>{if(e&&e.length>0&&O){const{intersectionRatio:t,boundingClientRect:n}=e[0],i=1===t,a=n.y<0;O(i||a)}},children:e=>(0,P.jsx)(o.xu,{ref:e,children:oe?(0,P.jsxs)(o.xu,{children:[re,he,(0,P.jsx)(o.xu,{marginBottom:2,children:ce}),pe]}):(0,P.jsxs)(o.xu,{children:[he,re,pe,ce]})})})}),w,ee.length>0&&(0,P.jsx)(o.xu,{marginTop:6,width:"100%",children:ue}),!1]})}function W({pinId:e,graphqlRef:t,...n}){var i,o,r,l,s,d,c,u,p,h,m,g,_,y,f,b,x,k,w,S,T,I,C,A,E,j,R;const D=(0,a.useFragment)(V,t),L=(0,K.Z)(D),F=(0,U.Z)({pin:D}),M=(0,v.I)({clickthroughInterstitialExperience:null,graphqlRef:D}),O=(null===(i=D.pinJoin)||void 0===i?void 0:i.visualAnnotation)||[];if(O.length<1)return null;const{richMetadata:z,richSummary:Z}=D;let N;null!=z&&null!==(o=z.products)&&void 0!==o&&o[0]&&z.products[0].name&&z.products[0].offerSummary&&(N=z.products[0].offerSummary),!N&&null!=Z&&null!==(r=Z.products)&&void 0!==r&&r[0]&&Z.products[0].name&&Z.products[0].offerSummary&&(N=Z.products[0].offerSummary);const B={min_price:null===(l=N)||void 0===l?void 0:l.minPrice,max_price:null===(s=N)||void 0===s?void 0:s.maxPrice,price:null===(d=N)||void 0===d?void 0:d.price,standard_price:null===(c=N)||void 0===c?void 0:c.standardPrice},H={rating_value:null!==(u=null==z||null===(p=z.aggregateRating)||void 0===p?void 0:p.ratingValue)&&void 0!==u?u:void 0,review_count:null!==(h=null==z||null===(m=z.aggregateRating)||void 0===m?void 0:m.reviewCount)&&void 0!==h?h:void 0,rating_count:null!==(g=null==z||null===(_=z.aggregateRating)||void 0===_?void 0:_.ratingCount)&&void 0!==g?g:void 0},W={free_shipping_price:null==z||null===(y=z.products)||void 0===y||null===(f=y[0].shippingInfo)||void 0===f?void 0:f.freeShippingPrice,free_shipping_value:null==z||null===(b=z.products)||void 0===b||null===(x=b[0].shippingInfo)||void 0===x?void 0:x.freeShippingValue,ships_to_user_country:null==z||null===(k=z.products)||void 0===k||null===(w=k[0].shippingInfo)||void 0===w?void 0:w.shipsToUserCountry},$=D.isOosProduct||!1===(null===(S=N)||void 0===S?void 0:S.inStock),q=D.isStaleProduct;return(0,P.jsx)(G,{...n,aggregateRating:H,clickthroughFn:M,graphqlRef:D,isEligibleForPdpPlus:null!==(T=D.isEligibleForPdpPlus)&&void 0!==T&&T,isOutOfStock:$,isStale:null!=q&&q,pinId:e,pinLink:D.link,structuredDescriptionComponents:F.components||{},closeupUnifiedDescription:null!==(I=D.closeupUnifiedDescription)&&void 0!==I?I:"",offerSummary:B,gridTitle:D.gridTitle,pinTitle:D.title,richSummaryDisplayName:null!==(C=null==Z?void 0:Z.displayName)&&void 0!==C?C:"",richMetadataTitle:null!==(A=null==z?void 0:z.title)&&void 0!==A?A:"",shippingInfo:W,storyPinDataId:D.storyPinDataId,storyPinDataMetadataPinTitle:null===(E=D.storyPinData)||void 0===E||null===(j=E.metadata)||void 0===j?void 0:j.pinTitle,pinJoinVisualAnnotation:O,pinJoinAnnotationsWithLinks:L,closeupAttributionDomainUrl:null===(R=D.closeupAttribution)||void 0===R?void 0:R.domainUrl})}function $({pinId:e,...t}){var n,i,a,o,r,l,s,d,c,u,p,h,m,g,_,y;const f=(0,b.S6)()(e),x=null==f?void 0:f.rich_metadata,k=null==f?void 0:f.rich_summary,w=(0,v.Z)({clickthroughInterstitialExperience:null,pinId:e});let S;null!=x&&null!==(n=x.products)&&void 0!==n&&n[0]&&x.products[0].name&&x.products[0].offer_summary&&(S=x.products[0].offer_summary),!S&&null!=k&&null!==(i=k.products)&&void 0!==i&&i[0]&&k.products[0].name&&k.products[0].offer_summary&&(S=k.products[0].offer_summary);const T=(null==f?void 0:f.is_oos_product)||!1===(null===(a=S)||void 0===a?void 0:a.in_stock),I=null==f?void 0:f.is_stale_product,C=(0,B.fv)(f);return(0,P.jsx)(G,{...t,aggregateRating:null==f||null===(o=f.rich_metadata)||void 0===o?void 0:o.aggregate_rating,clickthroughFn:w,pinId:e,pinLink:null==f?void 0:f.link,structuredDescriptionComponents:C,closeupUnifiedDescription:null!==(r=null==f?void 0:f.closeup_unified_description)&&void 0!==r?r:"",gridTitle:null==f?void 0:f.grid_title,isEligibleForPdpPlus:null==f?void 0:f.is_eligible_for_pdp_plus,isOutOfStock:T,isStale:null!=I&&I,pinTitle:null==f?void 0:f.title,offerSummary:S,richSummaryDisplayName:null!==(l=null==f||null===(s=f.rich_summary)||void 0===s?void 0:s.display_name)&&void 0!==l?l:"",richMetadataTitle:null!==(d=null==f||null===(c=f.rich_metadata)||void 0===c?void 0:c.title)&&void 0!==d?d:"",shippingInfo:null==f||null===(u=f.rich_metadata)||void 0===u||null===(p=u.products)||void 0===p?void 0:p[0].shipping_info,storyPinDataId:null==f?void 0:f.story_pin_data_id,storyPinDataMetadataPinTitle:null==f||null===(h=f.story_pin_data)||void 0===h||null===(m=h.metadata)||void 0===m?void 0:m.pin_title,pinJoinVisualAnnotation:null==f||null===(g=f.pin_join)||void 0===g?void 0:g.visual_annotation,pinJoinAnnotationsWithLinks:null==f||null===(_=f.pin_join)||void 0===_?void 0:_.annotations_with_links,closeupAttributionDomainUrl:null==f||null===(y=f.closeup_attribution)||void 0===y?void 0:y.domain_url})}function q({graphqlRef:e,...t}){return e?(0,P.jsx)(W,{...t,graphqlRef:e}):(0,P.jsx)($,{...t})}},884751:(e,t,n)=>{n.d(t,{ZP:()=>y});var i=n(167912),a=n(883119),o=n(525104),r=n(785893);const l=({maxPrice:e,minPrice:t,price:n,standardPrice:i,NoPrice:a,RangedPrice:o,RegularPrice:l,RangedSalePrice:s,SalePrice:d})=>t&&e&&i?(0,r.jsx)(s,{saleMinPrice:t,saleMaxPrice:e,regularPriceRange:i}):t&&e?(0,r.jsx)(o,{maxPrice:e,minPrice:t}):n?i&&n!==i?(0,r.jsx)(d,{regularPrice:i,salePrice:n}):(0,r.jsx)(l,{price:n}):(0,r.jsx)(a,{});var s;const d=()=>null,c=void 0!==s?s:s=n(894235),u=({price:e,align:t})=>(0,r.jsx)(a.X6,{color:"default",size:"400",align:t,children:e}),p=({minPrice:e,maxPrice:t,align:n})=>(0,r.jsx)(a.X6,{color:"default",size:"400",align:n,children:`${e}-${t}`}),h=({salePrice:e,regularPrice:t,align:n})=>(0,r.jsxs)(a.X6,{size:"400",align:n,children:[(0,r.jsx)("span",{style:{color:"#0074e8"},children:e})," ",(0,r.jsx)("span",{style:{textDecoration:"line-through",color:"#767676"},children:`${t}`})]}),m=({saleMinPrice:e,saleMaxPrice:t,regularPriceRange:n,align:i})=>(0,r.jsxs)(a.X6,{size:"400",align:i,children:[(0,r.jsx)("span",{style:{color:"#0074e8"},children:`${e}-${t}`})," ",(0,r.jsx)("span",{style:{textDecoration:"line-through",color:"#767676"},children:`${n}`})]});function g({maxPrice:e,minPrice:t,price:n,standardPrice:i,align:a,NoPrice:o,RangedPrice:s,RangedSalePrice:c,RegularPrice:g,SalePrice:_}){return o||(o=e=>(0,r.jsx)(d,{...e,align:a})),s||(s=e=>(0,r.jsx)(p,{...e,align:a})),c||(c=e=>(0,r.jsx)(m,{...e,align:a})),g||(g=e=>(0,r.jsx)(u,{...e,align:a})),_||(_=e=>(0,r.jsx)(h,{...e,align:a})),(0,r.jsx)(l,{maxPrice:e,minPrice:t,price:n,standardPrice:i,NoPrice:o,RegularPrice:g,RangedPrice:s,RangedSalePrice:c,SalePrice:_})}function _(e){var t,n,a,o,l,s;const d=(0,i.useFragment)(c,e.graphqlRef),u=null==d?void 0:d.richMetadata,p=null==d?void 0:d.richSummary;let h;return null!=u&&null!==(t=u.products)&&void 0!==t&&t[0]&&u.products[0].name&&u.products[0].offerSummary&&(h=u.products[0].offerSummary),!h&&null!=p&&null!==(n=p.products)&&void 0!==n&&n[0]&&p.products[0].name&&p.products[0].offerSummary&&(h=p.products[0].offerSummary),(0,r.jsx)(g,{maxPrice:null===(a=h)||void 0===a?void 0:a.maxPrice,minPrice:null===(o=h)||void 0===o?void 0:o.minPrice,price:null===(l=h)||void 0===l?void 0:l.price,standardPrice:null===(s=h)||void 0===s?void 0:s.standardPrice,NoPrice:e.NoPrice,RegularPrice:e.RegularPrice,RangedPrice:e.RangedPrice,RangedSalePrice:e.RangedSalePrice,SalePrice:e.SalePrice})}function v(e){var t,n,i,a,l,s;const d=(0,o.S6)()(e.pinId||""),c=null==d?void 0:d.rich_metadata,u=null==d?void 0:d.rich_summary;let p;return null!=c&&null!==(t=c.products)&&void 0!==t&&t[0]&&c.products[0].name&&c.products[0].offer_summary&&(p=c.products[0].offer_summary),!p&&null!=u&&null!==(n=u.products)&&void 0!==n&&n[0]&&u.products[0].name&&u.products[0].offer_summary&&(p=u.products[0].offer_summary),(0,r.jsx)(g,{maxPrice:null===(i=p)||void 0===i?void 0:i.max_price,minPrice:null===(a=p)||void 0===a?void 0:a.min_price,price:null===(l=p)||void 0===l?void 0:l.price,standardPrice:null===(s=p)||void 0===s?void 0:s.standard_price,NoPrice:e.NoPrice,RegularPrice:e.RegularPrice,RangedPrice:e.RangedPrice,RangedSalePrice:e.RangedSalePrice,SalePrice:e.SalePrice})}function y(e){return e.graphqlRef?(0,r.jsx)(_,{...e}):(0,r.jsx)(v,{...e})}},389190:(e,t,n)=>{n.d(t,{Z:()=>F});var i,a=n(667294),o=n(167912),r=n(616550),l=n(883119),s=n(572559),d=n(346190),c=n(38823),u=n(563962),p=n(24286),h=n(536042),m=n(245410),g=n(272109);const _=void 0!==i?i:i=n(900936),v=e=>{const t=(0,o.useFragment)(_,e);return(0,a.useMemo)((()=>t?(t.carouselSlots||[]).map((e=>{var t,n,i,a,o,r,l,s,d,c,u,p,h;return{image_signature:null!==(t=e.imageSignature)&&void 0!==t?t:void 0,images:{"564x":{height:(null===(n=e.imageSpec_564x)||void 0===n?void 0:n.height)||void 0,url:(null===(i=e.imageSpec_564x)||void 0===i?void 0:i.url)||void 0,width:(null===(a=e.imageSpec_564x)||void 0===a?void 0:a.width)||void 0},"236x":{height:(null===(o=e.imageSpec_236x)||void 0===o?void 0:o.height)||void 0,url:(null===(r=e.imageSpec_236x)||void 0===r?void 0:r.url)||void 0,width:(null===(l=e.imageSpec_236x)||void 0===l?void 0:l.width)||void 0},"474x":{height:(null===(s=e.imageSpec_474x)||void 0===s?void 0:s.height)||void 0,url:(null===(d=e.imageSpec_474x)||void 0===d?void 0:d.url)||void 0,width:(null===(c=e.imageSpec_474x)||void 0===c?void 0:c.width)||void 0},"736x":{height:(null===(u=e.imageSpec_736x)||void 0===u?void 0:u.height)||void 0,url:(null===(p=e.imageSpec_736x)||void 0===p?void 0:p.url)||void 0,width:(null===(h=e.imageSpec_736x)||void 0===h?void 0:h.width)||void 0}}}})):[]),[t])};var y,f=n(759937);const b=void 0!==y?y:y=n(115606),x=(e,t,n)=>{(e||[]).forEach((e=>{const{canonicalImage:i,imageSignature:a}=e,{height:o,url:r,width:l}=null!=i?i:Object.freeze({});if(!a)return;const s=n[a]||{image_signature:a,canonical_images:{}};s.canonical_images&&(s.canonical_images[t]={height:null!=o?o:void 0,url:null!=r?r:void 0,width:null!=l?l:void 0}),n[a]=s}))},k=e=>{const t=(0,o.useFragment)(b,e);return(0,a.useMemo)((()=>{if(!t)return null;const e={};return x(t.imageSpec_236x,"236x",e),x(t.imageSpec_474x,"474x",e),x(t.imageSpec_564x,"564x",e),x(t.imageSpec_736x,"736x",e),Object.keys(e).reduce(((t,n)=>(t.push(e[n]),t)),[])}),[t])};var w,S=n(525104),P=n(282802),T=n(98736),I=n(549201),C=n(657006),A=n(785893);function E({alt:e,dominantColor:t,height:n,onLoad:i,src:a,width:o,unauthLazyLoad:s,index:d,setMwebTapToZoomExpEnabled:c,isEligibleForTapToZoom:u}){const p=(0,r.useHistory)(),h=(0,r.useRouteMatch)(),{isAuthenticated:g}=(0,P.B)(),_=(0,I.ZP)(),{checkExperiment:v}=(0,m.F)();return(0,A.jsxs)(l.iP,{tapStyle:"compress",onTap:()=>{if(!g&&((0,T.My)("unauth.pdp.carousel.click",{device:_,index:d}),u&&c)){const e=v("unauth_mweb_tap_to_zoom_v2").anyEnabled;if(!e)return;(0,T.My)("unauth.mweb.pdp.tap_to_zoom.carousel.click"),c(e)}p&&h&&h.params&&h.params.id&&p.push(`/pin/${h.params.id}#${C.v}`,{imageData:{src:a,height:n,width:o}})},children:[(0,A.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)"}},position:"absolute",width:"100%",height:"100%",zIndex:new l.Ry(1),top:!0}),(0,A.jsx)(l.Ee,{alt:e,color:t,loading:s?"lazy":"auto",naturalHeight:n,naturalWidth:o,onLoad:i,src:a})]})}const j=void 0!==w?w:w=n(842931);function R({carouselSlots:e,pinId:t,pwtSurfaceContext:n,viewParameter:i,unauthLazyLoad:o,setMwebTapToZoomExpEnabled:s,isEligibleForTapToZoom:c}){const _=(0,r.useHistory)(),v=(0,r.useRouteMatch)(),y=(0,h.ZP)(),f=(0,u.Z)(),[b,x]=(0,a.useState)(0),k=(0,a.useRef)(null),w=(0,a.useRef)([]),S=(0,a.useCallback)((()=>{n&&n.markConstraintComplete("PinPageMainImageRendered")}),[n]),{checkExperiment:P}=(0,m.F)(),T=P("web_higher_res_carousel_image").anyEnabled,I=y.bt("Pin ", "Pin image", "Pin closeup image", undefined, true),C=e.filter((e=>{const t=(0,d.Z)(e.images,T);return t&&t.url})),j=C.length,{image_signature:R}=C[b]||{},D=()=>{if(!k.current)return;const{left:e,width:t}=k.current.getBoundingClientRect(),n=e+t/2;for(let a=0;a<j;a++){var i;const{x:e}=w.current[a].current.getBoundingClientRect(),{x:t=1/0}=(null===(i=w.current[a+1])||void 0===i?void 0:i.current.getBoundingClientRect())||{};if(e<=n&&t>n){x(a);break}}};return(0,g.Z)((()=>{w.current=Array(j).fill().map(((e,t)=>w.current[t]||(0,a.createRef)()));const e=k.current;return e&&e.addEventListener("scroll",D),()=>{null==e||e.removeEventListener("scroll",D)}})),(0,a.useEffect)((()=>{R&&f({event_type:13,view_type:3,view_parameter:144,element:10555,aux_data:{view_object_image_signature:R}})}),[f,R]),(0,A.jsxs)(l.xu,{position:"relative",marginStart:-p.D6,marginEnd:-p.D6,children:[(0,A.jsx)(l.xu,{minHeight:"30vh",maxHeight:"60vh",overflow:"scrollX",display:"flex",ref:k,children:C.map(((e,n)=>{const i=0===n,a=n===j-1,{url:r="",height:u=1,width:p=1}=(0,d.Z)(e.images,T)||{};return(0,A.jsx)(l.xu,{width:"80%",flex:"none",marginEnd:a?0:2,display:"flex",alignItems:"center",position:"relative",dangerouslySetInlineStyle:{__style:{backgroundColor:"#ffffff00"}},ref:w.current[n],children:(0,A.jsx)(E,{alt:I,src:r,height:u,width:p,dominantColor:"#ffffff00",onLoad:S,unauthLazyLoad:o&&!i,index:n,setMwebTapToZoomExpEnabled:s,isEligibleForTapToZoom:c})},`${t}_${n}`)}))}),(0,A.jsx)(l.xu,{margin:4,position:"absolute",bottom:!0,right:!0,zIndex:new l.Ry(2),children:(0,A.jsx)(l.iP,{onTap:()=>{const{image_signature:e}=C[b]||{},n=v.params.id||t;f({component:128,element:234,event_type:102,view_parameter:i,view_type:3}),e?_.push(`/pin/${n}/visual-search/?image_signature=${e}`):_.push(`/pin/${n}/visual-search/`)},children:(0,A.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)"}},display:"flex",justifyContent:"center",rounding:"pill",padding:3,children:(0,A.jsx)(l.JO,{accessibilityLabel:y.bt("", "Visual search", "Button to search for visually similar Pins", undefined, true),color:"default",icon:"flashlight",size:24})})})})]})}function D({graphqlRef:e,pinId:t,viewParameter:n,pwtSurfaceContext:i,unauthLazyLoad:a,setMwebTapToZoomExpEnabled:r,isEligibleForTapToZoom:l}){var s,d,u;const p=(0,o.useFragment)(j,e),h=((null===(s=p.richMetadata)||void 0===s?void 0:s.products)||(null===(d=p.richSummary)||void 0===d?void 0:d.products)||[])[0],m=(0,f.Z)(p),g=k(h);let _=null!==(u=v(p.carouselData))&&void 0!==u?u:[];if(h&&g&&g.length>0){var y;_=null!==(y=(0,c.Z)(m,g).carousel_slots)&&void 0!==y?y:[]}return(0,A.jsx)(R,{carouselSlots:_,pinId:t,pwtSurfaceContext:i,viewParameter:n,unauthLazyLoad:a,setMwebTapToZoomExpEnabled:r,isEligibleForTapToZoom:l})}function L({pinId:e,pwtSurfaceContext:t,viewParameter:n,unauthLazyLoad:i,setMwebTapToZoomExpEnabled:a,isEligibleForTapToZoom:o}){const r=(0,S.S6)()(e),{carousel_slots:l=[]}=(0,s.Z)({carouselData:null==r?void 0:r.carousel_data,images:null==r?void 0:r.images,richMetadata:null==r?void 0:r.rich_metadata,richSummary:null==r?void 0:r.rich_summary})||{};return(0,A.jsx)(R,{carouselSlots:l,pinId:e,pwtSurfaceContext:t,viewParameter:n,unauthLazyLoad:i,setMwebTapToZoomExpEnabled:a,isEligibleForTapToZoom:o})}function F({graphqlRef:e,pinId:t,viewParameter:n,pwtSurfaceContext:i,unauthLazyLoad:a,isEligibleForTapToZoom:o,setMwebTapToZoomExpEnabled:r}){return e?(0,A.jsx)(D,{graphqlRef:e,pinId:t,pwtSurfaceContext:i,viewParameter:n,unauthLazyLoad:a}):(0,A.jsx)(L,{pinId:t,pwtSurfaceContext:i,viewParameter:n,unauthLazyLoad:a,setMwebTapToZoomExpEnabled:r,isEligibleForTapToZoom:o})}},492291:(e,t,n)=>{n.d(t,{Z:()=>U});var i=n(667294),a=n(702664),o=n(167912),r=n(883119),l=n(40660),s=n(563962),d=n(550140),c=n(536042),u=n(599551),p=n(450667),h=n(245410),m=n(282802),g=n(16754),_=n(512403),v=n(269758),y=n(871755),f=n(894637),b=n(757551),x=n(785893);function k({size:e=56}){return(0,x.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,x.jsx)("rect",{fill:"#e60023",height:"56",rx:"28",width:"56"}),(0,x.jsx)("path",{clipRule:"evenodd",d:"m28 31.9842 6 3.6666v-15.6508h-12v15.6508zm0 3.5158 5.9571 3.6404c1.3327.8145 3.0429-.1447 3.0429-1.7065v-17.4339c0-1.6569-1.3431-3-3-3h-12c-1.6569 0-3 1.3431-3 3v17.4339c0 1.5618 1.7102 2.521 3.0429 1.7065z",fill:"#fff",fillRule:"evenodd"})]})}var w=n(916224),S=n(343226),P=n(317218),T=n(320634),I=n(611756),C=n(846226),A=n(98736),E=n(618569),j=n(63262),R=n(549201),D=n(782219),L=n(9680),F=n(980666);function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O=56,z=String(86),Z=({text:e})=>(0,x.jsx)(r.xv,{align:"center",size:"100",children:e});class N extends i.PureComponent{constructor(...e){super(...e),M(this,"state",{invitePath:"",inviteCode:null,inviteMessage:"",inviteTitle:"",Clipboard:null,fbLoaded:!1}),M(this,"setClipboard",(e=>{const{Clipboard:t,invitePath:n}=this.state;(0,L.sF)(n,t,e,this.showCopyToast)})),M(this,"showCopyToast",(()=>{var e,t,n,i;this.logShareClick(12),this.setNewAppOrder(12),null===(e=(t=this.props).onShare)||void 0===e||e.call(t),this.props.showToast((({hideToast:e})=>(0,x.jsx)(d.ZP,{text:this.props.i18n.bt("", "Copied link to your clipboard to share", "url link was copied to user clipboard", undefined, true),onHide:e}))),null===(n=(i=this.props).setShareSent)||void 0===n||n.call(i,!0),this.props.trackInteraction({action:"click",item:"copy-link-share-icon"})})),M(this,"getDefaultAppOrder",(()=>{const{country:e,isDesktop:t}=this.props;return(0,L.pW)({country:e,isDesktop:t,shouldShowNativeShare:Boolean(navigator.share)})})),M(this,"getAppOrder",(()=>{const{isDesktop:e}=this.props;let t=JSON.parse((0,I.qn)(F.B));return!t||e?this.getDefaultAppOrder():(t=[...t.filter((e=>11!==e&&12!==e)),12],Boolean(navigator.share)&&t.push(11),t)})),M(this,"setNewAppOrder",(e=>{const{isDesktop:t}=this.props;t||F.F6.has(e)||(0,I.Nh)(F.B,JSON.stringify([e,...this.getAppOrder().filter((t=>t!==e))]))})),M(this,"handleMessagingAppClick",(e=>{var t,n,i,a;null===(t=(n=this.props).onShare)||void 0===t||t.call(n),null===(i=(a=this.props).setShareSent)||void 0===i||i.call(a,!0),this.logShareClick(e),this.setFreshInviteCode(e),F.rO.has(e)||(0,I.Nh)(F.Cq,e),this.setNewAppOrder(e)})),M(this,"handleMessengerClick",(()=>{this.props.trackInteraction({action:"click",item:"fbmessenger-share-icon"}),this.handleMessagingAppClick(6)})),M(this,"handleTwitterClick",(()=>{this.props.trackInteraction({action:"click",item:"twitter-share-icon"}),this.handleMessagingAppClick(9)})),M(this,"handleWhatsappClick",(()=>{this.props.trackInteraction({action:"click",item:"whatsapp-share-icon"}),this.handleMessagingAppClick(10)})),M(this,"handleLineClick",(()=>{this.handleMessagingAppClick(8)})),M(this,"handleTelegramClick",(()=>{this.handleMessagingAppClick(20)})),M(this,"handleViberClick",(()=>{this.handleMessagingAppClick(22)})),M(this,"handleEmailClick",(()=>{this.handleMessagingAppClick(3),this.props.trackInteraction({action:"click",item:"email-share-button"})})),M(this,"handleFacebookClick",(e=>{var t,n,i,a;const{isDesktop:o}=this.props;e.preventDefault(),null===(t=(n=this.props).onShare)||void 0===t||t.call(n),null===(i=(a=this.props).setShareSent)||void 0===i||i.call(a,!0),(0,A.My)(`pcons.${o?"desktop":"mobile"}.facebook-share-icon`),this.props.trackInteraction({action:"click",item:"facebook-share-icon"}),this.logShareClick(5);const{inviteCode:r,invitePath:l,fbLoaded:s}=this.state;(0,L.Rh)(s,l,r||""),this.setFreshInviteCode(5),this.setNewAppOrder(5)})),M(this,"handleSmsClick",(()=>{this.handleMessagingAppClick(4)})),M(this,"logShareClick",((e,t=this.state.inviteCode)=>{const{objectId:n,objectType:i,component:a,clientTrackingParams:o,logContextEvent:r,viewType:l,viewParameter:s,socialShareComponent:d}=this.props;(0,L.Iz)({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:a,clientTrackingParams:o,logContextEvent:r,view_type:l,view_parameter:s,socialShareComponent:d})})),M(this,"copyButtonRef",null),M(this,"renderAppsInCustomOrder",(({Email:e,Facebook:t,FBMessenger:n,Line:a,WhatsApp:o,Twitter:r,Viber:l,Telegram:s,CopyLink:d,Sms:c,ShareVia:u})=>{const p=this.getAppOrder(),h=new Map([[6,n],[10,o],[5,t],[9,r],[3,e],[8,a],[20,s],[22,l],[4,c],[12,d],[11,u]]);return(0,x.jsx)(i.Fragment,{children:p.map((e=>h.get(e)))})})),M(this,"onHandleRepinSave",(({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;t(),null===(n=(i=this.props).onSave)||void 0===n||n.call(i),this.props.onNavigation({event:e})}))}componentDidMount(){this.setFreshInviteCode(12),(0,p.we)(this.props.locale).then((()=>{this.setState({fbLoaded:!0})})),n.e(6527).then(n.t.bind(n,842152,23)).then((({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))}))}componentDidUpdate({objectId:e}){const{objectId:t}=this.props;e!==t&&this.setFreshInviteCode(12)}async setFreshInviteCode(e){const{objectId:t,objectType:n}=this.props,{invitePath:i,inviteCode:a,title:o,message:r}=await(0,L.yP)(e,t,n,this.props.relayEnvironment),l={};i&&(l.invitePath=i),a&&(l.inviteCode=a),o&&(l.inviteTitle=o),r&&(l.inviteMessage=r),this.setState(l)}render(){const{isDesktop:e,objectType:t,onSave:n,showSaveOption:i,isAppleDevice:a,inContextualMenuSocialExp:o,inVerticalContactsShareExp:s}=this.props,{invitePath:d,inviteMessage:c,inviteTitle:u}=this.state,{emailShareLink:p,messengerShareLink:h,twitterShareLink:m,whatsappShareLink:I,lineShareLink:A,telegramShareLink:E,viberShareLink:j,smsShareLink:R}=(0,L.tA)({invitePath:d,inviteTitle:u,objectType:t,i18n:this.props.i18n,isDesktop:e}),D=({children:t})=>(0,x.jsx)(r.kC,{alignItems:"center",justifyContent:"start",direction:"column",width:e?`${z}px`:"100%",children:t}),F=({children:e})=>(0,x.jsx)(r.xu,{display:"flex",justifyContent:"center",paddingX:3,marginBottom:1,children:e}),M=(0,x.jsxs)(D,{children:[(0,x.jsx)(F,{children:(0,x.jsx)(C.Z,{id:"fbmessenger-share-icon",children:(0,x.jsx)(r.iP,{rounding:"circle",role:"link",rel:"nofollow",href:h,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},children:(0,x.jsx)(b.Z,{size:O})})})}),(0,x.jsx)(Z,{text:this.props.i18n.bt("Messenger", "Messenger", "shareMenu.icon.label.messenger", undefined, true)})]}),N=(0,x.jsxs)(D,{children:[(0,x.jsx)(F,{children:(0,x.jsx)(C.Z,{id:"whatsapp-share-icon",children:(0,x.jsx)(r.iP,{rounding:"circle",role:"link",rel:"nofollow",href:I,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleWhatsappClick()},children:(0,x.jsx)(T.Z,{size:O})})})}),(0,x.jsx)(Z,{text:this.props.i18n.bt("WhatsApp", "WhatsApp", "shareMenu.icon.label.whatsapp", undefined, true)})]}),U=(0,x.jsx)(r.xu,{"data-test-id":"facebook-share-icon",display:"flex",flex:"shrink",children:(0,x.jsxs)(D,{children:[(0,x.jsx)(F,{children:(0,x.jsx)(r.rU,{href:"#",onClick:({event:e})=>{this.handleFacebookClick(e)},children:(0,x.jsx)(v.Z,{size:O})})}),(0,x.jsx)(Z,{text:this.props.i18n.bt("Facebook", "Facebook", "shareMenu.icon.label.facebook", undefined, true)})]})}),B=(0,x.jsxs)(D,{children:[(0,x.jsx)(F,{children:(0,x.jsx)(C.Z,{id:"twitter-share-icon",children:(0,x.jsx)(r.iP,{rounding:"circle",role:"link",rel:"nofollow",href:m,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTwitterClick()},children:(0,x.jsx)(S.Z,{size:O})})})}),(0,x.jsx)(Z,{text:this.props.i18n.bt("Twitter", "Twitter", "shareMenu.icon.label.twitter", undefined, true)})]}),K=(0,x.jsxs)(D,{children:[(0,x.jsx)(F,{children:(0,x.jsx)(r.iP,{rounding:"circle",role:"link",rel:"nofollow",href:A,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleLineClick()},children:(0,x.jsx)(f.Z,{size:O})})}),(0,x.jsx)(Z,{text:this.props.i18n.bt("", "Line", "shareMenu.icon.label.line", undefined, true)})]}),V=(0,x.jsxs)(D,{children:[(0,x.jsx)(F,{children:(0,x.jsx)(r.iP,{rounding:"circle",role:"link",rel:"nofollow",href:j,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleViberClick()},children:(0,x.jsx)(P.Z,{size:O})})}),(0,x.jsx)(Z,{text:this.props.i18n.bt("Viber", "Viber", "shareMenu.icon.label.viber", undefined, true)})]}),H=(0,x.jsxs)(D,{children:[(0,x.jsx)(F,{children:(0,x.jsx)(r.iP,{rounding:"circle",role:"link",rel:"nofollow",href:E,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTelegramClick()},children:(0,x.jsx)(w.Z,{size:O})})}),(0,x.jsx)(Z,{text:this.props.i18n.bt("Telegram", "Telegram", "shareMenu.icon.label.telegram", undefined, true)})]}),G=(0,x.jsxs)(D,{children:[(0,x.jsx)(F,{children:(0,x.jsx)(C.Z,{id:"email-share-button",children:(0,x.jsx)(r.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:p,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleEmailClick()},children:(0,x.jsx)(_.Z,{size:O})})})}),(0,x.jsx)(Z,{text:this.props.i18n.bt("", "Email", "shareMenu.icon.label.email", undefined, true)})]}),W=(0,x.jsxs)(D,{children:[(0,x.jsx)(F,{children:(0,x.jsx)(r.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:"#",onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;e.preventDefault(),null===(n=(i=this.props).onShare)||void 0===n||n.call(i),t();const a=c.indexOf("https://");navigator.share&&navigator.share({url:d,text:a>0?c.slice(0,a):c,title:u}).then((()=>{this.handleMessagingAppClick(11),l.Z.increment("allshareoptions_navigator_share.success",1)})).catch((e=>{l.Z.increment("allshareoptions_navigator_share.error",1,{name:e.name,message:e.message})}))},children:(0,x.jsx)(r.xu,{height:O,children:(0,x.jsx)(r.hU,{accessibilityLabel:this.props.i18n.bt("", "Native share sheet icon", "shareMenu.icon.accessibilityLabel.native_share_sheet", undefined, true),bgColor:"lightGray",icon:"share",iconColor:"darkGray",size:"xl"})})})}),(0,x.jsx)(Z,{text:this.props.i18n.bt("", "Share via", "shareMenu.icon.label.share_via", undefined, true)})]}),$=(0,x.jsxs)(D,{children:[(0,x.jsx)(F,{children:(0,x.jsx)(r.iP,{rounding:"circle",role:"link",rel:"nofollow",href:R,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleSmsClick()},children:a?(0,x.jsx)(y.Z,{size:O}):(0,x.jsx)(g.Z,{size:O})})}),(0,x.jsx)(Z,{text:this.props.i18n.bt("", "Message", "shareMenu.icon.label.message", undefined, true)})]}),q=(0,x.jsxs)(D,{children:[(0,x.jsx)(F,{children:(0,x.jsx)(r.xu,{ref:this.setClipboard,dangerouslySetInlineStyle:{__style:{cursor:e?"pointer":void 0}},"data-test-id":"copy-link-share-icon",height:O,children:(0,x.jsx)(r.hU,{accessibilityLabel:this.props.i18n.bt("", "Link icon", "shareMenu.icon.accessibilityLabel.copy", undefined, true),bgColor:"lightGray",icon:"link",iconColor:"darkGray",size:"xl"})})}),(0,x.jsx)(Z,{text:this.props.i18n.bt("", "Copy link", "shareMenu.icon.label.copy", undefined, true)})]});return(0,x.jsxs)(r.xu,{children:[!s&&!o&&(0,x.jsx)(r.xu,{height:4}),(0,x.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",overflow:"hidden",children:(0,x.jsxs)(r.xu,{display:"flex",justifyContent:"start",height:e?180:void 0,width:e?370:"100vw",marginBottom:-2,marginTop:s||o?-2:void 0,paddingX:1,paddingY:2,overflow:e?void 0:"scrollX",wrap:e,children:[i&&n&&(()=>(0,x.jsxs)(D,{children:[(0,x.jsx)(F,{children:(0,x.jsx)(r.iP,{rounding:"circle",onTap:this.onHandleRepinSave,children:(0,x.jsx)(k,{size:O})})}),(0,x.jsx)(Z,{text:this.props.i18n.bt("", "Save", "shareMenu.icon.label.save", undefined, true)})]}))(),this.renderAppsInCustomOrder({Email:G,Facebook:U,FBMessenger:M,Line:K,WhatsApp:N,Twitter:B,Viber:V,Telegram:H,CopyLink:q,Sms:$,ShareVia:W})]})}),(0,x.jsx)(r.xu,{height:16})]})}}function U(e){const t=(0,c.ZP)(),n=(0,R.HG)(),{showToast:i}=(0,j.F9)(),{country:r,locale:l}=(0,m.B)(),d=(0,u.Z)({href:{pathname:`/pin/${e.objectId}/repin`,state:{viewType:e.viewType,viewParameter:e.viewParameter}}}),{checkExperiment:p}=(0,h.F)(),g=(0,a.useSelector)((({session:e})=>e.userAgentPlatform)),_=g===D.RL||g===D.s4,v=p("graphql_migration_sharesheet_sgrowth_web").anyEnabled,y=(0,o.useRelayEnvironment)(),f=(0,s.Z)(),b=(0,E.Z)();return(0,x.jsx)(N,{...e,country:r,i18n:t,isDesktop:n,locale:l,showToast:i,onNavigation:d,logContextEvent:f,isAppleDevice:_,relayEnvironment:v?y:void 0,trackInteraction:b})}},9680:(e,t,n)=>{n.d(t,{Iz:()=>v,Rh:()=>p,pW:()=>c,rL:()=>_,sF:()=>h,tA:()=>u,yP:()=>g});var i,a,o=n(167912),r=n(690108),l=n(450667),s=n(204125);const d={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function c({country:e,isDesktop:t,shouldShowNativeShare:n}){const{FBMessenger:i,WhatsApp:a,Facebook:o,Twitter:r,Email:l,Line:s,Telegram:c,Viber:u,Sms:p,CopyLink:h,ShareVia:m}=d;function g(){switch(e){case"US":return t?[a,o,r,l]:[p,i,a,o,r];case"ID":return t?[a,s,l,o]:[a,c,p,s,l,o];case"JP":case"TH":case"TW":return t?[s,r,l,o]:[s,l,p,r,o];case"GR":return t?[a,o,r,l]:[u,i,a,p,o,r];case"IR":case"IQ":return t?[a,o,r,l]:[a,c,p,i,r];case"UA":case"RU":return t?[a,o,r,l]:[a,u,c,o,i,p,r];default:return t?[a,o,r,l]:[a,i,p,o,r]}}return t?[h,...g()]:[...g(),h,...n?[m]:[]]}function u({invitePath:e,inviteTitle:t,objectType:n,i18n:i,isDesktop:a}){let o=i.bt(" Pin ", "A Pin for you", "shareMenu.message.title", undefined, true);8===n&&(o=i.bt(" Pinterest ", "Check out this article on Pinterest!", "shareMenu.message.title", undefined, true));const r=`mailto:?subject=${encodeURIComponent(o)}&body=${encodeURIComponent(e)}`,s=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${l.GH}`,d=`${t}\n${e}`,c=a?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(d)}`:`twitter://post?message=${encodeURIComponent(d)}`,u=a?`https://web.whatsapp.com/send?text=${encodeURIComponent(d)}`:`whatsapp://send?text=${encodeURIComponent(d)}`,p=a?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`:`https://line.me/R/msg/text/?${encodeURIComponent(d)}`,h=`viber://forward?text=${encodeURIComponent(d)}`;return{emailShareLink:r,messengerShareLink:s,twitterShareLink:c,whatsappShareLink:u,lineShareLink:p,telegramShareLink:`tg://msg?text=${encodeURIComponent(d)}`,viberShareLink:h,smsShareLink:`sms:?&body=${encodeURIComponent(d)}`}}function p(e,t,n,i){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},(e=>{e&&!e.error_message&&i&&i()}))}function h(e,t,n,i){if(!n||!t)return;const a=new t(n,{text:()=>e});a.on("success",(e=>{i&&i(e)})),a.on("error",(()=>{throw new Error("<ShareMenu /> error: copy command failed")}))}const m=(e,t,a,r,l)=>{const s=void 0!==i?i:i=n(889424),d={invite_category:t,invite_object:a,invite_channel:r};return(0,o.fetchQuery)(e,s,{inviteType:JSON.stringify(d),objectId:l}).toPromise().then((e=>{var t;return Promise.resolve((e=>{var t,n,i,a;return{inviteCode:null!==(t=null==e?void 0:e.inviteCode)&&void 0!==t?t:"",invitePath:null!==(n=null==e?void 0:e.inviteUrl)&&void 0!==n?n:"",title:null!==(i=null==e?void 0:e.title)&&void 0!==i?i:"",message:null!==(a=null==e?void 0:e.message)&&void 0!==a?a:""}})(null==e||null===(t=e.v3InviteUserExternalQuery)||void 0===t?void 0:t.data))}),(e=>Promise.reject(e)))};async function g(e,t,n,i){if(i)return m(i,3,n,e.toString(),t);{const i=r.Z.create("CreateExternalInviteResource",{invite_type:{invite_category:3,invite_object:n,invite_channel:e},object_id:t}),a=await i.callCreate(),{invite_url:o,invite_code:l,title:s,message:d}=a.resource_response.data;return{inviteCode:l,invitePath:o,title:s,message:d}}}const _=(e,t,i,r,l,s)=>{const d=void 0!==a?a:a=n(131888),c={inviteType:JSON.stringify({invite_category:t,invite_object:i,invite_channel:r}),inviteCode:l,objectId:s};(0,o.commitMutation)(e,{mutation:d,variables:{...c}})};async function v({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:a,clientTrackingParams:o,logContextEvent:l,view_parameter:d,view_type:c,socialShareComponent:u}){let p,h;l({aux_data:{invite_object:i},object_id_str:n,component:a,clientTrackingParams:o,element:s.cc[e],event_type:102,view_type:c,view_parameter:d}),p=2===i?s.LO:3===i?s.Pu:s.dB,h=14122===a?14312:14123===a?14310:u||a,l({event_type:10399,component:h,object_id_str:n,view_type:c,view_parameter:d,aux_data:{invite_object:i},element:p[e]}),r.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:i,invite_channel:e},invite_code:t,object_id:n,client_tracking_params:o}).callCreate()}},259501:(e,t,n)=>{n.d(t,{Z:()=>F});var i=n(667294),a=n(883119),o=n(798198),r=n(563962),l=n(536042),s=n(874261),d=n(245410),c=n(282802),u=n(611756),p=n(846226),h=n(618569),m=n(549201),g=n(272109),_=n(782219),v=n(979275),y=n(971467),f=n(16754),b=n(269758),x=n(871755),k=n(894637),w=n(757551),S=n(916224),P=n(343226),T=n(317218),I=n(320634),C=n(980666),A=n(785893);const E="#ffffff",j="ANIMATE_SHARE",R=()=>{const e=`${j}_default {\n      from: {\n        opacity: 1;\n        visibility:visible;\n      }\n      7% {\n        fill: ${E};\n        opacity: 0;\n        visibility:hidden;\n      }\n      89% {\n        fill: ${E};\n        opacity: 0;\n        visibility:hidden;\n      }\n      93% {\n        opacity: 0.5;\n        visibility:visible;\n      }\n      to {\n        fill: #111111;\n        opacity: 1;\n        visibility:visible;\n      }\n    }`,t=`${j}_upsellApp {\n      from {\n        opacity: 0;\n        fill: ${E};\n      }\n      7% {\n        fill: ${E};\n        transform: scale(1.25);\n        opacity: 1;\n      }\n      11% {\n        transform: scale(1);\n        opacity: 1;\n      }\n      89% {\n        fill: ${E};\n        transform: scale(1);\n        opacity: 1;\n      }\n      93% {\n        transform: scale(1.25);\n        opacity: 1;\n      }\n      to {\n        fill: ${E};\n        opacity: 0;\n      }\n    }`;return(0,o.Ll)([e,t])},D=e=>({animation:`${j}_${e} ${C.zn}ms ease-in-out`,WebkitAnimation:`${j}_${e} ${C.zn}ms ease-in-out`}),L=({children:e,handleShareTap:t,upsellIcon:n})=>{const i=(0,l.ZP)();return n?((0,u.Nh)(C.RV,Date.now()),(0,A.jsxs)(a.xu,{children:[(0,A.jsx)(s.Z,{unsafeCSS:R()}),(0,A.jsxs)(a.xu,{alignItems:"center",justifyContent:"center",display:"flex",width:48,height:48,borderStyle:"none",dangerouslySetInlineStyle:{__style:{borderRadius:"22px",...D("container")}},children:[(0,A.jsx)(a.xu,{position:"absolute",opacity:0,dangerouslySetInlineStyle:{__style:D("upsellApp")},children:(0,A.jsx)(a.iP,{accessibilityLabel:i.bt("", "Send", "Board.Pin.SendButton", undefined, true),onTap:({event:e})=>t(e),children:n})}),(0,A.jsx)(a.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:D("default")},children:e})]})]})):e},F=({onDefaultSendButtonClick:e,sendButtonColor:t,viewParameter:n})=>{const a=(0,m.HG)(),o=(0,r.Z)(),l=(0,h.Z)(),{country:s,userAgent:{platform:E}}=(0,c.B)(),j=E===_.RL||E===_.s4,[R,D]=(0,i.useState)(),F=(0,y._l)(),{hasSeenAuthMobileLandingToast:M}=(0,y.w2)()||{},{checkExperiment:O}=(0,d.F)(),z=F&&!M&&O("mweb_social_pin_landing_toast").anyEnabled,Z=()=>{l({action:"click",item:"share-button"}),o({component:194,element:46,event_type:102,view_type:3,view_parameter:n})};return(0,g.Z)((()=>{if(!a){const e=function({country:e,isAppleDevice:t}){const n=(0,u.qn)(C.RV);if(!(n&&Date.now()-Number(n)<C.bm))switch(Number((0,u.qn)(C.Cq))||C.iS.get(e)||10){case 5:return(0,A.jsx)(b.Z,{size:C.VZ});case 6:return(0,A.jsx)(w.Z,{size:C.VZ});case 8:return(0,A.jsx)(k.Z,{size:C.VZ});case 4:return t?(0,A.jsx)(x.Z,{size:C.VZ}):(0,A.jsx)(f.Z,{size:C.VZ});case 20:return(0,A.jsx)(S.Z,{size:C.VZ});case 9:return(0,A.jsx)(P.Z,{size:C.VZ});case 22:return(0,A.jsx)(T.Z,{size:C.VZ});case 10:return(0,A.jsx)(I.Z,{size:C.VZ})}return null}({country:s,isAppleDevice:j});e&&setTimeout((()=>{D(e)}),C.W_)}})),z?(0,A.jsx)(p.Z,{id:"share-button-no-animation",children:(0,A.jsx)(v.Z,{onSendButtonClick:e,trackShareTap:Z,color:t})}):(0,A.jsx)(L,{handleShareTap:t=>{Z(),e(t)},upsellIcon:R,children:(0,A.jsx)(p.Z,{id:"share-button-no-animation",children:(0,A.jsx)(v.Z,{onSendButtonClick:e,trackShareTap:Z,color:t})})})}},753081:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),a=n(883119),o=n(563962),r=n(846226),l=n(272109),s=n(492291),d=n(387815),c=n(580337),u=n(785893);const p=new a.H3([c.Z]),h=360;function m({anchor:e,onDismiss:t,objectId:n,objectType:c,title:m,component:g,viewType:_,viewParameter:v}){const y=(0,o.Z)(),[f,b]=(0,i.useState)(!1);return(0,l.Z)((()=>{y({event_type:10400,view_type:_,object_id_str:n,component:g,view_parameter:v,element:(0,d.O)(c),aux_data:{invite_object:c}})})),(0,u.jsx)(a.mh,{zIndex:p,children:(0,u.jsx)(a.J2,{anchor:e,onDismiss:()=>{f||y({component:g,event_type:10403,element:13478,view_type:_,view_parameter:v,aux_data:{invite_object:c}}),t()},size:"xl",positionRelativeToAnchor:!1,children:(0,u.jsx)(r.Z,{id:"share-menu-container",children:(0,u.jsxs)(a.kC,{alignItems:"center",direction:"column",wrap:!0,width:h,overflow:"hidden",children:[(0,u.jsx)(a.xu,{marginTop:4,marginBottom:4,children:(0,u.jsx)(a.xv,{size:"300",weight:"bold",children:(0,u.jsx)(r.Z,{id:"share-send-message",children:m})})}),(0,u.jsx)(a.kC,{width:h,children:(0,u.jsx)(s.Z,{objectId:n,objectType:c,onDismiss:t,setShareSent:e=>b(e),component:g})})]})})})})}},980666:(e,t,n)=>{n.d(t,{B:()=>o,Cq:()=>a,F6:()=>u,RV:()=>i,VZ:()=>r,W_:()=>s,bm:()=>l,iS:()=>p,rO:()=>c,zn:()=>d});const i="animatedShareIconLastViewed",a="lastUsedSocialShare",o="customizedSocialAppOrder",r=44,l=9e5,s=4e3,d=5e3,c=new Set([12,3,11]),u=new Set([11,12]),p=new Map([["AU",6],["CA",6],["DK",6],["DZ",6],["GE",6],["HU",6],["LT",6],["NO",6],["NP",6],["NZ",6],["PH",6],["PL",6],["SK",6],["TN",6],["US",6],["JP",8],["TW",8],["TH",8],["IQ",20],["KH",20],["MM",20],["UZ",20],["BA",22],["BG",22],["BY",22],["CY",22],["GR",22],["MD",22],["RS",22],["UA",22]])},387815:(e,t,n)=>{n.d(t,{O:()=>i});const i=e=>{switch(e){case 2:return 331;case 3:return 12631;default:return 72}}},991319:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),a=n(867631),o=n.n(a),r=n(883119),l=n(969327),s=n(536042),d=n(282802),c=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.PureComponent{constructor(...e){super(...e),u(this,"state",{videoStartTime:0}),u(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t,handlePlay:n,autoplay:i=!0}=this.props;this.videoPlayerRef=e,e&&t&&t(e.video),this.videoPlayerRef&&this.videoPlayerRef.video&&n&&i&&this.videoPlayerRef.video.addEventListener("canplay",(()=>{n({userTriggeredPlay:!1})}))})),u(this,"hls",null),u(this,"initializeHls",(()=>{this.destroyHls();const{src:e}=this.props,t=new(o());o().isSupported()&&!(0,l.G6)(this.props.requestContext.userAgent.browserName)&&(t.loadSource(e),this.videoPlayerRef&&t.attachMedia(this.videoPlayerRef.video)),this.hls=t})),u(this,"destroyHls",(()=>{const{hls:e}=this;e&&e.destroy()})),u(this,"onPlay",(({event:e})=>{const{handlePlay:t}=this.props;e.stopPropagation(),t&&t({userTriggeredPlay:!0})})),u(this,"onPause",(({event:e})=>{const{handlePause:t}=this.props;e.stopPropagation(),t&&t()})),u(this,"handleVolumeChange",(({event:e,volume:t})=>{const{onVolumeChange:n}=this.props;e.stopPropagation(),n&&n({volume:t})})),u(this,"handleOnReady",(e=>{this.props.onReady&&this.props.onReady(e)})),u(this,"handleEnded",(()=>{const{onEnded:e}=this.props;e&&e()})),u(this,"handlePlaying",(()=>{const{clearSeekTime:e}=this.props;e&&e()}))}componentDidMount(){this.initializeHls()}componentWillUnmount(){this.destroyHls()}componentDidUpdate(e){const{activeStreamItemIndex:t,playing:n,src:i,seekTime:a}=this.props;a&&a!==e.seekTime&&this.setState({videoStartTime:a}),t!==e.activeStreamItemIndex&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=0),e.src!==i&&(this.initializeHls(),this.hls&&this.hls.on(o().Events.MANIFEST_PARSED,(()=>{void 0!==n&&n&&this.videoPlayerRef&&this.videoPlayerRef.play()})))}render(){const{aspectRatio:e,controls:t,loop:n=!1,poster:i,src:a,onTimeChange:o,playing:l,volume:s}=this.props;return(0,c.jsx)(r.nk,{autoplay:l,playsInline:!0,aspectRatio:e,captions:"",controls:t,loop:n,onControlsPause:this.onPause,onControlsPlay:this.onPlay,onReady:this.handleOnReady,onEnded:this.handleEnded,onVolumeChange:this.handleVolumeChange,onTimeChange:o,onPlay:()=>{},onPlaying:this.handlePlaying,onPlayError:()=>{},playing:l,poster:i,ref:this.setVideoPlayerRef,src:a,startTime:this.state.videoStartTime||void 0,volume:s})}}function h(e){const{clearSeekTime:t,pinId:n="",seekTime:i}=e,a=(0,s.ZP)(),o=(0,d.B)();return(0,c.jsx)(p,{...e,i18n:a,requestContext:o,seekTime:i,clearSeekTime:()=>{t&&t(n)}})}},896507:(e,t,n)=>{n.d(t,{Z:()=>ze});var i,a=n(667294),o=n(167912),r=n(883119),l=n(319828),s=n(633917),d=n(282802),c=n(463031),u=n(549201),p=n(196039),h=n(616550),m=n(340906),g=n(123228),_=n(563962),v=n(621699),y=n(536042),f=n(630089),b=n(819079),x=n(599226),k=n(551897),w=n(802071),S=n(219236),P=n(638136),T=n(525104),I=n(785893);const C=void 0!==i?i:i=n(464442);function A({elementType:e,onFlyoutClose:t,onFlyoutOpen:n,pinId:i,tooltipElementType:o,videoProgressInfo:l,title:s,hasPrice:d,imageUrl:c,productCurrentPrice:u,pinCreator:T,blockStyleRotation:C,blockEndTime:A,blockErrorMessage:E,blockInteractiveStickerType:j,blockIsRemoved:R,blockIsValid:D,blockStartTime:L,blockTypeIdentifier:F,stickerDataQuestionCommentId:M,stickerDataBoardId:O,blockUserImageUrl:z,blockUserFullName:Z,blockUserUsername:N}){const U=(0,y.ZP)(),B=(0,w.Z)(),[K,V]=(0,a.useState)(!1),H=(0,a.useRef)(),G=(0,h.useHistory)(),W=(0,_.Z)(),$=(0,m.Z)(),q=(0,x.Z)(),Y=D&&5===j&&!!O,J=(0,b.Z)(Y?{name:"BoardResource",options:{field_set_key:"tagged_board_preview",board_id:O}}:null),X=D&&7===j&&!!M,Q=(0,P.Z)(),{is_collaborative:ee,pin_count:te,url:ne}=J.data||{};let ie=null;F===p.h8.PRODUCT_STICKER?ie=i?`/pin/${i}/`:"/":F===p.h8.MENTION_STICKER?ie=`/${null!=N?N:""}/`:Y&&(ie=J.isLoaded?`${ne}`:null);const{currentTime:ae}=l||{},oe=!(0,k.Z)({currentTime:ae,endTime:A,startTime:L}),[re,le]=(0,a.useState)(!1);(0,a.useEffect)((()=>{oe&&V(!1)}),[oe]);const se=()=>{W({event_type:123,view_type:3,view_parameter:157,component:228,element:o}),V(!1),t&&t()},de=()=>{let e=null;switch(F){case p.h8.PRODUCT_STICKER:const t=40;e=(0,I.jsxs)(a.Fragment,{children:[(0,I.jsx)(r.xu,{flex:"none",children:(0,I.jsx)(r.zd,{wash:!0,height:t,width:t,rounding:3,children:(0,I.jsx)(r.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:c||""})})}),(0,I.jsx)(r.xu,{flex:"grow",paddingX:2,children:d?(0,I.jsxs)(r.kC,{alignContent:"center",alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"center",children:[(0,I.jsx)(r.xv,{size:"100",lineClamp:1,weight:"bold",color:"shopping",children:u}),(0,I.jsx)(r.xv,{size:"100",lineClamp:1,children:s})]}):(0,I.jsx)(r.xv,{size:"100",lineClamp:1,children:s})}),(0,I.jsx)(r.xu,{flex:"none",children:(0,I.jsx)(r.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case p.h8.MENTION_STICKER:e=(0,I.jsxs)(a.Fragment,{children:[(0,I.jsx)(r.xu,{flex:"none",children:(0,I.jsx)(v.Z,{size:"sm",name:null!=Z?Z:"",src:null!=z?z:void 0})}),(0,I.jsx)(r.xu,{flex:"grow",paddingX:2,children:(0,I.jsx)(r.xv,{weight:"bold",size:"200",lineClamp:1,children:Z})}),(0,I.jsx)(r.xu,{flex:"none",children:(0,I.jsx)(r.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case p.h8.GENERIC_STICKER:e=D?Y?J.isLoaded?(0,I.jsxs)(a.Fragment,{children:[(0,I.jsxs)(r.xu,{flex:"grow",paddingX:2,children:[(0,I.jsx)(r.xv,{weight:"bold",size:"100",lineClamp:1,children:ee?U.bt("", "Explore this group board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true):U.bt("", "Explore this board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true)}),(0,I.jsx)(r.xv,{size:"100",children:(!!te||0===te)&&(0,f.nk)(U.nbt(["{{ pinCount }}  Pin "], te, "closeup.StoryPin.stickerBlock.boardSticker.boardLabel", true),{pinCount:te})})]}),(0,I.jsx)(r.xu,{flex:"none",children:(0,I.jsx)(r.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]}):(0,I.jsx)(a.Fragment,{children:(0,I.jsxs)(r.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingY:2,children:[(0,I.jsx)(r.xu,{marginEnd:1,paddingX:2,children:(0,I.jsx)(r.xv,{color:"subtle",size:"100",lineClamp:1,children:U.bt("...", "Loading board...", "closeup.StoryPin.stickerBlock.boardSticker.loadingText", undefined, true)})}),(0,I.jsx)(r.$j,{accessibilityLabel:U.bt("", "Board is loading", "closeup.StoryPin.stickerBlock.boardSticker.loadingSpinnerText", undefined, true),size:"sm",show:!0})]})}):(0,I.jsx)(r.xu,{paddingX:2,paddingY:2,children:(0,I.jsx)(r.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:U.bt("", "Sticker not supported yet", "closeup.StoryPin.stickerBlock.genericStickerError", undefined, true)})}):(0,I.jsx)(r.xu,{paddingX:2,paddingY:2,children:(0,I.jsx)(r.xv,{color:"subtle",lineClamp:1,size:"100",weight:"bold",children:E})});break;case p.h8.VTO_MAKEUP_STICKER:e=(0,I.jsx)(r.xv,{weight:"bold",size:"300",children:U.bt("", "Try this sticker on your phone!", "closeup.storyPin.vtoMakeupSticker", undefined, true)})}const t=ee?U.bt("", "Explore this group board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true):U.bt("", "Explore this board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true);return(0,I.jsx)(r.J2,{accessibilityLabel:t,anchor:H.current,idealDirection:"up",onDismiss:se,positionRelativeToAnchor:!1,showCaret:!0,size:R?"flexible":"sm",children:(0,I.jsx)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:F===p.h8.PRODUCT_STICKER?1:3,width:"100%",children:R?(0,I.jsx)(r.xv,{color:"subtle",weight:"bold",size:"200",children:U.bt("", "Tag removed!", "closeup.storyPin.stickerBlock", undefined, true)}):e})})};return(0,I.jsxs)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{transform:`rotate(${null!=C?C:0}deg)`,touchAction:"none"}},"data-test-id":(F||"")+"_container",display:"flex",left:!0,position:"absolute",ref:H,right:!0,rounding:2,top:!0,zIndex:p.B5,children:[(0,I.jsx)(r.iP,{onTap:K?se:({event:t})=>{oe||(W({view_type:3,view_parameter:157,component:228,element:e,event_type:102}),X?B.isAuth?le(!0):q({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_idea_pin_question_sticker",desktopOptions:{modalType:"login"}}):(e=>{W({event_type:120,view_type:3,view_parameter:157,component:228,element:o,aux_data:{error_message:!D&&E?E:null}}),V(!0),n&&n(),e.preventDefault(),e.stopPropagation()})(t))},rounding:"pill",disabled:oe}),K&&(0,I.jsx)(r.mh,{zIndex:p.tD,children:R?de():(0,I.jsx)(r.iP,{onTap:({event:e})=>{W({view_type:3,view_parameter:157,component:228,element:o,event_type:102}),e.preventDefault(),e.stopPropagation(),ie?G.push(ie):se()},fullWidth:!0,children:de()})}),X&&(0,I.jsx)(S.Z,{commentWarningModalState:g.A9.NONE,dismissCommentWarningModal:()=>{},heading:(0,f.nk)(U.bt(" {{ creator }}", "Reply to {{ creator }}", "ideapin.questionsticker.replymodal.heading", undefined, true),{creator:T}).join(" "),initialMentions:[],isModalOpen:re,onDismiss:()=>{le(!1)},onPost:async(e,t,n)=>(i&&M&&(await Q({force:n,parentId:M,pinId:i,text:e,tags:JSON.stringify(t),isReply:!0}),le(!1)),!0),placeholder:$?U.bt(" Pin ", "Your reply will show up as a public comment on this Pin", "pin.questionsticker.replymodal.placeholder", undefined, true):U.bt(" Pin ", "Your reply will show up as a public comment on this Idea Pin", "ideapin.questionsticker.replymodal.placeholder", undefined, true)})]})}function E({graphqlRef:e,...t}){var n,i,a;const r=(0,o.useFragment)(C,e),{gridTitle:l,description:s,richSummary:d}=r||Object.freeze({}),c=r.imageSpec_236x,{displayName:u,products:p}=d||{},h=(null==p?void 0:p[0].offerSummary)||Object.freeze({}),{price:m,maxPrice:g}=h||{},_=!(!h||!m&&!g),v=u||l||s,y=(null===(n=r.nativeCreator)||void 0===n?void 0:n.firstName)||(null===(i=r.nativeCreator)||void 0===i?void 0:i.fullName)||(null===(a=r.nativeCreator)||void 0===a?void 0:a.username);return(0,I.jsx)(A,{...t,hasPrice:_,title:v,productCurrentPrice:m,imageUrl:null==c?void 0:c.url,pinCreator:y,pinId:r.entityId})}function j({blockPinId:e,pinId:t,...n}){var i,a,o;const r=t||e,l=(0,T.S6)()(null!=r?r:""),{grid_title:s,description:d,images:c,rich_summary:u}=l||{},p=(c||{})["236x"]||{},{display_name:h,products:m}=u||{},g=((m||[])[0]||{}).offer_summary||{},{price:_,max_price:v}=g||{},y=!(!g||!_&&!v),f=h||s||d,b=(null==l||null===(i=l.native_creator)||void 0===i?void 0:i.first_name)||(null==l||null===(a=l.native_creator)||void 0===a?void 0:a.full_name)||(null==l||null===(o=l.native_creator)||void 0===o?void 0:o.username);return(0,I.jsx)(A,{...n,hasPrice:y,title:f,productCurrentPrice:_,imageUrl:p.url,pinCreator:b,pinId:r})}function R({graphqlRef:e,blockPinId:t,...n}){return e?(0,I.jsx)(E,{graphqlRef:e,...n}):(0,I.jsx)(j,{blockPinId:t,...n})}var D,L;const F=void 0!==D?D:D=n(169741),M=void 0!==L?L:L=n(79145);function O({graphqlRef:e,rootPingraphqlRef:t,...n}){var i,a,r;const l=(0,o.useFragment)(M,t),s=(0,o.useFragment)(F,e);return(0,I.jsx)(R,{...n,blockStyleRotation:null===(i=s.blockStyle)||void 0===i?void 0:i.rotation,blockEndTime:s.endTime,blockErrorMessage:s.errorMessage,blockInteractiveStickerType:s.interactiveStickerType,blockIsRemoved:s.isRemoved,blockIsValid:s.isValid,blockStartTime:s.startTime,blockTypeIdentifier:p.h8.GENERIC_STICKER,stickerDataQuestionCommentId:null===(a=s.stickerData)||void 0===a?void 0:a.questionCommentId,stickerDataBoardId:null===(r=s.stickerData)||void 0===r?void 0:r.boardId,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:l,blockPinId:null})}function z({graphqlRef:e,...t}){var n,i,a;const r=(0,o.useFragment)(F,e);return(0,I.jsx)(R,{...t,blockStyleRotation:null===(n=r.blockStyle)||void 0===n?void 0:n.rotation,blockEndTime:r.endTime,blockErrorMessage:r.errorMessage,blockInteractiveStickerType:r.interactiveStickerType,blockIsRemoved:r.isRemoved,blockIsValid:r.isValid,blockStartTime:r.startTime,blockTypeIdentifier:p.h8.GENERIC_STICKER,stickerDataQuestionCommentId:null===(i=r.stickerData)||void 0===i?void 0:i.questionCommentId,stickerDataBoardId:null===(a=r.stickerData)||void 0===a?void 0:a.boardId,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:null})}function Z({block:e,...t}){const{block_style:{rotation:n=0}={},end_time:i,error_message:a,interactive_sticker_type:o=null,is_removed:r,is_valid:l,start_time:s,sticker_data:d,type:c}=e,{board_id:u,question_comment_id:p}=d||{};return(0,I.jsx)(R,{...t,blockStyleRotation:n,blockEndTime:i,blockErrorMessage:a,blockInteractiveStickerType:o,blockIsRemoved:r,blockIsValid:l,blockStartTime:s,blockTypeIdentifier:c,stickerDataQuestionCommentId:p,stickerDataBoardId:u,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:null})}function N({block:e,resourceBlock:t,rootPingraphqlRef:n,...i}){return e&&n?(0,I.jsx)(O,{graphqlRef:e,rootPingraphqlRef:n,...i}):e&&!n?(0,I.jsx)(z,{graphqlRef:e,...i}):t?(0,I.jsx)(Z,{block:t,...i}):null}var U,B=n(376398),K=n(171054);const V=void 0!==U?U:U=n(178365);function H({blockText:e,styleAlignment:t,styleFontSize:n,styleHexColor:i,styleHighlightColor:a,styleVerticalAlignment:o,fontName:r,fontLetterSpacing:l,fontLineHeight:s,fontUrl:d,fontDefaultSize:c}){return(0,K.m)({hasFont:!0,letterSpacing:l,lineHeight:s,name:r,url:d}),(0,I.jsx)("h1",{style:(0,B.RK)({alignment:t,verticalAlignment:null!=o?o:p.Wz.vertical_alignment}),children:(0,I.jsx)("span",{style:(0,B.BN)({fontSize:n||c,hexColor:null!=i?i:p.Wz.hex_color,letterSpacing:l,lineHeight:s,name:r,highlightColor:a}),children:e})})}function G({graphqlRef:e}){var t,n,i,a,r,l,s,d,c,u,h,m,g,_,v,y,f,b,x,k,w,S,P,T,C;const A=(0,o.useFragment)(V,e);return(0,I.jsx)(H,{blockText:A.text,styleAlignment:null!==(t=null===(n=A.style)||void 0===n?void 0:n.alignment)&&void 0!==t?t:p.Wz.alignment,styleFontSize:null!==(i=null===(a=A.style)||void 0===a?void 0:a.fontSize)&&void 0!==i?i:p.Wz.font_size,styleHexColor:null!==(r=null===(l=A.style)||void 0===l?void 0:l.hexColor)&&void 0!==r?r:p.Wz.hex_color,styleHighlightColor:null!==(s=null===(d=A.style)||void 0===d?void 0:d.highlightColor)&&void 0!==s?s:p.Wz.highlight_color,styleVerticalAlignment:null!==(c=null===(u=A.style)||void 0===u?void 0:u.verticalAlignment)&&void 0!==c?c:p.Wz.vertical_alignment,fontName:null!==(h=null===(m=A.style)||void 0===m||null===(g=m.font)||void 0===g?void 0:g.name)&&void 0!==h?h:p.Wz.font.name,fontLetterSpacing:null!==(_=null===(v=A.style)||void 0===v||null===(y=v.font)||void 0===y?void 0:y.letterSpacing)&&void 0!==_?_:p.Wz.font.letter_spacing,fontLineHeight:null!==(f=null===(b=A.style)||void 0===b||null===(x=b.font)||void 0===x?void 0:x.lineHeight)&&void 0!==f?f:p.Wz.font.line_height,fontUrl:null!==(k=null===(w=A.style)||void 0===w||null===(S=w.font)||void 0===S?void 0:S.url)&&void 0!==k?k:p.Wz.font.url,fontDefaultSize:null!==(P=null===(T=A.style)||void 0===T||null===(C=T.font)||void 0===C?void 0:C.defaultSize)&&void 0!==P?P:p.Wz.font.default_size})}function W({block:e}){var t,n,i,a,o,r,l,s,d,c,u,h,m,g,_,v,y,f,b,x,k,w,S,P,T;return(0,I.jsx)(H,{blockText:e.text,styleAlignment:null!==(t=null===(n=e.style)||void 0===n?void 0:n.alignment)&&void 0!==t?t:p.Wz.alignment,styleFontSize:null!==(i=null===(a=e.style)||void 0===a?void 0:a.font_size)&&void 0!==i?i:p.Wz.font_size,styleHexColor:null!==(o=null===(r=e.style)||void 0===r?void 0:r.hex_color)&&void 0!==o?o:p.Wz.hex_color,styleHighlightColor:null!==(l=null===(s=e.style)||void 0===s?void 0:s.highlight_color)&&void 0!==l?l:p.Wz.highlight_color,styleVerticalAlignment:null!==(d=null===(c=e.style)||void 0===c?void 0:c.vertical_alignment)&&void 0!==d?d:p.Wz.vertical_alignment,fontName:null!==(u=null===(h=e.style)||void 0===h||null===(m=h.font)||void 0===m?void 0:m.name)&&void 0!==u?u:p.Wz.font.name,fontLetterSpacing:null!==(g=null===(_=e.style)||void 0===_||null===(v=_.font)||void 0===v?void 0:v.letter_spacing)&&void 0!==g?g:p.Wz.font.letter_spacing,fontLineHeight:null!==(y=null===(f=e.style)||void 0===f||null===(b=f.font)||void 0===b?void 0:b.line_height)&&void 0!==y?y:p.Wz.font.line_height,fontUrl:null!==(x=null===(k=e.style)||void 0===k||null===(w=k.font)||void 0===w?void 0:w.url)&&void 0!==x?x:p.Wz.font.url,fontDefaultSize:null!==(S=null===(P=e.style)||void 0===P||null===(T=P.font)||void 0===T?void 0:T.default_size)&&void 0!==S?S:p.Wz.font.default_size})}function $({block:e,resourceBlock:t}){return e?(0,I.jsx)(G,{graphqlRef:e}):t?(0,I.jsx)(W,{block:t}):null}var q;const Y=void 0!==q?q:q=n(556079);function J({imageHeight:e,imageWidth:t,imageUrl:n}){const i=(0,y.ZP)();return(0,I.jsx)(r.xu,{flex:"grow",children:(0,I.jsx)(r.Ee,{alt:i.bt(" Pin ", "Story pin image", "mweb.closeup.storypin.renderer", undefined, true),color:"transparent",naturalHeight:null!=e?e:1,naturalWidth:null!=t?t:1,src:null!=n?n:""})})}function X({graphqlRef:e}){const t=(0,o.useFragment)(Y,e);return t.imageSpec_750x?(0,I.jsx)(J,{imageHeight:t.imageSpec_750x.height,imageWidth:t.imageSpec_750x.width,imageUrl:t.imageSpec_750x.url}):null}function Q({block:e}){const t=e.image;if(!t)return null;const{images:n={}}=t,i=n["750x"];return(0,I.jsx)(J,{imageHeight:null==i?void 0:i.height,imageWidth:null==i?void 0:i.width,imageUrl:null==i?void 0:i.url})}function ee({block:e,resourceBlock:t}){return e?(0,I.jsx)(X,{graphqlRef:e}):t?(0,I.jsx)(Q,{block:t}):null}var te;const ne=void 0!==te?te:te=n(688599);function ie({graphqlRef:e,...t}){var n,i,a,r;const l=(0,o.useFragment)(ne,e);return(0,I.jsx)(R,{...t,blockStyleRotation:null===(n=l.blockStyle)||void 0===n?void 0:n.rotation,blockEndTime:l.endTime,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:l.isRemoved,blockIsValid:null,blockStartTime:l.startTime,blockTypeIdentifier:p.h8.MENTION_STICKER,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:null===(i=l.user)||void 0===i?void 0:i.imageSmallUrl,blockUserFullName:null===(a=l.user)||void 0===a?void 0:a.fullName,blockUserUsername:null===(r=l.user)||void 0===r?void 0:r.username,graphqlRef:null,blockPinId:null})}function ae({block:e,...t}){var n;const{block_style:{rotation:i}={},end_time:a,is_removed:o,start_time:r,type:l}=e,{image_small_url:s,full_name:d,username:c}=null!==(n=e.user)&&void 0!==n?n:{};return(0,I.jsx)(R,{...t,blockStyleRotation:i,blockEndTime:a,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:o,blockIsValid:null,blockStartTime:r,blockTypeIdentifier:l,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:s,blockUserFullName:d,blockUserUsername:c,graphqlRef:null,blockPinId:null})}function oe({block:e,resourceBlock:t,...n}){return e?(0,I.jsx)(ie,{graphqlRef:e,...n}):t?(0,I.jsx)(ae,{block:t,...n}):null}var re;const le=void 0!==re?re:re=n(519484);function se({blockText:e,styleAlignment:t,styleFontSize:n,styleHexColor:i,styleHighlightColor:o,styleVerticalAlignment:r,fontName:l,fontLetterSpacing:s,fontLineHeight:d,fontUrl:c,fontDefaultSize:u}){(0,K.m)({hasFont:!0,letterSpacing:s,lineHeight:d,name:l,url:c});const h=(null!=e?e:"").split(/\r?\n/g);return(0,I.jsx)("div",{style:(0,B.RK)({alignment:t,verticalAlignment:null!=r?r:p.Cc.vertical_alignment}),children:(0,I.jsx)("p",{style:(0,B.BN)({fontSize:n||u,hexColor:null!=i?i:p.Cc.hex_color,letterSpacing:s,lineHeight:d,name:l}),children:h.map(((t,n)=>(0,I.jsx)("span",{style:(0,B.xm)({highlightColor:t.trim().length?o:null}),children:n===h.length-1?t:(0,I.jsxs)(a.Fragment,{children:[t," ",(0,I.jsx)("br",{})]})},`paragraphLine-${n}-${(null!=e?e:"").substr(0,9)}`)))})})}function de({graphqlRef:e}){var t,n,i,a,r,l,s,d,c,u,h,m,g,_,v,y,f,b,x,k,w,S,P,T,C;const A=(0,o.useFragment)(le,e);return(0,I.jsx)(se,{blockText:A.text,styleAlignment:null!==(t=null===(n=A.style)||void 0===n?void 0:n.alignment)&&void 0!==t?t:p.Cc.alignment,styleFontSize:null!==(i=null===(a=A.style)||void 0===a?void 0:a.fontSize)&&void 0!==i?i:p.Cc.font_size,styleHexColor:null!==(r=null===(l=A.style)||void 0===l?void 0:l.hexColor)&&void 0!==r?r:p.Cc.hex_color,styleHighlightColor:null!==(s=null===(d=A.style)||void 0===d?void 0:d.highlightColor)&&void 0!==s?s:p.Cc.highlight_color,styleVerticalAlignment:null!==(c=null===(u=A.style)||void 0===u?void 0:u.verticalAlignment)&&void 0!==c?c:p.Cc.vertical_alignment,fontName:null!==(h=null===(m=A.style)||void 0===m||null===(g=m.font)||void 0===g?void 0:g.name)&&void 0!==h?h:p.Cc.font.name,fontLetterSpacing:null!==(_=null===(v=A.style)||void 0===v||null===(y=v.font)||void 0===y?void 0:y.letterSpacing)&&void 0!==_?_:p.Cc.font.letter_spacing,fontLineHeight:null!==(f=null===(b=A.style)||void 0===b||null===(x=b.font)||void 0===x?void 0:x.lineHeight)&&void 0!==f?f:p.Cc.font.line_height,fontUrl:null!==(k=null===(w=A.style)||void 0===w||null===(S=w.font)||void 0===S?void 0:S.url)&&void 0!==k?k:p.Cc.font.url,fontDefaultSize:null!==(P=null===(T=A.style)||void 0===T||null===(C=T.font)||void 0===C?void 0:C.defaultSize)&&void 0!==P?P:p.Cc.font.default_size})}function ce({block:e}){var t,n,i,a,o,r,l,s,d,c,u,h,m,g,_,v,y,f,b,x,k,w,S,P,T;return(0,I.jsx)(se,{blockText:e.text,styleAlignment:null!==(t=null===(n=e.style)||void 0===n?void 0:n.alignment)&&void 0!==t?t:p.Cc.alignment,styleFontSize:null!==(i=null===(a=e.style)||void 0===a?void 0:a.font_size)&&void 0!==i?i:p.Cc.font_size,styleHexColor:null!==(o=null===(r=e.style)||void 0===r?void 0:r.hex_color)&&void 0!==o?o:p.Cc.hex_color,styleHighlightColor:null!==(l=null===(s=e.style)||void 0===s?void 0:s.highlight_color)&&void 0!==l?l:p.Cc.highlight_color,styleVerticalAlignment:null!==(d=null===(c=e.style)||void 0===c?void 0:c.vertical_alignment)&&void 0!==d?d:p.Cc.vertical_alignment,fontName:null!==(u=null===(h=e.style)||void 0===h||null===(m=h.font)||void 0===m?void 0:m.name)&&void 0!==u?u:p.Cc.font.name,fontLetterSpacing:null!==(g=null===(_=e.style)||void 0===_||null===(v=_.font)||void 0===v?void 0:v.letter_spacing)&&void 0!==g?g:p.Cc.font.letter_spacing,fontLineHeight:null!==(y=null===(f=e.style)||void 0===f||null===(b=f.font)||void 0===b?void 0:b.line_height)&&void 0!==y?y:p.Cc.font.line_height,fontUrl:null!==(x=null===(k=e.style)||void 0===k||null===(w=k.font)||void 0===w?void 0:w.url)&&void 0!==x?x:p.Cc.font.url,fontDefaultSize:null!==(S=null===(P=e.style)||void 0===P||null===(T=P.font)||void 0===T?void 0:T.default_size)&&void 0!==S?S:p.Cc.font.default_size})}function ue({block:e,resourceBlock:t}){return e?(0,I.jsx)(de,{graphqlRef:e}):t?(0,I.jsx)(ce,{block:t}):null}var pe;const he=void 0!==pe?pe:pe=n(336090);function me({graphqlRef:e,...t}){var n;const i=(0,o.useFragment)(he,e);return(0,I.jsx)(R,{...t,blockStyleRotation:null===(n=i.blockStyle)||void 0===n?void 0:n.rotation,blockEndTime:i.endTime,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:i.isRemoved,blockIsValid:null,blockStartTime:i.startTime,blockTypeIdentifier:p.h8.PRODUCT_STICKER,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:i.pinId})}function ge({block:e,...t}){const{block_style:{rotation:n}={},end_time:i,is_removed:a,start_time:o,type:r}=e;return(0,I.jsx)(R,{...t,blockStyleRotation:n,blockEndTime:i,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:a,blockIsValid:null,blockStartTime:o,blockTypeIdentifier:r,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:e.pin_id})}function _e({block:e,resourceBlock:t,...n}){return e?(0,I.jsx)(me,{graphqlRef:e,...n}):t?(0,I.jsx)(ge,{block:t,...n}):null}var ve,ye=n(634004),fe=n(991319);const be=1e3,xe=void 0!==ve?ve:ve=n(952879);function ke({activeStreamItemIndex:e,isActive:t,isSinglePage:n,muteVideos:i,onVideoEnded:o,onVideoTimeChange:l,pinAspectRatio:s,blockStyleWidth:p,blockStyleHeight:h,blockVideo:m,pinId:g}){const _=function(){const e=(0,u.HG)(),[t,n]=(0,a.useState)(c.ap);return(0,a.useEffect)((()=>{"undefined"!=typeof window&&n(e?c.ap:window.innerWidth/window.innerHeight)}),[e]),t}(),{isBot:v}=(0,d.B)(),{isSeekingIdeaPin:y,seekTimes:f}=(0,ye.Hx)(),{clearSeekTime:b}=(0,ye.RC)(),x=f&&f[g]||0;if(!m)return null;const{width:k,height:w,thumbnail:S,url:P}=m,T=p&&h?p/h*_:_,C=(null!=k?k:1)/(null!=w?w:1),A={height:"100%",left:"0%",top:"0%",width:"100%"};if(T<C){const e=100*C/T;A.width=v?"100%":`${e}%`,A.left=v?"":`-${(e-100)/2}%`}else if(T>C){const e=100*T/C;A.height=`${e}%`,A.top=`-${(e-100)/2}%`}const E=(0,I.jsx)(fe.Z,{activeStreamItemIndex:e,aspectRatio:(null!=k?k:1)/(null!=w?w:1),poster:null!=S?S:void 0,src:null!=P?P:"",playing:!y&&t,volume:i?0:1,onEnded:t?o:()=>{},onTimeChange:({time:e})=>{if(l&&"number"==typeof m.duration&&m.duration>0&&!y&&t){const t=m.duration/be;l({currentTime:e,duration:t,pinId:g})}},pinId:g,clearSeekTime:b,loop:n,seekTime:x});return s!==c.ap?E:(0,I.jsx)(r.xu,{height:"100%",width:"100%",children:(0,I.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:A},position:"absolute",children:E})})}function we({graphqlRef:e,...t}){var n,i,a,r;const l=(0,o.useFragment)(xe,e),s=null===(n=l.videoData)||void 0===n||null===(i=n.videoList)||void 0===i?void 0:i.vHLSV3MOBILE;return(0,I.jsx)(ke,{blockStyleWidth:null===(a=l.blockStyle)||void 0===a?void 0:a.width,blockStyleHeight:null===(r=l.blockStyle)||void 0===r?void 0:r.height,blockVideo:s,...t})}function Se({block:e,...t}){var n,i,a,o;const r=null===(n=e.video)||void 0===n||null===(i=n.video_list)||void 0===i?void 0:i.V_HLSV3_MOBILE;return(0,I.jsx)(ke,{blockStyleWidth:null===(a=e.block_style)||void 0===a?void 0:a.width,blockStyleHeight:null===(o=e.block_style)||void 0===o?void 0:o.height,blockVideo:r,...t})}function Pe({block:e,resourceBlock:t,...n}){return e?(0,I.jsx)(we,{graphqlRef:e,...n}):t?(0,I.jsx)(Se,{block:t,...n}):null}var Te;const Ie=void 0!==Te?Te:Te=n(589316);function Ce({graphqlRef:e,...t}){var n;const i=(0,o.useFragment)(Ie,e);return(0,I.jsx)(R,{...t,blockStyleRotation:null===(n=i.blockStyle)||void 0===n?void 0:n.rotation,blockEndTime:i.endTime,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:i.isRemoved,blockIsValid:null,blockStartTime:i.startTime,blockTypeIdentifier:p.h8.VTO_MAKEUP_STICKER,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:i.pinId})}function Ae({block:e,...t}){const{block_style:{rotation:n}={},end_time:i,is_removed:a,start_time:o,type:r}=e;return(0,I.jsx)(R,{...t,blockStyleRotation:n,blockEndTime:i,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:a,blockIsValid:null,blockStartTime:o,blockTypeIdentifier:r,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:e.pin_id})}function Ee({block:e,resourceBlock:t,...n}){return e?(0,I.jsx)(Ce,{graphqlRef:e,...n}):t?(0,I.jsx)(Ae,{block:t,...n}):null}var je;const Re=void 0!==je?je:je=n(261618);function De(){const[e,t]=(0,a.useState)(0),[n,i]=(0,a.useState)(0);return(0,a.useEffect)((()=>{"undefined"!=typeof window&&(t(window.innerWidth),i(window.innerHeight))}),[]),{windowHeight:n,windowWidth:e}}const Le=({children:e,height:t,isStaticImageIdeaPin:n,isVideoOrImageBlock:i,left:a,pinAspectRatio:o=c.ap,top:s,width:p})=>{var h;const{windowHeight:m,windowWidth:g}=De(),_=(0,u.HG)(),{isBot:v}=(0,d.B)(),y=g/l._B,f=n||o!==c.ap?o:g/m,b=l._B/f,x=(p||0)*l._B*y/100,k=(t||0)*b*y/100,w=(a||0)*l._B*y/100,S=(s||0)*b*y/100;a=v?0:a;const P=v?g:`${null!=p?p:100}%`;return i||_?(0,I.jsx)(r.xu,{height:`${null!=t?t:100}%`,width:P,position:n?"relative":"absolute",display:"flex",dangerouslySetInlineStyle:{__style:{top:`${null!=s?s:0}%`,left:`${null!==(h=a)&&void 0!==h?h:0}%`}},children:e}):(0,I.jsx)(r.xu,{height:`${k}px`,width:v?g:`${x}px`,position:"absolute",display:"flex",dangerouslySetInlineStyle:{__style:{top:`${S}px`,left:v?"0px":`${w}px`}},children:e})};function Fe({activeStreamItemIndex:e,block:t,isActive:n,isCoverImageWithTitle:i,isSinglePage:a,isStaticImageIdeaPin:o=!1,muteVideos:r,onFlyoutClose:l,onFlyoutOpen:c,onVideoEnded:u,onVideoTimeChange:h,pinAspectRatio:m,pinId:g,videoProgressInfo:_,BoxWrapper:v=Le}){const{block_style:{height:y,width:f,x_coord:b,y_coord:x}={},interactive_sticker_type:k=null}=t,{isBot:w}=(0,d.B)(),{windowWidth:S}=De();return(0,I.jsxs)(v,{isStaticImageIdeaPin:o,height:y,width:w?S:f,left:b,top:x,pinAspectRatio:m,isVideoOrImageBlock:[p.h8.IMAGE,p.h8.VIDEO].includes(t.type),children:[t.type===p.h8.PARAGRAPH&&(0,I.jsx)(ue,{resourceBlock:t,block:null}),t.type===p.h8.HEADING&&!i&&(0,I.jsx)($,{resourceBlock:t,block:null}),t.type===p.h8.IMAGE&&(0,I.jsx)(ee,{resourceBlock:t,block:null}),t.type===p.h8.VIDEO&&(0,I.jsx)(Pe,{activeStreamItemIndex:e,block:null,isActive:n,isSinglePage:a,resourceBlock:t,muteVideos:r,onVideoTimeChange:h,onVideoEnded:u,pinAspectRatio:m,pinId:g}),t.type===p.h8.MENTION_STICKER&&(0,I.jsx)(s.Z,{children:(0,I.jsx)(oe,{block:null,resourceBlock:t,pinId:null,onFlyoutClose:l,onFlyoutOpen:c,elementType:12120,tooltipElementType:12121,videoProgressInfo:_})}),t.type===p.h8.GENERIC_STICKER&&(e=>5===k?(0,I.jsx)(N,{block:null,resourceBlock:e,pinId:null,elementType:12827,onFlyoutClose:l,onFlyoutOpen:c,tooltipElementType:12828,videoProgressInfo:_,rootPingraphqlRef:null}):(0,I.jsx)(N,{block:null,resourceBlock:e,elementType:12858,onFlyoutClose:l,onFlyoutOpen:c,pinId:g,tooltipElementType:12859,videoProgressInfo:_,rootPingraphqlRef:null}))(t),t.type===p.h8.PRODUCT_STICKER&&(0,I.jsx)(_e,{block:null,resourceBlock:t,pinId:null,onFlyoutClose:l,onFlyoutOpen:c,elementType:12223,tooltipElementType:12224,videoProgressInfo:_}),t.type===p.h8.VTO_MAKEUP_STICKER&&(0,I.jsx)(Ee,{block:null,resourceBlock:t,pinId:null,onFlyoutClose:l,onFlyoutOpen:c,elementType:12561,tooltipElementType:12561,videoProgressInfo:_})]})}function Me({activeStreamItemIndex:e,graphqlRef:t,isStaticImageIdeaPin:n,pageId:i,pinAspectRatio:a,pinId:r,BoxWrapper:l=Le,...c}){var u,p,h;const m=(0,o.useFragment)(Re,t),g=(null!==(u=null===(p=m.storyPinData)||void 0===p?void 0:p.pages)&&void 0!==u?u:[]).find((e=>e.id===i)),{isBot:_}=(0,d.B)(),{windowWidth:v}=De();return(null!==(h=null==g?void 0:g.blocks)&&void 0!==h?h:[]).map((t=>{var i,o;const{height:d,width:u,xCoord:p,yCoord:h}=null!==(i=t.blockStyle)&&void 0!==i?i:Object.freeze({});return(0,I.jsxs)(l,{height:d,width:_?v:u,left:p,top:h,isStaticImageIdeaPin:!!n,pinAspectRatio:a,isVideoOrImageBlock:[2,3].includes(t.blockType),children:[0===t.blockType&&(0,I.jsx)(ue,{block:t}),1===t.blockType&&(0,I.jsx)($,{block:t}),2===t.blockType&&(0,I.jsx)(ee,{block:t}),3===t.blockType&&(0,I.jsx)(Pe,{activeStreamItemIndex:e,block:t,isSinglePage:c.isSinglePage,isActive:c.isActive,muteVideos:c.muteVideos,onVideoTimeChange:c.onVideoTimeChange,onVideoEnded:c.onVideoEnded,pinAspectRatio:a,pinId:r}),12===t.blockType&&(0,I.jsx)(s.Z,{children:(0,I.jsx)(oe,{block:t,onFlyoutOpen:c.onFlyoutOpen,elementType:12120,tooltipElementType:12121,videoProgressInfo:c.videoProgressInfo,pinId:null})}),19===t.blockType&&5===t.interactiveStickerType&&(0,I.jsx)(N,{block:t,onFlyoutOpen:c.onFlyoutOpen,elementType:12120,tooltipElementType:12121,videoProgressInfo:c.videoProgressInfo,pinId:null,rootPingraphqlRef:null}),19===t.blockType&&7===t.interactiveStickerType&&(0,I.jsx)(N,{block:t,onFlyoutOpen:c.onFlyoutOpen,elementType:12858,tooltipElementType:12859,videoProgressInfo:c.videoProgressInfo,pinId:m.entityId,rootPingraphqlRef:m}),13===t.blockType&&(0,I.jsx)(_e,{block:t,onFlyoutOpen:c.onFlyoutOpen,elementType:12223,tooltipElementType:12224,videoProgressInfo:c.videoProgressInfo,pinId:null}),17===t.blockType&&(0,I.jsx)(Ee,{block:t,onFlyoutOpen:c.onFlyoutOpen,elementType:12561,tooltipElementType:12561,videoProgressInfo:c.videoProgressInfo,pinId:null})]},`${null!=d?d:""}-${null!=u?u:""}-${null!==(o=t.blockType)&&void 0!==o?o:""}`)}))}function Oe({blocks:e,...t}){return(null!=e?e:[]).map(((e,n)=>{var i;return(0,I.jsx)(Fe,{block:e,...t},`${n}-${null!==(i=e.block_type)&&void 0!==i?i:""}`)}))}function ze({blocks:e,pageId:t,maybeGraphqlRef:n,...i}){return n?(0,I.jsx)(Me,{graphqlRef:n,pageId:t,...i}):(0,I.jsx)(Oe,{blocks:e,...i})}},117918:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(536042),o=n(265259),r=n(785893);function l({isPinRep:e}){const t=(0,a.ZP)(),n=e?"default":"inverse",l=(0,r.jsx)(i.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,r.jsx)(i.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,r.jsxs)(i.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(i.xu,{paddingY:4,children:(0,r.jsx)(i.JO,{accessibilityLabel:t.bt("Pin ", "Pin not available", "story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel", undefined, true),color:n,icon:"alert",size:20})}),(0,r.jsx)(i.xv,{align:"center",color:n,weight:"bold",children:t.bt("", "Unavailable", "story-pin.Closeup.UnavailableStoryPin.Unavailable", undefined, true)}),(0,r.jsx)(i.xu,{paddingY:1,children:(0,r.jsx)(i.xv,{align:"center",color:n,children:t.bt("", "Removed by the creator", "story-pin.Closeup.UnavailableStoryPin.Removed", undefined, true)})})]})})});return e?l:(0,r.jsx)(i.xu,{height:"100vh",children:(0,r.jsx)(o.Z,{children:l})})}},196039:(e,t,n)=>{n.d(t,{Ai:()=>P,B5:()=>m,CR:()=>c,Cc:()=>r,HG:()=>x,R_:()=>s,Wz:()=>l,_P:()=>b,dX:()=>w,f5:()=>_,gx:()=>u,h8:()=>a,hk:()=>d,lp:()=>v,lt:()=>h,oe:()=>k,r4:()=>f,rM:()=>S,tD:()=>p});var i=n(883119);const a={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},o={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},r={...o,font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28},l={...o,font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48},s=64,d=64,c=48,u=48,p=new i.Ry(5),h=new i.H3([p]),m=new i.H3([h]),g=new i.H3([p]),_=new i.H3([g,new i.Ry(1)]),v=new i.H3([g]),y=2,f=4;function b(e){return e?{paddingX:0,paddingY:0}:{paddingX:y,paddingY:f}}const x=6,k=47,w=8,S=4,P=5},376398:(e,t,n)=>{n.d(t,{BN:()=>a,RK:()=>i,d3:()=>r,xm:()=>o});const i=({alignment:e,verticalAlignment:t})=>{const n={alignItems:"flex-start",display:"flex",height:"100%",textAlign:"left",width:"100%"};return 1===t?n.alignItems="center":2===t&&(n.alignItems="flex-end"),1===e&&(n.textAlign="center"),n},a=({fontSize:e,hexColor:t,highlightColor:n,letterSpacing:i,lineHeight:a,name:o})=>({fontSize:e,letterSpacing:i,lineHeight:a,color:t,fontFamily:o,margin:0,textShadow:n||"#ffffff"!==(null==t?void 0:t.toLowerCase())?void 0:"0px 1px 4px rgba(0, 0, 0, 0.2)",width:"100%",...n?{backgroundColor:n,borderRadius:5,padding:".05em .2em"}:{}}),o=({highlightColor:e})=>({...e?{backgroundColor:e,borderRadius:5,padding:".05em .2em"}:{}}),r=({letterSpacing:e,lineHeight:t,name:n,url:i})=>({fontFamily:n,fontGroup:"",fontOverrides:{letterSpacing:e,lineHeight:t,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:i}]})},171054:(e,t,n)=>{n.d(t,{h:()=>r,m:()=>l});var i=n(537347),a=n.n(i),o=n(376398);function r(e,t){if("undefined"==typeof window)return Promise.resolve();let n=document.querySelector(`#${t}`);if(n)return Promise.resolve();n=document.createElement("style"),n.setAttribute("id",t),e.filter((e=>!!e.fontFaceUrl)).forEach((e=>{n&&e.fontFaceUrl&&n.appendChild(document.createTextNode(`@import url('${e.fontFaceUrl}');`))}));const{head:i}=document;if(!i)return Promise.resolve();const o=document.createElement("style");o.setAttribute("id",`${t}-font-faces`),i.appendChild(n),i.appendChild(o);const r=[];return e.forEach((e=>{e&&e.styles&&e.styles.forEach((t=>{if(e.format&&t.fontUrl&&o&&o.sheet){var n;o.sheet.insertRule(`\n            @font-face {\n              font-family: "${null!==(n=e.fontFamily)&&void 0!==n?n:""}";\n              font-style: "${t.fontStyle}";\n              font-weight: "${t.fontWeight}";\n              src: url("${t.fontUrl}") format("${e.format}");\n            }`)}r.push(new(a())(e.fontFamily,{weight:t.fontWeight,style:t.fontStyle}).load())}))})),Promise.all(r)}function l(e){const{hasFont:t,letterSpacing:n,lineHeight:i,name:a,url:l}=e||{};t&&r([(0,o.d3)({letterSpacing:n,lineHeight:i,name:a,url:l})],(null!=a?a:"").split(" ").join(""))}},622050:(e,t,n)=>{function i(e){const t=[];let n="";for(const i of e)if(n){const e=!!i.match(/\s/),a=!!n.match(/\s/);if(e===a)n+=i;else if(!a&&n.includes("-")){let e=0;for(let i=0;i<n.length;i+=1)"-"===n[i]&&(t.push(n.substring(e,i+1)),e=i+1);t.push(n.substring(e)),n=i}else t.push(n),n=i}else n=i;return n.length&&t.push(n),t}function a({font:e,fontSize:t,textList:n,width:a}){var o,r;if("undefined"==typeof document||!document.body||a<=0||t<=0)return[];const{body:l}=document,s=document.createElement("div");l.appendChild(s);const d=null!=(null===(o=e.fontOverrides)||void 0===o?void 0:o.letterSpacing)?`${e.fontOverrides.letterSpacing}px`:void 0,c=(null===(r=e.fontOverrides)||void 0===r?void 0:r.lineHeight)||1.1,u={letterSpacing:d,lineHeight:String(c),fontFamily:e.fontFamily,fontSize:`${t}px`,visibility:"hidden"};Object.assign(s.style,u);const p=document.createElement("div");p.style.display="inline",s.appendChild(p);const h=document.createTextNode("");p.appendChild(h);const m=[];let g="";const _=e=>{const t=e.trim();return h.textContent=t,{text:t,width:p.offsetWidth}},v=e=>{const t=!!e.match(/\s/),n=0===g.length;if(h.textContent=`${g}${e}`,p.offsetWidth>a)if(t)m.push(_(g)),g="";else if(n)for(const i of e)v(i);else m.push(_(g)),g="",v(e);else g+=e};for(const y of null!=n?n:[]){0===y.length&&m.push(_(g));i(y).forEach((e=>v(e))),g.length&&(m.push(_(g)),g="")}return p.remove(),s.remove(),m}function o({boxHeight:e,boxWidth:t,font:n,startFontSize:i,text:o}){var r,l;if("undefined"==typeof document||!document.body)return{fontSize:i,lines:[]};const{body:s}=document,d=document.createElement("div");s.appendChild(d);const c=null==o?void 0:o.split(/\r?\n/g);let u=i;const p=null!=(null===(r=n.fontOverrides)||void 0===r?void 0:r.letterSpacing)?`${n.fontOverrides.letterSpacing}px`:void 0,h=(null===(l=n.fontOverrides)||void 0===l?void 0:l.lineHeight)||1.1,m={letterSpacing:p,lineHeight:String(h),fontFamily:n.fontFamily,fontSize:`${u}px`,position:"absolute",visibility:"hidden",width:`${t}px`};Object.assign(d.style,m);const g=document.createElement("div");for(g.style.display="inline",d.appendChild(g),(null!=c?c:[]).forEach(((e,t)=>{const n=document.createElement("span");n.style.wordBreak="break-word",g.appendChild(n),n.appendChild(document.createTextNode(e)),t!==(null!=o?o:"").length-1&&n.appendChild(document.createElement("br"))}));(g.offsetHeight>e||g.offsetWidth>t)&&u>0;)u-=1,d.style.fontSize=`${u}px`;return g.remove(),d.remove(),{fontSize:u,lines:u>0?a({font:n,fontSize:u,textList:c,width:t}):[]}}n.d(t,{K:()=>o,Y:()=>i})},834074:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(600268);function a(e){var t;return{defaultStyle:0,fontFamily:null!==(t=e.name)&&void 0!==t?t:"",fontGroup:i.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}},586046:(e,t,n)=>{n.d(t,{Ei:()=>s,Lh:()=>p,U:()=>c,Zy:()=>l,dD:()=>o,er:()=>u,j7:()=>h,n5:()=>r,q8:()=>d,xH:()=>a});var i=n(463031);const a=1048576,o=3,r=20,l=3,s=10,d=375,c=d/i.ap,u=1200,p="#FFFFFF",h={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"}},356332:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),a=n(883119),o=n(536042),r=n(293017),l=n(785893);const s=e=>0===e?0:2,d=({children:e,dangerouslySetInlineStyle:t,marginTop:n})=>(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:t,"data-test-id":"structured-description",marginTop:n,children:e}),c=({content:e,order:t,type:n})=>{if(!e)return null;const i=n===r.X0.HEADER,o=[r.X0.HEADER,r.X0.BOLD].includes(n),c=t>0&&i?4:s(t);return(0,l.jsx)(d,{marginTop:c,children:(0,l.jsx)(a.xv,{size:"200",weight:o?"bold":"normal",children:e})})},u=({content:e,order:t})=>e?(0,l.jsx)(d,{marginTop:s(t),children:e}):null,p=({content:e,order:t})=>Array.isArray(e)&&0!==e.length?(0,l.jsx)(d,{marginTop:s(t),children:e.map((e=>(0,l.jsxs)(a.xu,{display:"flex",direction:"row",marginStart:1,marginTop:1,children:[(0,l.jsx)(a.xv,{size:"200",weight:"bold",inline:!0,children:""}),(0,l.jsx)(a.xu,{marginStart:1,children:(0,l.jsx)(a.xv,{size:"200",children:e})})]},e)))}):null,h=({accessibilityLabel:e,content:t,order:n})=>t&&"object"==typeof t?(0,l.jsx)(d,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:s(n),children:(0,l.jsx)(a.iA,{accessibilityLabel:e,children:(0,l.jsx)(a.iA.Body,{children:Object.entries(t).map((([e,t],n)=>(0,l.jsxs)(a.iA.Row,{children:[(0,l.jsx)(a.iA.Cell,{children:(0,l.jsx)(a.xv,{size:"100",weight:"bold",children:e})}),(0,l.jsx)(a.iA.Cell,{children:(0,l.jsx)(a.xv,{size:"100",children:String(t)})})]},n)))})})}):null,m=({accessibilityLabel:e,content:t,order:n})=>{if(!Array.isArray(t)||t.length<2)return null;const i=t[0],o=t.slice(1);return(0,l.jsx)(d,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:s(n),children:(0,l.jsxs)(a.iA,{accessibilityLabel:e,children:[(0,l.jsx)(a.iA.Header,{children:(0,l.jsx)(a.iA.Row,{children:i.map(((e,t)=>(0,l.jsx)(a.iA.HeaderCell,{children:(0,l.jsx)(a.xv,{size:"100",weight:"bold",children:e})},t)))})}),(0,l.jsx)(a.iA.Body,{children:o.map(((e,t)=>(0,l.jsx)(a.iA.Row,{children:e.map(((e,t)=>(0,l.jsx)(a.iA.Cell,{children:(0,l.jsx)(a.xv,{size:"100",children:e})},t)))},t)))})]})})},g=e=>{const t=(0,o.ZP)();switch(e.type){case r.X0.POINTS:return(0,l.jsx)(p,{...e});case r.X0.SPECS:return(0,l.jsx)(h,{accessibilityLabel:t.bt("", "Specification view of description", "webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredSpecs", undefined, true),...e});case r.X0.TABLE:return(0,l.jsx)(m,{accessibilityLabel:t.bt("", "Table view of description", "webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredTable", undefined, true),...e});case r.X0.ELEMENT:return(0,l.jsx)(u,{...e});default:return(0,l.jsx)(c,{...e})}};function _({descriptions:e,onLoad:t}){return(0,i.useEffect)((()=>{"function"==typeof t&&t()}),[t]),0===e.length?null:e.map((({content:e,type:t},n)=>(0,l.jsx)(g,{content:e,order:n,type:t},n)))}},323883:(e,t,n)=>{n.d(t,{Z:()=>s});var i,a=n(667294),o=n(167912),r=n(293017);const l=void 0!==i?i:i=n(157222);const s=({pin:e})=>{const t=(0,o.useFragment)(l,e);return(0,a.useMemo)((()=>{return null==(e=null==t?void 0:t.formattedCloseupDescription)?{components:[]}:{components:Array.isArray(e.components)?e.components.filter((e=>e.type)).map((e=>{var t,n,i;const a=null!==(t=e.type)&&void 0!==t?t:"";var o;return a===r.X0.SPECS?{type:a,content:null===(o=e.specsContent)||void 0===o?void 0:o.map((e=>({key:e.key,value:e.value})))}:{type:a,content:null!==(n=null!==(i=e.stringContent)&&void 0!==i?i:e.pointsContent)&&void 0!==n?n:e.tableContent}})):[]};var e}),[null==t?void 0:t.formattedCloseupDescription])}},293017:(e,t,n)=>{n.d(t,{Eh:()=>l,X0:()=>o,fv:()=>r,jo:()=>s});var i=n(883119),a=n(785893);const o={BOLD:"formatted_description_bold_component",ELEMENT:"formatted_description_element_component",HEADER:"formatted_description_header_component",PARAGRAPH:"formatted_description_paragraph_component",POINTS:"formatted_description_points_component",SPECS:"formatted_description_specs_component",TABLE:"formatted_description_table_component"},r=e=>{var t;const n=null==e||null===(t=e.formatted_description)||void 0===t?void 0:t.components;return Array.isArray(n)?n:[]},l=e=>Array.isArray(e)?e.map((({name:e="",values:t=[]})=>({content:(0,a.jsxs)(i.xv,{size:"200",children:[(0,a.jsx)("b",{children:e}),t.join(", ")]}),type:o.ELEMENT}))):[],s=({components:e,pinDescription:t})=>e&&0!==e.length?e:[{content:t,type:o.PARAGRAPH}]},932124:(e,t,n)=>{n.d(t,{JJ:()=>i,N3:()=>o,zu:()=>a});const i=["TR","WB"],a=["BR","CG","HP","HR","JH","MP","RJ","UK","UP"],o=[...i,...a,"AP","TG"]},820166:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(883119),a=n(550140),o=n(536042),r=n(819079),l=n(549201),s=n(785893);const d=28,c=40,u=48,p=48,h=28,m="#696969";function g({ideaPinImages:e}){const t={1:d,2:c,3:u},n=e.map(((e,t)=>{var n,a,o;return(0,s.jsx)(i.xu,{height:p,width:h,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,s.jsx)(i.Ee,{alt:"",src:null!==(n=null==e?void 0:e.url)&&void 0!==n?n:"",color:m,fit:"cover",naturalHeight:null!==(a=null==e?void 0:e.height)&&void 0!==a?a:1,naturalWidth:null!==(o=null==e?void 0:e.width)&&void 0!==o?o:1})},t)}));return(0,s.jsx)(i.kC,{justifyContent:"center",children:(0,s.jsx)(i.kC,{justifyContent:"start",width:t[e.length],children:n})})}const _=3,v=5e3;function y({handleHide:e,text:t,userId:n,href:d,imageUrl:c}){const u=(0,o.ZP)(),p=(0,l.HG)(),h=(0,r.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:n}}),m=Array.isArray(t)?t.join(" "):t;if(0===(h.data||[]).length)return(0,s.jsx)(a.ZP,{duration:v,onHide:e,text:m,href:d,thumbnail:c?{image:(0,s.jsx)(i.Ee,{alt:u.bt("", "Image of who you followed", "userFollowingToast.thumbnail.userImage", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:c})}:void 0});const y=(h.data||[]).slice(0,_).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[p?"236x":"170x"]})),f=(0,s.jsx)(g,{ideaPinImages:y});return(0,s.jsx)(a.ZP,{href:d,duration:v,onHide:e,_dangerouslySetThumbnail:f,text:m})}},907310:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(107877),o=n(785893);function r({boardId:e}){var t;const n=(0,a.gC)()(e),r=null!=n&&n.images&&n.images["170x"]?n.images["170x"][0]:void 0;return e&&r?(0,o.jsx)(i.Ee,{alt:"Pin image",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(t=r.url)&&void 0!==t?t:""}):null}},217861:(e,t,n)=>{n.d(t,{k:()=>r,w:()=>o});var i=n(883119),a=n(360675);const o=2e3,r=new i.H3([a.Z])},204722:(e,t,n)=>{n.d(t,{Z:()=>Z});var i,a=n(667294),o=n(167912),r=n(616550),l=n(883119),s=n(388011),d=n(536042),c=n(630089),u=n(624417),p=n(740494),h=n(898252),m=n(465991),g=n(245410),_=n(282802),v=n(649715),y=n(599226),f=n(98736),b=n(759937),x=n(443601),k=n(230910),w=n(525104),S=n(646081),P=n(785893);const T=250,I=({children:e,onTap:t,testId:n})=>{const[i,o]=(0,a.useState)(!1);return(0,P.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem","data-test-id":`more-options-${n}`,children:(0,P.jsx)(l.iP,{onTap:t,onBlur:()=>o(!1),onFocus:()=>o(!0),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:e})})},C=void 0!==i?i:i=n(823722),A=({i18n:e,pinId:t,showSignupModal:n,attributionLabelSource:i,downloadExpName:a,dwebDownloadInContextMenusGroup:o})=>(0,P.jsx)(I,{testId:"save",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.save_image",{attributionLabelSource:i,downloadExpName:a,dwebDownloadInContextMenusGroup:o}),n({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${i}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:t}}})},children:(0,P.jsx)(l.xv,{size:"200",weight:"bold",children:e.bt("", "Save image", "dweb.unauth.context_menu.link.save_image", undefined, true)})},"SaveMenuItem"),E=({i18n:e,pinTitle:t,pinDescription:n,pinId:i,bestPinImgSrc:a,attributionLabelSource:o,logContextEvent:r,pinCategory:s,downloadExpName:d,dwebDownloadInContextMenusGroup:c})=>(0,P.jsx)(I,{testId:"download",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.download_image",{attributionLabelSource:o,downloadExpName:d,dwebDownloadInContextMenusGroup:c}),(0,x.Z)({filename:t||n||i,imgSrc:a||"",category:s,pinId:i,isUnauth:!0,platform:"mweb"},r)},children:(0,P.jsx)(l.xv,{size:"200",weight:"bold",children:e.bt("", "Download image", "Button to download Pin image", undefined, true)})},"DownloadMenuItem"),j=({pinId:e,pinLink:t,fromEllipsisButton:n,attributionLabelSource:i,showSignupModal:a,i18n:o,downloadExpName:r,dwebDownloadInContextMenusGroup:s})=>(0,P.jsx)(I,{testId:"new-tab",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.open_plp_new_tab",{attributionLabelSource:i,downloadExpName:r,dwebDownloadInContextMenusGroup:s}),window.open(n?t:`/pin/${e}/`),n||a({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_related_pin_right_click_open_link_button",desktopOptions:{modalType:"login"}})},children:(0,P.jsx)(l.xv,{size:"200",weight:"bold",children:o.bt("", "Open link in new tab", "dweb.unauth.context_menu.link.plp_new_tab", undefined, true)})},"NewTabMenuItem"),R=({history:e,levelOneInterestUrl:t,searchUrl:n,levelOneInterestName:i,i18n:a,interestTag:o,attributionLabelSource:r,downloadExpName:s,dwebDownloadInContextMenusGroup:d})=>(0,P.jsx)(I,{testId:"interests",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.see_more_pins",{attributionLabelSource:r,downloadExpName:s,dwebDownloadInContextMenusGroup:d}),t?e.push(`${t}`):e.push(n)},children:i?(0,P.jsx)(l.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(a.bt(" {{levelOneInterestName}} ", "See more ideas about {{levelOneInterestName}}", "dweb.unauth.context_menu.link.see_more_ideas.l1", undefined, true),{levelOneInterestName:i})}):(0,P.jsx)(l.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(a.bt(" {{interestTag}} ", "See more ideas about {{interestTag}}", "dweb.unauth.context_menu.link.see_more_ideas.interest_tag", undefined, true),{interestTag:o})})},"MoreInterestsMenuItem"),D=({history:e,sourceUserUsername:t,sourceUserFullname:n,i18n:i,attributionLabelSource:a,downloadExpName:o,dwebDownloadInContextMenusGroup:r})=>(0,P.jsx)(I,{testId:"from-creator",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.more_from_creator",{attributionLabelSource:a,downloadExpName:o,dwebDownloadInContextMenusGroup:r}),e.push(`/${t}/`)},children:(0,P.jsx)(l.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(i.bt(" {{full_name}} ", "See more from {{full_name}}", "dweb.unauth.context_menu.link.more_from_creator", undefined, true),{full_name:n})})},"MoreFromCreatorMenuItem"),L=({attributionLabelSource:e,showSignupModal:t,i18n:n,downloadExpName:i,dwebDownloadInContextMenusGroup:o})=>(0,P.jsx)(a.Fragment,{children:(0,P.jsx)(I,{testId:"login-or-signup",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.login_signup",{attributionLabelSource:e,downloadExpName:i,dwebDownloadInContextMenusGroup:o}),t({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${e}_signup_or_login_button`,desktopOptions:{modalType:"login"}})},children:(0,P.jsx)(l.xv,{size:"200",weight:"bold",children:n.bt("", "Log in or sign up for more", "dweb.unauth.context_menu.link.login_signup", undefined, true)})})},"LoginSignupMenuItem"),F=({attributionLabelSource:e,reportLink:t,i18n:n,downloadExpName:i,dwebDownloadInContextMenusGroup:o})=>(0,P.jsx)(a.Fragment,{children:(0,P.jsx)(I,{testId:"netzdg",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.report_pin_netzdg",{attributionLabelSource:e,downloadExpName:i,dwebDownloadInContextMenusGroup:o}),window.open(t,"_blank")},children:(0,P.jsx)(l.xv,{size:"200",weight:"bold",children:n.bt("(NetzDG)  Pin ", "Report Pin for NetzDG", "dweb.unauth.context_menu.link.report_pin_netzdg", undefined, true)})})},"ReportForNetzDGMenuItem");function M({desktopContextMenuState:e,isMainPinImage:t,source:n,images:i,embedSrc:a,embedType:o,sourceUserUsername:c,sourceUserFullname:p,pinJoinVisualAnnotation:h,pinJoinSeoBreadcrumbName:m,pinJoinSeoBreadcrumbUrl:f,pinId:b,pinLink:x,pinTitle:k,pinDescription:w,pinCategory:S,pinEligibleForDownload:I}){var C;const M=(0,d.ZP)(),O=(0,r.useHistory)(),{logContextEvent:z}=(0,s.v)(),{countryFromIp:Z}=(0,_.B)(),N=(0,u.Z)({images:i,embedSrc:a,embedType:o}),U=m,B=f,K=null!==(C=null==h?void 0:h[0])&&void 0!==C?C:void 0,V=(0,v.Z)(K),H=`/search/pins/?q=${encodeURIComponent(V)}&rs=image_only_attribution`,G=(0,y.Z)(),W="dweb.plp.ellipsis.button"===n,$="DE"===Z,{checkExperiment:q}=(0,g.F)();if(!N)return null;const Y=(0,u.Z)({images:i,embedSrc:a,embedType:o});let J="related_pin_right_click";W?J="action_bar_ellipsis":t&&(J="right_click");let X="dweb_download_in_context_menus";["action_bar_ellipsis","right_click"].includes(J)&&(X="dweb_download_in_context_menus_closeup");const{group:Q}=I?q(X):{group:""},ee=Q.split("_").pop(),te=ee?parseInt(ee,10)-1:NaN,ne=[{component:()=>A({i18n:M,pinId:b,showSignupModal:G,attributionLabelSource:J,downloadExpName:X,dwebDownloadInContextMenusGroup:Q})},{component:()=>!(t||W&&!x)&&j({i18n:M,pinId:b,pinLink:x,fromEllipsisButton:W,showSignupModal:G,attributionLabelSource:J,downloadExpName:X,dwebDownloadInContextMenusGroup:Q})},{component:()=>!!(K||U&&B)&&R({history:O,levelOneInterestUrl:B,searchUrl:H,levelOneInterestName:U,i18n:M,interestTag:K,attributionLabelSource:J,downloadExpName:X,dwebDownloadInContextMenusGroup:Q})},{component:()=>!(!p||!c)&&D({history:O,sourceUserUsername:c,sourceUserFullname:p,i18n:M,attributionLabelSource:J,downloadExpName:X,dwebDownloadInContextMenusGroup:Q})},{component:()=>!q("dweb_remove_login_signup_options_from_context_menus").anyEnabled&&L({showSignupModal:G,i18n:M,attributionLabelSource:J,downloadExpName:X,dwebDownloadInContextMenusGroup:Q})},{component:()=>$&&q("lop_netzdg_launch").anyEnabled&&F({reportLink:`https://www.pinterest.com/about/netzdg/?pinId=${b}`,i18n:M,attributionLabelSource:J,downloadExpName:X,dwebDownloadInContextMenusGroup:Q})}].map((({component:e})=>e())).filter((e=>!!e));return Number.isNaN(te)||ne.splice(te,0,E({i18n:M,pinTitle:k,pinDescription:w,pinId:b,bestPinImgSrc:Y,attributionLabelSource:J,logContextEvent:z,pinCategory:S,downloadExpName:X,dwebDownloadInContextMenusGroup:Q})),(0,P.jsxs)(l.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.y}px`,left:`${e.x}px`}},zIndex:new l.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:T,children:[(0,P.jsx)(l.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,P.jsx)(l.JO,{icon:"pinterest",accessibilityLabel:M.bt("Pinterest ", "Pinterest logo", "dweb.unauth.context_menu.pinterest_logo", undefined, true),color:"brandPrimary"})}),ne]})}function O({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,...i}){var a,r,l,s,d,c,u,g,_,v,y,f,x,k,w;const T=(0,o.useFragment)(C,e),I=(0,h.hy)(null==T?void 0:T.storyPinDataId),A=Boolean(null==T||null===(a=T.videos)||void 0===a?void 0:a.videoList),E=null==T?void 0:T.isUnsafe,j=!I&&!A&&!E,R=(0,b.Z)(T);let D;var L,F;(D=null!=T&&T.nativeCreator?T.nativeCreator:null!=T&&T.linkDomain?T.linkDomain.officialUser:(null==T?void 0:T.originPinner)||(null==T?void 0:T.pinner),D)||(D=null!==(L=null==T||null===(F=T.linkDomain)||void 0===F?void 0:F.officialUser)&&void 0!==L?L:null==T?void 0:T.pinner);const O=(0,S.Z)(T),z=null==T?void 0:T.title,Z=null==T?void 0:T.description,N=null==T?void 0:T.gridTitle,U=null!==(r=null==T||null===(l=T.richSummary)||void 0===l?void 0:l.displayName)&&void 0!==r?r:"",B=null!==(s=null==T||null===(d=T.richMetadata)||void 0===d?void 0:d.title)&&void 0!==s?s:"",K=null!==(c=null==T||null===(u=T.richMetadata)||void 0===u?void 0:u.description)&&void 0!==c?c:"",V=null==T?void 0:T.storyPinDataId,H=null==T||null===(g=T.storyPinData)||void 0===g||null===(_=g.metadata)||void 0===_?void 0:_.pinTitle,G=(null==T||null===(v=T.pinJoin)||void 0===v?void 0:v.visualAnnotation)||void 0,W=O||void 0,$=null==T?void 0:T.closeupDescription,q=null==T?void 0:T.closeupUnifiedDescription,Y=(null==T?void 0:T.category)||"",J=(0,m.Ly)({pinTitle:z,gridTitle:N,richSummaryDisplayName:U,richMetadataTitle:B,storyPinDataId:V,storyPinDataMetadataPinTitle:H,pinJoinVisualAnnotation:G,pinJoinAnnotationsWithLinks:W}),X=(0,p.Z)({storyPinDataId:V,pinDescription:Z,richMetadataDescription:K,richSummaryDisplayName:U,closeupDescription:$,closeupUnifiedDescription:q});return(0,P.jsx)(M,{...i,embedSrc:(null==T?void 0:T.embed)&&T.embed.src,embedType:(null==T?void 0:T.embed)&&T.embed.type,images:R,sourceUserUsername:null===(y=D)||void 0===y?void 0:y.username,sourceUserFullname:null===(f=D)||void 0===f?void 0:f.fullName,pinJoinVisualAnnotation:null==T||null===(x=T.pinJoin)||void 0===x?void 0:x.visualAnnotation,pinJoinSeoBreadcrumbName:(null==T||null===(k=T.pinJoin)||void 0===k?void 0:k.seoBreadcrumbs)&&(T.pinJoin.seoBreadcrumbs.length>0?T.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==T||null===(w=T.pinJoin)||void 0===w?void 0:w.seoBreadcrumbs)&&(T.pinJoin.seoBreadcrumbs.length>0?T.pinJoin.seoBreadcrumbs[0].url:null),pinId:t,pinTitle:J,pinDescription:X,pinCategory:Y,pinEligibleForDownload:j})}function z({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,...i}){var a,o,r,l,s,d,c,u,g,_,v,y,f,b,x,S;const T=(0,w.S6)()(t),I=null==T?void 0:T.story_pin_data_id,C=null==T?void 0:T.videos,A=(0,h.hy)(I),E=(0,h.iR)(C),j=null==T?void 0:T.title,R=null==T?void 0:T.description,D=null==T?void 0:T.grid_title,L=null!==(a=null==T||null===(o=T.rich_metadata)||void 0===o?void 0:o.title)&&void 0!==a?a:"",F=null==T?void 0:T.category,O=null==T?void 0:T.images,z=null!==(r=null==T||null===(l=T.rich_metadata)||void 0===l?void 0:l.description)&&void 0!==r?r:"",Z=null!==(s=null==T||null===(d=T.rich_summary)||void 0===d?void 0:d.display_name)&&void 0!==s?s:"",N=null==T?void 0:T.closeup_description,U=null==T?void 0:T.closeup_unified_description,B=null==T||null===(c=T.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,K=null==T||null===(g=T.pin_join)||void 0===g?void 0:g.visual_annotation,V=null==T||null===(_=T.pin_join)||void 0===_?void 0:_.annotations_with_links,H=null==T?void 0:T.is_unsafe,G=!A&&!E&&!H,{link_domain:W,native_creator:$,origin_pinner:q,pinner:Y}=T||{};let J=(0,k.wS)(W,$,q,Y);var X,Q;J||(J=null!==(X=null==T||null===(Q=T.link_domain)||void 0===Q?void 0:Q.official_user)&&void 0!==X?X:null==T?void 0:T.pinner);const{full_name:ee,username:te}=null!==(v=J)&&void 0!==v?v:{},ne=(0,m.Ly)({pinTitle:j,gridTitle:D,richSummaryDisplayName:Z,richMetadataTitle:L,storyPinDataId:I,storyPinDataMetadataPinTitle:B,pinJoinVisualAnnotation:K,pinJoinAnnotationsWithLinks:V}),ie=(0,p.Z)({storyPinDataId:I,pinDescription:R,richMetadataDescription:z,richSummaryDisplayName:Z,closeupDescription:N,closeupUnifiedDescription:U});return(0,P.jsx)(M,{...i,embedSrc:null==T||null===(y=T.embed)||void 0===y?void 0:y.src,embedType:null==T||null===(f=T.embed)||void 0===f?void 0:f.type,images:O,sourceUserUsername:ee,sourceUserFullname:te,pinJoinVisualAnnotation:null==T||null===(b=T.pin_join)||void 0===b?void 0:b.visual_annotation,pinJoinSeoBreadcrumbName:(null==T||null===(x=T.pin_join)||void 0===x?void 0:x.seo_breadcrumbs)&&(T.pin_join.seo_breadcrumbs.length>0?T.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==T||null===(S=T.pin_join)||void 0===S?void 0:S.seo_breadcrumbs)&&(T.pin_join.seo_breadcrumbs.length>0?T.pin_join.seo_breadcrumbs[0].url:null),pinId:t,pinTitle:ne,pinDescription:ie,pinCategory:F,pinEligibleForDownload:G})}function Z(e){return e.graphqlRef?(0,P.jsx)(O,{...e}):(0,P.jsx)(z,{...e})}},580337:(e,t,n)=>{n.d(t,{Z:()=>i});const i=new(n(883119).Ry)(9999)},648525:(e,t,n)=>{n.d(t,{Z:()=>B});var i=n(667294),a=n(167912),o=n(616550),r=n(465001),l=n(785893);function s({children:e,fragment:t,fragmentKey:n}){return n?(0,l.jsx)(r.Z,{fragment:t,fragmentKey:n,children:e}):e(null)}var d=n(105314),c=n(883119),u=n(388011),p=n(894121),h=n(536042),m=n(624417),g=n(740494),_=n(898252),v=n(465991),y=n(245410),f=n(282802),b=n(649715),x=n(599226),k=n(98736),w=n(272109),S=n(630089),P=n(700453),T=n(799006);function I({type:e,onTap:t,location:n,l1InterestName:i,interestTag:a,sourceUserUsername:o,pinId:r}){const s=(0,h.ZP)(),d=(0,T.Z)();if("app-install"===e&&d)return(0,l.jsx)(P.ZP,{componentType:18,within:"mweb-context-menu",children:({handleOpenApp:t})=>(0,l.jsx)(c.iP,{onTap:()=>{(0,k.My)(`context.menu.tap.${n}.${e}`),r?(t({deepLinkUri:`/pin/${r}/`}),(0,k.My)("mweb.context_menu.open_in_app.pin")):(t({deepLinkUri:"/"}),(0,k.My)("mweb.context_menu.open_in_app.homepage")),(0,k.My)("mweb.context_menu.open_in_app")},children:(0,l.jsx)(c.xu,{marginBottom:4,"data-test-id":"more-options-open-app",children:(0,l.jsx)(c.xv,{size:"300",weight:"bold",children:s.bt("", "Open in app", "mweb.context_menu.link.open_in_app", undefined, true)})})})});return(0,l.jsx)(c.iP,{onTap:({event:i})=>{(0,k.My)(`context.menu.tap.${n}.${e}`),t&&t("save"===e||"saveonly"===e?i:void 0)},children:(0,l.jsx)(c.xu,{marginBottom:4,"data-test-id":`more-options-${e}`,children:(0,l.jsx)(c.xv,{size:"300",weight:"bold",children:(()=>{switch(e){case"save":return s.bt("", "Save image", "mweb.context_menu.link.save_image", undefined, true);case"new-tab":return s.bt("", "Open link in new tab", "mweb.context_menu.link.plp_new_tab", undefined, true);case"more-ideas":return i?(0,S.nk)(s.bt(" {{l1InterestName}} ", "See more ideas about {{l1InterestName}}", "unauth.mweb.context_menu.link.see_more_ideas.l1", undefined, true),{l1InterestName:i}):(0,S.nk)(s.bt(" {{interestTag}} ", "See more ideas about {{interestTag}}", "unauth.mweb.context_menu.link.see_more_ideas.interest_tag", undefined, true),{interestTag:a});case"more-from-creator":return(0,S.nk)(s.bt(" {{sourceUserUsername}} ", "See more from {{sourceUserUsername}}", "unauth.context_menu.link.more_from_creator", undefined, true),{sourceUserUsername:o});case"login-signup":return s.bt("", "Log in or sign up for more", "unauth.mweb.context_menu.link.login_signup", undefined, true);case"saveonly":return s.bt("", "Save", "mweb.context_menu.link.saveonly", undefined, true);case"download":return s.bt("", "Download image", "Button to download Pin image", undefined, true);case"netzdg":return s.bt("(NetzDG)  Pin ", "Report Pin for NetzDG", "unauth.context_menu.link.report_pin_netz_dg", undefined, true);default:return null}})()})})})}var C,A=n(443601),E=n(525104),j=n(410834),R=n(646081);const D={"main-pin-long-press":"main_pin_longtouch","main-pin-overflow":"action_bar_ellipsis","related-pins-long-press":"related_pin_longtouch","non-main-pin-more-information":"related_pin_ellipsis","main-pin-more-information":"main_pin_ellipsis"},L=void 0!==C?C:C=n(586188);function F({embedSrc:e,embedType:t,hasRichMetadata:n,hasRichMetadataArticle:i,hasRichMetadataProducts:a,hasRichMetadataRecipe:r,interestTag:s,images:d,isStoryPin:g,l1InterestName:_,location:v,onDismiss:S,pinId:P,pinCategory:T,pinDescription:C,pinJoinSeoBreadcrumbUrl:E,pinTitle:R,sourceUserUsername:L,vaseSection:F,pinEligibleForDownload:M}){const O=(0,h.ZP)(),{countryFromIp:z}=(0,f.B)(),Z=(0,o.useHistory)(),N=(0,x.Z)(),U=(0,b.Z)(s),B=`/search/pins/?q=${encodeURIComponent(U)}&rs=image_only_attribution`,K=D[v],V="click_context_menu_"+K+"_save_button",H="DE"===z,{checkExperiment:G}=(0,y.F)(),W=(0,j.Z)({embedSrc:e,embedType:t,hasRichMetadata:n,hasRichMetadataProducts:a,hasRichMetadataArticle:i,hasRichMetadataRecipe:r,images:d,isFromUnauthContextMenu:!0,isStoryPin:g,pinId:P,attributionLabel:V});let $="mweb_download_in_context_menus";["main-pin-long-press","main-pin-overflow","main-pin-more-information"].includes(v)&&($="mweb_download_in_context_menus_closeup");const{group:q}=M?G($):{group:""};let Y=["save","app-install","new-tab"];"enabled_download_1"===q?Y=["download","save","app-install","new-tab"]:"enabled_download_2"===q?Y=["save","download","app-install","new-tab"]:"enabled_download_3"===q?Y=["save","app-install","download","new-tab"]:"enabled_download_4"===q&&(Y=["save","app-install","new-tab","download"]),H&&G("lop_netzdg_launch").anyEnabled&&Y.push("netzdg");const J=(0,m.Z)({images:d,embedSrc:e,embedType:t}),{logContextEvent:X}=(0,u.v)(),Q={save:e=>{e&&(e.stopPropagation(),W(e),S())},saveonly:e=>{e&&(e.stopPropagation(),W(e),S())},"new-tab":()=>{window.open(`/pin/${P}/`),S()},"more-ideas":_||s?()=>{Z.push(E?`${E}`:B),S()}:void 0,"more-from-creator":()=>{Z.push(`/${L}/`),S()},"login-signup":()=>{N({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_"+K+"_signup_or_login_button"}),S()},download:()=>{(0,A.Z)({filename:R||C||P,imgSrc:J||"",category:T,pinId:P,isUnauth:!0,platform:"mweb"},X),S()},"app-install":()=>{},netzdg:()=>{window.open(`https://www.pinterest.com/about/netzdg/?pinId=${P}`,"_blank")}};return(0,w.Z)((()=>{(0,k.My)(`open.context_menu_modal.${v}`)})),(0,l.jsxs)(p.default,{accessibilityModalLabel:O.bt("", "Close", "Close modal window", undefined, true),isOpen:!0,onDismiss:()=>{(0,k.My)(`dismiss.context_menu.modal.${v}`),S()},mobileAccessibilityCloseIconLabel:O.bt("", "Close", "context_modal.menu.close", undefined, true),children:[!!F&&(0,l.jsxs)(c.xu,{children:[(0,l.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:20,paddingRight:20,paddingBottom:20,paddingTop:8}},children:F}),(0,l.jsx)(c.xu,{marginBottom:5,paddingX:5,children:(0,l.jsx)(c.iz,{})})]}),(0,l.jsxs)(c.xu,{marginStart:5,marginBottom:6,"data-test-id":"mobile-context-menu",children:[(0,l.jsx)(c.xu,{marginBottom:4,children:(0,l.jsx)(c.xv,{size:"200",children:O.bt("", "More options", "header.context_menu.modal", undefined, true)})}),Y.map((e=>Q[e]?(0,l.jsx)(I,{type:e,location:v,onTap:Q[e],l1InterestName:_,interestTag:s,pinId:P,sourceUserUsername:L},e):null))]})]})}function M({onDismiss:e,location:t,pinId:n,vaseSection:i}){var a,o,r,s,d,c,u,p,h,m,y,f,b,x,k,w,S,P,T,I,C;const A=(0,E.S6)()(n),j=null==A?void 0:A.story_pin_data_id,R=null==A?void 0:A.videos,D=(0,_.hy)(j),L=(0,_.iR)(R),M=null==A?void 0:A.is_unsafe,O=!D&&!L&&!M,z=null==A?void 0:A.title,Z=null==A?void 0:A.description,N=null==A?void 0:A.grid_title,U=null!==(a=null==A||null===(o=A.rich_metadata)||void 0===o?void 0:o.title)&&void 0!==a?a:"",B=null!==(r=null==A||null===(s=A.rich_metadata)||void 0===s?void 0:s.description)&&void 0!==r?r:"",K=null!==(d=null==A||null===(c=A.rich_summary)||void 0===c?void 0:c.display_name)&&void 0!==d?d:"",V=null==A?void 0:A.closeup_description,H=null==A?void 0:A.closeup_unified_description,G=null==A||null===(u=A.story_pin_data)||void 0===u||null===(p=u.metadata)||void 0===p?void 0:p.pin_title,W=null==A||null===(h=A.pin_join)||void 0===h?void 0:h.visual_annotation,$=null==A||null===(m=A.pin_join)||void 0===m?void 0:m.annotations_with_links,q=(null==A||null===(y=A.pin_join)||void 0===y?void 0:y.seo_breadcrumbs)&&(A.pin_join.seo_breadcrumbs.length>0?A.pin_join.seo_breadcrumbs[0].name:"")||"",Y=null!==(f=null==A||null===(b=A.pin_join)||void 0===b||null===(x=b.visual_annotation)||void 0===x?void 0:x[0])&&void 0!==f?f:"";let J;var X,Q;(J=null!=A&&A.native_creator?A.native_creator:null!=A&&A.link_domain?A.link_domain.official_user:(null==A?void 0:A.origin_pinner)||(null==A?void 0:A.pinner),J&&"string"!=typeof J)||(J=null!==(X=null==A||null===(Q=A.link_domain)||void 0===Q?void 0:Q.official_user)&&void 0!==X?X:null==A?void 0:A.pinner);const ee=(null===(k=J)||void 0===k?void 0:k.username)||"",te=(null==A||null===(w=A.pin_join)||void 0===w?void 0:w.seo_breadcrumbs)&&(A.pin_join.seo_breadcrumbs.length>0?A.pin_join.seo_breadcrumbs[0].url:"")||"",ne=(0,v.Ly)({pinTitle:z,gridTitle:N,richSummaryDisplayName:K,richMetadataTitle:U,storyPinDataId:j,storyPinDataMetadataPinTitle:G,pinJoinVisualAnnotation:W,pinJoinAnnotationsWithLinks:$})||"",ie=(0,g.Z)({storyPinDataId:j,pinDescription:Z,richMetadataDescription:B,richSummaryDisplayName:K,closeupDescription:V,closeupUnifiedDescription:H});return(0,l.jsx)(F,{embedSrc:null==A||null===(S=A.embed)||void 0===S?void 0:S.src,embedType:null==A||null===(P=A.embed)||void 0===P?void 0:P.type,hasRichMetadata:!(null==A||!A.rich_metadata),hasRichMetadataProducts:!(null==A||null===(T=A.rich_metadata)||void 0===T||!T.products),hasRichMetadataArticle:!(null==A||null===(I=A.rich_metadata)||void 0===I||!I.article),hasRichMetadataRecipe:!(null==A||null===(C=A.rich_metadata)||void 0===C||!C.recipe),images:null==A?void 0:A.images,interestTag:Y,isStoryPin:D,l1InterestName:q,onDismiss:e,location:t,pinCategory:null==A?void 0:A.category,pinDescription:ie,pinId:n,pinTitle:ne,pinJoinSeoBreadcrumbUrl:te,sourceUserUsername:ee,vaseSection:i,pinEligibleForDownload:O})}function O({graphqlRef:e,onDismiss:t,location:n,pinId:i,vaseSection:o}){var r,s,d,c,u,p,h,m,y,f,b,x,k,w,S,P,T,I,C,A,E;const j=(0,a.useFragment)(L,e),D=(0,_.hy)(j.storyPinDataId),M=Boolean(null===(r=j.videos)||void 0===r?void 0:r.videoList),{isUnsafe:O}=j,z=!D&&!M&&!O,Z=(0,R.Z)(j),{title:N}=j,{description:U}=j,{gridTitle:B}=j,K=null!==(s=null===(d=j.richSummary)||void 0===d?void 0:d.displayName)&&void 0!==s?s:"",V=null!==(c=null===(u=j.richMetadata)||void 0===u?void 0:u.title)&&void 0!==c?c:"",H=null!==(p=null===(h=j.richMetadata)||void 0===h?void 0:h.description)&&void 0!==p?p:"",{storyPinDataId:G}=j,W=null===(m=j.storyPinData)||void 0===m||null===(y=m.metadata)||void 0===y?void 0:y.pinTitle,$=(null===(f=j.pinJoin)||void 0===f?void 0:f.visualAnnotation)||void 0,q=Z||void 0,{closeupDescription:Y}=j,{closeupUnifiedDescription:J}=j,X=(null===(b=j.pinJoin)||void 0===b?void 0:b.seoBreadcrumbs)&&(j.pinJoin.seoBreadcrumbs.length>0?j.pinJoin.seoBreadcrumbs[0].name:"")||"",Q=null!==(x=null===(k=j.pinJoin)||void 0===k||null===(w=k.visualAnnotation)||void 0===w?void 0:w[0])&&void 0!==x?x:"";let ee;var te,ne;(ee=j.nativeCreator?j.nativeCreator:j.linkDomain?j.linkDomain.officialUser:j.originPinner||j.pinner,ee&&"string"!=typeof ee)||(ee=null!==(te=null===(ne=j.linkDomain)||void 0===ne?void 0:ne.officialUser)&&void 0!==te?te:j.pinner);const ie=(null===(S=ee)||void 0===S?void 0:S.username)||"",ae=(null===(P=j.pinJoin)||void 0===P?void 0:P.seoBreadcrumbs)&&(j.pinJoin.seoBreadcrumbs.length>0?j.pinJoin.seoBreadcrumbs[0].url:"")||"",oe=j.category||"",re={"236x":j.imageSpec_236,"474x":j.imageSpec_474,"736x":j.imageSpec_736},le=(0,v.Ly)({pinTitle:N,gridTitle:B,richSummaryDisplayName:K,richMetadataTitle:V,storyPinDataId:G,storyPinDataMetadataPinTitle:W,pinJoinVisualAnnotation:$,pinJoinAnnotationsWithLinks:q})||"",se=(0,g.Z)({storyPinDataId:G,pinDescription:U,richMetadataDescription:H,richSummaryDisplayName:K,closeupDescription:Y,closeupUnifiedDescription:J});return(0,l.jsx)(F,{embedSrc:null===(T=j.embed)||void 0===T?void 0:T.src,embedType:null===(I=j.embed)||void 0===I?void 0:I.type,hasRichMetadata:!!j.richMetadata,hasRichMetadataArticle:!(null===(C=j.richMetadata)||void 0===C||!C.article),hasRichMetadataProducts:!(null===(A=j.richMetadata)||void 0===A||!A.products),hasRichMetadataRecipe:!(null===(E=j.richMetadata)||void 0===E||!E.recipe),images:re,interestTag:Q,isStoryPin:D,l1InterestName:X,onDismiss:t,location:n,pinCategory:oe,pinId:i,pinDescription:se,pinTitle:le,pinJoinSeoBreadcrumbUrl:ae,sourceUserUsername:ie,vaseSection:o,pinEligibleForDownload:z})}function z({graphqlRef:e,...t}){return e?(0,l.jsx)(O,{graphqlRef:e,...t}):(0,l.jsx)(M,{...t})}var Z;const N=void 0!==Z?Z:Z=n(140109);function U({graphqlRef:e,children:t}){const[n,a]=(0,i.useState)(null),[r,s]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),{pathname:p}=(0,o.useLocation)(),h=!!n,m=(0,i.useMemo)((()=>({modal:{isShown:h},showUnauthContextMenu:({location:e,pinId:t,vaseSection:n})=>{a({vaseSection:n}),s(t),u(e)},dismissMobileUnauthContextMenu:()=>a(null)})),[h]);return(0,i.useEffect)((()=>{a(null)}),[p]),(0,l.jsxs)(d.M,{value:m,children:[t,n&&(0,l.jsx)(z,{graphqlRef:e,onDismiss:m.dismissMobileUnauthContextMenu,pinId:r,vaseSection:n.vaseSection,location:c||"default"})]})}function B({graphqlRef:e,...t}){return(0,l.jsx)(s,{fragment:N,fragmentKey:e,children:e=>(0,l.jsx)(U,{...t,graphqlRef:e})})}},613352:(e,t,n)=>{n.d(t,{X:()=>c,f:()=>d});var i=n(667294),a=n(583592),o=n(898252);function r(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var l=n(785893);const{Provider:s,useHook:d}=(0,a.Z)("ReportData");function c({children:e}){const[t,n]=(0,i.useReducer)(r,null),a=(0,i.useCallback)((()=>n({type:"REPORT_CONTENT_DISMISS"})),[]),d=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"aggregatedComment"}})),[]),c=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"conversation"}})),[]),u=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"pin"}})),[]),p=(0,i.useCallback)(((e,t,i)=>{const{id:a,is_downstream_promotion:r,promoter:l,rich_metadata:s,rich_summary:d,videos:c}=e,u=(0,o.VX)(s,d),p=(0,o.jL)(r,!!l);let h;if((0,o.iR)(c)&&c){const{video_list:e={}}=c,t=e[Object.keys(e)[0]];h=t&&t.duration}n({type:"REPORT_CONTENT_SHOW",payload:{id:a,isProduct:u,isPromoted:p,videoDuration:h,viewParameter:t,viewType:i,type:"pin"}})}),[]),h=(0,i.useMemo)((()=>({reportData:t,dismiss:a,reportComment:d,reportConversation:c,reportImage:u,reportPin:p})),[t,a,d,c,u,p]);return(0,l.jsx)(s,{value:h,children:e})}},646081:(e,t,n)=>{n.d(t,{Z:()=>l});var i,a=n(667294),o=n(167912);const r=void 0!==i?i:i=n(782194),l=e=>{var t;const n=(0,o.useFragment)(r,e),i=null==n||null===(t=n.pinJoin)||void 0===t?void 0:t.annotationsWithLinksArray;return(0,a.useMemo)((()=>null==i?void 0:i.reduce(((e,{name:t,url:n})=>t?{...e,[t]:{name:t,url:n}}:e),{})),[i])}},220271:(e,t,n)=>{n.d(t,{Z:()=>l});var i,a=n(667294),o=n(167912);const r=void 0!==i?i:i=n(611338),l=e=>{const t=(0,o.useFragment)(r,e),n=null==t?void 0:t.reactionCountsData;return(0,a.useMemo)((()=>n?n.reduce(((e,t)=>{var n,i;return{...e,[String(null!==(n=t.reactionType)&&void 0!==n?n:0)]:null!==(i=t.reactionCount)&&void 0!==i?i:0}}),{}):n),[n])}},582319:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(702664),a=n(883119),o=n(563962),r=n(536042),l=n(599226),s=n(846226),d=n(98736),c=n(618569),u=n(802071),p=n(793085),h=n(41669),m=n(427778),g=n(446191),_=n(734417),v=n(630089),y=n(282802),f=n(785893);const b=({followerCount:e})=>{const t=(0,r.ZP)(),n=(0,_.Z)(),{locale:i}=(0,y.B)();return(0,f.jsx)(a.xv,{children:(0,v.nk)(t.nbt(["{{followers}} "], e, "pinPage.attribution.followersCount", true),{followers:n(i,e,{shortform:!0,shortform_maximum_fraction_digits:0})})})};function x(e){const t=(0,u.Z)(),n=t.isAuth&&t.id,_=t.isAuth,v=(0,r.ZP)(),y=(0,l.Z)(),x=(0,o.Z)(),k=(0,c.Z)(),w=(0,i.useDispatch)(),S=e=>w((0,m.ZN)(e)),P=e=>w((0,m.fv)(e)),{avatarSize:T,detailText:I,hideButtons:C,blockedByMe:A,explicitlyFollowedByMe:E,followerCount:j,fullName:R,id:D,imageLargeUrl:L,imageMediumUrl:F,imageSmallUrl:M,isEligibleForPdp:O,isVerifiedMerchant:z,verifiedIdentityVerified:Z,username:N,isCurrentUser:U,isOnCloseup:B,isImagePinForUnauthOnTablet:K,pinId:V,shouldNavigateToProfile:H=!0,textColor:G,type:W,viewParameter:$,viewType:q,unauthFollow:Y,activateLexFollowExp:J}=e,X=(V&&V.length,()=>(0,f.jsx)(h.Z,{disableLog:!0,followEventType:45,id:D,isFollowed:E||!1,isSecondaryButton:!0,isUserFollowButton:!0,isUserMe:n===D,onFollow:()=>B?void(_?(S(D),x({event_type:45,view_type:3,view_parameter:156,view_data:{isCurrentUser:U,viewObjectId:V,viewObjectIdStr:V},object_id_str:D})):y({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click_follow",desktopOptions:{modalType:"login"}})):S(D),onUnfollow:()=>B?(P(D),void x({event_type:46,view_type:3,view_parameter:156,object_id_str:D})):P(D),pinId:V||"",size:"md",unfollowEventType:46,viewParameter:$,viewType:q})),Q=()=>A?(0,f.jsx)(a.zx,{fullWidth:!0,color:"gray",onClick:()=>(e=>w((0,g.h2)(e)))(D),size:"md",text:v.bt("", "Unblock", " - ", undefined, true)}):_?X():J?!J().group.includes("hide_follow")&&Y?X():null:Y?X():null,ee=e=>(0,f.jsx)(s.Z,{id:"avatar-image",children:(0,f.jsx)(a.HE,{accessibilityLabel:v.bt("", "User`s avatar", "User`s avatar", undefined, true),onClick:()=>{k({action:"click",item:"avatar-image"})},collaborators:[{name:null!=R?R:"",src:L||F||M||void 0}],size:(e||{}).size})}),te=K?"calc(100% - 48px)":void 0,ne=z||Z,ie=!_&&O&&!ne,ae=(0,f.jsxs)(a.kC,{alignItems:"center",flex:"shrink",justifyContent:"start",children:[(0,f.jsx)(a.xu,{flex:"none",marginEnd:2,children:ee({size:T||"md"})}),(0,f.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",maxWidth:te,children:[(0,f.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[ie&&(0,f.jsx)(a.xu,{marginEnd:1,children:(0,f.jsx)(a.xv,{children:v.bt("", "Saved by", "Context on user rep", undefined, true)})}),(0,f.jsx)(s.Z,{id:"username",children:(0,f.jsx)(a.iP,{onTap:()=>{k({action:"click",item:"username"})},children:(0,f.jsx)(a.xv,{color:G||"default",lineClamp:K?1:void 0,weight:"bold",children:R})})}),ne&&(0,f.jsx)(a.xu,{marginStart:1,paddingY:1,children:(0,f.jsx)(p.Z,{showVerifiedIdentity:!z,size:"sm"})})]}),(0,f.jsx)(a.xv,{color:G||"default",lineClamp:K?1:void 0,children:I}),!!j&&(0,f.jsx)(s.Z,{id:"user-follower-count",children:(0,f.jsx)(a.iP,{onTap:()=>{k({action:"click",item:"user-follower-count"})},children:(0,f.jsx)(b,{followerCount:j})})})]})]}),oe="row"===W?(0,f.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",children:[ae,!C&&(0,f.jsx)(a.xu,{flex:"none",marginStart:2,children:Q()})]}):(0,f.jsxs)(a.xu,{maxWidth:te,padding:2,children:[ee(),(0,f.jsxs)(a.xu,{display:"flex",paddingY:2,children:[(0,f.jsx)(a.xv,{align:"center",size:"200",lineClamp:1,weight:"bold",children:R}),ne&&(0,f.jsx)(a.xu,{marginStart:1,paddingY:1,children:(0,f.jsx)(p.Z,{showVerifiedIdentity:!z,size:"sm"})})]}),!C&&Q()]}),re=(0,f.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"between",overflow:"hidden",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,f.jsx)(a.iP,{role:"link",onTap:()=>{_||((0,d.NC)("click_pin_closeup_profile"),k({action:"click",item:"user-rep"}))},tapStyle:"compress",rounding:2,href:`/${encodeURIComponent(N)}/`,children:ae}),!C&&(0,f.jsx)(a.xu,{flex:"none",marginStart:2,children:Q()})]});return(0,f.jsx)(a.xu,{"data-test-id":"user-rep",width:"100%",children:H?re:oe})}},197083:(e,t,n)=>{n.d(t,{ZP:()=>S});var i=n(667294),a=n(23279),o=n.n(a),r=n(883119),l=n(388011),s=n(758360),d=n(736567),c=n(714557);function u(e){const{eventData:{videoEvent:{videoDuration:t,startTime:n,endTime:i,videoStartTime:a,videoEndTime:o,isAudible:r,height:l,width:s,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}},component:g,objectId:_,view:v,viewParameter:y,...f}=e;return{component:g,object_id_str:_,view_type:v,view_parameter:y,aux_data:{...f},event_data:{videoEventData:{videoDuration:t,time:n,endTime:i,videoTime:a,endVideoTime:o,isAudible:r,height:l,width:s,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}}}}var p=n(473383),h=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=[0,.25,.5,.75,.95,.97],_=[0,.5,.8,.99,1],v="-64px 0px 0px 0px",y={rootMargin:v,threshold:_},f={rootMargin:v,threshold:c.iM},b=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function x(){return(new Date).getTime()}function k(e){return!!e.volume&&e.volume>0}class w extends i.Component{constructor(e){super(e),m(this,"videoWrapperRef",(0,i.createRef)()),m(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),m(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),m(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),m(this,"handleLoop",(()=>{this.videoTime=0})),m(this,"handleTimeChange",(e=>{const{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;const i=1e3*e.time,a=function(e,t,n,i){if(e>t)return null;if(n<=0)return null;for(const a of i){const i=a*n;if(e<=i&&t>i)return a}return null}(this.videoTime,i,this.currentInterval.videoDuration,g);if("number"==typeof a&&this.props.playing&&!t&&n){const e=x();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)})),m(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),m(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),m(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),m(this,"handleVisibilityChange",(e=>{if(0===e.length)return;const t=e.slice(-1)[0],n=function(e,t){for(let n=0;n<t.length;n+=1){const i=t[n],a=t[n+1];if(null==a)return i;if(i<=e&&e<a)return i}return null}(Number.parseFloat(t.intersectionRatio.toFixed(2)),_);"number"==typeof n&&(this.visible=n>=.5),null==n||n===this.currentInterval.viewability||this.fullscreen||(0===n?this.startNewInterval({viewability:n,playbackState:b.PAUSED}):this.startNewInterval({viewability:n}))})),m(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),m(this,"handleClose",(()=>{this.startNewInterval()})),m(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=x();this.handleWindowResize=o()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:k(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const n={};k(e)&&!k(this.props)?n.isAudible=!1:!k(e)&&k(this.props)&&(n.isAudible=!0);const i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(n.playbackState=i),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?b.PLAYING:b.PAUSED:b.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{closeupStoryPinViewability:n,contextLogData:i,logContextEvent:a}=this.props,{height:o,width:r,windowHeight:l,windowWidth:s,viewability:d,...c}=t;if(null!=o&&null!=r&&null!=l&&null!=s&&null!=d){const t={...c,height:o,width:r,windowHeight:l,windowWidth:s,viewability:n||d};a({event_type:e,...u({...i,view:this.fullscreen?108:i.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){const e=x();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=x();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{aspectRatio:e,backgroundColor:t,captions:n,contextLogData:i,controls:a,cropHeight:o,hlsConfig:l,inAdsDesktopVideoExperiment:c,isAutoPlay:u,loop:m,objectFit:g,onLoadedChange:_,onControlsPause:v,onControlsPlay:b,onSeek:x,onVolumeChange:k,playbackRate:w,playing:S,playsInline:P,poster:T,preload:I,rootMargin:C,src:A,surface:E,videoStartTime:j,volume:R}=this.props,{seeking:D}=this.state,L=c?f:y;return void 0!==C&&(L.rootMargin=E?(0,d.e)(E):C),(0,h.jsx)(s.Z,{options:L,onVisibilityChange:this.handleVisibilityChange,children:(0,h.jsx)(r.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:o?{display:"flex",alignItems:"center",height:`${o}px`}:{}},children:(0,h.jsx)(p.default,{aspectRatio:o?236/o:e,backgroundColor:t,captions:n,contextLogData:i,controls:a,hlsConfig:l,isAutoPlay:u,loop:m,objectFit:g,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:_,onLoop:this.handleLoop,onControlsPause:v,onControlsPlay:b,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:x,onTimeChange:this.handleTimeChange,onVolumeChange:k,playbackRate:w,playing:!D&&S,onPlay:()=>{},onPlayError:()=>{},playsInline:P,poster:T,preload:I,src:A,videoStartTime:j,visible:this.visible,volume:R})})})}}function S(e){const{logContextEvent:t}=(0,l.v)();return(0,h.jsx)(w,{...e,logContextEvent:t})}m(w,"defaultProps",r.nk.defaultProps)},473383:(e,t,n)=>{n.r(t),n.d(t,{VideoWrapper:()=>k,default:()=>w,getPlaylistSourceSrc:()=>x});var i=n(667294),a=n(883119),o=n(969327),r=n(282802),l=n(634004),s=n(931696),d=n(886365),c=n(388011),u=n(245410),p=n(802071),h=n(499992),m=n(505204),g=n(785893);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){let n=e;if(t){const i="control"===t?"v3.pinimg.com":"v2.pinimg.com";n=e.replace("v1.pinimg.com",i)}return n}if(Array.isArray(e)&&e[0].src){let n=e[0].src;if(t){const e="control"===t?"v3.pinimg.com":"v2.pinimg.com";n=n.replace("v1.pinimg.com",e)}return n}return"unsupported_type_"+typeof e}class y extends i.Component{constructor(...e){super(...e),_(this,"state",{canPlayVideo:!1,playbackState:m.Cy.DEFAULT,videoStartTime:this.props.seekTime?this.props.seekTime:this.props.videoStartTime||0}),_(this,"errorRetryCount",2),_(this,"hasSegmentStarted",!1),_(this,"hasPlaybackStarted",!1),_(this,"hasVideoSessionStarted",!1),_(this,"hasVideoSessionEnded",!1),_(this,"lastStallTime",null),_(this,"lastPauseTime",null),_(this,"logSessionStartOnNextPlay",!1),_(this,"playerId",""),_(this,"videoSessionId",""),_(this,"videoVisibleTime",null),_(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:v(this.props.src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),_(this,"componentDidMount",(()=>{const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:n=!1}=e;(0,h.tE)("videoMounted",!1,n),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(m.DR,{initiator:"mount"}))})),_(this,"componentDidUpdate",(e=>{const{playing:t,visible:n,appInFocus:i,seekTime:a}=this.props;a&&a!==e.seekTime&&this.setState({videoStartTime:a}),e.appInFocus&&!i&&(this.logPlaybackPerformance(m.$f,{initiator:"update"}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===n&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(m.$f,{initiator:"update"})),!1===e.visible&&!0===n&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(m.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&i&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(m.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)})),_(this,"addSegment",(()=>{const{canPlayTime:e,loadStartTime:t,segments:n,srcString:i}=this.playbackPerformance;let a=-1;e&&t&&0===n.length&&(a=e>t?e-t:0);const o=this.videoPlayerRef&&this.videoPlayerRef.video,r={indicatedKbps:-1,duration:o&&o.duration*m.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:a,switchBitrateKbps:-1,uri:i,viewportWidth:o&&o.clientWidth||-1,viewportHeight:o&&o.clientHeight||-1,watchedDurationMs:0};n.push(r)})),_(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*m.gJ:0)),_(this,"getVideoResourceTiming",(()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.performance)&&void 0!==t&&t.getEntriesByName&&this.playbackPerformance.srcString){const e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null})),_(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:n,playing:i}=this.props,{is_closeup_video:a=!1}=t,{canPlayVideo:o}=this.state;(0,h.tE)("handleCanPlayVideo",!1,a,{firstCanPlayEvent:!o,playing:i}),this.playbackPerformance.hasFatalError=!1,o||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),n&&n(e)})),_(this,"handleEnded",(e=>{const{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,a=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(m.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:m.Cy.ENDED}),n&&n(e)})),_(this,"handleError",(()=>{var e,t,n,i,a,o,r,l;const{contextLogData:s={}}=this.props,{is_closeup_video:d=!1}=s,c=this.videoPlayerRef&&this.videoPlayerRef.video;(null==c||null===(e=c.error)||void 0===e?void 0:e.code)!==m.lG.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${(null==c||null===(t=c.error)||void 0===t?void 0:t.message)||""}`,this.playbackPerformance.errorCode=(null==c||null===(n=c.error)||void 0===n?void 0:n.code)||0,this.playbackPerformance.errorName=(null==c||null===(i=c.error)||void 0===i||null===(a=i.message)||void 0===a?void 0:a.slice(0,100))||"unknown",this.playbackPerformance.errorReason=(null==c||null===(o=c.error)||void 0===o||null===(r=o.message)||void 0===r?void 0:r.slice(0,100))||"unknown";const u={errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,playbackState:this.state.playbackState,networkState:(null==c?void 0:c.networkState)||"unknown"};switch((0,h.tE)("fatalError",!1,d,u),null==c||null===(l=c.error)||void 0===l?void 0:l.code){case m.lG.MEDIA_ERR_ABORTED:break;case m.lG.MEDIA_ERR_NETWORK:case m.lG.MEDIA_ERR_DECODE:case m.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(null==c||c.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:m.Cy.FAILED})})),_(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:m.Cy.LOADED_METADATA})})),_(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:m.Cy.LOAD_START})})),_(this,"handleLoadedData",(()=>{this.setState({playbackState:m.Cy.LOADED_DATA})})),_(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:m.Cy.PLAYING}),this.props.clearSeekTime&&this.props.clearSeekTime()})),_(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),_(this,"handleVideoPause",(()=>{this.state.playbackState!==m.Cy.STALLING&&this.state.playbackState!==m.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:m.Cy.PAUSED})})),_(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==m.Cy.ENDED&&this.setState({playbackState:m.Cy.SEEKING})})),_(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==m.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1,this.setState({playbackState:m.Cy.STALLING}))})),_(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===m.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),_(this,"resetPlaybackMetrics",(()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),_(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),_(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),_(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),_(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),_(this,"updateStallDuration",(()=>{if(null!==this.lastStallTime){const{lastStallTime:e}=this;this.playbackPerformance.totalStallDurationMs+=new Date-e,this.lastStallTime=null}})),_(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const{lastPauseTime:e}=this;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),_(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){const e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),_(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:n={},userId:i,isAutoPlay:a,logContextEvent:o,preload:r}=this.props,{is_closeup_video:l=!1}=n,{canPlayTime:s,detailedErrors:d,errorCode:c,errorName:u,errorReason:p,hasFatalError:g,loadStartTime:_,totalPauseDurationMs:v,totalStallDurationMs:y,numberOfStalls:f,numberOfSeeks:b,playbackStartTimestamp:x,segments:k,srcString:w}=this.playbackPerformance,S=this.videoPlayerRef&&this.videoPlayerRef.video,P=e===m.DR,T=P&&!this.hasVideoSessionStarted,I=!P&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(S&&(T||I)){var C;let T=-1;s&&_&&(T=s>_?s-_:0);let I=-1;s&&this.videoVisibleTime&&(I=s>this.videoVisibleTime?s-this.videoVisibleTime:0),P&&(this.videoSessionId=(0,m.Y7)(i),this.playerId=this.playerId||(0,m.EB)());const A=this.getVideoResourceTiming(),E={averageVideoKbps:-1,autoplaying:a,detailedErrors:d,downloadedKiloBytes:"number"==typeof(null==A?void 0:A.decodedBodySize)&&A.decodedBodySize/m.Fm||0,errorCode:c,errorName:u,errorReason:p,fatalError:g,isCellular:!1,nativeVideoDurationMs:S.duration*m.gJ||-1,numberOfStalls:f,numberOfSeeks:b,overallPausedDurationMs:v,overallBufferDurationMs:y,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:x||-1,segments:[],sessionMark:e,screenPixelScale:null!==(C=window)&&void 0!==C&&C.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:S.clientWidth,startupPlayerHeight:S.clientHeight,startupTimeMs:T,startupLatencyMs:I,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:S.videoWidth,startupVariantHeight:S.videoHeight,videoUrl:w,wasVideoPreloaded:"auto"===r};if(!P){this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const e=k.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);E.overallWatchedDurationMs=e,E.startupVariantWatchedDurationMs=e,E.segments=this.playbackPerformance.segments,0===e?(E.errorName="invalid_watch_duration",E.rebufferRate=-1):E.rebufferRate=y/e}(0,h.ZP)(E,!1,l,{playbackState:this.state.playbackState,...t});const{view:j,viewParameter:R,component:D,element:L,objectId:F,...M}=n;o({event_type:3606,event_data:{videoPerformanceData:E},view_type:j,view_parameter:R,component:D,element:L,object_id_str:F,aux_data:{...M,is_closeup_video:l,playback_session_id:this.videoSessionId}}),P?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,h.tE)(P?"sessionStart":"sessionEnd",!1,l,{playbackState:this.state.playbackState,...t})}}))}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(m.$f,{initiator:"unmount",loop:e})}render(){const{aspectRatio:e,captions:t,controls:n,loop:i,loopOverride:o,objectFit:r,onDurationChange:l,onFullscreenChange:s,onLoadedChange:d,onControlsPlay:c,onPlayheadDown:u,onPlayheadUp:p,onSeek:h,onVolumeChange:m,playbackRate:_,playing:y,playsInline:f,poster:b,preload:x,src:k,volume:w}=this.props,{canPlayVideo:S,videoStartTime:P}=this.state;return(0,g.jsx)(a.nk,{autoplay:S&&y,aspectRatio:e,captions:t,controls:n,loop:void 0===o?i:o,objectFit:r,onDurationChange:l,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:s,onLoadedChange:d,onLoadStart:this.handleLoadStart,onControlsPause:this.handleUserPause,onControlsPlay:c,onPlaying:this.handlePlaying,onPlayheadDown:u,onPlayheadUp:p,onReady:this.handleCanPlayVideo,onSeek:h,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:m,onWaiting:this.handleStalled,playbackRate:_,onPlay:()=>{},onPlayError:()=>{},playing:S&&y,playsInline:f,poster:b,preload:x,ref:this.setVideoPlayerRef,src:v(k,this.props.quicExpGroup),startTime:P||void 0,volume:w})}}const f=(0,i.memo)((function(e){const{logContextEvent:t}=(0,c.v)(),{country:n,isAuthenticated:i,isBot:a,isSocialBot:o,unauthId:s,userAgent:m}=(0,r.B)(),{browserName:_,browserVersion:v,isMobile:f}=m,{contextLogData:b={}}=e,{is_closeup_video:x=!1,view:k,viewParameter:w}=b,{appUI:{appInFocus:S}}=(0,d.I)(),{checkExperiment:P}=(0,u.F)(),{clearSeekTime:T}=(0,l.RC)();let I=null;i&&(I=P("web_video_quic").group.length?P("web_video_quic").group:null);const C=(0,p.Z)(),A={browserName:_,browserVersion:v,country:n,isAuthenticated:i,isBot:a,is_closeup_video:x,isMobile:f,isSocialBot:o,view:k,viewParameter:w};return(0,h.r$)(A),(0,g.jsx)(y,{...e,userId:C.id||s,appInFocus:S,quicExpGroup:I,logContextEvent:t,clearSeekTime:T})}));function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x=e=>{if(Array.isArray(e)){const t=e.find((e=>"video/m3u8"===e.type));return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class k extends i.PureComponent{constructor(e){super(e),b(this,"componentDidUpdate",(e=>{var t;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(t=this.videoPlayerRef)&&void 0!==t&&t.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)})),b(this,"setVideoPlayerRef",(e=>{e&&(this.videoPlayerRef=e)})),b(this,"handleOnEnded",(({event:e})=>{const{loop:t,onLoop:n,onEnded:i}=this.props;i&&(i({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),n&&n()))}));const t=x(e.src);this.state={useHlsVideo:!e.preferMp4&&!(0,o.G6)(e.requestContext.userAgent.browserName)&&!!t}}render(){const{aspectRatio:e,appInFocus:t,backgroundColor:n,captions:i,clearSeekTime:a,contextLogData:o,controls:r,hlsConfig:l,isAutoPlay:d,loop:c,objectFit:u,onDurationChange:p,onEnded:h,onFullscreenChange:m,onLoadedChange:_,onControlsPause:v,onControlsPlay:y,onPlayheadDown:b,onPlayheadUp:k,onReady:w,onSeek:S,onTimeChange:P,onVolumeChange:T,playbackRate:I,playing:C,playsInline:A,poster:E,preferMp4:j,preload:R,seekTime:D,src:L,videoStartTime:F,visible:M,volume:O}=this.props,{useHlsVideo:z}=this.state,Z=x(L),N={...l,startPosition:F||-1},U=!h&&c;return z&&Z?(0,g.jsx)(s.Z,{aspectRatio:e,appInFocus:t,backgroundColor:n,captions:i,clearSeekTime:a,contextLogData:o,controls:r,hlsConfig:N,isAutoPlay:d,loop:c,loopOverride:U,objectFit:u,onDurationChange:p,onEnded:this.handleOnEnded,onFullscreenChange:m,onLoadedChange:_,onControlsPause:v,onControlsPlay:y,onPlayheadDown:b,onPlayheadUp:k,onReady:w,onSeek:S,onTimeChange:P,onVolumeChange:T,playbackRate:I,onPlay:()=>{},onPlayError:()=>{},playing:C,playsInline:A,poster:E,preload:R,seekTime:D,setVideoRef:this.setVideoPlayerRef,src:Z,visible:M,volume:O}):(0,g.jsx)(f,{aspectRatio:e,captions:i,clearSeekTime:a,contextLogData:o,controls:r,isAutoPlay:d,loop:c,loopOverride:U,objectFit:u,onDurationChange:p,onEnded:this.handleOnEnded,onFullscreenChange:m,onLoadedChange:_,onControlsPause:v,onControlsPlay:y,onPlayheadDown:b,onPlayheadUp:k,onReady:w,onSeek:S,onTimeChange:P,onVolumeChange:T,playbackRate:I,onPlay:()=>{},onPlayError:()=>{},playing:C,playsInline:A,poster:E,preload:R,seekTime:D,setVideoRef:this.setVideoPlayerRef,src:j?L:Z||L,videoStartTime:F,visible:M,volume:O})}}function w(e){const{appUI:{appInFocus:t}}=(0,d.I)(),{seekTime:n}=(0,l.Hx)(),{clearSeekTime:i}=(0,l.RC)(),a=(0,r.B)();return(0,g.jsx)(k,{...e,appInFocus:t,requestContext:a,clearSeekTime:i,seekTime:n})}},714557:(e,t,n)=>{n.d(t,{HJ:()=>a,VS:()=>i,iM:()=>o});const i=2,a="V_HLSV3_MOBILE",o=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},619277:(e,t,n)=>{n.d(t,{AG:()=>E,CP:()=>L,E9:()=>s,F6:()=>h,Lj:()=>D,M8:()=>A,MM:()=>w,MS:()=>i,On:()=>p,PQ:()=>Z,SI:()=>x,TJ:()=>d,TO:()=>u,W3:()=>l,WM:()=>b,X:()=>F,XC:()=>y,XS:()=>S,Y9:()=>_,YU:()=>O,Yp:()=>m,_b:()=>a,_e:()=>C,_l:()=>v,bY:()=>c,co:()=>T,e9:()=>o,iT:()=>I,iu:()=>f,jz:()=>N,kl:()=>k,mv:()=>R,oV:()=>z,om:()=>r,ou:()=>P,qo:()=>g,sb:()=>j,z$:()=>M});const i="visitedPagesBeforeLogin",a="_lastVisitedPages",o="visitedPinLandingPagesBeforeLogin",r="visitedBoardLandingPagesBeforeLogin",l="lastVisitedPage",s="unauthTopicsFollowed",d="unauthPins",c="unauthHybridLoginModalView",u="unauthHybridClickthroughCount",p="unauthHybridClickthroughTS",h="signupTime",m="signupInterestsPickerScrollDown",g="signupTriedSkipInputName",_="signupTriedSkipGender",v="signupInterestsPickerStartTime",y="signupUserLocale",f="signupUserCountry",b="uoiou",x="unauthRevisitation",k="urh",w="lineOAuthOneTimeCode",S="unlinkNetwork",P="mfapc",T="logoutPending",I="GroupBoardContentViewSwitcher_Settings",C="_video_autoplay_state",A="unauthDesktopSavePinId",E="unauthDesktopFollowId",j="adv_growth_marketing_plan_state",R="upsell_shown_conversation_pins",D="pin-builder-delete-menu-alert-modal",L="postDownloadAppUpsellLastViewed",F="postDownloadAppUpsellTimesViewed",M="vmp_banner_last_dismissed_at",O="flaggedTerm",z="adv_growth_viewed_banner",Z="business_hub_activation_banner_is_open",N="_favicon_last_shown_timestamp"},458672:(e,t,n)=>{n.d(t,{Z:()=>r});const i={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},a=/[&><\u2028\u2029]/g;var o=n(785893);function r({id:e,isRelayResponseScript:t,testId:n,type:r="application/json",value:l}){const s=JSON.stringify(l).replace(a,(e=>i[e]));return(0,o.jsx)("script",{id:e,"data-test-id":n,...t?{"data-relay-response":!0}:{},type:r,dangerouslySetInnerHTML:{__html:s}})}},113309:(e,t,n)=>{n.d(t,{U:()=>o,Z:()=>r});var i=n(667294);const a=(0,i.createContext)();function o(){return(0,i.useContext)(a)}const r=a},738162:(e,t,n)=>{n.d(t,{I:()=>c,Z:()=>u});var i=n(667294),a=n(616550),o=n(473727),r=n(201342),l=n(785893);const s=(0,i.createContext)(null);function d({children:e}){const t=(0,a.useLocation)(),n=(0,i.useMemo)((()=>t),[]);return(0,l.jsx)(s.Provider,{value:n,children:e})}function c(){return(0,a.useLocation)()===(0,i.useContext)(s)}function u({children:e,initialLocation:t}){return(0,l.jsx)(o.VK,{children:(0,l.jsx)(r.tn,{children:(0,l.jsx)(d,{children:e})})})}},938085:(e,t,n)=>{n.d(t,{Fu:()=>D,NO:()=>W,Tb:()=>W,Tx:()=>D,Y:()=>P,Yn:()=>H,a4:()=>P,kz:()=>T,mw:()=>T});var i,a,o,r,l,s=-1,d=function(e){addEventListener("pageshow",(function(t){t.persisted&&(s=t.timeStamp,e(t))}),!0)},c=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},u=function(){var e=c();return e&&e.activationStart||0},p=function(e,t){var n=c(),i="navigate";return s>=0?i="back-forward-cache":n&&(i=document.prerendering||u()>0?"prerender":document.wasDiscarded?"restore":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},h=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},m=function(e,t,n,i){var a,o;return function(r){t.value>=0&&(r||i)&&((o=t.value-(a||0))||void 0===a)&&(a=t.value,t.delta=o,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},g=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},_=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},v=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},y=-1,f=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},b=function(e){"hidden"===document.visibilityState&&y>-1&&(y="visibilitychange"===e.type?e.timeStamp:0,k())},x=function(){addEventListener("visibilitychange",b,!0),addEventListener("prerenderingchange",b,!0)},k=function(){removeEventListener("visibilitychange",b,!0),removeEventListener("prerenderingchange",b,!0)},w=function(){return y<0&&(y=f(),x(),d((function(){setTimeout((function(){y=f(),x()}),0)}))),{get firstHiddenTime(){return y}}},S=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},P=function(e,t){t=t||{},S((function(){var n,i=[1800,3e3],a=w(),o=p("FCP"),r=h("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(r.disconnect(),e.startTime<a.firstHiddenTime&&(o.value=Math.max(e.startTime-u(),0),o.entries.push(e),n(!0)))}))}));r&&(n=m(e,o,i,t.reportAllChanges),d((function(a){o=p("FCP"),n=m(e,o,i,t.reportAllChanges),g((function(){o.value=performance.now()-a.timeStamp,n(!0)}))})))}))},T=function(e,t){t=t||{},P(v((function(){var n,i=[.1,.25],a=p("CLS",0),o=0,r=[],l=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=r[0],n=r[r.length-1];o&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,r.push(e)):(o=e.value,r=[e])}})),o>a.value&&(a.value=o,a.entries=r,n())},s=h("layout-shift",l);s&&(n=m(e,a,i,t.reportAllChanges),_((function(){l(s.takeRecords()),n(!0)})),d((function(){o=0,a=p("CLS",0),n=m(e,a,i,t.reportAllChanges),g((function(){return n()}))})),setTimeout(n,0))})))},I={passive:!0,capture:!0},C=new Date,A=function(e,t){i||(i=t,a=e,o=new Date,R(removeEventListener),E())},E=function(){if(a>=0&&a<o-C){var e={entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+a};r.forEach((function(t){t(e)})),r=[]}},j=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){A(e,t),a()},i=function(){a()},a=function(){removeEventListener("pointerup",n,I),removeEventListener("pointercancel",i,I)};addEventListener("pointerup",n,I),addEventListener("pointercancel",i,I)}(t,e):A(t,e)}},R=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,j,I)}))},D=function(e,t){t=t||{},S((function(){var n,o=[100,300],l=w(),s=p("FID"),c=function(e){e.startTime<l.firstHiddenTime&&(s.value=e.processingStart-e.startTime,s.entries.push(e),n(!0))},u=function(e){e.forEach(c)},g=h("first-input",u);n=m(e,s,o,t.reportAllChanges),g&&_(v((function(){u(g.takeRecords()),g.disconnect()}))),g&&d((function(){var l;s=p("FID"),n=m(e,s,o,t.reportAllChanges),r=[],a=-1,i=null,R(addEventListener),l=c,r.push(l),E()}))}))},L=0,F=1/0,M=0,O=function(e){e.forEach((function(e){e.interactionId&&(F=Math.min(F,e.interactionId),M=Math.max(M,e.interactionId),L=M?(M-F)/7+1:0)}))},z=function(){return l?L:performance.interactionCount||0},Z=function(){"interactionCount"in performance||l||(l=h("event",O,{type:"event",buffered:!0,durationThreshold:0}))},N=0,U=function(){return z()-N},B=[],K={},V=function(e){var t=B[B.length-1],n=K[e.interactionId];if(n||B.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};K[i.id]=i,B.push(i)}B.sort((function(e,t){return t.latency-e.latency})),B.splice(10).forEach((function(e){delete K[e.id]}))}},H=function(e,t){t=t||{},S((function(){var n=[200,500];Z();var i,a=p("INP"),o=function(e){e.forEach((function(e){e.interactionId&&V(e),"first-input"===e.entryType&&!B.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&V(e)}));var t,n=(t=Math.min(B.length-1,Math.floor(U()/50)),B[t]);n&&n.latency!==a.value&&(a.value=n.latency,a.entries=n.entries,i())},r=h("event",o,{durationThreshold:t.durationThreshold||40});i=m(e,a,n,t.reportAllChanges),r&&(r.observe({type:"first-input",buffered:!0}),_((function(){o(r.takeRecords()),a.value<0&&U()>0&&(a.value=0,a.entries=[]),i(!0)})),d((function(){B=[],N=z(),a=p("INP"),i=m(e,a,n,t.reportAllChanges)})))}))},G={},W=function(e,t){t=t||{},S((function(){var n,i=[2500,4e3],a=w(),o=p("LCP"),r=function(e){var t=e[e.length-1];if(t){var i=Math.max(t.startTime-u(),0);i<a.firstHiddenTime&&(o.value=i,o.entries=[t],n())}},l=h("largest-contentful-paint",r);if(l){n=m(e,o,i,t.reportAllChanges);var s=v((function(){G[o.id]||(r(l.takeRecords()),l.disconnect(),G[o.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,s,!0)})),_(s),d((function(a){o=p("LCP"),n=m(e,o,i,t.reportAllChanges),g((function(){o.value=performance.now()-a.timeStamp,G[o.id]=!0,n(!0)}))}))}}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/MobileAndUnauthPinPage.zh_CN-235a6d4d1a70d92b.mjs.map