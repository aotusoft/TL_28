(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[75096,76101,16699],{258586:e=>{e.exports="https://s.pinimg.com/webapp/btn_base-3772d107.png"},463310:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(965533),i=n(98736),s=n(799665);const a=(e,t)=>{null!=t&&t.disableOriginCheck||(0,s.Z)(e)||(e="/",(0,i.My)("url_reset")),(0,o.Z)(e)}},303998:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(616550),i=n(463310),s=n(549201);function a(){const e=(0,o.useHistory)(),t=(0,s.HG)();return n=>{t?(0,i.Z)(n,{disableOriginCheck:!0}):e.push(n)}}},308979:(e,t,n)=>{n.d(t,{Z:()=>o});const o=(e,t)=>{const n=new Date;return new Date(1e3*e)<=new Date(n.getFullYear()-(t||18),n.getMonth(),n.getDate())}},550941:(e,t,n)=>{n.d(t,{Di:()=>_,Jl:()=>c,R:()=>d,ZP:()=>b,aU:()=>p,j2:()=>u,pN:()=>h,rL:()=>f,vW:()=>m});var o=n(883119),i=n(621699),s=n(550140),a=n(630089),l=n(739425),r=n(785893);const c=7e3,d="permanent_account_closure",u="account_deletion_email_sent",_="account_deactivated",p="unlink_successful",h="account_switch_to_settings";function g(e,t,n){return(0,r.jsx)(o.xv,{align:n||"center",children:(0,a.nk)(e,{username:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:t})})})}function m({i18n:e,message:t,multipleAccounts:n,username:o=""}){switch(t){case d:return e.bt("你的帐户已删除。很遗憾看到你离开", "Your account has been deleted. We're sad to see you go", "unauthLoginPage.accountDeletedToast.message", undefined, true);case u:return g(n?e.bt("已向你发送电子邮件，内含删除帐户 {{username}} 以及其关联帐户的最后操作步骤", "An email has been sent with final steps to delete your account, {{username}} and its linked accounts", "accountDeletedEmailToast.message.multipleAccounts", undefined, true):e.bt("已向你发送电子邮件，内含删除帐户 {{username}} 的最后操作步骤", "An email has been sent with final steps to delete your account, {{username}}", "accountDeletedEmailToast.message.singleAccount", undefined, true),o);case _:return g(n?e.bt("帐户 {{username}} 以及与其相关的关联帐户已停用", "The account, {{username}}, and its associated linked accounts have been deactivated", "unauthLoginPage.deactivatedToast.message.multipleAccounts", undefined, true):e.bt("帐户 {{username}} 已停用", "The account, {{username}}, has been deactivated", "unauthLoginPage.deactivatedToast.message.singleAccount", undefined, true),o);case p:return g(e.bt("成功！你已取消关联此企业帐户。你目前以 {{username}} 登录。", "Success! You've unlinked this business account. You are currently in {{username}}.", "authHomeFeedPage.unlinkAccountToast.message", undefined, true),o,"start");case h:return g(e.bt("你已切换到帐户 {{username}} 并且目前以该帐户登录", "You've switched into and are currently in the account {{username}}", "accountSettings.switchAccountToAccountChanges", undefined, true),o,"start");default:return""}}function b(e,t,n=""){if(!t||!t.search)return"";const{message:o}=(0,l.mB)(t.search),i=(0,l.mB)(t.search).username||n;return m({i18n:e,message:o,multipleAccounts:"true"===(0,l.mB)(t.search).multiple_accounts,username:i})}function f({showOneToast:e,i18n:t,location:n,history:o,username:a,fullName:d,avatarUrl:u}){if(!n||!n.search)return;const _=b(t,n,a||""),{message:g}=(0,l.mB)(n.search),m=g===h||g===p;_&&(e((({hideToast:e})=>(0,r.jsx)(s.ZP,{duration:c,onHide:e,text:_,thumbnail:m?{avatar:(0,r.jsx)(i.Z,{name:d||"",src:u||"",size:"md"})}:void 0}))),o.replace(n.hash?`${n.pathname}${n.hash}`:n.pathname))}},353226:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(785893);function i({size:e}){return(0,o.jsx)("svg",{height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,o.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,o.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,o.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,o.jsx)("path",{d:"M20 20h472v472H20V20z"})]})})}},822123:(e,t,n)=>{n.d(t,{Z:()=>o});const o={EMAIL:1,FACEBOOK:2,GPLUS:3,GOOGLE_ONE_TAP:4,SMARTLOCK:5,MULTIFACTOR:6,SWITCH_ACCOUNT:7,LINE:8}},947326:(e,t,n)=>{n.d(t,{Z:()=>h});var o=n(457628),i=n(791045),s=n(611756);var a=n(837792),l=n(739425),r=n(845098),c=n(619277);const d="undefined"!=typeof window,u=d?`${window.location.origin}/oauth/line/redirect`:"",_=({origin:e,data:t})=>t&&e===window.location.origin?String(t):null,p=({url:e,key:t})=>{if(!e.startsWith(window.location.origin)||t!==c.MM)return null;const n=(0,s.qn)(c.MM);return(0,s.L_)(c.MM),n};function h(e,t){var n;if(!d)return void(null===(n=t.error)||void 0===n||n.call(t,{message:"Window is undefined"}));let s;const c=function(e=5){const t="abcdefghijklmnopqrstuvwxyz1234567890";return new Array(e).fill("").map((()=>t[Math.floor(36*Math.random())])).join("")}(10),h=async e=>{if(!e.isTrusted)return;const n=e instanceof MessageEvent?_(e):p(e),a=(0,l.mB)(n);if(a.state&&a.code&&a.state===c){s&&!s.closed&&s.close();try{const e=await fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":`${String(o.U2(i.fS))}`},method:"POST",body:(0,r.Z)({code:a.code,redirect_uri:u})}),n=await e.json(),{id_token:s,access_token:l}=n;var d;if(s&&l)t.success({line_id_token:s,line_access_token:l});else null===(d=t.error)||void 0===d||d.call(t,{message:"No tokens returned"})}catch(b){var g;null===(g=t.error)||void 0===g||g.call(t,b)}finally{var m;s&&!s.closed&&s.close(),window.removeEventListener("message",h),window.removeEventListener("storage",h),null===(m=t.complete)||void 0===m||m.call(t)}}};window.addEventListener("message",h),window.addEventListener("storage",h),s=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${a.z}&redirect_uri=${encodeURIComponent(u)}&state=${c}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}},539636:(e,t,n)=>{n.d(t,{Z:()=>o});const o=e=>{return JSON.parse(decodeURIComponent(atob((t=e.split(".")[1],(t||"").replace(/-/g,"+").replace(/_/g,"/"))).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")));var t}},950861:(e,t,n)=>{n.d(t,{Ny:()=>u,ZP:()=>p,eD:()=>g,lp:()=>h,nY:()=>m});var o=n(463310),i=n(675689),s=n(860438),a=n(837792),l=n(98736),r=n(198541),c=n(911386),d=n(619277);const u=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class _{static defaultLoginRedirectUrl(){return window.location.pathname===a.lf||window.location.pathname===a.ZE||window.location.pathname.startsWith(a.rO)?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith(a.rO)?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){const e=s.Z.getItem(d.kl);if(e&&e.indexOf("|")>-1){const t=e.split("|");return 3===t.length&&(new Date).getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){const e=s.Z.getItem(d.kl);let t=[];e&&(t=e.split("|"),3===t.length&&t.shift());const n=((new Date).getTime()/1e3).toString();t.push(n);const o=t.join("|");s.Z.setItem(d.kl,o)}static isFullyLoggedIn(e,t){return e&&t===i.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";const t=(0,c.Z)();if(t){const n=t.next;n&&(e=n,delete t.next),e=(0,r.Z)(e,t)}}(0,o.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){s.Z.setItem(d.F6,Date.now()),!t&&e&&"/"!==e?_.handleRedirect(e):_.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){const t=window.navigator.credentials;if(t&&e.username_or_email)try{const n=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(n).then((()=>{(0,l.My)("navigatorCredentials.store.success")}))}catch(n){(0,l.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,n){(0,l.My)("multi_step_login"),_.storeLoginCredentialsToBrowser(e),n?n(e,t):(0,l.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}const p=_;function h(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function g(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":h(e)}function m(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}},300796:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(667294),i=n(552369);const s=()=>{const[e,t]=(0,o.useState)(0);return(0,o.useEffect)((()=>{const e=(0,i.Z)((()=>t(window.scrollY)),10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),e}},212380:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(883119),i=n(536042),s=n(785893);const a=({isInModal:e})=>{const t=(0,i.ZP)();return(0,s.jsx)(o.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new o.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},children:(0,s.jsx)(o.$j,{accessibilityLabel:t.bt("加载中", "Loading", "Full page loading state", undefined, true),show:!0})})}},156117:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_t});var o=n(667294),i=n(702664),s=n(616550),a=n(14100),l=n(388011),r=n(457628),c=n(791045),d=n(604094),u=n(527386),_=n(988014),p=n(245410),h=n(282802),g=n(643183),m=n(466946),b=n(611756),f=n(173085),x=n(98736),v=n(739425),w=n(549201),y=n(272109),j=n(509342),P=n(890415),A=n(883119),k=n(567648);function C({children:e}){return!(0,k.Z)()&&e}var S=n(550140),z=n(536042),E=n(315219),Z=n(822123),T=n(63262),L=n(791229),I=n(785893);const B="keychainAutologinDisabled",O="mweb.unauth.ios_keychain_autologin";function M(){const[e,t]=(0,o.useState)(""),[n,i]=(0,o.useState)(""),a=(0,o.useRef)(!1),l=!!e&&!!n,r=(0,o.useRef)(),c=(0,L.f)(),d=(0,s.useHistory)(),u=(0,s.useLocation)(),_=(0,z.ZP)(),{showToast:p}=(0,T.F9)();(0,o.useEffect)((()=>{r.current&&r.current.focus()}),[]);const h=({errorReason:e,errorCode:t,errorMessage:n})=>{const o=e||t===E.oP?"invalid_password":t===E.hU?"invalid_email":"login";(0,x.My)(`${O}.failure.${o}`),(0,f.Nh)(B,!0),d.push({pathname:"/login",state:{keychainiOSAutologinError:{code:t,message:n}}})};(0,o.useEffect)((()=>{a.current!==l&&(a.current=l,(0,f.Nh)(B,!0),c({username_or_email:e,password:n},d,u.pathname,{isAutologin:!0},{event_type:7534,view_type:9,view_parameter:63,aux_data:{signup_login_method:Z.Z.EMAIL}}).then((()=>{p((({hideToast:e})=>(0,I.jsx)(S.ZP,{text:_.bt("你已登录！", "You're logged in!", "mweb.unauth.ios_keychain_autologin.login_success_toast", undefined, true),onHide:e}))),(0,x.My)(`${O}.login_success`)})).catch((e=>{h({errorCode:e.api_error_code,errorMessage:e.message})})))}));const g=({value:e,type:n})=>{1!==e.length?"email"===n?t(e):i(e):h({errorReason:"manual_input_attempt"})},m=()=>{l||(0,x.My)(`${O}.failure.user_dismissed_prompt`),(0,f.Nh)(B,!0)};return(0,I.jsx)(A.xu,{position:"absolute",top:!0,opacity:0,dangerouslySetInlineStyle:{__style:{zIndex:-100}},children:(0,I.jsxs)("form",{onSubmit:e=>{e.preventDefault()},autoComplete:"on","aria-hidden":"true",children:[(0,I.jsx)(A.nv,{autoComplete:"username",id:"username",onChange:({value:e})=>g({value:e,type:"email"}),ref:r,size:"lg",type:"email",value:e,onBlur:m}),(0,I.jsx)(A.nv,{autoComplete:"current-password",id:"current-password",onChange:({value:e})=>g({value:e,type:"password"}),size:"lg",type:"password",value:n,onBlur:m})]})})}const F=()=>{const e=(0,s.useLocation)(),{isBot:t,userAgent:{browserName:n}}=(0,h.B)();return!t&&"Mobile Safari"===n&&((0,_.bo)(e)||(0,_.E0)(e)||(0,_.dr)(e)||(0,_.gT)(e)||(0,_.uM)(e)||(0,_.am)(e))&&!(0,f.qn)(B,!1)};function R(){return F()&&(0,I.jsx)(M,{})}function D(){return(0,I.jsx)(C,{children:(0,I.jsx)(R,{})})}var U=n(657482);const N="susdst",$="susdd",G=e=>"/"===e[e.length-1]?e.substr(0,e.length-1):e,H=({newLocation:e,oldLocation:t})=>{return(n=e)&&!!n.key&&(0,_.L6)(e)&&((0,_.L6)(t)||(0,_.am)(t)||(0,_.cD)(t)||(0,_.En)(t))&&!(0,f.qn)("openUnauthType")&&!(()=>{if("undefined"==typeof window)return!1;const e=U.Z.getItem(N),t=U.Z.getItem($);return!!e&&!!t&&(new Date).getTime()-e<=t})();var n};var W=n(684288);const Y="SEEN_NAV_UPSELL",X=({mobileSignupModalContext:e})=>{const t=(0,s.useLocation)(),n=(0,o.useRef)(t),{checkExperiment:i}=(0,p.F)();(0,o.useEffect)((()=>{const o=n.current,s=t,a="?source=swipe"===s.search,{group:l}=i("mweb_unauth_navigational_upsell_further_relaxation");let r=1;if(l.startsWith("enabled_every")&&(r=Number(l.split("_")[2])),!(o===s||(d=o,u=s,d===u||d&&u&&G(d.pathname)===G(u.pathname))||(c=s.pathname,c.includes("_created")||c.includes("boards")))){(0,W.C)(s);const{showMobileSignupModal:t,dismissMobileSignupModal:n,incrementUpsellEligibleNavigationCount:i,upsellIsEnabledGlobally:c,upsellEligibleNavigationCount:d,modal:{isShown:u}}=e,_=d+1;if(u)n();else if(c()&&H({newLocation:s,oldLocation:o})&&!a){if(d>=3)if(""===l)t({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`navigation_3_notInExp_${_}`,navigationTriggeredUpsell:{newLocation:s,oldLocation:o}}),(0,x.My)("mweb.nav.upsell.show.not.in.further.relaxation.exp"),(0,x.My)(`mweb.nav.upsell.show.not.in.further.relaxation.exp.${_}`);else if("control"===l)t({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`navigation_3_control_${_}`,navigationTriggeredUpsell:{newLocation:s,oldLocation:o}}),(0,x.My)("mweb.nav.upsell.show.control"),(0,x.My)(`mweb.nav.upsell.show.control.${_}`);else if("enabled_only_once"===l)U.Z.getItem(Y)||(t({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`navigation_3_enabledOnlyOnce_${_}`,navigationTriggeredUpsell:{newLocation:s,oldLocation:o}}),U.Z.setItem(Y,!0),(0,x.My)("mweb.nav.upsell.show.enabled_only_once"),(0,x.My)(`mweb.nav.upsell.show.enabled_only_once.${_}`));else{(d-3)%r==0&&(t({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`navigation_3_enabledEvery${r}_${_}`,navigationTriggeredUpsell:{newLocation:s,oldLocation:o}}),(0,x.My)(`mweb.nav.upsell.show.${l}`),(0,x.My)(`mweb.nav.upsell.show.${l}.${_}`))}i()}}var c,d,u;n.current=t}),[i,t,e])};function J({context:e}){return X({mobileSignupModalContext:e}),null}var q=n(260070),K=n(690108),V=n(788241),Q=n(868489),ee=n(700453),te=n(943795),ne=n(802071),oe=n(115771);function ie({onOpenInAppClick:e}){const{isAuth:t}=(0,ne.Z)(),n=(0,s.useLocation)(),o=(0,z.ZP)();return(0,I.jsx)(te.FixedFooter,{footerInLego:!0,appUpsellFooterConfig:{shouldShowAfterScroll:()=>!(t||!(0,_.L6)(n))&&((0,oe.y)(),!0)},hideOnScroll:!0,noPadding:!0,children:(0,I.jsx)(A.xu,{alignItems:"center",display:"flex",justifyContent:"around",marginEnd:4,marginStart:4,maxWidth:264,children:(0,I.jsx)(A.iP,{onTap:e,children:(0,I.jsxs)(A.xu,{alignItems:"center",display:"flex",paddingY:4,children:[(0,I.jsx)(A.xu,{marginEnd:2,children:(0,I.jsx)(A.JO,{accessibilityLabel:o.bt("Pinterest 图标", "Pinterest logo", "AppUpsellFooter.icon", undefined, true),color:"brandPrimary",icon:"pinterest",inline:!0,size:24})}),(0,I.jsx)(A.xv,{weight:"bold",children:o.bt("在应用中打开", "Open in app", "AppUpsellFooter.text.open", undefined, true)})]})})})})}function se({clientTrackingParams:e,onOpenInApp:t,viewParameter:n,viewType:o}){return(0,I.jsx)(oe.Z,{clientTrackingParams:e,viewParameter:n,viewType:o,children:(0,I.jsx)(ie,{onOpenInAppClick:()=>{(0,oe.y)(),t()}})})}var ae=n(799006),le=n(446077),re=n(726304),ce=n(618671);const de="sumdc",ue=()=>{const e=(0,ne.Z)(),t=e&&e.isAuth,{referrerFromCookie:n}=(0,h.B)(),o=(0,le.Xn)((0,le.an)(null!=n?n:"")),s=(0,i.useSelector)((({session:e})=>e.unauthSavePinId&&!t)),{unauthCommentPinId:a,removeUnauthCommentPinId:l}=(0,re.C)(),r=a&&t,{unauthFollowUserId:c,removeUnauthFollowUserId:d}=(0,ce.f)(),u=c&&t,_=(0,i.useDispatch)();return()=>{s&&_((0,q.n1)()),r&&l(),u&&d(),(0,x.NC)("hide_dismissable_modal"),(0,x.My)("mweb.unauth_dismiss_modal");let e=U.Z.getItem(de)||0;e+=1,U.Z.setItem(de,e);o&&1===e&&(e=>{const t=$;U.Z.getItem(t)||U.Z.setItem(t,e),U.Z.setItem(N,(new Date).getTime())})(6e4)}};var _e=n(40660),pe=n(621699),he=n(630089),ge=n(837792),me=n(460914),be=n(866572),fe=n(786612);function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ve=1e3,we={visible:{transform:"translateY(0)",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1)"},hiding:{transform:"translateY(350px)",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1)"},wash:{backgroundColor:"rgba(0, 0, 0, 0.5)",height:"100%",touchAction:"none",width:"100%",zIndex:10001,position:"fixed",top:0,left:0},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",width:"100%",zIndex:1}}};class ye extends o.PureComponent{constructor(...e){super(...e),xe(this,"state",{visible:!1,hiding:!1,showWash:!1}),xe(this,"getTitle",(()=>{const{invite:e}=this.props,t=e&&e.sender,n=t&&t.first_name;return(this.props.i18n.bt("加入 Pinterest 上的 {{ name }}，获取更多点子", "Join {{ name }} on Pinterest for more ideas", "Prompt user to signup to access all Pinterest features", undefined, true)).replace("{{ name }}",n||"")})),xe(this,"getAvatar",(()=>{const{invite:e}=this.props,t=e&&e.sender,n=t&&t.image_medium_url,o=t&&t.full_name;return(0,I.jsx)(pe.Z,{src:n||"",name:o||"",size:"sm"})})),xe(this,"handleHide",(()=>{const{onDismiss:e}=this.props;_e.Z.increment("mweb_facebook_social_upsell.close"),this.setState({hiding:!0,showWash:!1}),this.slideInAnimation=window.requestAnimationFrame((()=>{setTimeout((()=>{e&&e()}),ve)}))})),xe(this,"handleHideOutsideTap",(()=>{const{onDismiss:e}=this.props;_e.Z.increment("mweb_facebook_social_upsell.close.outside.modal"),this.setState({hiding:!0,showWash:!1}),this.slideInAnimation=window.requestAnimationFrame((()=>{setTimeout((()=>{e&&e()}),ve)}))})),xe(this,"handleFBConnect",(e=>{_e.Z.increment(`mweb_facebook_social_upsell.fb_connect_button_click.${e}`)})),xe(this,"handleSignupClick",(()=>{_e.Z.increment("mweb_facebook_social_upsell.signup_button_click"),this.props.history.push({pathname:"/",state:{from:this.props.location.pathname,next:this.props.location.pathname}})})),xe(this,"initializeShowAnimation",(()=>{_e.Z.increment("mweb_facebook_social_upsell.shown"),this.slideInAnimation=window.requestAnimationFrame((()=>{setTimeout((()=>{this.setState({visible:!0})}),ve)}))}))}componentDidMount(){_e.Z.increment("mweb_facebook_social_upsell.land");const{invite:e}=this.props,t=e?e.invite_channel:null;t&&_e.Z.increment(`mweb_social_unauth.invite_channel.${t}`),this.initializeShowAnimation()}componentWillUnmount(){window.cancelAnimationFrame(this.slideInAnimation)}renderDefaultLoginHeader(){return(0,I.jsxs)(A.xu,{flex:"grow",display:"flex",alignItems:"center",marginBottom:2,justifyContent:"center",children:[(0,I.jsxs)(A.xu,{alignItems:"center",display:"flex",direction:"column",marginBottom:5,children:[(0,I.jsx)(A.xu,{children:(0,I.jsx)(A.xv,{align:"start",weight:"bold",children:(0,I.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n.bt("注册以查看更多", "Sign up to see more", "Title on mobile web signup modal to prompt users to signup for Pinterest.", undefined, true)})})}),(0,I.jsx)(A.xu,{marginBottom:1}),(0,I.jsx)(A.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:(0,I.jsx)(A.xv,{align:"start",children:this.props.i18n.bt("免费、无限访问点子", "Free, unlimited access to ideas", "First value prop on mobile web sign up modal", undefined, true)})})]}),(0,I.jsx)(A.iz,{})]})}renderInviterHeader(){return(0,I.jsxs)(A.xu,{flex:"grow",display:"flex",alignItems:"center",marginBottom:2,children:[(0,I.jsxs)(A.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:3,children:[(0,I.jsx)(A.xu,{children:(0,I.jsx)(A.xv,{align:"start",weight:"bold",children:(0,I.jsx)("span",{className:"deprecatedTextSizeXL",children:this.getTitle()})})}),(0,I.jsx)(A.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"26%"}},children:this.getAvatar()})]}),(0,I.jsx)(A.iz,{})]})}render(){const{location:e,invite:t}=this.props,{visible:n,hiding:o,showWash:i}=this.state,s=ge.ZE,a=t?t.sender:null,l=n&&!o?we.visible:we.hiding;return(0,I.jsxs)(A.xu,{dangerouslySetInlineStyle:{__style:i?we.wash:{}},children:[n&&!o?(0,I.jsx)(me.Z,{onTouch:this.handleHideOutsideTap,pressState:"none",children:(0,I.jsx)(A.xu,{position:"fixed",top:!0,left:!0,opacity:1,dangerouslySetInlineStyle:{__style:we.mask.baseStyles}})}):null,(0,I.jsx)(A.xu,{position:"fixed",bottom:!0,color:"default",paddingX:6,width:"100%",zIndex:new A.Ry(10001),dangerouslySetInlineStyle:{__style:{...l,boxShadow:"0 1px 5px 0 rgba(0,0,0,0.25)",paddingBottom:"5%",paddingTop:"2%",touchAction:"none"}},children:(0,I.jsxs)(A.xu,{maxWidth:400,marginStart:"auto",marginEnd:"auto",children:[(0,I.jsx)(A.xu,{paddingY:2}),(0,I.jsx)(A.xu,{position:"absolute",left:!0,top:!0,marginStart:4,marginTop:2,children:(0,I.jsx)(A.hU,{accessibilityLabel:this.props.i18n.bt("关闭模式", "Close modal", "Close the modal for facebook upsell", undefined, true),icon:"cancel",onClick:this.handleHide,size:"sm",iconColor:"gray"})}),(0,I.jsx)(A.xu,{paddingY:2}),a?this.renderInviterHeader():this.renderDefaultLoginHeader(),(0,I.jsx)(A.xu,{marginBottom:1,height:40,children:(0,I.jsx)(be.Z,{facebook:!0,from:e.pathname,next:e.pathname,fbConnectHandler:this.handleFBConnect})}),(0,I.jsx)(A.xu,{marginBottom:1,marginTop:2,children:(0,I.jsx)(A.zx,{fullWidth:!0,onClick:this.handleSignupClick,color:"gray",text:this.props.i18n.bt("注册", "Sign Up", "Button to redirect user to Signup Page on mweb", undefined, true)})}),(0,I.jsx)(A.xu,{marginTop:3,children:(0,I.jsx)(A.xv,{color:"subtle",align:"center",size:"100",children:(0,he.nk)(this.props.i18n.bt("已有帐户？{{ logIn }}", "Have an account? {{ logIn }}", "Asking users if they already have an account", undefined, true),{logIn:(0,I.jsx)(A.rU,{href:s,display:"inlineBlock",onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:(0,I.jsx)(A.xv,{color:"subtle",inline:!0,size:"100",weight:"bold",children:this.props.i18n.bt("登录", "Log in", "Mobile web link to log in page", undefined, true)})})})})}),(0,I.jsx)(A.xu,{marginTop:3,children:(0,I.jsx)(fe.Z,{size:"xs"})})]})})]})}}function je(e){const t=(0,s.useHistory)(),n=(0,s.useLocation)(),o=(0,z.ZP)();return(0,I.jsx)(ye,{...e,history:t,i18n:o,location:n})}var Pe=n(266769),Ae=n(894121);const ke=({children:e,isOpen:t,onDismiss:n,type:o})=>(0,I.jsx)(Ae.default,{accessibilityModalLabel:"",mobileAllowScroll:!0,mobileHideCloseIcon:!0,isOpen:t,onDismiss:n,type:o,mobileIsFooter:!0,children:(0,I.jsx)(A.xu,{padding:4,children:e})});var Ce=n(849608);class Se extends o.PureComponent{constructor(...e){var t,n,o;super(...e),o=({event:e})=>{e.stopPropagation();const{history:t,socialCollabGroupBoardPath:n}=this.props,o=n||"";_e.Z.increment("mweb.social.group_board.public.modal.display"),t.push({pathname:"/signup/step1/",state:{next:o,isFromGroupBoardsInvite:!0}})},(n="handleJoinBoardClick")in(t=this)?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}componentDidMount(){const{inviteObject:e}=this.props,t=e?e.invite_channel:null;_e.Z.increment("mweb.social.group_board.public.modal.display"),t&&_e.Z.increment(`mweb.social.group_board.public.invite_channel.${t}`)}render(){const{viewType:e,viewParameter:t,inviteObject:n,board:o}=this.props,i=n?n.sender:null,s=i?i.first_name:"",a=i?i.image_medium_url:"",l=i?i.full_name:"",r=s?(this.props.i18n.bt("{{ name }} 邀你加入他们的图板", "{{ name }} invited you to join their board", "Mobile Modal prompting users to join a friends({{ name }}) board", undefined, true)).replace("{{ name }}",s):this.props.i18n.bt("朋友邀你加入他们的图板", "Your friends invited you to join their board", "Mobile Modal prompting users to join a friends board", undefined, true),c=this.props.i18n.bt("加入图板", "Join board", "Join Board Button", undefined, true);return(0,I.jsx)(Pe.Z,{viewType:e||202,viewParameter:t,component:13196,children:(0,I.jsx)(ke,{isOpen:!0,onDismiss:()=>{},type:"groupboard_join",children:o?(0,I.jsxs)(A.xu,{padding:3,children:[(0,I.jsxs)(A.xu,{children:[(0,I.jsxs)(A.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,I.jsx)(A.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"5%"}},width:"48px",children:(0,I.jsx)(pe.Z,{src:a||"",name:l||""})}),(0,I.jsx)(A.xu,{maxWidth:"74%",children:(0,I.jsx)(A.xv,{align:"start",overflow:"normal",weight:"bold",children:r})})]}),(0,I.jsx)(A.xu,{marginBottom:4})]}),(0,I.jsx)(A.zx,{fullWidth:!0,text:c,color:"red",type:"button",onClick:this.handleJoinBoardClick})]}):(0,I.jsx)(A.xu,{padding:3,children:(0,I.jsx)(A.$j,{show:!0,accessibilityLabel:this.props.i18n.bt("正在加载图板", "Loading Board", "Accessiblity label for Spinner searching for board", undefined, true)})})})})}}function ze({inviteObject:e,socialCollabGroupBoardPath:t}){const n=(0,z.ZP)(),o=(0,s.useHistory)(),{country:a}=(0,h.B)(),{viewType:l,viewParameter:r}=(0,V.SU)(),c=t&&t.split("?")[0]||"",d=(0,i.useSelector)((e=>(0,Ce.Z)(e)[c]));return(0,I.jsx)(Se,{board:d,country:a,history:o,i18n:n,inviteObject:e,socialCollabGroupBoardPath:t,viewParameter:r,viewType:l})}var Ee=n(563962),Ze=n(624417),Te=n(618569),Le=n(300796),Ie=n(968358),Be=n(199999),Oe=n(525104);function Me({children:e}){const{checkExperiment:t}=(0,p.F)();return t("pcons_ideal_floating_upsell").anyEnabled?(0,I.jsx)(ee.ZP,{componentType:14156,within:"unauth-floating-upsell",children:({handleOpenApp:t})=>(0,I.jsx)(A.iP,{onTap:()=>{(0,x.My)("pcons_floating_redesign_click"),t()},children:e})}):e}function Fe(){return(0,I.jsx)(A.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:16}},children:(0,I.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,I.jsx)("rect",{width:"40",height:"40",rx:"6",fill:"#EFEFEF"}),(0,I.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 20C6 25.9768 9.74617 31.0798 15.0183 33.0877C14.89 31.9945 14.7535 30.192 15.0475 28.9273C15.3007 27.84 16.682 21.9997 16.682 21.9997C16.682 21.9997 16.2655 21.1655 16.2655 19.93C16.2655 17.9933 17.3878 16.5467 18.7867 16.5467C19.9767 16.5467 20.5507 17.4392 20.5507 18.509C20.5507 19.7048 19.7888 21.4922 19.3957 23.15C19.0678 24.5372 20.0922 25.6688 21.4595 25.6688C23.9363 25.6688 25.8415 23.0567 25.8415 19.286C25.8415 15.9482 23.4428 13.616 20.0187 13.616C16.0543 13.616 13.7268 16.5898 13.7268 19.664C13.7268 20.8622 14.1877 22.1455 14.764 22.8443C14.8772 22.9832 14.8947 23.1033 14.8608 23.2445C14.7547 23.6855 14.519 24.6317 14.4735 24.8253C14.4117 25.0797 14.2717 25.1345 14.0068 25.0108C12.2662 24.2012 11.1788 21.6567 11.1788 19.6127C11.1788 15.2155 14.372 11.1788 20.3862 11.1788C25.2208 11.1788 28.9787 14.624 28.9787 19.2277C28.9787 24.0308 25.9512 27.8972 21.7465 27.8972C20.3337 27.8972 19.0072 27.1622 18.5522 26.2953C18.5522 26.2953 17.8533 28.9577 17.6842 29.6087C17.3552 30.8733 16.4428 32.474 15.877 33.3828C17.1813 33.7842 18.565 34 20 34C27.7315 34 34 27.7315 34 20C34 12.2685 27.7315 6 20 6C12.2685 6 6 12.2685 6 20Z",fill:"#E60023"})]})})}var Re=n(339544);const De=200,Ue=360,Ne=350,$e=new A.Ry(1e4),Ge=({onDismiss:e})=>{const t=(0,z.ZP)(),{viewType:n,viewParameter:a}=(0,V.SU)(),l=(0,P.dc)(),r=(()=>{const e=(0,s.useLocation)(),t=(0,s.useParams)(),{countryFromIp:n,isBot:o,userAgent:{isMobile:a}}=(0,h.B)(),l=(0,Oe.S6)(),r=t.id?l(t.id):void 0;return(0,i.useSelector)((t=>{var i,s,c,d;const u=(0,Ce.Z)(t)[e.pathname],_=null==u||null===(i=u.cover_pin)||void 0===i?void 0:i.pin_id,p=_&&r&&l(_),h=r||p,{session:{isSocialBot:g}}=t,m=(0,Ie.Z)(n||"",o||g,!a)&&["Dialup","Cellular"].includes(null==h||null===(s=h.pinner)||void 0===s?void 0:s.connection_type),b=(0,Ze.Z)({images:null==h?void 0:h.images,embedSrc:null==h||null===(c=h.embed)||void 0===c?void 0:c.src,embedType:null==h||null===(d=h.embed)||void 0===d?void 0:d.type,preferredResolution:m?"236x":"736x"})||u&&u.image_cover_url||"";return b?{color:(h||{}).dominant_color,src:b}:null}))})(),c=(0,Ee.Z)(),d=(0,Te.Z)(),{checkExperiment:u}=(0,p.F)(),_=(0,w.Wb)(),g=!_&&u("pcons_ideal_floating_upsell").anyEnabled;return(0,I.jsxs)(o.Fragment,{children:[(0,I.jsx)(A.xu,{alignSelf:g?void 0:"end","data-test-id":"cancel-button",display:"flex",dangerouslySetInlineStyle:{__style:{flexGrow:g?0:void 0}},children:(0,I.jsx)(A.hU,{accessibilityLabel:t.bt("取消", "Cancel", "unauth.mweb.floating_app_modal.cancel_button", undefined, true),icon:"cancel",onClick:({event:t})=>{const o=t;(0,x.tj)("mweb_unauth.float_app_upsell.dismiss_tap",{x:(null==o?void 0:o.pageX)||-1,y:(null==o?void 0:o.pageY)||-1}),(0,x.My)(`pcons_dismiss_floating_app_upsell_after_${l}_rp_clicks`),(0,x.NC)("click_dismiss_float_app_upsell"),c({component:14156,element:75,event_type:102,view_type:n,view_parameter:a}),d({action:"click",item:"cancel-button",within:"unauth-floating-upsell"}),t.stopPropagation(),e()},size:"sm",iconColor:g?"darkGray":"gray"})}),(0,I.jsxs)(A.xu,{dangerouslySetInlineStyle:{__style:{flexGrow:g?1:void 0}},children:[(0,I.jsxs)(A.xu,{"data-test-id":"interest-image",display:"flex",margin:g?0:2,children:[g?(0,I.jsx)(Fe,{}):r&&(0,I.jsx)(A.xu,{minWidth:48,height:64,overflow:"hidden",rounding:2,marginEnd:4,children:(0,I.jsx)(A.Ee,{src:r.src,fit:"cover",naturalWidth:48,naturalHeight:64,color:r.color||"white",alt:"image"})}),(0,I.jsxs)(A.kC,{alignItems:"stretch",direction:"column",justifyContent:g?"center":"start",children:[(0,I.jsx)(A.xu,{children:(0,I.jsx)(A.xv,{weight:g?void 0:"bold",children:t.bt("喜欢这些点子吗？", "Loving these ideas?", "unauth.mweb.floating_app_modal.main_text", undefined, true)})}),(0,I.jsx)(A.xv,{weight:g?"bold":void 0,children:g?t.bt("下载应用程序以查看更多精彩内容", "Get the app to see more", "unauth.mweb.floating_app_modal.main_text.experimental", undefined, true):t.bt("获取免费 Pinterest 应用以查看更多精彩内容", "Get the free Pinterest app to see more", "unauth.mweb.floating_app_modal.main_text", undefined, true)})]})]}),!_&&!u("pcons_ideal_floating_upsell").anyEnabled&&(0,I.jsx)(A.xu,{alignItems:"center",alignSelf:"center","data-test-id":"download-button",display:"flex",direction:"row",justifyContent:"center",marginBottom:3,marginStart:4,marginEnd:4,wrap:!0,children:(0,I.jsx)(ee.ZP,{componentType:14156,within:"unauth-floating-upsell",children:({handleOpenApp:e})=>(0,I.jsx)(A.zx,{color:"red",onClick:()=>{(0,x.My)(`pcons_download_floating_app_upsell_after_${l}_rp_clicks`),e()},size:"md",text:t.bt("下载应用程序", "Download app", "unauth.mweb.floating_app_modal", undefined, true)})})})]})]})},He=()=>{const e=(0,z.ZP)(),t=(0,s.useLocation)();return(0,I.jsxs)(A.xu,{alignItems:"center",direction:"column",display:"flex",paddingX:2,paddingY:4,children:[(0,I.jsx)(A.xu,{flex:"grow",children:(0,I.jsxs)(A.xu,{marginBottom:6,children:[(0,I.jsx)(A.xu,{marginBottom:2,children:(0,I.jsx)(A.X6,{overflow:"normal",size:"400",align:"center",children:e.bt("你已注销", "You are signed out", "Heading on the bottom right upsell suggesting user is not signed in", undefined, true)})}),(0,I.jsx)(A.xv,{overflow:"normal",align:"center",children:e.bt("登录以获取最佳体验", "Sign in to get the best experience", "Subheader value prop on the bottom right upsell", undefined, true)})]})}),(0,I.jsxs)(o.Fragment,{children:[(0,I.jsx)(be.Z,{facebook:!0,google:!0,line:!0,showEmailButton:!0,next:(0,P.Yy)(t)}),(0,I.jsx)(A.xu,{paddingX:6,marginTop:-3,children:(0,I.jsx)(fe.Z,{})})]})]})};function We({onDismiss:e}){const{checkExperiment:t}=(0,p.F)(),n=(0,Te.Z)(),i=(0,Be.a)(),a=!(null==i||!i.hasScrolledPastMainContent),l=!(null==i||!i.hasDraggedDrawerToFullScreen),r=(0,w.Wb)(),c=(0,s.useLocation)(),d=(0,Le.Z)(),[u,_]=(0,o.useState)(!1),{viewType:h,viewParameter:g}=(0,V.SU)(),m=(t("mweb_better_related_pins_drawer").group||"").includes("draggable"),b=!r&&t("pcons_ideal_floating_upsell").anyEnabled,f=t("pcons_ideal_floating_upsell").group,x=(0,o.useRef)(d);return(0,o.useEffect)((()=>{const e=t("pcons_ideal_floating_upsell").group;r||!e.includes("delay_01")&&"enabled_bottom"!==e?!r&&e.includes("delay_04")?(_(d>3.5*De&&d>x.current),x.current=d):!r&&e.includes("delay_14")?(_(d>12.25*De&&d>x.current),x.current=d):t("pcons_ideal_floating_upsell").anyEnabled?d>De?_(!0):r&&_(!1):_(a||m&&l):(_(a&&d>x.current),x.current=d)}),[d,r,a,m,l,t]),(0,o.useEffect)((()=>{n({action:"trigger",item:u?"show-floating-app-upsell":"hide-floating-app-upsell"})}),[u,c,n]),(0,I.jsx)(Pe.Z,{viewType:h||202,viewParameter:g,component:13130,children:(0,I.jsx)(Me,{children:(0,I.jsx)(A.xu,{borderStyle:"shadow","data-test-id":"floating-app-upsell",rounding:r?6:t("pcons_ideal_floating_upsell").anyEnabled?4:8,padding:r||b?4:2,display:"flex",direction:"column",top:!(r||t("pcons_ideal_floating_upsell").group.includes("bottom")),bottom:r||t("pcons_ideal_floating_upsell").group.includes("bottom"),left:!r,right:!0,marginStart:r?0:t("pcons_ideal_floating_upsell").anyEnabled?4:"auto",marginEnd:r||t("pcons_ideal_floating_upsell").anyEnabled?4:"auto",maxWidth:r?Ne:b?void 0:Ue,maxHeight:b?96:void 0,justifyContent:r?"center":void 0,alignItems:r?"center":void 0,color:"default",opacity:1,zIndex:!r&&t("pcons_ideal_floating_upsell").group.includes("bottom")?new A.Ry(2):$e,dangerouslySetInlineStyle:{__style:{marginTop:b?16:void 0,transition:"transform 225ms ease-in-out",transform:!r&&t("pcons_ideal_floating_upsell").group.includes("bottom")?`translateY(${u?"-84px":"120%"})`:`translateY(${u?!r&&f.includes("top_offset")?66:0:r?145:-120}%)`,marginBottom:r?84:void 0,paddingRight:b?"8px":void 0,flexDirection:b?"row-reverse":void 0}},position:"fixed",children:r?(0,I.jsx)(He,{}):(0,I.jsx)(Ge,{onDismiss:e})})})})}function Ye({setShouldShowAppUpsellFooter:e}){const{viewType:t,viewParameter:n}=(0,V.SU)(),[i,s]=(0,o.useState)(!1),a=(0,Re.Z)(),l=(0,w.Wb)(),{checkExperiment:r}=(0,p.F)();return(0,I.jsx)(Pe.Z,{viewType:t||202,viewParameter:n,component:13198,children:(0,I.jsx)(A.xu,{children:a&&!i&&(0,I.jsx)(We,{onDismiss:()=>{s(!0),!l&&r("pcons_footer_after_dismiss").anyEnabled&&e&&e()}})})})}var Xe=n(348401);const Je=[5,18,17,6,19],qe=(0,o.lazy)((()=>n.e(86560).then(n.bind(n,937956)))),Ke=()=>{const e=ue(),t=(0,w.ZP)(),n=(0,m.l)();if(!n||!n.modal.isShown)return null;const{dismissMobileSignupModal:o,modal:{displayProps:i}}=n;return(0,I.jsx)(d.Z,{name:"SafeSuspense_UnauthPageWrapper_SignupModal",children:(0,I.jsx)(g.Z,{fallback:(0,I.jsx)(A.xu,{}),children:(0,I.jsx)(qe,{displayProps:i,isTablet:"tablet"===t,onDismiss:()=>{o(),e()}})})})},Ve=()=>{const e=(0,Q.vE)(),t=(0,s.useLocation)(),[n]=(0,o.useState)(t),i=t===n&&(0,_.Fw)(t)||null,[a,l]=(0,o.useState)(null);return(0,y.Z)((()=>{e&&i&&K.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((e=>{var t,n;return l(null!==(t=null===(n=e.resource_response)||void 0===n?void 0:n.data)&&void 0!==t?t:null)})).catch((()=>{}))})),e&&i?{invite:a,pageType:i}:null};function Qe(){const e=(0,s.useLocation)(),t=Ve(),n=(0,i.useDispatch)(),a=(0,ae.Z)(),l=(0,i.useSelector)((({session:e})=>e.unauthInterstitialDismissed)),r=(0,Xe.Z)()&&!l,[c,u]=(0,o.useState)(!1),_=(0,m.l)(),[p,h]=(0,o.useState)(!1),b=!(null==_||!_.modal.isShown),{viewType:f}=(0,V.SU)();(0,o.useEffect)((()=>{b&&(h(!0),n((0,q.W)()))}),[b,n]);let x=b&&(0,I.jsx)(Ke,{});if(!x&&t&&t.invite){var v;const{invite:n,pageType:o}=t;"board"===o&&4===(null===(v=n.sender)||void 0===v?void 0:v.invite_category)?x=(0,I.jsx)(d.Z,{name:"SafeSuspense_UnauthPageWrapper_GroupBoardsJoinModal",children:(0,I.jsx)(g.Z,{children:(0,I.jsx)(ze,{inviteObject:n,socialCollabGroupBoardPath:`${e.pathname}${e.search}`})})}):Je.includes(n.invite_channel)&&!p&&(x=(0,I.jsx)(je,{invite:n,onDismiss:()=>h(!0)}))}return(0,I.jsxs)(o.Fragment,{children:[r&&(0,I.jsx)(Ye,{setShouldShowAppUpsellFooter:()=>u(!0)}),c&&a&&(0,I.jsx)(ee.ZP,{componentType:14158,within:"footer-button",children:({handleOpenApp:e})=>(0,I.jsx)(se,{onOpenInApp:()=>e(),viewType:f})}),(0,I.jsx)(A.xu,{children:x})]})}var et=n(64598),tt=n(93008),nt=n(908557),ot=n(736637);const it=["CA","VA","CO","CT"];var st=n(619277),at=n(113309);const lt=(0,o.lazy)((()=>n.e(17303).then(n.bind(n,517303)))),rt=(0,o.lazy)((()=>n.e(67709).then(n.bind(n,167709)))),ct=()=>{try{const{count:e,time:t}=JSON.parse((0,b.qn)(st.SI));return"number"==typeof e&&"number"==typeof t?{count:e,time:t}:null}catch(e){return null}},dt=e=>{(0,b.Nh)(st.SI,JSON.stringify(e))},ut=()=>{const e=(0,s.useLocation)(),t=(0,i.useDispatch)(),{logContextEvent:n}=(0,l.v)(),{isBot:o,userAgent:{raw:d}}=(0,h.B)();(0,y.Z)((()=>{if((e.search||"").includes("amp_client_id")&&(0,x.My)("amp_duplo_redirect"),!o){t((0,u.pz)([1000180],o)),(0,P.Yi)().then((e=>{t((0,q.iW)(e))}),(()=>{t((0,q.iW)())}));let e=ct();!e||e.count<1||!e.time?(e={count:1,time:0},dt(e)):(new Date).getTime()-e.time>6e5&&(e={...e,count:e.count+1},dt(e)),n({event_type:7686,view_type:51,aux_data:{unauth_revisitation:e.count,unauth_previously_logged_out:r.U2(c.e7)}}),window.addEventListener("unload",(()=>{var e,t;dt({count:null!==(e=null===(t=ct())||void 0===t?void 0:t.count)&&void 0!==e?e:1,time:(new Date).getTime()})}))}(0,a.$)(d)&&(0,f.Nh)("openUnauthType",j.zu)}))};function _t(){const e=(0,w.HG)(),t=(0,s.useLocation)(),n=(0,at.U)(),{checkExperiment:i}=(0,p.F)(),[a,l]=(0,o.useState)(!1),[r,c]=(0,o.useState)(!1);(0,o.useEffect)((()=>{n&&setTimeout((()=>{var e;null===(e=n.preload)||void 0===e||e.call(n,new URL("login.js","file://"))}),500)}),[]);const{referrerFromCookie:u,userAgent:b}=(0,h.B)(),f=(0,m.l)(),y=t&&t.search?(0,v.mB)(t.search):"",j=!!y&&"1"===y.ur,P=(0,o.useRef)(!1);return(0,o.useEffect)((()=>{!P.current&&j&&(0,W.C)(t),P.current=j,"GSA"===b.browserName&&"ios"===b.platform?(0,x.My)("pcons.gsa_and_ios_session.platform"):"GSA"===b.browserName&&"iOS"===b.osName&&(0,x.My)("pcons.gsa_and_ios_session.osName");const e="GSA"===b.browserName,n="ios"===b.platform&&"iOS"===b.osName,o=e&&n;c(o&&i("pcons_measure_gsa_ios_disable").group.includes("autologin")),l(o&&i("pcons_measure_gsa_ios_disable").group.includes("one_tap"))}),[j,b.browserName,b.platform,b.osName,i,t]),(0,o.useEffect)((()=>{(0,x.My)("mweb.unauth_seo.referrer",{referrer:u,docReferrer:document.referrer})}),[u]),function(){const{country:e,countryFromHostName:t,countryFromIp:n,isBot:i,regionFromIp:s,unauthId:a}=(0,h.B)(),l=new Set(tt.Z),r=l.has(e)||l.has(t)||l.has(n),c=it.includes(s),d=ge.nB.includes(s),u=!("undefined"==typeof window||!window.navigator||!window.navigator.globalPrivacyControl)&&window.navigator.globalPrivacyControl;(0,o.useEffect)((()=>{r||c||u&&d||((0,nt.NR)({country:e,isBot:i})&&(0,ot.kQ)({unauthId:a}),(0,nt.c_)({country:e,isBot:i})&&(0,ot.X)({id:et.Un,eventName:"Mobile"}),(0,nt.$r)({country:e,regionFromIp:s,isBot:i})&&(0,ot.Kv)({id:"flashtalking-m-ses",eventName:"Mobile"}),(0,nt.Fc)({country:e,isBot:i})&&a&&(0,ot.o4)({unauthId:a}))}),[e,r,a,i,s,c,d,u])}(),ut(),(0,I.jsxs)(o.Fragment,{children:[!(0,_.re)(t)&&!(0,_.FO)(t)&&(0,I.jsx)(d.Z,{name:"SafeSuspense_UnauthPageWrapper_AutoLogin",children:(0,I.jsx)(g.Z,{children:(0,I.jsx)(lt,{})})}),!a&&(0,I.jsx)(d.Z,{name:"SafeSuspense_UnauthPageWrapper_GoogleOneTap",children:(0,I.jsx)(g.Z,{children:(0,I.jsx)(rt,{disableGoogleAutologinExp:r})})}),(0,I.jsx)(D,{}),!e&&(0,I.jsx)(Qe,{}),f&&(0,I.jsx)(J,{context:f})]})}},259987:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(365661),i=n(98736);async function s(e){const t=await(0,o.Kw)(),n=t?{user_ids:Object.keys(t)}:{};(0,i.tj)(`mweb_multiple_accounts_${e}`,n)}},447755:(e,t,n)=>{n.d(t,{eN:()=>r,_:()=>d,kB:()=>c});var o=n(40660),i=n(837792),s=n(739425),a=n(616550);const l=["/resource/:name/:method/","/resource/commerce/:name/:method/","/:username/pins/follow/","/email/remove/","/about/trademark/form/:claim_type/","/about/copyright/dmca-pin/web-result/:id/","/about/copyright/dmca-pin/pin/:id/","/about/copyright/dmca-pin/","/about/koplg/","/about/:lawName/","/about/radtc/","/suspension-appeal/netzdg/","/website/confirm/","/oauth/","/app-factory-oauth/","/settings/extension/uninstall/","/offsite/","/amp/(.*)"],r=e=>e&&(0,s.Qg)(e)&&i.lf!==e?(0,s.Qc)(e).relative:"/",c=e=>{const t=(0,s.Jx)(e);return(e=>{const t=new URL(e,window.location.origin);return l.some((e=>!!(0,a.matchPath)(t.pathname,{path:e,exact:!0})))})(t)||(0,s.OM)(t)===s.vx.TRUSTED_DIFFERENT_ORIGIN},d=({forceFullPageNavigation:e,history:t,next:n,noLocationReplace:i})=>{const a=(0,s.Jx)(n);c(n)||!t||e?(e&&o.Z.increment("webapp.duplo.navigateOnLogin.forceFullPageNavigation",1),window.location.assign(a)):i?t.push(r(a)):t.replace(r(a))}},80605:(e,t,n)=>{n.d(t,{u:()=>m,Z:()=>v});var o=n(667294),i=n(616550),s=n(883119),a=n(965533),l=n(550140),r=n(536042),c=n(785893);function d(){return(0,c.jsx)("svg",{width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,c.jsx)("path",{d:"M28.2226562,20.3846154 C29.0546875,20.3846154 30.0976562,19.8048315 30.71875,19.0317864 C31.28125,18.3312142 31.6914062,17.352829 31.6914062,16.3744437 C31.6914062,16.2415766 31.6796875,16.1087095 31.65625,16 C30.7304687,16.0362365 29.6171875,16.640178 28.9492187,17.4494596 C28.421875,18.06548 27.9414062,19.0317864 27.9414062,20.0222505 C27.9414062,20.1671964 27.9648438,20.3121424 27.9765625,20.3604577 C28.0351562,20.3725366 28.1289062,20.3846154 28.2226562,20.3846154 Z M25.2929688,35 C26.4296875,35 26.9335938,34.214876 28.3515625,34.214876 C29.7929688,34.214876 30.109375,34.9758423 31.375,34.9758423 C32.6171875,34.9758423 33.4492188,33.792117 34.234375,32.6325493 C35.1132812,31.3038779 35.4765625,29.9993643 35.5,29.9389701 C35.4179688,29.9148125 33.0390625,28.9122695 33.0390625,26.0979021 C33.0390625,23.6579784 34.9140625,22.5588048 35.0195312,22.474253 C33.7773438,20.6382708 31.890625,20.5899555 31.375,20.5899555 C29.9804688,20.5899555 28.84375,21.4596313 28.1289062,21.4596313 C27.3554688,21.4596313 26.3359375,20.6382708 25.1289062,20.6382708 C22.8320312,20.6382708 20.5,22.5950413 20.5,26.2911634 C20.5,28.5861411 21.3671875,31.013986 22.4335938,32.5842339 C23.3476562,33.9129053 24.1445312,35 25.2929688,35 Z",id:"",fill:"#FFFFFF",fillRule:"nonzero"})})})}var u=n(611756),_=n(98736),p=n(63262),h=n(890415),g=n(791229);const m="web_siwa_redirect_path",b="/oauth/login",f="com.pinterest.signinwithapple",x="id_token=";function v(){const e=(0,r.ZP)(),t=(0,i.useLocation)(),n=(0,g.f)(),v=(0,i.useHistory)(),{showToast:w}=(0,p.F9)(),[y,j]=(0,o.useState)(!1),P=t.hash.indexOf(x),A=P>=0?t.hash.substring(P+x.length):null,k=(0,o.useRef)(null);return(0,o.useEffect)((()=>{k.current!==A&&A&&(async o=>{(0,_.My)("in_app_oauth.login.siwa.returned_with_token"),j(!0),n({apple_token:o},v,t.pathname,{noImmediateRedirect:!0},{event_type:7534,view_type:10}).then((()=>{j(!1),(0,_.My)("in_app_oauth.login.siwa.login_success");const e=(0,u.qn)(m);(0,u.L_)(m),(0,a.Z)(e||"/")})).catch((()=>{j(!1),(0,_.My)("in_app_oauth.login.siwa.login_failure"),w((({hideToast:t})=>(0,c.jsx)(l.ZP,{text:e.bt("糟糕！你的帐户未与 Apple 关联。请尝试其他方法。", "Oops! You do not have an account connected with Apple. Please try another method.", "mweb.unauth.oauth_apple_login.login_failure_toast", undefined, true),onHide:t,type:"error"})))}))})(A),k.current=A}),[v,e,A,t,n,w]),y?(0,c.jsx)(s.$j,{accessibilityLabel:e.bt("正在加载...", "Loading...", "Loading", undefined, true),show:!0}):(0,c.jsx)(s.iP,{onTap:()=>{var e;(0,_.My)("in_app_oauth.login.siwa_button.tapped");const n=(null===(e=t.state)||void 0===e?void 0:e.next)||(0,h.Yy)(t),o=n?decodeURIComponent(n):null;(0,u.Nh)(m,o),(0,a.Z)(`https://appleid.apple.com/auth/authorize?client_id=${f}&redirect_uri=${encodeURIComponent(window.location.origin.toString()+b)}&response_type=${encodeURIComponent("code id_token")}&response_mode=fragment`)},children:(0,c.jsxs)(s.xu,{height:40,width:"100%",display:"flex",alignItems:"center",color:"dark",rounding:"pill",paddingX:2,paddingY:1,children:[(0,c.jsx)(s.xu,{marginStart:-3,marginTop:-2,children:(0,c.jsx)(d,{})}),(0,c.jsx)(s.xu,{marginStart:"auto",marginEnd:"auto",children:(0,c.jsx)(s.xv,{weight:"bold",color:"light",children:e.bt("继续使用 Apple 帐户登录", "Continue with Apple", "mweb.unauth.oauth_apple_login.login_button", undefined, true)})})]})})}},463909:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(667294),i=n(883119),s=n(88622),a=n(536042),l=n(98736),r=n(785893);function c({onDismiss:e}){const t=(0,a.ZP)();(0,o.useEffect)((()=>{(0,l.My)("unauth_mweb.login_rate_limited.view")}),[]);const n=t.bt("哎呀！登陆尝试次数过多", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true);return(0,r.jsxs)(s.ZP,{accessibilityModalLabel:n,onDismiss:e,heading:(0,r.jsxs)(i.xu,{"data-test-id":"login-rate-limited-header",children:[(0,r.jsx)(i.xu,{justifyContent:"center",display:"flex",padding:6,children:(0,r.jsx)(i.JO,{icon:"pinterest",accessibilityLabel:t.bt("Pinterest 图标", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true),color:"brandPrimary",size:40})}),(0,r.jsx)(i.X6,{align:"center",size:"500",accessibilityLevel:1,children:n})]}),children:[(0,r.jsx)(i.xu,{paddingX:12,marginTop:4,marginBottom:8,"data-test-id":"login-rate-limited-text",children:(0,r.jsx)(i.xv,{align:"center",children:t.bt("你已达到最大登录尝试次数。请在 30 分钟后重试。", "You have reached the maximum number of login attempts. Try again in 30 minutes.", "LoginRateLimitedModal.Modal.Heading", undefined, true)})}),(0,r.jsx)(i.xu,{paddingX:12,marginBottom:8,"data-test-id":"login-rate-limited-footer",children:(0,r.jsx)(i.zx,{fullWidth:!0,color:"red",text:t.bt("确定", "Okay", "LoginRateLimitedModal.Modal.OkButton", undefined, true),onClick:e})})]})}},662751:(e,t,n)=>{n.d(t,{Z:()=>f});var o=n(667294),i=n(883119),s=n(539636),a=n(684113),l=n(324159),r=n(245410),c=n(282802),d=n(98736),u=n(536042),_=n(353226),p=n(219097),h=n(960251),g=n(785893);function m(){const e=(0,u.ZP)(),[t,n]=(0,o.useState)();return(0,p.Z)()?null:(0,g.jsxs)(i.xu,{position:"relative",children:[(0,g.jsx)(i.iP,{onTap:()=>n(!0),children:(0,g.jsxs)(i.xu,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:40,rounding:"pill",color:"secondary",children:[(0,g.jsx)(i.xu,{height:24,width:24,marginTop:1,children:(0,g.jsx)(_.Z,{size:20})}),(0,g.jsx)(i.xu,{marginStart:2,children:(0,g.jsx)(i.xv,{weight:"bold",children:e.bt("关联 Google", "Connect with Google", "googleConnectButtonWithDisabledSDK.buttonText", undefined, true)})})]})}),t&&(0,g.jsx)(h.Z,{type:"google",onDismiss:()=>n(!1)})]})}function b({onGoogleConnectSuccess:e,onTouch:t}){const{locale:n}=(0,c.B)(),{checkExperiment:u}=(0,r.F)(),_=u("mweb_google_button_locale_fix").anyEnabled,p=(0,o.useRef)(null),h=(0,l.M)(),m=(0,o.useRef)(e);return(0,o.useEffect)((()=>{m.current=e}),[e]),(0,o.useEffect)((()=>{const e=({credential:e,select_by:t})=>{(0,d.My)(`unauth_mweb.gsi_button.select_by.${t}`),(0,d.NC)("press_google_connect_button");const n=(0,s.Z)(e);m.current({google_open_id_token:e,autologin:!1},{type:"google",google_open_id_token:e,first_name:n.given_name,last_name:n.family_name,image_url:n.picture})};return(async()=>{await(null==h?void 0:h.ensureInit("button",e)),(0,a.ru)({buttonRef:p,isDesktop:!1,locale:_?n:void 0})})(),()=>{null==h||h.removeButtonCallback(e)}}),[h,_,n]),(0,g.jsx)(i.xu,{position:"relative",children:(0,g.jsx)(i.iP,{onTap:()=>{null==t||t(),(0,d.My)("gsi_personalized_button.tap"),(0,d.EX)({event:"start",provider:"google"})},children:(0,g.jsx)(i.xu,{"aria-label":"GOOGLE_SIGNIN_BUTTON",height:44,children:(0,g.jsx)(i.xu,{ref:p,position:"absolute",width:"100%"})})})})}function f(e){const{checkExperiment:t}=(0,r.F)(),{anyEnabled:n}=t("mweb_google_disabled");return n?(0,g.jsx)(m,{}):(0,g.jsx)(b,{onGoogleConnectSuccess:e.onGoogleConnectSuccess,onTouch:e.onTouch})}},241245:(e,t,n)=>{n.d(t,{Z:()=>g});var o=n(667294),i=n(883119),s=n(798198),a=n(874261);const l={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",purple:"#B469EB"},r="DelightfulBubbles__",c=[`${r}fadeIn {\n  to {\n    opacity: 1;\n  }\n}\n`,`${r}growShrink {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n`,`${r}swirl {\n  0% {\n    transform: rotate(0deg) translateX(-50%);\n  }\n  100% {\n    transform: rotate(-360deg) translateX(-50%);\n  }\n}\n`,...Object.keys(l).map((e=>{const t=((e,t)=>{const n=e.length,o=e.indexOf(t)+1>=n?0:e.indexOf(t)+1;return e[o]})(Object.keys(l),e);return`${r}colorChange_${e} {\n      0% {\n        background-color: ${l[e]};\n      }\n      50% {\n        background-color: ${l[t]};\n      }\n    }\n    `}))],d=(0,s.Ll)(c);var u=n(785893);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=e=>{const{delay:t,diameter:n,height:o,initialColor:s,width:a,xOffset:c,yOffset:d}=e,_=((e,t,n,o,i,s,a,c)=>({bubblePositionStyles:{position:"absolute",marginLeft:s/2-i+"px",marginTop:n/2-i+"px",left:`${a}px`,top:`${c}px`},bubbleSwirlStyles:{animation:`${r}swirl 6s ease-in-out ${e}s infinite forwards`,WebkitAnimation:`${r}swirl 6s ease-in-out ${e}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${r}growShrink 6s ease-in-out ${e}s infinite alternate`,WebkitAnimation:`${r}growShrink 6s ease-in-out ${e}s infinite alternate`},bubbleShapeStyles:{height:`${t}px`,width:`${t}px`,borderRadius:"50%",backgroundColor:l[o],opacity:0,animation:`${r}colorChange_${o} 12s steps(1, start) ${e}s infinite forwards,\n      ${r}fadeIn 3s linear ${e}s 1 forwards`,WebkitAnimation:`${r}colorChange_${o} 12s steps(1, start) ${e}s infinite forwards,\n      ${r}fadeIn 3s linear ${e}s 1 forwards`}}))(t,n,o,s,Math.floor(n/2),a,c,d);return(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:_.bubblePositionStyles},children:(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:_.bubbleSwirlStyles},children:(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:_.bubbleGrowShrinkStyles},children:(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:_.bubbleShapeStyles}})})})})};class h extends o.Component{constructor(...e){super(...e),_(this,"state",{isInitialized:!1})}componentDidMount(){window.requestAnimationFrame((()=>{this.setState({isInitialized:!0})}))}shouldComponentUpdate(e,t){return!e.numBubbles===this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){const{width:e,height:t}=this.props;return void 0!==e&&void 0!==t?{width:e,height:t}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}createBubbles(e,t){const{delayFactor:n,delayOffset:o,numBubbles:i,xRadiusAdjustment:a,yRadiusAdjustment:r}=this.props,c=e+2*r,d=t+2*a,_=[],h=Object.keys(l);for(let l=0;l<i;l+=1){const i=16+(0,s.XF)(-4,4),a=h[l%h.length],{x:r,y:g}=(0,s.CC)(c,d);_.push((0,u.jsx)(p,{delay:l*n+o,diameter:i,initialColor:a,xOffset:r,yOffset:g,height:e,width:t},l))}return _}render(){const{isDesktop:e}=this.props,{height:t,width:n}=this.getSize();return(0,u.jsxs)(i.xu,{height:t,width:n,position:"relative",children:[(0,u.jsx)(a.Z,{unsafeCSS:d}),(0,u.jsxs)(i.xu,{position:e?void 0:"absolute",ref:e=>this.containerElement=e,children:[this.state.isInitialized&&this.createBubbles(t||0,n||0),(0,u.jsx)(i.xu,{position:"relative",children:this.props.children})]})]})}}_(h,"defaultProps",{numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});const g=h},208833:(e,t,n)=>{n.d(t,{R:()=>p,Z:()=>g});var o=n(667294),i=n(883119),s=n(293926),a=n(777610),l=n(536042),r=n(282802),c=n(212380),d=n(509342),u=n(241245),_=n(785893);const p=e=>new Set([...d.EU,...d.rT,...d.IO]).has(e),h=3e3;function g({isReducedHeader:e,progressBarAnimationDuration:t}){const n=(0,l.ZP)(),{country:d}=(0,r.B)(),g=p(d);return(0,_.jsx)(o.Fragment,{children:g?(0,_.jsx)(a.Z,{log:{view_type:10,view_parameter:259},children:(0,_.jsxs)(i.xu,{position:"fixed",top:!0,left:!0,right:!0,bottom:!0,width:"100%",color:"default",children:[(0,_.jsx)(s.Z,{color:"dark",duration:t||h,finalProgress:95}),(0,_.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:"100%",children:[(0,_.jsxs)(i.xu,{margin:10,children:[(0,_.jsx)(i.X6,{overflow:"normal",size:e?"500":"600",children:n.bt("你的帐户正在创建中！", "Your account is being created!", "account created heading", undefined, true)}),(0,_.jsx)(i.xv,{overflow:"normal",children:n.bt("现在，你可以收藏点子、获取个性化的推荐以及更多", "You can now save ideas, get personalized recommendations, and more", "loading state description while waiting for any sign up registration to complete", undefined, true)})]}),(0,_.jsx)(i.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,_.jsx)(u.Z,{delayOffset:-5,isDesktop:!1,xRadiusAdjustment:40,yRadiusAdjustment:40,children:(0,_.jsx)(i.xu,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:120,justifyContent:"end",overflow:"hidden",rounding:"circle",width:120,children:(0,_.jsx)(i.JO,{accessibilityLabel:n.bt("加载中", "Loading", "Loading state for any sign up registration", undefined, true),color:"subtle",icon:"person",size:"90"})})})})]})]})}):(0,_.jsx)(c.Z,{})})}},968358:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(509342);const i=(e,t,n)=>!t&&!n&&o.ZR.has(e)},791229:(e,t,n)=>{n.d(t,{f:()=>z,l:()=>E});var o=n(667294),i=n(702664),s=n(441143),a=n.n(s),l=n(690108),r=n(563962),c=n(457628),d=n(791045),u=n(420434),_=n(256558),p=n(550941),h=n(950861),g=n(245410),m=n(617285),b=n(499441),f=n(282802),x=n(336436),v=n(611756),w=n(98736),y=n(284814),j=n(509342),P=n(259987),A=n(447755),k=n(890415),C=n(495590);const S=e=>({type:"AUTHENTICATE_USER",payload:{user:e}}),z=()=>{const e=(0,r.Z)(),t=(0,g.F)(),n=(0,i.useDispatch)(),{country:s,countryFromHostName:z,countryFromIp:E,regionFromIp:Z,userAgent:{isTablet:T,isMobile:L}}=(0,f.B)(),I=(0,m.Z)(),B=(0,y.Z)();return(0,o.useCallback)((async(o,i,r="/",g={isAutologin:!1,isSwitchAccount:!1,noLocationReplace:!1,recaptchaV3Token:"default",noImmediateRedirect:!1,useAlternativeResourceCall:!1,trigger:"other",accountUnlinked:!1},m)=>{I();const f=!T&&!L,{isAutologin:y,isSwitchAccount:O,noLocationReplace:M,recaptchaV3Token:F,noImmediateRedirect:R,useAlternativeResourceCall:D,trigger:U,accountUnlinked:N}=g;let $={get_user:!0,...o,app_type_from_client:6,recaptchaV3Token:F};const G=(0,k.t_)();G&&($={...$,visited_pages_before_login:G});const H=(0,k.OJ)();H&&($={...$,referrer:H});let W=l.Z.create("UserSessionResource",$).callCreate();if(D&&o.username_or_email&&o.password){const e=new FormData;e.append("username",o.username_or_email),e.append("password",o.password);const t={method:"POST",body:e,credentials:"include",headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":(0,u.getCsrfToken)()||"","X-Requested-With":"XMLHttpRequest"}};W=fetch("/resource/UserSessionResource/create/",t).then((e=>{if(200!==e.status)throw new Error(e.statusText);return e.json()})).catch((e=>Promise.reject(e)))}try{y?(0,w.dy)({event:"login_api_call_start",provider:o.google_open_id_token?"google":"facebook"}):(0,w.EX)({event:"login_api_call_start",provider:(0,h.nY)(o)}),e({...m,event_type:7534}),B({action:y?"autologin":"login",event:"attempt",type:(0,h.lp)(o),trigger:U});const l=await W;y?(0,w.dy)({event:"login_api_call_success",provider:o.google_open_id_token?"google":"facebook"}):(0,w.EX)({event:"login_api_call_success",provider:(0,h.nY)(o)}),a()(l.resource_response,"Login response is invalid"),n(S(l.resource_response.data.user));const u=l.client_context;u&&(u.placed_experiences&&n((0,_.OD)(u.placed_experiences)),t.active=u.active_experiments,t.triggerable=u.triggerable_experiments),(0,P.Z)("authentication.login_success"),h.ZP.storeLoginCredentialsToBrowser(o),e({...m,event_type:7536}),B({action:y?"autologin":"login",event:"success",type:(0,h.lp)(o),trigger:U}),c.zN(d.e7.name),c.zN(d.x3.name),(0,v.Nh)(j.AA,1),"/"!==r&&(0,C.E)(!0),O?(0,x.Dm)().then((()=>{var e,t;const n=`/${(null===(e=l.resource_response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.user.username)||""}`+(N?`?message=${p.aU}`:"");window.location.href=n})):y&&!f||R||(0,A._)({forceFullPageNavigation:f,history:i,next:r,noLocationReplace:M}),(0,b.ko)({country:s,countryFromHostName:z,countryFromIp:E,regionFromIp:Z,deviceType:"Mobile",eventCategory:"Logins"})}catch(Y){if(y?(0,w.dy)({event:"login_api_call_failure",provider:o.google_open_id_token?"google":"facebook"}):(0,w.EX)({event:"login_api_call_failure",provider:(0,h.nY)(o)}),1201!==Y.api_error_code||y||f)throw e({...m,event_type:7535}),B({action:y?"autologin":"login",event:"fail",type:(0,h.lp)(o),trigger:U}),O&&(0,P.Z)("authentication.login_error"),Y;if(i){const e={creds:o,next:r,phoneNumber:Y.data.phone_number_end};i.push({pathname:"/login/mfa/",state:e})}}}),[n,s,z,E,I,t,L,T,e,Z,B])},E=()=>{const e=(0,g.F)(),t=(0,i.useDispatch)(),n=(0,m.Z)();return({client_context:o,resource_response:i})=>{const s=null==i?void 0:i.data;s&&(n(),t(S(s.user))),o&&(t((0,_.OD)(o.placed_experiences)),e.active=o.active_experiments,e.triggerable=o.triggerable_experiments)}}},697812:(e,t,n)=>{n.d(t,{m:()=>z});var o=n(702664),i=n(441143),s=n.n(i),a=n(40660),l=n(690108),r=n(818917),c=n(563962),d=n(457628),u=n(791045),_=n(256558),p=n(315219),h=n(804484),g=n(245410),m=n(617285),b=n(499441),f=n(282802),x=n(336436),v=n(173085),w=n(98736),y=n(284814),j=n(259987),P=n(890415),A=n(611756),k=n(509342);function C(){return function(e){const t={};return e.forEach((e=>{const n=JSON.parse((0,A.qn)(e));n&&(t[e]=n)})),JSON.stringify(t)}([k.E9])}var S=n(208833);const z=()=>{const e=(0,g.F)(),t=(0,o.useDispatch)(),{country:n,countryFromHostName:i,countryFromIp:A,regionFromIp:k,isAuthenticated:z}=(0,f.B)(),E=(0,m.Z)(),Z=(0,c.Z)(),T=(0,y.Z)();return(o,{signupAttemptContextEvent:c})=>{const g=(0,h.yV)(o);Z({...c,event_type:7537}),T({action:"signup",event:"attempt",type:g}),E();let m=0;const f=(0,S.R)(n),y=new Promise((e=>{f?setTimeout((()=>{e()}),3e3):e()}));return new Promise(((f,S)=>{const E=()=>{var L;const I=z,B=(0,P.t_)(),O=(0,P.OJ)(),M={...o,user_behavior_data:C(),visited_pages:B};O&&(M.referrer=O),a.Z.increment("webapp.debug_signup_type.redux_registration",1,{CHECK_TYPE:null!==(L=(0,h.Eh)(M,"CHECK_TYPE"))&&void 0!==L?L:"none",CHECK_EXISTS:(0,h.Eh)(M,"DEPRECATED_CHECK_EXISTS"),CHECK_TRUTHY:(0,h.Eh)(M,"DEPRECATED_CHECK_TRUTHY")}),l.Z.create("UserRegisterResource",{...M,get_user:!0}).callCreate().then((a=>y.then((()=>{(0,v.L_)("d_pif_invite");const l=a.client_context;s()(a.resource_response,"Register response is invalid"),t({type:"REGISTER_USER",payload:{user:a.resource_response.data.user}}),l&&(l.placed_experiences&&t((0,_.OD)(l.placed_experiences)),e.active=l.active_experiments,e.triggerable=l.triggerable_experiments),I&&(0,j.Z)("registration.signup_success");const d=o.email||o.username||null,u=o.password||null,{credentials:p}=navigator;if(p&&d&&u)try{const e=new window.PasswordCredential({id:d,password:u});(0,w.My)("unauth_mweb.navigatorCredentials.store.attempt"),p.store(e).then((()=>{(0,w.My)("unauth_mweb.navigatorCredentials.store.success")}))}catch(h){(0,w.My)("unauth_mweb.navigatorCredentials.store.error")}Z({...c,event_type:7487}),T({action:"signup",event:"success",type:g}),(0,r.Z)(),I&&(0,x.Dm)(),(0,b.ko)({country:n,countryFromHostName:i,countryFromIp:A,regionFromIp:k,deviceType:"Mobile",eventCategory:"NewUsers"}),f()})))).catch((e=>{(null==e?void 0:e.api_error_code)===p.tz&&((0,w.My)("multi_step_set_age_restrict_cookie"),d.t8(u.It,"1",(0,d.kZ)(u.It))),m<3&&[p.dO,p.cZ].includes(null==e?void 0:e.api_error_code)?(m+=1,E()):(Z({...c,event_type:7488}),T({action:"signup",event:"fail",type:g}),I&&(0,j.Z)("registration.signup_error"),S(e))}))};E()}))}}},849608:(e,t,n)=>{n.d(t,{Z:()=>o});const o=(0,n(442279).P1)((e=>e.boards),(e=>Object.keys(e).reduce(((t,n)=>{var o;const i=e[n];t[null!==(o=i.url)&&void 0!==o?o:""]=i;const{oldSlugUrl:s}=i;return s&&(t[s]=i),t}),{})))},960251:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(883119),i=n(88622),s=n(536042),a=n(785893);function l({type:e,onDismiss:t}){const n=(0,s.ZP)(),l="facebook"===e?n.bt("糟糕！Facebook 不可用", "Oops! Facebook isn't available", "socialAuthDisabled.facebook.title", undefined, true):n.bt("糟糕！Google 不可用", "Oops! Google isn't available", "socialAuthDisabled.google.title", undefined, true),r="facebook"===e?n.bt("目前 Facebook 似乎不可用。尝试另一个选项，或者刷新页面并稍后再试。", "Looks like Facebook isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.facebook.description", undefined, true):n.bt("目前 Google 似乎不可用。尝试另一个选项，或者刷新页面并稍后再试。", "Looks like Google isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.google.description", undefined, true);return(0,a.jsx)(i.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,isOpen:!0,onDismiss:t,type:"social_auth_disabled_modal",children:(0,a.jsxs)(o.xu,{padding:5,children:[(0,a.jsx)(o.xu,{marginBottom:3,children:(0,a.jsx)(o.X6,{size:"500",accessibilityLevel:1,children:l})}),(0,a.jsx)(o.xu,{marginBottom:3,children:(0,a.jsx)(o.xv,{children:r})}),(0,a.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,a.jsx)(o.xu,{paddingY:1,children:(0,a.jsx)(o.zx,{accessibilityLabel:n.bt("正确", "OK", "socialAuthDisabled.okButton", undefined, true),size:"lg",color:"red",text:n.bt("正确", "OK", "socialAuthDisabled.okButton", undefined, true),onClick:t})})})]})})}},866572:(e,t,n)=>{n.d(t,{Z:()=>W});var o=n(667294),i=n(702664),s=n(616550),a=n(883119),l=n(303998),r=n(563962),c=n(788241),d=n(308979),u=n(550140),_=n(536042),p=n(315219),h=n(675689),g=n(804484),m=n(822123),b=n(245410),f=n(98736),x=n(618569),v=n(63262),w=n(549201),y=n(802071),j=n(212380),P=n(460914),A=n(80605),k=n(450667),C=n(282802),S=n(960251),z=n(785893);function E({onFacebookConnectError:e,onFacebookConnectSuccess:t,onTouch:n,isRerequest:i}){const s=(0,_.ZP)(),{checkExperiment:l}=(0,b.F)(),{locale:r}=(0,C.B)(),{anyEnabled:c}=l("mweb_facebook_disabled"),[d,u]=(0,o.useState)(!1),[p,h]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{c||((0,k.we)(r).then((()=>{u(!0)})),(0,f.My)("pcons.facebook_connect_button_renderd"))}),[r,c]),(0,z.jsxs)(a.xu,{position:"relative","data-test-id":"FacebookConnectContainer",children:[(0,z.jsx)(a.xu,{bottom:!0,left:!0,right:!0,top:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},position:"absolute",rounding:5,children:(0,z.jsx)("div",{className:"fb-login-button","data-width":"100%","data-max-rows":"1","data-size":"large","data-button-type":"continue_with","data-layout":"rounded","data-show-faces":"false","data-auth-type":i?"rerequest":void 0,"data-scope":(0,k._V)(l("mweb_unauth_identity_meta_birthdate_removal").anyEnabled).join(","),"data-auto-logout-link":"false","data-use-continue-as":"true"})}),(0,z.jsxs)("button",{onClick:()=>{if((0,f.My)("unauth_mweb.facebook_connect.button_click"),(0,f.EX)({event:"start",provider:"facebook"}),null==n||n(),c)h(!0);else if(d){const n=l("mweb_unauth_identity_meta_birthdate_removal").anyEnabled;(0,k.JF)(n).then((({creds:e,signupOptions:n})=>{t(e,n)}),e)}},style:{display:"flex",alignItems:"center",backgroundColor:"#1877F2",border:"none",height:"40px",transition:"opacity .2s linear",width:"100%",minWidth:"240px",borderRadius:"20px",padding:"0px 0px 0px 8px"},type:"button","data-test-id":"FacebookConnectButton",children:[(0,z.jsx)(a.xu,{color:"default",rounding:3,dangerouslySetInlineStyle:{__style:{paddingTop:"5px",paddingLeft:"3px",paddingRight:"2px",marginLeft:"4px",marginRight:"4.4px"}},children:(0,z.jsx)(a.JO,{accessibilityLabel:s.bt("Facebook", "facebook", "accessible label for facebook icon", undefined, true),color:"shopping",icon:"facebook",inline:!0,size:19})}),(0,z.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",flex:"grow",marginEnd:1,children:(0,z.jsx)("span",{style:{fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",color:"#fff",fontSize:"16px",paddingRight:"8px",letterSpacing:"0.25px"},children:s.bt("使用 Facebook 帐户登录", "Continue with Facebook", "Login page button", undefined, true)})})]}),p&&(0,z.jsx)(S.Z,{type:"facebook",onDismiss:()=>h(!1)})]})}var Z=n(947326),T=n(258586),L=n.n(T);const I={defaultButton:{display:"flex",alignItems:"center",backgroundColor:"#00C300",border:"none",height:"40px",transition:"opacity .2s linear",width:"100%",borderRadius:"20px",padding:"0px 0px 0px 8px"},lineLogo:{borderRadius:"12px",backgroundColor:"#00C300",width:"32px",height:"32px"},buttonText:{fontWeight:"bold",color:"#fff",fontSize:"16px",paddingRight:"33px"}},B=({buttonText:e,onLineConnectSuccess:t,onLineConnectError:n,onTouch:o})=>{const i=(0,_.ZP)(),{country:s,locale:l}=(0,C.B)(),r={success:e=>{const{line_id_token:n,line_access_token:o}=e;n&&o&&t({line_id_token:n,line_access_token:o},{line_id_token:n,line_access_token:o,type:"line"})},error:n},c=I.defaultButton;return"JP"===s?(0,z.jsx)(a.xu,{position:"relative","data-test-id":"LineConnectContainer",children:(0,z.jsxs)("button",{onClick:()=>{(0,f.My)("unauth_mweb.line_connect.button_click"),o&&o(),(0,Z.Z)(l,r)},style:c,type:"button","data-test-id":"line-connect-button",children:[(0,z.jsx)("img",{style:I.lineLogo,src:L(),alt:i.bt("line", "line", "accessible label for line icon", undefined, true)}),(0,z.jsx)(a.kC,{alignItems:"center",justifyContent:"center",flex:"grow",children:(0,z.jsx)("span",{style:I.buttonText,children:e})})]})}):null};var O=n(463909),M=n(662751),F=n(208833),R=n(791229),D=n(697812),U=n(260070),N=n(988014),$=n(700453);function G({within:e}){const t=(0,_.ZP)(),n=(0,s.useLocation)(),{userAgent:{platform:o}}=(0,C.B)(),{pathname:i}=n;return(0,z.jsx)(a.xu,{"data-test-id":"continue-app-button",marginBottom:2,children:(0,z.jsx)($.ZP,{componentType:13858,within:null!=e?e:"unauth-signup-modal",children:({handleOpenApp:s})=>(0,z.jsx)(a.zx,{text:t.bt("获取 Pinterest 应用程序", "Get Pinterest App", "unauth.modal.get_app.button_text", undefined, true),color:"red",fullWidth:!0,onClick:()=>{(0,f.My)("homepage_top_module"===e?"mweb.unauth.homepage.top.download_app_button.click":"homepage_bottom_module"===e?"mweb.unauth.homepage.bottom.download_app_button.click":"mweb.unauth.signup_modal.download_app_button.click"),i&&s({deepLinkUri:"/"===i?"/":!(0,N.cD)(n)||"ios"!==o&&"ipad"!==o?i.substr(1):"user"+i})}})})})}var H=n(113309);function W({apple:e,facebook:t,fbConnectHandler:n,footer:k,from:C,google:S,isBusiness:Z,isRerequest:T,line:L,next:I="/",noImmediateRedirect:N,onFacebookTouch:$,onLoginTouch:W,onSignupTouch:Y,showAppInstallButton:X,showEmailButton:J,showTextDivider:q,viewParameter:K,within:V,component:Q,attributionLabel:ee}){const te=(0,s.useHistory)(),ne=(0,s.useLocation)(),oe=(0,_.ZP)(),{showToast:ie}=(0,v.F9)(),se=(0,r.Z)(),{viewType:ae}=(0,c.SU)(),le=(0,x.Z)(),re=(0,i.useDispatch)(),ce=(0,R.f)(),de=(0,H.U)(),{flush:ue}=(0,b.F)(),_e=(0,D.m)(),pe=(0,l.Z)(),{isAuth:he,isLimitedLogin:ge}=(0,y.Z)(),me=(0,w.ml)(),{checkExperiment:be}=(0,b.F)(),[fe,xe]=(0,o.useState)(null),[ve,we]=(0,o.useState)(!1),[ye,je]=(0,o.useState)("default"),Pe=("facebook"===ye?5e3:"google"===ye&&4e3)||void 0;(0,o.useEffect)((()=>{if(de){var e,t;if(k)null===(e=de.preload)||void 0===e||e.call(de,new URL("login.js","file://"));if(J)null===(t=de.preload)||void 0===t||t.call(de,new URL("signup.js","file://"))}}),[]);const Ae=he?{login_state:ge?h.Z.LIMITED:h.Z.DEFAULT}:Object.freeze({}),ke=e=>{se({view_type:10,view_parameter:K,element:e,event_type:102,aux_data:Ae})},Ce=e=>{se({view_type:ae,view_parameter:K,component:Q,element:e,event_type:10441,aux_data:{upsell_reason:ee}})},Se=(e,t)=>{let n,o;switch(t){case"facebook":n=3205,o=m.Z.FACEBOOK;break;case"google":n=3204,o=m.Z.GPLUS;break;case"line":n=3556,o=m.Z.LINE}return{event_type:e,view_type:10,view_parameter:n,element:o===m.Z.GPLUS?12981:void 0,aux_data:{...Ae,signup_login_method:o}}},ze=(e,t,n,o)=>{xe(null);const i=()=>ie((({hideToast:e})=>(0,z.jsx)(u.ZP,{text:t&&t.api_error_code&&t.message?t.message:oe.bt("对不起，你无法登录。", "Sorry, we can't log you in.", "Error message when user having trouble login in.", undefined, true),onHide:e})));if(t){if((0,f.My)(`unauth_mweb.login_error.api_error_code.${String(t.api_error_code)}`),[p.xN,p.lg,p.Pv].includes(t.api_error_code))if((0,f.Rp)({event:"start",provider:o}),"facebook"!==n.type||n.email)(()=>{(0,f.My)("unauth_mweb.facebook_signup_attempt"),n.gender||(0,f.My)("unauth_mweb.facebook_signup_attempt.nogender");const{birthday:e}=n;if(void 0===e||!(0,d.Z)(e))return ue(),void te.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:"facebook"===n.type?{...n,email_source_site:g.E_.FACEBOOK}:n,progressBarAnimationDuration:Pe}});xe("signup"),je(o);const t="facebook"===n.type?{...n,email_source_site:g.E_.FACEBOOK,birthday_source_site:g.E_.FACEBOOK,birthday:e}:{...n,birthday:e};(0,f.Rp)({event:"signup_api_call_start",provider:o}),_e(t,{signupAttemptContextEvent:Se(7537,o)}).then((()=>{(0,f.NC)("signup_via_login_buttons"),(0,f.Rp)({event:"signup_api_call_success",provider:o}),["facebook","google"].includes(o)&&pe(I||"/"),xe(null)}),(e=>{if((0,f.Rp)({event:"signup_api_call_failure",provider:o}),"line"===n.type){const t=n;e.api_error_code===p.iZ?te.push({pathname:"/signup/line-email-collect/",state:{signupOptions:t}}):e.api_error_code===p.NF&&te.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:t}})}ie((({hideToast:t})=>(0,z.jsx)(u.ZP,{text:e.api_error_code&&e.message?e.message:oe.bt("抱歉！我们这边出了点问题。", "Sorry! Something went wrong on our end.", "Error logging on", undefined, true),onHide:t}))),xe(null)}))})();else{const e=n;te.push({pathname:"/signup/fbemailcollect/",state:{signupOptions:e}}),(0,f.My)("unauth_mweb.reg_via_fb.has_email_perm.false")}else p.ik.includes(t.api_error_code)&&we(!0);i()}else(0,f.My)("unauth_mweb.login.unexpected_error"),i()},Ee=e=>(t,o)=>{var i;const s="google"===e?"gsi_btn":"other",a="true"===(null===(i=ne.state)||void 0===i?void 0:i.switch_account)?{isSwitchAccount:!0,trigger:s}:{noImmediateRedirect:N,trigger:s};"facebook"===e&&(null==n||n("success"),(0,f.EX)({event:"receive_credential_response_from_provider",provider:e})),(0,f.NC)(e+"_login_success"),ce(t,te,I,a,Se(7534,e)).catch((t=>{ze(0,t,o,e)})),xe("login"),je(e)},Ze=({event:e})=>{e.stopPropagation(),e.preventDefault(),null==W||W(),C&&re((0,U.rm)(C)),le({action:"click",item:"login-button"}),ke(30),(0,f.My)(`unauth_mweb.login_buttons.footer.${(null==k?void 0:k.type)||"button"}`),(0,f.NC)("press_login"),te.push({pathname:Z?"/business/login/":"/login/",search:ne.search,state:{next:I}})};return(0,z.jsxs)(a.xu,{marginTop:Z?-5:0,maxWidth:400,marginStart:"auto",marginEnd:"auto","data-test-id":"LoginButtonsContainer",children:[ve&&(0,z.jsx)(O.Z,{onDismiss:()=>we(!1)}),q&&(0,z.jsx)(a.xu,{marginBottom:3,marginTop:3,children:(0,z.jsx)(a.xv,{align:"center",size:"100",weight:"bold",children:oe.bt("或", "OR", "Separator for email login button and social login button", undefined, true)})}),(0,z.jsx)(a.xu,{marginBottom:6,children:(0,z.jsxs)(o.Fragment,{children:[X&&(0,z.jsx)(G,{within:V}),J&&(0,z.jsx)(a.xu,{"data-test-id":"continue-email-button",marginBottom:Z?-2:2,children:(0,z.jsx)(a.zx,{fullWidth:!0,color:X?"gray":"red",text:Z?oe.bt("创建帐户", "Create account", "Button text for creating a business account", undefined, true):oe.bt("用电子邮件继续", "Continue with email", "Sign up button", undefined, true),onClick:({event:e})=>{e&&(e.stopPropagation(),e.preventDefault()),(0,f.NC)("press_email_signup"),(0,f.Rp)({event:"start",provider:"email"}),le({action:"click",item:"email-signup-button"}),null==Y||Y(),C&&re((0,U.rm)(C)),Ce(13506),ke(31),te.push({pathname:Z?"/business/signup/step1/":"/signup/step1/",search:ne.search,state:{next:I}})}})}),t&&(0,z.jsx)(a.xu,{marginBottom:2,"data-test-id":"facebook-connect-button",children:(0,z.jsx)(E,{onFacebookConnectError:()=>{null==n||n("error"),(0,f.EX)({event:"receive_no_credential_response_from_provider",provider:"facebook"}),ie((({hideToast:e})=>(0,z.jsx)(u.ZP,{text:oe.bt("无法连接 Facebook", "Unable to connect to Facebook", "Error logging on with Facebook", undefined, true),onHide:e})))},onFacebookConnectSuccess:Ee("facebook"),onTouch:()=>{null==$||$(),Ce(13505),le({action:"click",item:"facebook-connect-button"}),ke(68)},isRerequest:T})}),S&&(0,z.jsx)(a.xu,{marginBottom:2,"data-test-id":"google-connect-button",children:(0,z.jsx)(M.Z,{isAuthenticated:he,onGoogleConnectSuccess:Ee("google"),onTouch:()=>{Ce(13504)}})}),L&&(0,z.jsx)(a.xu,{marginBottom:2,"data-test-id":"line-connect-button",children:(0,z.jsx)(B,{buttonText:oe.bt("继续使用 LINE", "Continue with LINE", "Login page button", undefined, true),onLineConnectError:()=>{ie((({hideToast:e})=>(0,z.jsx)(u.ZP,{text:oe.bt("无法连接至 Line", "Unable to connect to Line", "Error logging on with Line", undefined, true),onHide:e})))},onLineConnectSuccess:Ee("line"),onTouch:()=>{Ce(13507),ke(12277),le({action:"click",item:"line-connect-button"})}})}),e&&(0,z.jsx)(a.xu,{marginBottom:2,"data-test-id":"apple-connect-button",children:(0,z.jsx)(A.Z,{})})]})}),k&&("member_link"===k.type?(0,z.jsx)(a.xu,{marginTop:-4,"data-test-id":"login-member",children:(0,z.jsx)(P.Z,{pressState:"none",onTouch:e=>Ze({event:e}),children:(0,z.jsx)(a.xu,{paddingY:k.noPadding?0:4,marginBottom:k.increasedSpaceBelow?-1:-2,children:(0,z.jsx)(a.xv,{align:"center",size:"200",weight:"bold",color:k.textColorIsLight?"light":"dark",children:me&&be("pcons_mweb_sign_in_copy").anyEnabled?oe.bt("已经是成员？登录", "Already a member? Sign in", "unauth.sign_in.text.home_page", undefined, true):oe.bt("已经加入了我们？ 登录", "Already a member? Log in", "Link on mobile web sign up modal to direct unauth users to the login page", undefined, true)})})})}):(0,z.jsx)(a.xu,{marginBottom:5,"data-test-id":"login-button",children:(0,z.jsx)(a.zx,{fullWidth:!0,color:"transparent",onClick:Ze,text:oe.bt("登录", "Log in", "Login page button", undefined, true)})})),fe&&("signup"===fe?(0,z.jsx)(F.Z,{progressBarAnimationDuration:Pe}):(0,z.jsx)(j.Z,{}))]})}},786612:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(883119),i=n(563962),s=n(788241),a=n(536042),l=n(630089),r=n(837792),c=n(618569),d=n(785893);function u({isMobileHomepage:e,isBusiness:t=!1,alignText:n="center",modernizedUI:u}){const _=(0,a.ZP)(),p=(0,i.Z)(),h=(0,c.Z)(),{viewType:g,viewParameter:m}=(0,s.SU)(),b=r.R_,f=r.cv,x=t?r.V$:r.dQ;return(0,d.jsx)(o.xu,{display:"flex",alignItems:"left"===n?"start":"center",alignSelf:"center",direction:"row",justifyContent:"center",paddingX:4,wrap:!0,children:(0,d.jsx)(o.xv,{color:e?"inverse":"subtle",align:"left"===n?"start":"center",size:"100",overflow:"normal",inline:!0,children:(0,l.nk)(_.bt("继续下一步，即表示你同意 Pinterest 的 {{ termsOfService }} 并且确认你已阅读我们的 {{ privacyPolicy }}。{{ noticeAtCollection }}。", "By continuing, you agree to Pinterest's {{ termsOfService }} and acknowledge you've read our {{ privacyPolicy }}. {{ noticeAtCollection }}.", " - ", undefined, true),{termsOfService:(0,d.jsx)(o.xu,{display:"inlineBlock","data-test-id":"business-tos",children:(0,d.jsx)(o.xv,{color:(u?"default":e&&"inverse")||"subtle",inline:!0,size:"100",weight:"bold",children:(0,d.jsx)(o.rU,{href:x,display:"inlineBlock",target:"blank",onClick:()=>{h({action:"click",item:"business-tos"}),g&&p({view_type:g,view_parameter:m,element:8012,event_type:102})},underline:"hover",children:t?_.bt("企业服务条款", "Business Terms of Service", "Mobile web business terms of service link for partners", undefined, true):_.bt("服务条款", "Terms of Service", "Mobile web terms of service link", undefined, true)})})},"termsOfService"),privacyPolicy:(0,d.jsx)(o.xu,{display:"inlineBlock","data-test-id":"privacy",children:(0,d.jsx)(o.xv,{color:(u?"default":e&&"inverse")||"subtle",inline:!0,size:"100",weight:"bold",children:(0,d.jsx)(o.rU,{href:b,display:"inlineBlock",target:"blank",onClick:()=>{h({action:"click",item:"privacy-policy"}),g&&p({view_type:g,view_parameter:m,element:8004,event_type:102})},underline:"hover",children:_.bt("隐私政策", "Privacy Policy", "Mobile web privacy policy link", undefined, true)})})},"privacyPolicy"),noticeAtCollection:(0,d.jsx)(o.xu,{display:"inlineBlock","data-test-id":"noticeAtCollection",children:(0,d.jsx)(o.xv,{color:e?"inverse":"subtle",inline:!0,size:"100",weight:"bold",children:(0,d.jsx)(o.rU,{href:f,display:"inlineBlock",target:"blank",onClick:()=>{h({action:"click",item:"notice-at-collection"})},underline:"hover",children:_.bt("收藏合辑中的通知", "Notice at collection", "Mobile web notice at collection link", undefined, true)})})},"noticeAtCollection")})})})}},348401:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(616550),i=n(14100),s=n(282802),a=n(739425),l=n(199999);const r=()=>{const e=(0,o.useLocation)(),t=(0,l.a)(),{locale:n,userAgent:{platform:r,raw:c}}=(0,s.B)();if(!t)return!1;const{appInstallBannerIsEnabled:d,pinPageGlobalContext:u}=t,_=!!(0,a.mB)(e.search).invite_code;return d&&!(0,i.$)(c)&&!(n.includes("ar")&&"ios"!==r)&&!(!0===(null==u?void 0:u.isStoryPin)&&_)}},339544:(e,t,n)=>{n.d(t,{Z:()=>h});var o=n(702664),i=n(616550),s=n(40660),a=n(14100),l=n(988014),r=n(282802),c=n(173085),d=n(549201),u=n(799006),_=n(352865),p=n(684288);const h=()=>{const{isBot:e}=(0,r.B)(),t=(0,i.useLocation)(),{userAgentPlatform:n,userAgent:h}=(0,o.useSelector)((e=>e.session)),g=(0,u.Z)(),m=(0,d.ml)();return!e&&!(m&&!g)&&!(0,_.Rp)({platform:n,userAgent:h})&&((0,l.uM)(t)||(0,l.am)(t))&&!(0,p.P)()&&!(e=>!!(0,a.d)(e)&&((0,c.qn)("ufausfiiab")||(s.Z.increment("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),(0,c.Nh)("ufausfiiab","1")),!0))(h)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/UnauthPageWrapperFooter.zh_CN-04405ae7e10ecca6.mjs.map